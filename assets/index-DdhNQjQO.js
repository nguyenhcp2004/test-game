import{g as vw,r as tn,n as n0}from"./index-ae7cJ11i.js";var ql={exports:{}},pw=ql.exports,a0;function gw(){return a0||(a0=1,function(e,t){(function(n,y){e.exports=y()})(pw,()=>(()=>{var i={50792:r=>{var T=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function m(a,l,c){this.fn=a,this.context=l,this.once=c||!1}function f(a,l,c,d,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new m(c,d||a,v),g=s?s+l:l;return a._events[g]?a._events[g].fn?a._events[g]=[a._events[g],p]:a._events[g].push(p):(a._events[g]=p,a._eventsCount++),a}function u(a,l){--a._eventsCount===0?a._events=new o:delete a._events[l]}function h(){this._events=new o,this._eventsCount=0}h.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)T.call(c,d)&&l.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},h.prototype.listeners=function(l){var c=s?s+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,p=d.length,g=new Array(p);v<p;v++)g[v]=d[v].fn;return g},h.prototype.listenerCount=function(l){var c=s?s+l:l,d=this._events[c];return d?d.fn?1:d.length:0},h.prototype.emit=function(l,c,d,v,p,g){var x=s?s+l:l;if(!this._events[x])return!1;var C=this._events[x],P=arguments.length,w,E;if(C.fn){switch(C.once&&this.removeListener(l,C.fn,void 0,!0),P){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,d),!0;case 4:return C.fn.call(C.context,c,d,v),!0;case 5:return C.fn.call(C.context,c,d,v,p),!0;case 6:return C.fn.call(C.context,c,d,v,p,g),!0}for(E=1,w=new Array(P-1);E<P;E++)w[E-1]=arguments[E];C.fn.apply(C.context,w)}else{var b=C.length,O;for(E=0;E<b;E++)switch(C[E].once&&this.removeListener(l,C[E].fn,void 0,!0),P){case 1:C[E].fn.call(C[E].context);break;case 2:C[E].fn.call(C[E].context,c);break;case 3:C[E].fn.call(C[E].context,c,d);break;case 4:C[E].fn.call(C[E].context,c,d,v);break;default:if(!w)for(O=1,w=new Array(P-1);O<P;O++)w[O-1]=arguments[O];C[E].fn.apply(C[E].context,w)}}return!0},h.prototype.on=function(l,c,d){return f(this,l,c,d,!1)},h.prototype.once=function(l,c,d){return f(this,l,c,d,!0)},h.prototype.removeListener=function(l,c,d,v){var p=s?s+l:l;if(!this._events[p])return this;if(!c)return u(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!v||g.once)&&(!d||g.context===d)&&u(this,p);else{for(var x=0,C=[],P=g.length;x<P;x++)(g[x].fn!==c||v&&!g[x].once||d&&g[x].context!==d)&&C.push(g[x]);C.length?this._events[p]=C.length===1?C[0]:C:u(this,p)}return this},h.prototype.removeAllListeners=function(l){var c;return l?(c=s?s+l:l,this._events[c]&&u(this,c)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=s,h.EventEmitter=h,r.exports=h},11517:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38829),m=function(f,u,h,a){for(var l=f[0],c=1;c<f.length;c++){var d=f[c];o(d,l,u,h,a),l=d}return f};r.exports=m},80318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"angle",u,h,a,l)};r.exports=m},60757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){for(var f=0;f<s.length;f++){var u=s[f];o.call(m,u)}return s};r.exports=T},69927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){m===void 0&&(m=0);for(var f=m;f<s.length;f++){var u=s[f],h=!0;for(var a in o)u[a]!==o[a]&&(h=!1);if(h)return u}return null};r.exports=T},32265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){m===void 0&&(m=0);for(var f=s.length-1;f>=m;f--){var u=s[f],h=!0;for(var a in o)u[a]!==o[a]&&(h=!1);if(h)return u}return null};r.exports=T},94420:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(11879),m=s(60461),f=s(95540),u=s(29747),h=s(41481),a=new h({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),l=function(c,d){d===void 0&&(d={});var v=d.hasOwnProperty("width"),p=d.hasOwnProperty("height"),g=f(d,"width",-1),x=f(d,"height",-1),C=f(d,"cellWidth",1),P=f(d,"cellHeight",C),w=f(d,"position",m.TOP_LEFT),E=f(d,"x",0),b=f(d,"y",0),O=0,M=0,A=g*C,F=x*P;a.setPosition(E,b),a.setSize(C,P);for(var R=0;R<c.length;R++)if(o(c[R],a,w),v&&g===-1)a.x+=C;else if(p&&x===-1)a.y+=P;else if(p&&!v){if(M+=P,a.y+=P,M===F&&(M=0,O+=C,a.y=b,a.x+=C,O===A))break}else if(O+=C,a.x+=C,O===A&&(O=0,M+=P,a.x=E,a.y+=P,M===F))break;return c};r.exports=l},41721:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"alpha",u,h,a,l)};r.exports=m},67285:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"x",u,h,a,l)};r.exports=m},9074:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"x",u,a,c,d),o(f,"y",h,l,c,d)};r.exports=m},75222:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"y",u,h,a,l)};r.exports=m},22983:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m===void 0&&(m=0),f===void 0&&(f=6.28);for(var u=m,h=(f-m)/s.length,a=o.x,l=o.y,c=o.radius,d=0;d<s.length;d++)s[d].x=a+c*Math.cos(u),s[d].y=l+c*Math.sin(u),u+=h;return s};r.exports=T},95253:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m===void 0&&(m=0),f===void 0&&(f=6.28);for(var u=m,h=(f-m)/s.length,a=o.width/2,l=o.height/2,c=0;c<s.length;c++)s[c].x=o.x+a*Math.cos(u),s[c].y=o.y+l*Math.sin(u),u+=h;return s};r.exports=T},88505:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15258),m=s(26708),f=function(u,h,a){var l;a?l=m(h,a,u.length):l=o(h,u.length);for(var c=0;c<u.length;c++){var d=u[c],v=l[c];d.x=v.x,d.y=v.y}return u};r.exports=f},41346:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14649),m=s(86003),f=s(49498),u=function(h,a,l){l===void 0&&(l=0);var c=o(a,!1,h.length);l>0?m(c,l):l<0&&f(c,Math.abs(l));for(var d=0;d<h.length;d++)h[d].x=c[d].x,h[d].y=c[d].y;return h};r.exports=u},11575:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84993),m=function(f,u,h){var a=o({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},h),l=o({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},h),c=o({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},h);a.pop(),l.pop(),c.pop(),a=a.concat(l,c);for(var d=a.length/f.length,v=0,p=0;p<f.length;p++){var g=f[p],x=a[Math.floor(v)];g.x=x.x,g.y=x.y,v+=d}return f};r.exports=m},29953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){for(var f=0;f<s.length;f++){var u=s[f];u.anims&&u.anims.play(o,m)}return s};r.exports=T},66979:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h){f===void 0&&(f=0),u===void 0&&(u=0),h===void 0&&(h=1);var a,l=0,c=s.length;if(h===1)for(a=u;a<c;a++)s[a][o]+=m+l*f,l++;else for(a=u;a>=0;a--)s[a][o]+=m+l*f,l++;return s};r.exports=T},43967:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h){f===void 0&&(f=0),u===void 0&&(u=0),h===void 0&&(h=1);var a,l=0,c=s.length;if(h===1)for(a=u;a<c;a++)s[a][o]=m+l*f,l++;else for(a=u;a>=0;a--)s[a][o]=m+l*f,l++;return s};r.exports=T},88926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28176),m=function(f,u){for(var h=0;h<f.length;h++)o(u,f[h]);return f};r.exports=m},33286:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(24820),m=function(f,u){for(var h=0;h<f.length;h++)o(u,f[h]);return f};r.exports=m},96e3:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65822),m=function(f,u){for(var h=0;h<f.length;h++)o(u,f[h]);return f};r.exports=m},28789:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26597),m=function(f,u){for(var h=0;h<f.length;h++)o(u,f[h]);return f};r.exports=m},97154:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90260),m=function(f,u){for(var h=0;h<f.length;h++)o(u,f[h]);return f};r.exports=m},20510:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"rotation",u,h,a,l)};r.exports=m},91051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),m=s(20339),f=function(u,h,a){for(var l=h.x,c=h.y,d=0;d<u.length;d++){var v=u[d];o(v,l,c,a,Math.max(1,m(v.x,v.y,l,c)))}return u};r.exports=f},76332:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1163),m=function(f,u,h,a){var l=u.x,c=u.y;if(a===0)return f;for(var d=0;d<f.length;d++)o(f[d],l,c,h,a);return f};r.exports=m},61619:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"scaleX",u,h,a,l)};r.exports=m},94868:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"scaleX",u,a,c,d),o(f,"scaleY",h,l,c,d)};r.exports=m},95532:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66979),m=function(f,u,h,a,l){return o(f,"scaleY",u,h,a,l)};r.exports=m},8689:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"alpha",u,h,a,l)};r.exports=m},2645:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a){return o(f,"blendMode",u,0,h,a)};r.exports=m},32372:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"depth",u,h,a,l)};r.exports=m},85373:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){for(var f=0;f<s.length;f++)s[f].setInteractive(o,m);return s};r.exports=T},81583:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"originX",u,a,c,d),o(f,"originY",h,l,c,d),f.forEach(function(v){v.updateDisplayOrigin()}),f};r.exports=m},79939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"rotation",u,h,a,l)};r.exports=m},2699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"scaleX",u,a,c,d),o(f,"scaleY",h,l,c,d)};r.exports=m},98739:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"scaleX",u,h,a,l)};r.exports=m},98476:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"scaleY",u,h,a,l)};r.exports=m},6207:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"scrollFactorX",u,a,c,d),o(f,"scrollFactorY",h,l,c,d)};r.exports=m},6607:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"scrollFactorX",u,h,a,l)};r.exports=m},72248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"scrollFactorY",u,h,a,l)};r.exports=m},14036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){for(var h=0;h<s.length;h++)s[h].setTint(o,m,f,u);return s};r.exports=T},50159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a){return o(f,"visible",u,0,h,a)};r.exports=m},77597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"x",u,h,a,l)};r.exports=m},83194:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l,c,d){return h==null&&(h=u),o(f,"x",u,a,c,d),o(f,"y",h,l,c,d)};r.exports=m},67678:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43967),m=function(f,u,h,a,l){return o(f,"y",u,h,a,l)};r.exports=m},35850:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l){a===void 0&&(a=0),l===void 0&&(l=new o);var c,d,v=f.length;if(v===1)c=f[0].x,d=f[0].y,f[0].x=u,f[0].y=h;else{var p=1,g=0;a===0&&(g=v-1,p=v-2),c=f[g].x,d=f[g].y,f[g].x=u,f[g].y=h;for(var x=0;x<v;x++)if(!(p>=v||p===-1)){var C=f[p],P=C.x,w=C.y;C.x=c,C.y=d,c=P,d=w,a===0?p--:p++}}return l.x=c,l.y=d,l};r.exports=m},8628:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33680),m=function(f){return o(f)};r.exports=m},21837:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),m=function(f,u,h,a,l){l===void 0&&(l=!1);var c=Math.abs(a-h)/f.length,d;if(l)for(d=0;d<f.length;d++)f[d][u]+=o(d*c,h,a);else for(d=0;d<f.length;d++)f[d][u]=o(d*c,h,a);return f};r.exports=m},21910:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),m=function(f,u,h,a,l){l===void 0&&(l=!1);var c=Math.abs(a-h)/f.length,d;if(l)for(d=0;d<f.length;d++)f[d][u]+=o(d*c,h,a);else for(d=0;d<f.length;d++)f[d][u]=o(d*c,h,a);return f};r.exports=m},62054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){if(u===void 0&&(u=!1),s.length===0)return s;if(s.length===1)return u?s[0][o]+=(f+m)/2:s[0][o]=(f+m)/2,s;var h=Math.abs(f-m)/(s.length-1),a;if(u)for(a=0;a<s.length;a++)s[a][o]+=a*h+m;else for(a=0;a<s.length;a++)s[a][o]=a*h+m;return s};r.exports=T},79815:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=0;o<s.length;o++)s[o].visible=!s[o].visible;return s};r.exports=T},39665:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),m=function(f,u,h){h===void 0&&(h=0);for(var a=0;a<f.length;a++){var l=f[a];l.x=o(l.x,u.left-h,u.right+h),l.y=o(l.y,u.top-h,u.bottom+h)}return f};r.exports=m},61061:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(74943),u=s(81957),h=s(41138),a=s(35154),l=s(90126),c=new m({initialize:function(v,p,g){this.manager=v,this.key=p,this.type="frame",this.frames=this.getFrames(v.textureManager,a(g,"frames",[]),a(g,"defaultTextureKey",null),a(g,"sortFrames",!0)),this.frameRate=a(g,"frameRate",null),this.duration=a(g,"duration",null),this.msPerFrame,this.skipMissedFrames=a(g,"skipMissedFrames",!0),this.delay=a(g,"delay",0),this.repeat=a(g,"repeat",0),this.repeatDelay=a(g,"repeatDelay",0),this.yoyo=a(g,"yoyo",!1),this.showBeforeDelay=a(g,"showBeforeDelay",!1),this.showOnStart=a(g,"showOnStart",!1),this.hideOnComplete=a(g,"hideOnComplete",!1),this.randomFrame=a(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(d,v,p,g){p===null&&g===null?(d.frameRate=24,d.duration=24/v*1e3):p&&g===null?(d.duration=p,d.frameRate=v/(p/1e3)):(d.frameRate=g,d.duration=v/g*1e3),d.msPerFrame=1e3/d.frameRate},addFrame:function(d){return this.addFrameAt(this.frames.length,d)},addFrameAt:function(d,v){var p=this.getFrames(this.manager.textureManager,v);if(p.length>0){if(d===0)this.frames=p.concat(this.frames);else if(d===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,d),x=this.frames.slice(d);this.frames=g.concat(p,x)}this.updateFrameSequence()}return this},checkFrame:function(d){return d>=0&&d<this.frames.length},getFirstTick:function(d){d.accumulator=0,d.nextTick=d.frameRate===d.currentAnim.frameRate&&d.currentFrame.duration||d.msPerFrame},getFrameAt:function(d){return this.frames[d]},getFrames:function(d,v,p,g){g===void 0&&(g=!0);var x=[],C,P,w=1,E,b;if(typeof v=="string"){if(b=v,!d.exists(b))return console.warn('Texture "%s" not found',b),x;var O=d.get(b),M=O.getFrameNames();g&&l(M),v=[],M.forEach(function(I){v.push({key:b,frame:I})})}if(!Array.isArray(v)||v.length===0)return x;for(E=0;E<v.length;E++){var A=v[E],F=a(A,"key",p);if(F){var R=a(A,"frame",0),L=d.getFrame(F,R);if(!L){console.warn('Texture "%s" not found',F);continue}P=new h(F,R,w,L),P.duration=a(A,"duration",0),P.isFirst=!C,C&&(C.nextFrame=P,P.prevFrame=C),x.push(P),C=P,w++}}if(x.length>0){P.isLast=!0,P.nextFrame=x[0],x[0].prevFrame=P;var D=1/(x.length-1);for(E=0;E<x.length;E++)x[E].progress=E*D}return x},getNextTick:function(d){d.accumulator-=d.nextTick,d.nextTick=d.frameRate===d.currentAnim.frameRate&&d.currentFrame.duration||d.msPerFrame},getFrameByProgress:function(d){return d=o(d,0,1),u(d,this.frames,"progress")},nextFrame:function(d){var v=d.currentFrame;v.isLast?d.yoyo?this.handleYoyoFrame(d,!1):d.repeatCounter>0?d.inReverse&&d.forward?d.forward=!1:this.repeatAnimation(d):d.complete():this.updateAndGetNextTick(d,v.nextFrame)},handleYoyoFrame:function(d,v){if(v||(v=!1),d.inReverse===!v&&d.repeatCounter>0){(d.repeatDelay===0||d.pendingRepeat)&&(d.forward=v),this.repeatAnimation(d);return}if(d.inReverse!==v&&d.repeatCounter===0){d.complete();return}d.forward=v;var p=v?d.currentFrame.nextFrame:d.currentFrame.prevFrame;this.updateAndGetNextTick(d,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(d){var v=d.currentFrame;v.isFirst?d.yoyo?this.handleYoyoFrame(d,!0):d.repeatCounter>0?d.inReverse&&!d.forward?this.repeatAnimation(d):(d.forward=!0,this.repeatAnimation(d)):d.complete():this.updateAndGetNextTick(d,v.prevFrame)},updateAndGetNextTick:function(d,v){d.setCurrentFrame(v),this.getNextTick(d)},removeFrame:function(d){var v=this.frames.indexOf(d);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(d){return this.frames.splice(d,1),this.updateFrameSequence(),this},repeatAnimation:function(d){if(d._pendingStop===2){if(d._pendingStopValue===0)return d.stop();d._pendingStopValue--}d.repeatDelay>0&&!d.pendingRepeat?(d.pendingRepeat=!0,d.accumulator-=d.nextTick,d.nextTick+=d.repeatDelay):(d.repeatCounter--,d.forward?d.setCurrentFrame(d.currentFrame.nextFrame):d.setCurrentFrame(d.currentFrame.prevFrame),d.isPlaying&&(this.getNextTick(d),d.handleRepeat()))},toJSON:function(){var d={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){d.frames.push(v.toJSON())}),d},updateFrameSequence:function(){for(var d=this.frames.length,v=1/(d-1),p,g=0;g<d;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*v,g===0?(p.isFirst=!0,d===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[d-1],p.nextFrame=this.frames[g+1])):g===d-1&&d>1?(p.isLast=!0,p.prevFrame=this.frames[d-2],p.nextFrame=this.frames[0]):d>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var d=0;d<this.frames.length;d++)this.frames[d].destroy();this.frames=[],this.manager=null}});r.exports=c},41138:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l,c){c===void 0&&(c=!1),this.textureKey=u,this.textureFrame=h,this.index=a,this.frame=l,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=m},60848:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),m=s(83419),f=s(90330),u=s(50792),h=s(74943),a=s(8443),l=s(95540),c=s(35154),d=s(36383),v=s(20283),p=s(41836),g=new m({Extends:u,initialize:function(C){u.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(x,C,P){var w=this.anims,E=this.mixes,b=typeof x=="string"?x:x.key,O=typeof C=="string"?C:C.key;if(w.has(b)&&w.has(O)){var M=E.get(b);M||(M={}),M[O]=P,E.set(b,M)}return this},removeMix:function(x,C){var P=this.mixes,w=typeof x=="string"?x:x.key,E=P.get(w);if(E)if(C){var b=typeof C=="string"?C:C.key;E.hasOwnProperty(b)&&delete E[b]}else C||P.delete(w);return this},getMix:function(x,C){var P=this.mixes,w=typeof x=="string"?x:x.key,E=typeof C=="string"?C:C.key,b=P.get(w);return b&&b.hasOwnProperty(E)?b[E]:0},add:function(x,C){return this.anims.has(x)?(console.warn("Animation key exists: "+x),this):(C.key=x,this.anims.set(x,C),this.emit(h.ADD_ANIMATION,x,C),this)},exists:function(x){return this.anims.has(x)},createFromAseprite:function(x,C,P){var w=[],E=this.game.cache.json.get(x);if(!E)return console.warn("No Aseprite data found for: "+x),w;var b=this,O=c(E,"meta",null),M=c(E,"frames",null);if(O&&M){var A=c(O,"frameTags",[]);A.forEach(function(F){var R=[],L=l(F,"name",null),D=l(F,"from",0),I=l(F,"to",0),z=l(F,"direction","forward");if(L&&(!C||C&&C.indexOf(L)>-1)){for(var U=0,H=D;H<=I;H++){var W=H.toString(),N=M[W];if(N){var X=l(N,"duration",d.MAX_SAFE_INTEGER);R.push({key:x,frame:W,duration:X}),U+=X}}z==="reverse"&&(R=R.reverse());var B={key:L,frames:R,duration:U,yoyo:z==="pingpong"},V;P?P.anims&&(V=P.anims.create(B)):V=b.create(B),V&&w.push(V)}})}return w},create:function(x){var C=x.key,P=!1;return C&&(P=this.get(C),P?console.warn("AnimationManager key already exists: "+C):(P=new o(this,C,x),this.anims.set(C,P),this.emit(h.ADD_ANIMATION,C,P))),P},fromJSON:function(x,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof x=="string"&&(x=JSON.parse(x));var P=[];if(x.hasOwnProperty("anims")&&Array.isArray(x.anims)){for(var w=0;w<x.anims.length;w++)P.push(this.create(x.anims[w]));x.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=x.globalTimeScale)}else x.hasOwnProperty("key")&&x.type==="frame"&&P.push(this.create(x));return P},generateFrameNames:function(x,C){var P=c(C,"prefix",""),w=c(C,"start",0),E=c(C,"end",0),b=c(C,"suffix",""),O=c(C,"zeroPad",0),M=c(C,"outputArray",[]),A=c(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),M;var F=this.textureManager.get(x);if(!F)return M;var R;if(C)for(A||(A=v(w,E)),R=0;R<A.length;R++){var L=P+p(A[R],O,"0",1)+b;F.has(L)?M.push({key:x,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,x)}else for(A=F.getFrameNames(),R=0;R<A.length;R++)M.push({key:x,frame:A[R]});return M},generateFrameNumbers:function(x,C){var P=c(C,"start",0),w=c(C,"end",-1),E=c(C,"first",!1),b=c(C,"outputArray",[]),O=c(C,"frames",!1);if(!this.textureManager.exists(x))return console.warn('Texture "%s" not found',x),b;var M=this.textureManager.get(x);if(!M)return b;E&&M.has(E)&&b.push({key:x,frame:E}),O||(w===-1&&(w=M.frameTotal-2),O=v(P,w));for(var A=0;A<O.length;A++){var F=O[A];M.has(F)?b.push({key:x,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,x)}return b},get:function(x){return this.anims.get(x)},getAnimsFromTexture:function(x){for(var C=this.textureManager.get(x),P=C.key,w=this.anims.getArray(),E=[],b=0;b<w.length;b++)for(var O=w[b],M=O.frames,A=0;A<M.length;A++)if(M[A].textureKey===P){E.push(O.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(x,C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++)C[P].anims.play(x);return this},staggerPlay:function(x,C,P,w){P===void 0&&(P=0),w===void 0&&(w=!0),Array.isArray(C)||(C=[C]);var E=C.length;w||E--;for(var b=0;b<C.length;b++){var O=P<0?Math.abs(P)*(E-b):P*b;C[b].anims.playAfterDelay(x,O)}return this},remove:function(x){var C=this.get(x);return C&&(this.emit(h.REMOVE_ANIMATION,x,C),this.anims.delete(x),this.removeMix(x)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(x){var C={anims:[],globalTimeScale:this.globalTimeScale};return x!==void 0&&x!==""?C.anims.push(this.anims.get(x).toJSON()):this.anims.each(function(P,w){C.anims.push(w.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=g},9674:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42099),m=s(30976),f=s(83419),u=s(90330),h=s(74943),a=s(95540),l=new f({initialize:function(d){this.parent=d,this.animationManager=d.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var d=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,d;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var p=c[v];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var d=this.animationManager,v=typeof c=="string"?c:a(c,"key",null),p=this.exists(v)?this.get(v):d.get(v);if(!p)console.warn("Missing animation: "+v);else{this.currentAnim=p;var g=p.getTotalFrames(),x=a(c,"frameRate",p.frameRate),C=a(c,"duration",p.duration);p.calculateDuration(this,g,C,x),this.delay=a(c,"delay",p.delay),this.repeat=a(c,"repeat",p.repeat),this.repeatDelay=a(c,"repeatDelay",p.repeatDelay),this.yoyo=a(c,"yoyo",p.yoyo),this.showBeforeDelay=a(c,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=a(c,"showOnStart",p.showOnStart),this.hideOnComplete=a(c,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=a(c,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=a(c,"randomFrame",p.randomFrame),this.timeScale=a(c,"timeScale",this.timeScale);var P=a(c,"startFrame",0);P>g&&(P=0),this.randomFrame&&(P=m(0,g-1));var w=p.frames[P];P===0&&!this.forward&&(w=p.getLastFrame()),this.currentFrame=w}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,d){if(!this.isPlaying)this.delayCounter=d,this.play(c,!0);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=d}return this.parent},playAfterRepeat:function(c,d){if(d===void 0&&(d=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.repeatCounter!==-1&&d>this.repeatCounter&&(d=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=d}return this.parent},play:function(c,d){d===void 0&&(d=!1);var v=this.currentAnim,p=this.parent,g=typeof c=="string"?c:c.key;if(d&&this.isPlaying&&v.key===g)return p;if(v&&this.isPlaying){var x=this.animationManager.getMix(v.key,c);if(x>0)return this.playAfterDelay(c,x)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,d){d===void 0&&(d=!1);var v=typeof c=="string"?c:c.key;return d&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var d=this.currentAnim,v=this.parent;return d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,d.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,d){var v=this.currentAnim;if(v){var p=this.currentFrame,g=this.parent,x=p.textureFrame;g.emit(c,v,p,g,x),d&&g.emit(d+v.key,v,p,g,x)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var d=c.progress;return this.inReverse&&(d*=-1),d},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,d){d===void 0&&(d=this.currentAnim),this.isPlaying&&d.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,d){c===void 0&&(c=!1),d===void 0&&(d=!1);var v=this.currentAnim,p=this.parent;return v?(d&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,d){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=d*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=d,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?v.nextFrame(this):v.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(c){var d=this.parent;return this.currentFrame=c,d.texture=c.frame.texture,d.frame=c.frame,d.isCropped&&d.frame.updateCropUVs(d._crop,d.flipX,d.flipY),c.setAlpha&&(d.alpha=c.alpha),d.setSizeToFrame(),d._originComponent&&(c.frame.customPivot?d.setOrigin(c.frame.pivotX,c.frame.pivotY):d.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),d},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var d=c.key,v=!1;return d&&(v=this.get(d),v?console.warn("Animation key already exists: "+d):(v=new o(this,d,c),this.anims||(this.anims=new u),this.anims.set(d,v))),v},createFromAseprite:function(c,d){return this.animationManager.createFromAseprite(c,d,this.parent)},generateFrameNames:function(c,d){return this.animationManager.generateFrameNames(c,d)},generateFrameNumbers:function(c,d){return this.animationManager.generateFrameNumbers(c,d)},remove:function(c){var d=this.get(c);return d&&(this.currentAnim===d&&this.stop(),this.anims.delete(c)),d},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=l},57090:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},25312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"},89580:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"},52860:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"},63850:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"},99085:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"},28087:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"},1794:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"},52562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},57953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},68339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},74943:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(90330),f=s(50792),u=s(24736),h=new o({initialize:function(){this.entries=new m,this.events=new f},add:function(a,l){return this.entries.set(a,l),this.events.emit(u.ADD,this,a,l),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var l=this.get(a);return l&&(this.entries.delete(a),this.events.emit(u.REMOVE,this,a,l.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=h},24047:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2161),m=s(83419),f=s(8443),u=new m({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new o),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<h.length;a++)this[h[a]].destroy(),this[h[a]]=null;for(var l in this.custom)this.custom[l].destroy();this.custom=null,this.game=null}});r.exports=u},51464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},59261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},24736:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(39506),u=s(50792),h=s(19715),a=s(87841),l=s(61340),c=s(80333),d=s(26099),v=new o({Extends:u,Mixins:[m.AlphaSingle,m.Visible],initialize:function(g,x,C,P){g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=g,this._y=x,this._width=C,this._height=P,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new d(C/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,x){x===void 0&&(x=new d);var C=this.width*.5,P=this.height*.5;return x.x=p-C,x.y=g-P,this.useBounds&&(x.x=this.clampX(x.x),x.y=this.clampY(x.y)),x},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,x=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-x}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,x=g[0],C=g[1],P=g[2],w=g[3],E=x*w-C*P;if(!E)return p;var b=g[4],O=g[5],M=this.scrollX,A=this.scrollY,F=this.width,R=this.height,L=this.y,D=L+R,I=this.x,z=I+F,U=this.culledObjects,H=p.length;E=1/E,U.length=0;for(var W=0;W<H;++W){var N=p[W];if(!N.hasOwnProperty("width")||N.parentContainer){U.push(N);continue}var X=N.width,B=N.height,V=N.x-M*N.scrollFactorX-X*N.originX,k=N.y-A*N.scrollFactorY-B*N.originY,j=V*x+k*P+b,$=V*C+k*w+O,J=(V+X)*x+(k+B)*P+b,Z=(V+X)*C+(k+B)*w+O;J>I&&j<z&&Z>L&&$<D&&U.push(N)}return U},getWorldPoint:function(p,g,x){x===void 0&&(x=new d);var C=this.matrix.matrix,P=C[0],w=C[1],E=C[2],b=C[3],O=C[4],M=C[5],A=P*b-w*E;if(!A)return x.x=p,x.y=g,x;A=1/A;var F=b*A,R=-w*A,L=-E*A,D=P*A,I=(E*M-b*O)*A,z=(w*O-P*M)*A,U=Math.cos(this.rotation),H=Math.sin(this.rotation),W=this.zoomX,N=this.zoomY,X=this.scrollX,B=this.scrollY,V=p+(X*U-B*H)*W,k=g+(X*H+B*U)*N;return x.x=V*F+k*L+I,x.y=V*R+k*D+z,x},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var C=p[x];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=g}return this},clampX:function(p){var g=this._bounds,x=this.displayWidth,C=g.x+(x-this.width)/2,P=Math.max(C,C+g.width-x);return p<C?p=C:p>P&&(p=P),p},clampY:function(p){var g=this._bounds,x=this.displayHeight,C=g.y+(x-this.height)/2,P=Math.max(C,C+g.height-x);return p<C?p=C:p>P&&(p=P),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=c(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,x,C,P){return P===void 0&&(P=!1),this._bounds.setTo(p,g,x,C),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new a);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var x=p.sys;return this.sceneManager=x.game.scene,this.scaleManager=x.scale,this.cameraManager=x.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,x,C){return this.x=p,this.y=g,this.width=x,this.height=C,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=v},38058:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),m=s(67502),f=s(45319),u=s(83419),h=s(31401),a=s(20052),l=s(19715),c=s(28915),d=s(87841),v=s(26099),p=new u({Extends:o,Mixins:[h.PostPipeline],initialize:function(x,C,P,w){o.call(this,x,C,P,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(g,x){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=x):this.deadzone=new d(0,0,g,x),this._follow){var C=this.width/2,P=this.height/2,w=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(w,E),this.scrollX=w-C,this.scrollY=E-P}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,x,C,P,w,E){return this.fadeEffect.start(!1,g,x,C,P,!0,w,E)},fadeOut:function(g,x,C,P,w,E){return this.fadeEffect.start(!0,g,x,C,P,!0,w,E)},fadeFrom:function(g,x,C,P,w,E,b){return this.fadeEffect.start(!1,g,x,C,P,w,E,b)},fade:function(g,x,C,P,w,E,b){return this.fadeEffect.start(!0,g,x,C,P,w,E,b)},flash:function(g,x,C,P,w,E,b){return this.flashEffect.start(g,x,C,P,w,E,b)},shake:function(g,x,C,P,w){return this.shakeEffect.start(g,x,C,P,w)},pan:function(g,x,C,P,w,E,b){return this.panEffect.start(g,x,C,P,w,E,b)},rotateTo:function(g,x,C,P,w,E,b){return this.rotateToEffect.start(g,x,C,P,w,E,b)},zoomTo:function(g,x,C,P,w,E){return this.zoomEffect.start(g,x,C,P,w,E)},preRender:function(){this.renderList.length=0;var g=this.width,x=this.height,C=g*.5,P=x*.5,w=this.zoomX,E=this.zoomY,b=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(w)&&Number.isInteger(E);var O=g*this.originX,M=x*this.originY,A=this._follow,F=this.deadzone,R=this.scrollX,L=this.scrollY;F&&m(F,this.midPoint.x,this.midPoint.y);var D=!1;if(A&&!this.panEffect.isRunning){var I=this.lerp,z=A.x-this.followOffset.x,U=A.y-this.followOffset.y;F?(z<F.x?R=c(R,R-(F.x-z),I.x):z>F.right&&(R=c(R,R+(z-F.right),I.x)),U<F.y?L=c(L,L-(F.y-U),I.y):U>F.bottom&&(L=c(L,L+(U-F.bottom),I.y))):(R=c(R,z-O,I.x),L=c(L,U-M,I.y)),D=!0}this.roundPixels&&(R=Math.floor(R),L=Math.floor(L)),this.useBounds&&(R=this.clampX(R),L=this.clampY(L)),this.scrollX=R,this.scrollY=L;var H=R+C,W=L+P;this.midPoint.set(H,W);var N=Math.floor(g/w+.5),X=Math.floor(x/E+.5),B=Math.floor(H-N/2+.5),V=Math.floor(W-X/2+.5);this.worldView.setTo(B,V,N,X),b.applyITRS(Math.floor(this.x+O+.5),Math.floor(this.y+M+.5),this.rotation,w,E),b.translate(-O,-M),this.shakeEffect.preRender(),D&&this.emit(l.FOLLOW_UPDATE,this,A)},setLerp:function(g,x){return g===void 0&&(g=1),x===void 0&&(x=g),this.lerp.set(g,x),this},setFollowOffset:function(g,x){return g===void 0&&(g=0),x===void 0&&(x=0),this.followOffset.set(g,x),this},startFollow:function(g,x,C,P,w,E){x===void 0&&(x=!1),C===void 0&&(C=1),P===void 0&&(P=C),w===void 0&&(w=0),E===void 0&&(E=w),this._follow=g,this.roundPixels=x,C=f(C,0,1),P=f(P,0,1),this.lerp.set(C,P),this.followOffset.set(w,E);var b=this.width/2,O=this.height/2,M=g.x-w,A=g.y-E;return this.midPoint.set(M,A),this.scrollX=M-b,this.scrollY=A-O,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,x){this.visible&&(this.rotateToEffect.update(g,x),this.panEffect.update(g,x),this.zoomEffect.update(g,x),this.shakeEffect.update(g,x),this.flashEffect.update(g,x),this.fadeEffect.update(g,x))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=p},32743:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38058),m=s(83419),f=s(95540),u=s(37277),h=s(37303),a=s(97480),l=s(44594),c=new m({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(l.BOOT,this.boot,this),v.sys.events.on(l.START,this.start,this)},boot:function(){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,d.scale.width,d.scale.height).setScene(this.scene),d.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var d=this.systems;d.settings.cameras?this.fromJSON(d.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(l.UPDATE,this.update,this),v.once(l.SHUTDOWN,this.shutdown,this)},add:function(d,v,p,g,x,C){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),x===void 0&&(x=!1),C===void 0&&(C="");var P=new o(d,v,p,g);return P.setName(C),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),x&&(this.main=P),P},addExisting:function(d,v){v===void 0&&(v=!1);var p=this.cameras.indexOf(d);return p===-1?(d.id=this.getNextID(),d.setRoundPixels(this.roundPixels),this.cameras.push(d),v&&(this.main=d),d):null},getNextID:function(){for(var d=this.cameras,v=1,p=0;p<32;p++){for(var g=!1,x=0;x<d.length;x++){var C=d[x];if(C&&C.id===v){g=!0;continue}}if(g)v=v<<1;else return v}return 0},getTotal:function(d){d===void 0&&(d=!1);for(var v=0,p=this.cameras,g=0;g<p.length;g++){var x=p[g];(!d||d&&x.visible)&&v++}return v},fromJSON:function(d){Array.isArray(d)||(d=[d]);for(var v=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<d.length;g++){var x=d[g],C=f(x,"x",0),P=f(x,"y",0),w=f(x,"width",v),E=f(x,"height",p),b=this.add(C,P,w,E);b.name=f(x,"name",""),b.zoom=f(x,"zoom",1),b.rotation=f(x,"rotation",0),b.scrollX=f(x,"scrollX",0),b.scrollY=f(x,"scrollY",0),b.roundPixels=f(x,"roundPixels",!1),b.visible=f(x,"visible",!0);var O=f(x,"backgroundColor",!1);O&&b.setBackgroundColor(O);var M=f(x,"bounds",null);if(M){var A=f(M,"x",0),F=f(M,"y",0),R=f(M,"width",v),L=f(M,"height",p);b.setBounds(A,F,R,L)}}return this},getCamera:function(d){for(var v=this.cameras,p=0;p<v.length;p++)if(v[p].name===d)return v[p];return null},getCamerasBelowPointer:function(d){for(var v=this.cameras,p=d.x,g=d.y,x=[],C=0;C<v.length;C++){var P=v[C];P.visible&&P.inputEnabled&&h(P,p,g)&&x.unshift(P)}return x},remove:function(d,v){v===void 0&&(v=!0),Array.isArray(d)||(d=[d]);for(var p=0,g=this.cameras,x=0;x<d.length;x++){var C=g.indexOf(d[x]);C!==-1&&(v?g[C].destroy():g[C].renderList=[],g.splice(C,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(d,v){for(var p=this.scene,g=this.cameras,x=0;x<g.length;x++){var C=g[x];if(C.visible&&C.alpha>0){C.preRender();var P=this.getVisibleChildren(v.getChildren(),C);d.render(p,P,C)}}},getVisibleChildren:function(d,v){return d.filter(function(p){return p.willRender(v)})},resetAll:function(){for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(d,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(d,v)},onResize:function(d,v,p,g,x){for(var C=0;C<this.cameras.length;C++){var P=this.cameras[C];P._x===0&&P._y===0&&P._width===g&&P._height===x&&P.setSize(v.width,v.height)}},resize:function(d,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(d,v)},shutdown:function(){this.main=void 0;for(var d=0;d<this.cameras.length;d++)this.cameras[d].destroy();this.cameras=[];var v=this.systems.events;v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(l.START,this.start,this),this.systems.events.off(l.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",c,"cameras"),r.exports=c},5020:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(19715),u=new m({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,a,l,c,d,v,p,g){if(h===void 0&&(h=!0),a===void 0&&(a=1e3),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=h,this.progress=0,this.red=l,this.green=c,this.blue=d,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var x=h?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(x,this.camera,this,a,l,c,d),this.camera},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera,c=this.red/255,d=this.green/255,v=this.blue/255;return h.drawFillRect(l.x,l.y,l.width,l.height,a(v,d,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},10662:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(19715),u=new m({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,a,l,c,d,v,p){return h===void 0&&(h=250),a===void 0&&(a=255),l===void 0&&(l=255),c===void 0&&(c=255),d===void 0&&(d=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!d&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=a,this.green=l,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,h,a,l,c),this.camera)},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning)return!1;var l=this.camera,c=this.red/255,d=this.green/255,v=this.blue/255;return h.drawFillRect(l.x,l.y,l.width,l.height,a(v,d,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},20359:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(62640),u=s(19715),h=s(26099),a=new m({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,c,d,v,p,g,x){d===void 0&&(d=1e3),v===void 0&&(v=f.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),x===void 0&&(x=this.camera.scene);var C=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(l,c),C.getScroll(l,c,this.current),typeof v=="string"&&f.hasOwnProperty(v)?this.ease=f[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=x,this.camera.emit(u.PAN_START,this.camera,this,d,l,c)),C},update:function(l,c){if(this.isRunning){this._elapsed+=c;var d=o(this._elapsed/this.duration,0,1);this.progress=d;var v=this.camera;if(this._elapsed<this.duration){var p=this.ease(d);v.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,x=this.source.y+(this.current.y-this.source.y)*p;v.setScroll(g,x),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,d,g,x)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,d,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=a},34208:(r,T,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=s(45319),m=s(83419),f=s(19715),u=s(62640),h=new m({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,l,c,d,v,p,g){c===void 0&&(c=1e3),d===void 0&&(d=u.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),l===void 0&&(l=!1),this.shortestPath=l;var x=a;a<0?(x=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;x=x-Math.floor(x/C)*C;var P=this.camera;if(!v&&this.isRunning)return P;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=P.rotation,this.destination=x,typeof d=="string"&&u.hasOwnProperty(d)?this.ease=u[d]:typeof d=="function"&&(this.ease=d),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var w=0,E=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+C)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+C)-this.destination,w<E?this.clockwise=!0:w>E&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,c,x),P},update:function(a,l){if(this.isRunning){this._elapsed+=l;var c=o(this._elapsed/this.duration,0,1);this.progress=c;var d=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=d.rotation;var p=0,g=360*Math.PI/180,x=this.destination,C=this.current;this.clockwise===!1&&(x=this.current,C=this.destination),x>=C?p=Math.abs(x-C):p=Math.abs(x+g)-C;var P=0;this.clockwise?P=d.rotation+p*v:P=d.rotation-p*v,d.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,c,P)}else d.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,d,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=h},30330:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(19715),u=s(26099),h=new m({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,l,c,d,v){return a===void 0&&(a=100),l===void 0&&(l=.05),c===void 0&&(c=!1),d===void 0&&(d=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof l=="number"?this.intensity.set(l):this.intensity.set(l.x,l.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=d,this._onUpdateScope=v,this.camera.emit(f.SHAKE_START,this.camera,this,a,l),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,l){if(this.isRunning)if(this._elapsed+=l,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,d=this.camera.width,v=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*c.x*d*2-c.x*d)*p,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=h},45641:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(62640),u=s(19715),h=new m({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,l,c,d,v,p){l===void 0&&(l=1e3),c===void 0&&(c=f.Linear),d===void 0&&(d=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.zoom,this.destination=a,typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(u.ZOOM_START,this.camera,this,l,a)),g},update:function(a,l){this.isRunning&&(this._elapsed+=l,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=h},20052:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"},32726:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"},87807:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"},45917:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"},95666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"},47056:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"},91261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"},45047:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"},81927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"},74264:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"},54419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},79330:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},93183:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"},80112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"},62252:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"},86017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"},539:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"},51892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"},19715:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(35154),f=new o({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=m(h,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=m(h,"speed.x",0),this.speedY=m(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},58818:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(35154),f=new o({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=m(h,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=m(h,"acceleration.x",0),this.accelY=m(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var l=m(h,"drag",null);typeof l=="number"?(this.dragX=l,this.dragY=l):(this.dragX=m(h,"drag.x",0),this.dragY=m(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=m(h,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=m(h,"maxSpeed.x",0),this.maxSpeedY=m(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*u|0),this._speedY!==0&&(h.scrollY-=this._speedY*u|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},38865:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=o},69547:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(8054),f=s(42363),u=s(82264),h=s(95540),a=s(35154),l=s(41212),c=s(29747),d=s(75508),v=s(36060),p=s(80333),g=new o({initialize:function(C){C===void 0&&(C={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",E=a(C,"scale",null);this.width=a(E,"width",1024,C),this.height=a(E,"height",768,C),this.zoom=a(E,"zoom",1,C),this.parent=a(E,"parent",void 0,C),this.scaleMode=a(E,E?"mode":"scaleMode",0,C),this.expandParent=a(E,"expandParent",!0,C),this.autoRound=a(E,"autoRound",!1,C),this.autoCenter=a(E,"autoCenter",0,C),this.resizeInterval=a(E,"resizeInterval",500,C),this.fullscreenTarget=a(E,"fullscreenTarget",null,C),this.minWidth=a(E,"min.width",0,C),this.maxWidth=a(E,"max.width",0,C),this.minHeight=a(E,"min.height",0,C),this.maxHeight=a(E,"max.height",0,C),this.snapWidth=a(E,"snap.width",0,C),this.snapHeight=a(E,"snap.height",0,C),this.renderType=a(C,"type",m.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),d.RND=new d.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io/"+m.LOG_VERSION),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",u.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",w),this.bannerBackgroundColor=a(C,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var b=a(C,"render",null);this.pipeline=a(b,"pipeline",null,C),this.autoMobilePipeline=a(b,"autoMobilePipeline",!0,C),this.defaultPipeline=a(b,"defaultPipeline",v.MULTI_PIPELINE,C),this.antialias=a(b,"antialias",!0,C),this.antialiasGL=a(b,"antialiasGL",!0,C),this.mipmapFilter=a(b,"mipmapFilter","",C),this.desynchronized=a(b,"desynchronized",!1,C),this.roundPixels=a(b,"roundPixels",!1,C),this.pixelArt=a(b,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(b,"transparent",!1,C),this.clearBeforeRender=a(b,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(b,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(b,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(b,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(b,"powerPreference","default",C),this.batchSize=a(b,"batchSize",4096,C),this.maxTextures=a(b,"maxTextures",-1,C),this.maxLights=a(b,"maxLights",10,C);var O=a(C,"backgroundColor",0);this.backgroundColor=p(O),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",c),this.postBoot=a(C,"callbacks.postBoot",c),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderMaxRetries=a(C,"loader.maxRetries",2),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var M=a(C,"plugins",null),A=f.DefaultScene;M&&(Array.isArray(M)?this.defaultPlugins=M:l(M)&&(this.installGlobalPlugins=h(M,"global",[]),this.installScenePlugins=h(M,"scene",[]),Array.isArray(M.default)?A=M.default:Array.isArray(M.defaultMerge)&&(A=A.concat(M.defaultMerge)))),this.defaultPlugins=A;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});r.exports=g},86054:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20623),m=s(27919),f=s(8054),u=s(89357),h=function(a){var l=a.config;if((l.customEnvironment||l.canvas)&&l.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!l.customEnvironment&&!l.canvas&&l.renderType!==f.HEADLESS)if(l.renderType===f.AUTO&&(l.renderType=u.webGL?f.WEBGL:f.CANVAS),l.renderType===f.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(l.renderType===f.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+l.renderType);l.antialias||m.disableSmoothing();var c=a.scale.baseSize,d=c.width,v=c.height;if(l.canvas?(a.canvas=l.canvas,a.canvas.width=d,a.canvas.height=v):a.canvas=m.create(a,d,v,l.renderType),l.canvasStyle&&(a.canvas.style=l.canvasStyle),l.antialias||o.setCrisp(a.canvas),l.renderType!==f.HEADLESS){var p,g;p=s(68627),g=s(74797),l.renderType===f.WEBGL?a.renderer=new g(a):(a.renderer=new p(a),a.context=a.renderer.gameContext)}};r.exports=h},96391:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),m=function(f){var u=f.config;if(!u.hideBanner){var h="WebGL";u.renderType===o.CANVAS?h="Canvas":u.renderType===o.HEADLESS&&(h="Headless");var a=u.audio,l=f.device.audio,c;if(l.webAudio&&!a.disableWebAudio?c="Web Audio":a.noAudio||!l.webAudio&&!l.audioData?c="No Audio":c="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var d="",v=[d];if(Array.isArray(u.bannerBackgroundColor)){var p;u.bannerBackgroundColor.forEach(function(x){d=d.concat("%c "),v.push("background: "+x),p=x}),v[v.length-1]="color: "+u.bannerTextColor+"; background: "+p}else d=d.concat("%c "),v.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);v.push("background: transparent"),u.gameTitle&&(d=d.concat(u.gameTitle),u.gameVersion&&(d=d.concat(" v"+u.gameVersion)),u.hidePhaser||(d=d.concat(" / ")));var g="";u.hidePhaser||(d=d.concat("Phaser v"+o.VERSION+g+" ("+h+" | "+c+")")),d=d.concat(" %c "+u.gameURL),v[0]=d,console.log.apply(console,v)}}};r.exports=m},50127:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),m=s(60848),f=s(24047),u=s(27919),h=s(83419),a=s(69547),l=s(83719),c=s(86054),d=s(45893),v=s(96391),p=s(82264),g=s(57264),x=s(50792),C=s(8443),P=s(7003),w=s(37277),E=s(77332),b=s(76531),O=s(60903),M=s(69442),A=s(17130),F=s(65898),R=s(51085),L=s(14747),D=new h({initialize:function(z){this.config=new a(z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new x,this.anims=new m(this),this.textures=new A(this),this.cache=new f(this),this.registry=new d(this,new x),this.input=new P(this,this.config),this.scene=new O(this,this.config.sceneConfig),this.device=p,this.scale=new b(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new F(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),l(this),v(this),o(this.canvas,this.config.parent),this.textures.once(M.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),R(this);var I=this.events;I.on(C.HIDDEN,this.onHidden,this),I.on(C.VISIBLE,this.onVisible,this),I.on(C.BLUR,this.onBlur,this),I.on(C.FOCUS,this.onFocus,this)},step:function(I,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(C.PRE_STEP,I,z),U.emit(C.STEP,I,z),this.scene.update(I,z),U.emit(C.POST_STEP,I,z);var H=this.renderer;H.preRender(),U.emit(C.PRE_RENDER,H,I,z),this.scene.render(H),H.postRender(),U.emit(C.POST_RENDER,H,I,z)}},headlessStep:function(I,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(C.PRE_STEP,I,z),U.emit(C.STEP,I,z),this.scene.update(I,z),U.emit(C.POST_STEP,I,z),this.scene.isProcessing=!1,U.emit(C.PRE_RENDER,null,I,z),U.emit(C.POST_RENDER,null,I,z)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,z){z===void 0&&(z=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=z},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=D},65898:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(35154),f=s(29747),u=s(43092),h=new o({initialize:function(l,c){this.game=l,this.raf=new u,this.started=!1,this.running=!1,this.minFps=m(c,"min",5),this.targetFps=m(c,"target",60),this.fpsLimit=m(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=m(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(c,"deltaHistory",10),this.panicMax=m(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=Math.min(this._target,this.deltaHistory[l]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var l=0;l<this.deltaSmoothingMax;l++)this.deltaHistory[l]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var l=this.deltaIndex,c=this.deltaHistory,d=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=c[l],a=Math.min(a,this._min)),c[l]=a,this.deltaIndex++,this.deltaIndex>=d&&(this.deltaIndex=0);for(var v=0,p=0;p<d;p++)v+=c[p];return v/=d,v},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var l=Math.max(0,a-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta+=l,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var l=Math.max(0,a-this.lastTime);this.rawDelta=l,this.time+=this.rawDelta,this.smoothStep&&(l=this.smoothDelta(l)),this.delta=l,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,l),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var l=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+l));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=h},51085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8443),m=function(f){var u,h=f.events;if(document.hidden!==void 0)u="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},u=c+"visibilitychange")})}var l=function(c){document.hidden||c.type==="pause"?h.emit(o.HIDDEN):h.emit(o.VISIBLE)};u&&document.addEventListener(u,l,!1),window.onblur=function(){h.emit(o.BLUR)},window.onfocus=function(){h.emit(o.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};r.exports=m},97217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"},47548:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},19814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"},68446:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},41700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"},25432:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"},65942:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},59211:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},47789:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"},39066:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},460:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"},16175:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},42331:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},11966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"},32969:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"},94830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"},8443:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(5290),m=s(27919),f=s(35154),u=function(h){var a=f(h,"data",[]),l=f(h,"canvas",null),c=f(h,"palette",o),d=f(h,"pixelWidth",1),v=f(h,"pixelHeight",d),p=f(h,"resizeCanvas",!0),g=f(h,"clearCanvas",!0),x=f(h,"preRender",null),C=f(h,"postRender",null),P=Math.floor(Math.abs(a[0].length*d)),w=Math.floor(Math.abs(a.length*v));l||(l=m.create2D(this,P,w),p=!1,g=!1),p&&(l.width=P,l.height=w);var E=l.getContext("2d",{willReadFrequently:!0});g&&E.clearRect(0,0,P,w),x&&x(l,E);for(var b=0;b<a.length;b++)for(var O=a[b],M=0;M<O.length;M++){var A=O[M];A!=="."&&A!==" "&&(E.fillStyle=c[A],E.fillRect(M*d,b*v,d,v))}return C&&C(l,E),l};r.exports=u},15822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(36316),f=s(80021),u=s(26099),h=new o({Extends:f,initialize:function(l,c,d,v){f.call(this,"CubicBezierCurve"),Array.isArray(l)&&(v=new u(l[6],l[7]),d=new u(l[4],l[5]),c=new u(l[2],l[3]),l=new u(l[0],l[1])),this.p0=l,this.p1=c,this.p2=d,this.p3=v},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,l){l===void 0&&(l=new u);var c=this.p0,d=this.p1,v=this.p2,p=this.p3;return l.set(m(a,c.x,d.x,v.x,p.x),m(a,c.y,d.y,v.y,p.y))},draw:function(a,l){l===void 0&&(l=32);var c=this.getPoints(l);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var d=1;d<c.length;d++)a.lineTo(c[d].x,c[d].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(a){var l=a.points,c=new u(l[0],l[1]),d=new u(l[2],l[3]),v=new u(l[4],l[5]),p=new u(l[6],l[7]);return new h(c,d,v,p)},r.exports=h},80021:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(19217),f=s(87841),u=s(26099),h=new o({initialize:function(l){this.type=l,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(a,l){return l===void 0&&(l=32),a.strokePoints(this.getPoints(l))},getBounds:function(a,l){a||(a=new f),l===void 0&&(l=16);var c=this.getLength();l>c&&(l=c/2);var d=Math.max(1,Math.round(c/l));return m(this.getSpacedPoints(d),a)},getDistancePoints:function(a){var l=this.getLength(),c=Math.max(1,l/a);return this.getSpacedPoints(c)},getEndPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var l=[],c,d=this.getPoint(0,this._tmpVec2A),v=0;l.push(0);for(var p=1;p<=a;p++)c=this.getPoint(p/a,this._tmpVec2B),v+=c.distance(d),l.push(v),d.copy(c);return this.cacheArcLengths=l,l},getPointAt:function(a,l){var c=this.getUtoTmapping(a);return this.getPoint(c,l)},getPoints:function(a,l,c){c===void 0&&(c=[]),a||(l?a=this.getLength()/l:a=this.defaultDivisions);for(var d=0;d<=a;d++)c.push(this.getPoint(d/a));return c},getRandomPoint:function(a){return a===void 0&&(a=new u),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,l,c){c===void 0&&(c=[]),a||(l?a=this.getLength()/l:a=this.defaultDivisions);for(var d=0;d<=a;d++){var v=this.getUtoTmapping(d/a,null,a);c.push(this.getPoint(v))}return c},getStartPoint:function(a){return a===void 0&&(a=new u),this.getPointAt(0,a)},getTangent:function(a,l){l===void 0&&(l=new u);var c=1e-4,d=a-c,v=a+c;return d<0&&(d=0),v>1&&(v=1),this.getPoint(d,this._tmpVec2A),this.getPoint(v,l),l.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,l){var c=this.getUtoTmapping(a);return this.getTangent(c,l)},getTFromDistance:function(a,l){return a<=0?0:this.getUtoTmapping(0,a,l)},getUtoTmapping:function(a,l,c){var d=this.getLengths(c),v=0,p=d.length,g;l?g=Math.min(l,d[p-1]):g=a*d[p-1];for(var x=0,C=p-1,P;x<=C;)if(v=Math.floor(x+(C-x)/2),P=d[v]-g,P<0)x=v+1;else if(P>0)C=v-1;else{C=v;break}if(v=C,d[v]===g)return v/(p-1);var w=d[v],E=d[v+1],b=E-w,O=(g-w)/b;return(v+O)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=h},73825:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(80021),f=s(39506),u=s(35154),h=s(43396),a=s(26099),l=new o({Extends:m,initialize:function(d,v,p,g,x,C,P,w){if(typeof d=="object"){var E=d;d=u(E,"x",0),v=u(E,"y",0),p=u(E,"xRadius",0),g=u(E,"yRadius",p),x=u(E,"startAngle",0),C=u(E,"endAngle",360),P=u(E,"clockwise",!1),w=u(E,"rotation",0)}else g===void 0&&(g=p),x===void 0&&(x=0),C===void 0&&(C=360),P===void 0&&(P=!1),w===void 0&&(w=0);m.call(this,"EllipseCurve"),this.p0=new a(d,v),this._xRadius=p,this._yRadius=g,this._startAngle=f(x),this._endAngle=f(C),this._clockwise=P,this._rotation=f(w)},getStartPoint:function(c){return c===void 0&&(c=new a),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,d){d===void 0&&(d=new a);for(var v=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=v;for(;p>v;)p-=v;p<Number.EPSILON&&(g?p=0:p=v),this._clockwise&&!g&&(p===v?p=-v:p=p-v);var x=this._startAngle+c*p,C=this.p0.x+this._xRadius*Math.cos(x),P=this.p0.y+this._yRadius*Math.sin(x);if(this._rotation!==0){var w=Math.cos(this._rotation),E=Math.sin(this._rotation),b=C-this.p0.x,O=P-this.p0.y;C=b*w-O*E+this.p0.x,P=b*E+O*w+this.p0.y}return d.set(C,P)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return h(this._startAngle)},set:function(c){this._startAngle=f(c)}},endAngle:{get:function(){return h(this._endAngle)},set:function(c){this._endAngle=f(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return h(this._rotation)},set:function(c){this._rotation=f(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});l.fromJSON=function(c){return new l(c)},r.exports=l},33951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(80021),f=s(19217),u=s(87841),h=s(26099),a=new o({Extends:m,initialize:function(c,d){m.call(this,"LineCurve"),Array.isArray(c)&&(d=new h(c[2],c[3]),c=new h(c[0],c[1])),this.p0=c,this.p1=d,this.arcLengthDivisions=1},getBounds:function(l){return l===void 0&&(l=new u),f([this.p0,this.p1],l)},getStartPoint:function(l){return l===void 0&&(l=new h),l.copy(this.p0)},getResolution:function(l){return l===void 0&&(l=1),l},getPoint:function(l,c){return c===void 0&&(c=new h),l===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(l).add(this.p0),c)},getPointAt:function(l,c){return this.getPoint(l,c)},getTangent:function(l,c){return c===void 0&&(c=new h),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(l,c,d){var v;if(c){var p=this.getLengths(d),g=p[p.length-1],x=Math.min(c,g);v=x/g}else v=l;return v},draw:function(l){return l.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(l){var c=l.points,d=new h(c[0],c[1]),v=new h(c[2],c[3]);return new a(d,v)},r.exports=a},14744:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(80021),f=s(32112),u=s(26099),h=new o({Extends:m,initialize:function(l,c,d){m.call(this,"QuadraticBezierCurve"),Array.isArray(l)&&(d=new u(l[4],l[5]),c=new u(l[2],l[3]),l=new u(l[0],l[1])),this.p0=l,this.p1=c,this.p2=d},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,l){l===void 0&&(l=new u);var c=this.p0,d=this.p1,v=this.p2;return l.set(f(a,c.x,d.x,v.x),f(a,c.y,d.y,v.y))},draw:function(a,l){l===void 0&&(l=32);var c=this.getPoints(l);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var d=1;d<c.length;d++)a.lineTo(c[d].x,c[d].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(a){var l=a.points,c=new u(l[0],l[1]),d=new u(l[2],l[3]),v=new u(l[4],l[5]);return new h(c,d,v)},r.exports=h},42534:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),m=s(83419),f=s(80021),u=s(26099),h=new m({Extends:f,initialize:function(l){l===void 0&&(l=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(l)},addPoints:function(a){for(var l=0;l<a.length;l++){var c=new u;typeof a[l]=="number"?(c.x=a[l],c.y=a[l+1],l++):Array.isArray(a[l])?(c.x=a[l][0],c.y=a[l][1]):(c.x=a[l].x,c.y=a[l].y),this.points.push(c)}return this},addPoint:function(a,l){var c=new u(a,l);return this.points.push(c),c},getStartPoint:function(a){return a===void 0&&(a=new u),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,l){l===void 0&&(l=new u);var c=this.points,d=(c.length-1)*a,v=Math.floor(d),p=d-v,g=c[v===0?v:v-1],x=c[v],C=c[v>c.length-2?c.length-1:v+1],P=c[v>c.length-3?c.length-1:v+2];return l.set(o(p,g.x,x.x,C.x,P.x),o(p,g.y,x.y,C.y,P.y))},toJSON:function(){for(var a=[],l=0;l<this.points.length;l++)a.push(this.points[l].x),a.push(this.points[l].y);return{type:this.type,points:a}}});h.fromJSON=function(a){return new h(a.points)},r.exports=h},25410:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(26099),f=new o({initialize:function(h,a){this.active=!1,this.p0=new m(h,a)},getPoint:function(u,h){return h===void 0&&(h=new m),h.copy(this.p0)},getPointAt:function(u,h){return this.getPoint(u,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=f},46669:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(46728),f=s(73825),u=s(39429),h=s(33951),a=s(68618),l=s(14744),c=s(87841),d=s(42534),v=s(26099),p=s(36383),g=new o({initialize:function(C,P){C===void 0&&(C=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,P)},add:function(x){return this.curves.push(x),this},circleTo:function(x,C,P){return C===void 0&&(C=!1),this.ellipseTo(x,x,0,360,C,P)},closePath:function(){var x=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return x.equals(C)||this.curves.push(new h(C,x)),this},cubicBezierTo:function(x,C,P,w,E,b){var O=this.getEndPoint(),M,A,F;return x instanceof v?(M=x,A=C,F=P):(M=new v(P,w),A=new v(E,b),F=new v(x,C)),this.add(new m(O,M,A,F))},quadraticBezierTo:function(x,C,P,w){var E=this.getEndPoint(),b,O;return x instanceof v?(b=x,O=C):(b=new v(P,w),O=new v(x,C)),this.add(new l(E,b,O))},draw:function(x,C){for(var P=0;P<this.curves.length;P++){var w=this.curves[P];w.active&&w.draw(x,C)}return x},ellipseTo:function(x,C,P,w,E,b){var O=new f(0,0,x,C,P,w,E,b),M=this.getEndPoint(this._tmpVec2A),A=O.getStartPoint(this._tmpVec2B);return M.subtract(A),O.x=M.x,O.y=M.y,this.add(O)},fromJSON:function(x){this.curves=[],this.cacheLengths=[],this.startPoint.set(x.x,x.y),this.autoClose=x.autoClose;for(var C=0;C<x.curves.length;C++){var P=x.curves[C];switch(P.type){case"LineCurve":this.add(h.fromJSON(P));break;case"EllipseCurve":this.add(f.fromJSON(P));break;case"SplineCurve":this.add(d.fromJSON(P));break;case"CubicBezierCurve":this.add(m.fromJSON(P));break;case"QuadraticBezierCurve":this.add(l.fromJSON(P));break}}return this},getBounds:function(x,C){x===void 0&&(x=new c),C===void 0&&(C=16),x.x=Number.MAX_VALUE,x.y=Number.MAX_VALUE;for(var P=new c,w=p.MIN_SAFE_INTEGER,E=p.MIN_SAFE_INTEGER,b=0;b<this.curves.length;b++){var O=this.curves[b];O.active&&(O.getBounds(P,C),x.x=Math.min(x.x,P.x),x.y=Math.min(x.y,P.y),w=Math.max(w,P.right),E=Math.max(E,P.bottom))}return x.right=w,x.bottom=E,x},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var x=[],C=0,P=0;P<this.curves.length;P++)C+=this.curves[P].getLength(),x.push(C);return this.cacheLengths=x,x},getCurveAt:function(x){for(var C=x*this.getLength(),P=this.getCurveLengths(),w=0;w<P.length;){if(P[w]>=C)return this.curves[w];w++}return null},getEndPoint:function(x){return x===void 0&&(x=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,x):x.copy(this.startPoint),x},getLength:function(){var x=this.getCurveLengths();return x[x.length-1]},getPoint:function(x,C){C===void 0&&(C=new v);for(var P=x*this.getLength(),w=this.getCurveLengths(),E=0;E<w.length;){if(w[E]>=P){var b=w[E]-P,O=this.curves[E],M=O.getLength(),A=M===0?0:1-b/M;return O.getPointAt(A,C)}E++}return null},getPoints:function(x,C){!x&&!C&&(x=this.defaultDivisions);for(var P=[],w,E=0;E<this.curves.length;E++){var b=this.curves[E];if(b.active)for(var O=b.getResolution(x),M=b.getPoints(O,C),A=0;A<M.length;A++){var F=M[A];w&&w.equals(F)||(P.push(F),w=F)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(x){return x===void 0&&(x=new v),this.getPoint(Math.random(),x)},getSpacedPoints:function(x){x===void 0&&(x=40);for(var C=[],P=0;P<=x;P++)C.push(this.getPoint(P/x));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(x){return x===void 0&&(x=new v),x.copy(this.startPoint)},getTangent:function(x,C){C===void 0&&(C=new v);for(var P=x*this.getLength(),w=this.getCurveLengths(),E=0;E<w.length;){if(w[E]>=P){var b=w[E]-P,O=this.curves[E],M=O.getLength(),A=M===0?0:1-b/M;return O.getTangentAt(A,C)}E++}return null},lineTo:function(x,C){x instanceof v?this._tmpVec2B.copy(x):typeof x=="object"?this._tmpVec2B.setFromObject(x):this._tmpVec2B.set(x,C);var P=this.getEndPoint(this._tmpVec2A);return this.add(new h([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(x){return x.unshift(this.getEndPoint()),this.add(new d(x))},moveTo:function(x,C){return x instanceof v?this.add(new a(x.x,x.y)):this.add(new a(x,C))},toJSON:function(){for(var x=[],C=0;C<this.curves.length;C++)x.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:x}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(x,C){return new g(x,C)}),r.exports=g},45893:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(24882),f=new o({initialize:function(h,a){this.parent=h,this.events=a,a||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(u){var h=this.list;if(Array.isArray(u)){for(var a=[],l=0;l<u.length;l++)a.push(h[u[l]]);return a}else return h[u]},getAll:function(){var u={};for(var h in this.list)this.list.hasOwnProperty(h)&&(u[h]=this.list[h]);return u},query:function(u){var h={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(u)&&(h[a]=this.list[a]);return h},set:function(u,h){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,h);for(var a in u)this.setValue(a,u[a]);return this},inc:function(u,h){if(this._frozen)return this;h===void 0&&(h=1);var a=this.get(u);return a===void 0&&(a=0),this.set(u,a+h),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,h){if(this._frozen)return this;if(this.has(u))this.values[u]=h;else{var a=this,l=this.list,c=this.events,d=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return l[u]},set:function(v){if(!a._frozen){var p=l[u];l[u]=v,c.emit(m.CHANGE_DATA,d,u,v,p),c.emit(m.CHANGE_DATA_KEY+u,d,v,p)}}}),l[u]=h,c.emit(m.SET_DATA,d,u,h)}return this},each:function(u,h){for(var a=[this.parent,null,void 0],l=1;l<arguments.length;l++)a.push(arguments[l]);for(var c in this.list)a[1]=c,a[2]=this.list[c],u.apply(h,a);return this},merge:function(u,h){h===void 0&&(h=!0);for(var a in u)u.hasOwnProperty(a)&&(h||!h&&!this.has(a))&&this.setValue(a,u[a]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var h=0;h<u.length;h++)this.removeValue(u[h]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var h=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(m.REMOVE_DATA,this.parent,u,h)}return this},pop:function(u){var h=void 0;return!this._frozen&&this.has(u)&&(h=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(m.REMOVE_DATA,this.parent,u,h)),h},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var h in this.list)this.list[h]!==void 0&&u++;return u}}});r.exports=f},63646:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(45893),f=s(37277),u=s(44594),h=new o({Extends:m,initialize:function(l){m.call(this,l,l.sys.events),this.scene=l,this.systems=l.sys,l.sys.events.once(u.BOOT,this.boot,this),l.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",h,"data"),r.exports=h},10700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"},93608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"},60883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},69780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"},22166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"},24882:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),h=!!u.canPlayType;try{if(h){var a=function(d,v){var p=u.canPlayType("audio/"+d).replace(/^no$/,"");return v?!!(p||u.canPlayType("audio/"+v).replace(/^no$/,"")):!!p};if(m.ogg=a('ogg; codecs="vorbis"'),m.opus=a('ogg; codecs="opus"',"opus"),m.mp3=a("mpeg"),m.wav=a("wav"),m.m4a=a("x-m4a"),m.aac=a("aac"),m.flac=a("flac","x-flac"),m.webm=a('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)m.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var l=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(l===10&&c>=11||l>10)&&(m.dolby=!0)}}}}catch{}return m}r.exports=f()},84148:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(m.edge=!0,m.es2019=!0):/OPR/.test(u)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(u)&&!o.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(u)&&o.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(u)&&!o.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(m.silk=!0),m}r.exports=f()},89289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",l="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var d=new Image;d.onload=function(){var v=o.create2D(d,6),p=v.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(c,0,0),p.drawImage(d,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;o.remove(d),m.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},d.src=a+"/wCKxvRF"+l},c.src=a+"AP804Oa6"+l,!1}function u(){var a=o.create2D(this,2),l=a.getContext("2d",{willReadFrequently:!0});l.fillStyle="rgba(10, 20, 30, 0.5)",l.fillRect(0,0,1,1);var c=l.getImageData(0,0,1,1);if(c===null)return!1;l.putImageData(c,1,0);var d=l.getImageData(1,0,1,1),v=d.data[0]===c.data[0]&&d.data[1]===c.data[1]&&d.data[2]===c.data[2]&&d.data[3]===c.data[3];return o.remove(this),v}function h(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=f(),m.supportInverseAlpha=u()),m}r.exports=h()},89357:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),m=s(84148),f=s(27919),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var l=new ArrayBuffer(4),c=new Uint8Array(l),d=new Uint32Array(l);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,d[0]===3569595041?!0:d[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var l=!1,c=function(){if(window.WebGLRenderingContext)try{var d=f.createWebGL(this),v=d.getContext("webgl")||d.getContext("experimental-webgl"),p=f.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),x=g.createImageData(1,1);return l=x.data instanceof Uint8ClampedArray,f.remove(d),f.remove(p),!!v}catch{return!1}return!1};return u.webGL=c(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(u.getUserMedia=!1),!o.iOS&&(m.ie||m.firefox||m.chrome)&&(u.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=h()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&l,u}r.exports=a()},91639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return T;var o,m="Fullscreen",f="FullScreen",u=["request"+m,"request"+f,"webkitRequest"+m,"webkitRequest"+f,"msRequest"+m,"msRequest"+f,"mozRequest"+f,"mozRequest"+m];for(o=0;o<u.length;o++)if(document.documentElement[u[o]]){T.available=!0,T.request=u[o];break}var h=["cancel"+f,"exit"+m,"webkitCancel"+f,"webkitExit"+m,"msCancel"+f,"msExit"+m,"mozCancel"+f,"mozExit"+m];if(T.available){for(o=0;o<h.length;o++)if(document[h[o]]){T.cancel=h[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}r.exports=s()},31784:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}r.exports=f()},25892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return T;var o=navigator.userAgent;/Windows/.test(o)?T.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(o)?T.android=!0:/Linux/.test(o)?T.linux=!0:/iP[ao]d|iPhone/i.test(o)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=o.toLowerCase().indexOf("iphone")!==-1,T.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?T.kindle=!0:/CrOS/.test(o)&&(T.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var m=/Silk/.test(o);return(T.windows||T.macOS||T.linux&&!m||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}r.exports=s()},43267:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return m;var u=document.createElement("video"),h=!!u.canPlayType,a=/^no$/;try{h&&(u.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(m.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(m.h264=!0,m.mp4=!0),u.canPlayType("video/x-m4v").replace(a,"")&&(m.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(m.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(m.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(m.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),m.getVideoURL=function(l){Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++){var d=o(l[c],"url",l[c]);if(d.indexOf("blob:")===0)return{url:d,type:""};var v;if(d.indexOf("data:")===0?v=d.split(",")[0].match(/\/(.*?);/):v=d.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(l[c],"type",v?v[1]:"").toLowerCase(),m[v])return{url:d,type:v}}return null},m}r.exports=f()},82264:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new Float32Array(20),f=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var a=u;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],h)},saturate:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var a=u*2/3+1,l=(a-1)*-.5;return this.multiply([a,l,l,0,0,l,a,l,0,0,l,l,a,0,0,0,0,0,1,0],h)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1),u=u/180*Math.PI;var a=Math.cos(u),l=Math.sin(u),c=.213,d=.715,v=.072;return this.multiply([c+a*(1-c)+l*-c,d+a*-d+l*-d,v+a*-v+l*(1-v),0,0,c+a*-c+l*.143,d+a*(1-d)+l*.14,v+a*-v+l*-.283,0,0,c+a*-c+l*-.787,d+a*-d+l*d,v+a*(1-v)+l*v,0,0,0,0,0,1,0],h)},grayscale:function(u,h){return u===void 0&&(u=1),h===void 0&&(h=!1),this.saturate(-u,h)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(f.BLACK_WHITE,u)},contrast:function(u,h){u===void 0&&(u=0),h===void 0&&(h=!1);var a=u+1,l=-.5*(a-1);return this.multiply([a,0,0,0,l,0,a,0,0,l,0,0,a,0,l,0,0,0,1,0],h)},negative:function(u){return u===void 0&&(u=!1),this.multiply(f.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(f.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(f.SEPIA,u)},night:function(u,h){return u===void 0&&(u=.1),h===void 0&&(h=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],h)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(f.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(f.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(f.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(f.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(f.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(f.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(f.SHIFT_BGR,u)},multiply:function(u,h){h===void 0&&(h=!1),h||this.reset();var a=this._matrix,l=m;return l.set(a),a.set([l[0]*u[0]+l[1]*u[5]+l[2]*u[10]+l[3]*u[15],l[0]*u[1]+l[1]*u[6]+l[2]*u[11]+l[3]*u[16],l[0]*u[2]+l[1]*u[7]+l[2]*u[12]+l[3]*u[17],l[0]*u[3]+l[1]*u[8]+l[2]*u[13]+l[3]*u[18],l[0]*u[4]+l[1]*u[9]+l[2]*u[14]+l[3]*u[19]+l[4],l[5]*u[0]+l[6]*u[5]+l[7]*u[10]+l[8]*u[15],l[5]*u[1]+l[6]*u[6]+l[7]*u[11]+l[8]*u[16],l[5]*u[2]+l[6]*u[7]+l[7]*u[12]+l[8]*u[17],l[5]*u[3]+l[6]*u[8]+l[7]*u[13]+l[8]*u[18],l[5]*u[4]+l[6]*u[9]+l[7]*u[14]+l[8]*u[19]+l[9],l[10]*u[0]+l[11]*u[5]+l[12]*u[10]+l[13]*u[15],l[10]*u[1]+l[11]*u[6]+l[12]*u[11]+l[13]*u[16],l[10]*u[2]+l[11]*u[7]+l[12]*u[12]+l[13]*u[17],l[10]*u[3]+l[11]*u[8]+l[12]*u[13]+l[13]*u[18],l[10]*u[4]+l[11]*u[9]+l[12]*u[14]+l[13]*u[19]+l[14],l[15]*u[0]+l[16]*u[5]+l[17]*u[10]+l[18]*u[15],l[15]*u[1]+l[16]*u[6]+l[17]*u[11]+l[18]*u[16],l[15]*u[2]+l[16]*u[7]+l[17]*u[12]+l[18]*u[17],l[15]*u[3]+l[16]*u[8]+l[17]*u[13]+l[18]*u[18],l[15]*u[4]+l[16]*u[9]+l[17]*u[14]+l[18]*u[19]+l[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=f},51767:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(29747),f=new o({initialize:function(h,a,l){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(h,a,l)},set:function(u,h,a){return u===void 0&&(u=0),h===void 0&&(h=0),a===void 0&&(a=0),this._rgb=[u,h,a],this.onChange(),this},equals:function(u,h,a){var l=this._rgb;return l[0]===u&&l[1]===h&&l[2]===a},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=f},60461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=T},54312:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(35893),f=s(86327),u=s(88417),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)+c),f(a,o(l)+d),a};r.exports=h},46768:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(26541),f=s(86327),u=s(385),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)-c),f(a,o(l)+d),a};r.exports=h},35827:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(54380),f=s(86327),u=s(40136),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)+c),f(a,o(l)+d),a};r.exports=h},46871:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66786),m=s(35893),f=s(7702),u=function(h,a,l,c){return l===void 0&&(l=0),c===void 0&&(c=0),o(h,m(a)+l,f(a)+c),h};r.exports=u},5198:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),m=s(26541),f=s(20786),u=s(385),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)-c),f(a,o(l)+d),a};r.exports=h},11879:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),m=[];m[o.BOTTOM_CENTER]=s(54312),m[o.BOTTOM_LEFT]=s(46768),m[o.BOTTOM_RIGHT]=s(35827),m[o.CENTER]=s(46871),m[o.LEFT_CENTER]=s(5198),m[o.RIGHT_CENTER]=s(80503),m[o.TOP_CENTER]=s(89698),m[o.TOP_LEFT]=s(922),m[o.TOP_RIGHT]=s(21373),m[o.LEFT_BOTTOM]=m[o.BOTTOM_LEFT],m[o.LEFT_TOP]=m[o.TOP_LEFT],m[o.RIGHT_BOTTOM]=m[o.BOTTOM_RIGHT],m[o.RIGHT_TOP]=m[o.TOP_RIGHT];var f=function(u,h,a,l,c){return m[a](u,h,l,c)};r.exports=f},80503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),m=s(54380),f=s(20786),u=s(40136),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)+c),f(a,o(l)+d),a};r.exports=h},89698:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),m=s(17717),f=s(88417),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,o(l)+c),u(a,m(l)-d),a};r.exports=h},922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),m=s(17717),f=s(385),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,o(l)-c),u(a,m(l)-d),a};r.exports=h},21373:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),m=s(17717),f=s(40136),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,o(l)+c),u(a,m(l)-d),a};r.exports=h},91660:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),m=s(79291),f={In:s(91660),To:s(16694)};f=m(!1,f,o),r.exports=f},21578:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(35893),f=s(88417),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,m(l)+c),u(a,o(l)+d),a};r.exports=h},10210:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(26541),f=s(385),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,m(l)-c),u(a,o(l)+d),a};r.exports=h},82341:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(54380),f=s(40136),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,m(l)+c),u(a,o(l)+d),a};r.exports=h},87958:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(26541),f=s(86327),u=s(40136),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)-c),f(a,o(l)+d),a};r.exports=h},40080:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),m=s(26541),f=s(20786),u=s(40136),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)-c),f(a,o(l)+d),a};r.exports=h},88466:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),m=s(17717),f=s(40136),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,o(l)-c),u(a,m(l)-d),a};r.exports=h},38829:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),m=[];m[o.BOTTOM_CENTER]=s(21578),m[o.BOTTOM_LEFT]=s(10210),m[o.BOTTOM_RIGHT]=s(82341),m[o.LEFT_BOTTOM]=s(87958),m[o.LEFT_CENTER]=s(40080),m[o.LEFT_TOP]=s(88466),m[o.RIGHT_BOTTOM]=s(19211),m[o.RIGHT_CENTER]=s(34609),m[o.RIGHT_TOP]=s(48741),m[o.TOP_CENTER]=s(49440),m[o.TOP_LEFT]=s(81288),m[o.TOP_RIGHT]=s(61323);var f=function(u,h,a,l,c){return m[a](u,h,l,c)};r.exports=f},19211:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(54380),f=s(86327),u=s(385),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)+c),f(a,o(l)+d),a};r.exports=h},34609:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7702),m=s(54380),f=s(20786),u=s(385),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,m(l)+c),f(a,o(l)+d),a};r.exports=h},48741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),m=s(17717),f=s(385),u=s(66737),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),f(a,o(l)+c),u(a,m(l)-d),a};r.exports=h},49440:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35893),m=s(17717),f=s(86327),u=s(88417),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,o(l)+c),f(a,m(l)-d),a};r.exports=h},81288:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26541),m=s(17717),f=s(86327),u=s(385),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,o(l)-c),f(a,m(l)-d),a};r.exports=h},61323:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54380),m=s(17717),f=s(86327),u=s(40136),h=function(a,l,c,d){return c===void 0&&(c=0),d===void 0&&(d=0),u(a,o(l)+c),f(a,m(l)-d),a};r.exports=h},16694:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88417),m=s(20786),f=function(u,h,a){return o(u,h),m(u,a)};r.exports=f},62235:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y+s.height-s.height*s.originY};r.exports=T},72873:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62235),m=s(26541),f=s(54380),u=s(17717),h=s(87841),a=function(l,c){c===void 0&&(c=new h);var d=m(l),v=u(l);return c.x=d,c.y=v,c.width=f(l)-d,c.height=o(l)-v,c};r.exports=a},35893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x-s.width*s.originX+s.width*.5};r.exports=T},7702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y-s.height*s.originY+s.height*.5};r.exports=T},26541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x-s.width*s.originX};r.exports=T},87431:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.width*s.originX};r.exports=T},46928:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.height*s.originY};r.exports=T},54380:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x+s.width-s.width*s.originX};r.exports=T},17717:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.y-s.height*s.originY};r.exports=T},86327:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.y=o-s.height+s.height*s.originY,s};r.exports=T},88417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.width*s.originX;return s.x=o+m-s.width*.5,s};r.exports=T},20786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.height*s.originY;return s.y=o+m-s.height*.5,s};r.exports=T},385:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x=o+s.width*s.originX,s};r.exports=T},40136:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x=o-s.width+s.width*s.originX,s};r.exports=T},66737:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.y=o+s.height*s.originY,s};r.exports=T},58724:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(s){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(m){s.style["image-rendering"]=m}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};r.exports=T},27919:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8054),m=s(68703),f=[],u=!1,h=function(){var a=function(P,w,E,b,O){w===void 0&&(w=1),E===void 0&&(E=1),b===void 0&&(b=o.CANVAS),O===void 0&&(O=!1);var M,A=d(b);return A===null?(A={parent:P,canvas:document.createElement("canvas"),type:b},b===o.CANVAS&&f.push(A),M=A.canvas):(A.parent=P,M=A.canvas),O&&(A.parent=M),M.width=w,M.height=E,u&&b===o.CANVAS&&m.disable(M.getContext("2d",{willReadFrequently:!1})),M},l=function(P,w,E){return a(P,w,E,o.CANVAS)},c=function(P,w,E){return a(P,w,E,o.WEBGL)},d=function(P){if(P===void 0&&(P=o.CANVAS),P===o.WEBGL)return null;for(var w=0;w<f.length;w++){var E=f[w];if(!E.parent&&E.type===P)return E}return null},v=function(P){var w=P instanceof HTMLCanvasElement;f.forEach(function(E){(w&&E.canvas===P||!w&&E.parent===P)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},p=function(){var P=0;return f.forEach(function(w){w.parent&&P++}),P},g=function(){return f.length-p()},x=function(){u=!0},C=function(){u=!1};return{create2D:l,create:a,createWebGL:c,disableSmoothing:x,enableSmoothing:C,first:d,free:g,pool:f,remove:v,total:p}};r.exports=h()},68703:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",s=function(){var o=function(h){for(var a=["i","webkitI","msI","mozI","oI"],l=0;l<a.length;l++){var c=a[l]+"mageSmoothingEnabled";if(c in h)return c}return null},m=function(h){return T===""&&(T=o(h)),T&&(h[T]=!0),h},f=function(h){return T===""&&(T=o(h)),T&&(h[T]=!1),h},u=function(h){return T!==null?h[T]:null};return{disable:f,enable:m,getPrefix:o,isEnabled:u}};r.exports=s()},65208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o="none"),s.style.msTouchAction=o,s.style["ms-touch-action"]=o,s.style["touch-action"]=o,s};r.exports=T},91610:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(f){s.style[f+"user-select"]=o}),s.style["-webkit-touch-callout"]=o,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};r.exports=T},26253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(37589),f=s(1e3),u=s(7537),h=s(87837),a=new o({initialize:function(c,d,v,p){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,d,v,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(l,c,d,v,p){return v===void 0&&(v=255),p===void 0&&(p=!0),this._locked=!0,this.red=l,this.green=c,this.blue=d,this.alpha=v,this._locked=!1,this.update(p)},setGLTo:function(l,c,d,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=l,this.greenGL=c,this.blueGL=d,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(l){return this._locked=!0,this.red=l.r,this.green=l.g,this.blue=l.b,l.hasOwnProperty("a")&&(this.alpha=l.a),this._locked=!1,this.update(!0)},setFromHSV:function(l,c,d){return u(l,c,d,this)},update:function(l){if(l===void 0&&(l=!1),this._locked)return this;var c=this.r,d=this.g,v=this.b,p=this.a;return this._color=m(c,d,v),this._color32=f(c,d,v,p),this._rgba="rgba("+c+","+d+","+v+","+p/255+")",l&&h(c,d,v,this),this},updateHSV:function(){var l=this.r,c=this.g,d=this.b;return h(l,c,d,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(l){return this.setTo(l,l,l)},random:function(l,c){l===void 0&&(l=0),c===void 0&&(c=255);var d=Math.floor(l+Math.random()*(c-l)),v=Math.floor(l+Math.random()*(c-l)),p=Math.floor(l+Math.random()*(c-l));return this.setTo(d,v,p)},randomGray:function(l,c){l===void 0&&(l=0),c===void 0&&(c=255);var d=Math.floor(l+Math.random()*(c-l));return this.setTo(d,d,d)},saturate:function(l){return this.s+=l/100,this},desaturate:function(l){return this.s-=l/100,this},lighten:function(l){return this.v+=l/100,this},darken:function(l){return this.v-=l/100,this},brighten:function(l){var c=this.r,d=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(l/100)))),d=Math.max(0,Math.min(255,d-Math.round(255*-(l/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(l/100)))),this.setTo(c,d,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(l){this.gl[0]=Math.min(Math.abs(l),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(l){this.gl[1]=Math.min(Math.abs(l),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(l){this.gl[2]=Math.min(Math.abs(l),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(l){this.gl[3]=Math.min(Math.abs(l),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(l){l=Math.floor(Math.abs(l)),this.r=Math.min(l,255),this.gl[0]=l/255,this.update(!0)}},green:{get:function(){return this.g},set:function(l){l=Math.floor(Math.abs(l)),this.g=Math.min(l,255),this.gl[1]=l/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(l){l=Math.floor(Math.abs(l)),this.b=Math.min(l,255),this.gl[2]=l/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(l){l=Math.floor(Math.abs(l)),this.a=Math.min(l,255),this.gl[3]=l/255,this.update()}},h:{get:function(){return this._h},set:function(l){this._h=l,u(l,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(l){this._s=l,u(this._h,l,this._v,this)}},v:{get:function(){return this._v},set:function(l){this._v=l,u(this._h,this._s,l,this)}}});r.exports=a},92728:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),m=function(f){f===void 0&&(f=1024);var u=[],h=255,a,l=255,c=0,d=0;for(a=0;a<=h;a++)u.push({r:l,g:a,b:d,color:o(l,a,d)});for(c=255,a=h;a>=0;a--)u.push({r:a,g:c,b:d,color:o(a,c,d)});for(l=0,a=0;a<=h;a++,c--)u.push({r:l,g:c,b:a,color:o(l,c,a)});for(c=0,d=255,a=0;a<=h;a++,d--,l++)u.push({r:l,g:c,b:d,color:o(l,c,d)});if(f===1024)return u;var v=[],p=0,g=1024/f;for(a=0;a<f;a++)v.push(u[Math.floor(p)]),p+=g;return v};r.exports=m},91588:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(o.a=s>>>24),o};r.exports=T},62957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=s.toString(16);return o.length===1?"0"+o:o};r.exports=T},37589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s<<16|o<<8|m};r.exports=T},1e3:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return f<<24|s<<16|o<<8|m};r.exports=T},62183:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),m=s(89528),f=function(u,h,a){var l=a,c=a,d=a;if(h!==0){var v=a<.5?a*(1+h):a+h-a*h,p=2*a-v;l=m(p,v,u+1/3),c=m(p,v,u),d=m(p,v,u-1/3)}var g=new o;return g.setGLTo(l,c,d,1)};r.exports=f},27939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7537),m=function(f,u){f===void 0&&(f=1),u===void 0&&(u=1);for(var h=[],a=0;a<=359;a++)h.push(o(a/359,f,u));return h};r.exports=m},7537:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589);function m(u,h,a,l){var c=(u+h*6)%6,d=Math.min(c,4-c,1);return Math.round(255*(l-l*a*Math.max(0,d)))}var f=function(u,h,a,l){h===void 0&&(h=1),a===void 0&&(a=1);var c=m(5,u,h,a),d=m(3,u,h,a),v=m(1,u,h,a);return l?l.setTo?l.setTo(c,d,v,l.alpha,!0):(l.r=c,l.g=d,l.b=v,l.color=o(c,d,v),l):{r:c,g:d,b:v,color:o(c,d,v)}};r.exports=f},70238:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),m=function(f){var u=new o;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,v,p,g){return v+v+p+p+g+g});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(h){var a=parseInt(h[1],16),l=parseInt(h[2],16),c=parseInt(h[3],16);u.setTo(a,l,c)}return u};r.exports=m},89528:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?s+(o-s)*6*m:m<.5?o:m<.6666666666666666?s+(o-s)*(.6666666666666666-m)*6:s};r.exports=T},30100:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),m=s(90664),f=function(u){var h=m(u);return new o(h.r,h.g,h.b,h.a)};r.exports=f},90664:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};r.exports=T},13699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),m=s(37589),f=function(a,l,c,d,v,p,g,x){g===void 0&&(g=100),x===void 0&&(x=0);var C=x/g,P=o(a,d,C),w=o(l,v,C),E=o(c,p,C);return{r:P,g:w,b:E,a:255,color:m(P,w,E)}},u=function(a,l,c,d){return c===void 0&&(c=100),d===void 0&&(d=0),f(a.r,a.g,a.b,l.r,l.g,l.b,c,d)},h=function(a,l,c,d,v,p){return v===void 0&&(v=100),p===void 0&&(p=0),f(a.r,a.g,a.b,l,c,d,v,p)};r.exports={RGBWithRGB:f,ColorWithRGB:h,ColorWithColor:u}},68957:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),m=function(f){return new o(f.r,f.g,f.b,f.a)};r.exports=m},87388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987),m=function(f){var u=new o,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(h){var a=parseInt(h[1],10),l=parseInt(h[2],10),c=parseInt(h[3],10),d=h[4]!==void 0?parseFloat(h[4]):1;u.setTo(a,l,c,d*255)}return u};r.exports=m},87837:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){f===void 0&&(f={h:0,s:0,v:0}),s/=255,o/=255,m/=255;var u=Math.min(s,o,m),h=Math.max(s,o,m),a=h-u,l=0,c=h===0?0:a/h,d=h;return h!==u&&(h===s?l=(o-m)/a+(o<m?6:0):h===o?l=(m-s)/a+2:h===m&&(l=(s-o)/a+4),l/=6),f.hasOwnProperty("_h")?(f._h=l,f._s=c,f._v=d):(f.h=l,f.s=c,f.v=d),f};r.exports=T},75723:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62957),m=function(f,u,h,a,l){return a===void 0&&(a=255),l===void 0&&(l="#"),l==="#"?"#"+((1<<24)+(f<<16)+(u<<8)+h).toString(16).slice(1,7):"0x"+o(a)+o(f)+o(u)+o(h)};r.exports=m},85386:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),m=s(40987),f=function(u,h){return u===void 0&&(u=0),h===void 0&&(h=255),new m(o(u,h),o(u,h),o(u,h))};r.exports=f},80333:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70238),m=s(30100),f=s(68957),u=s(87388),h=function(a){var l=typeof a;switch(l){case"string":return a.substr(0,3).toLowerCase()==="rgb"?u(a):o(a);case"number":return m(a);case"object":return f(a)}};r.exports=h},3956:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40987);o.ColorSpectrum=s(92728),o.ColorToRGBA=s(91588),o.ComponentToHex=s(62957),o.GetColor=s(37589),o.GetColor32=s(1e3),o.HexStringToColor=s(70238),o.HSLToColor=s(62183),o.HSVColorWheel=s(27939),o.HSVToRGB=s(7537),o.HueToComponent=s(89528),o.IntegerToColor=s(30100),o.IntegerToRGB=s(90664),o.Interpolate=s(13699),o.ObjectToColor=s(68957),o.RandomRGB=s(85386),o.RGBStringToColor=s(87388),o.RGBToHSV=s(87837),o.RGBToString=s(75723),o.ValueToColor=s(80333),r.exports=o},27460:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(39429),f=new o({initialize:function(h,a,l,c,d,v){a||(a=h.sys.make.image({x:l,y:c,key:d,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,h,a){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,a)},postRenderWebGL:function(u,h,a){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(u,h,a,l,c){return new f(this.scene,u,h,a,l,c)}),r.exports=f},80661:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,u,h){var a=f.gl;f.flush(),f.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:h}),this.applyStencil(f,h,!0),f.maskCount++},applyStencil:function(f,u,h){var a=f.gl,l=this.geometryMask,c=f.maskCount,d=255;a.colorMask(!1,!1,!1,!1),h?(a.stencilFunc(a.EQUAL,c,d),a.stencilOp(a.KEEP,a.KEEP,a.INCR),c++):(a.stencilFunc(a.EQUAL,c+1,d),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=c,l.renderWebGL(f,l,u),f.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,c,d):a.stencilFunc(a.EQUAL,c,d)},postRenderWebGL:function(f){var u=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var h=f.currentMask;if(f.maskStack.length===0)h.mask=null,u.disable(u.STENCIL_TEST);else{var a=f.maskStack[f.maskStack.length-1];a.mask.applyStencil(f,a.camera,!1),f.currentCameraMask.mask!==a.mask?(h.mask=a.mask,h.camera=a.camera):h.mask=null}},preRenderCanvas:function(f,u,h){var a=this.geometryMask;f.currentContext.save(),a.renderCanvas(f,a,h,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=m},69781:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),l===void 0&&(l=null),this.key=u,this.fragmentSrc=h,this.vertexSrc=a,this.uniforms=l}});r.exports=m},40366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m;if(o)typeof o=="string"?m=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(m=o);else if(s.parentElement||o===null)return s;return m||(m=document.body),m.appendChild(s),s};r.exports=T},83719:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),m=function(f){var u=f.config;if(!(!u.parent||!u.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=h,o(h,u.parent)}};r.exports=m},57264:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25892),m=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),f()};document.body?o.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};r.exports=m},57811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!s)return window.innerHeight;var o=Math.abs(window.orientation),m={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),m.w=o===90?f.offsetHeight:window.innerWidth,m.h=o===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?m.h:m.w};r.exports=T},45818:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),m=function(f,u){var h=window.screen,a=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return u>f?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};r.exports=m},74403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o;return s!==""&&(typeof s=="string"?o=document.getElementById(s):s&&s.nodeType===1&&(o=s)),o||(o=document.body),o};r.exports=T},56836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o="";try{if(window.DOMParser){var m=new DOMParser;o=m.parseFromString(s,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(s)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};r.exports=T},35846:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){s.parentNode&&s.parentNode.removeChild(s)};r.exports=T},43092:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(29747),f=new o({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function a(l){h.callback(l),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){h.isRunning&&(h.timeOutID=window.setTimeout(a,h.delay)),h.callback(window.performance.now())}},start:function(u,h,a){this.isRunning||(this.callback=u,this.isSetTimeOut=h,this.delay=a,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});r.exports=f},84902:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};r.exports=o},47565:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(37277),u=new o({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",u,"events"),r.exports=u},93055:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:s(47565)}},20122:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l){l===void 0&&(l=1),m.call(this,f.BARREL,a),this.amount=l}});r.exports=u},32251:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g){c===void 0&&(c=1),d===void 0&&(d=1),v===void 0&&(v=1),p===void 0&&(p=1),g===void 0&&(g=4),m.call(this,f.BLOOM,a),this.steps=g,this.offsetX=c,this.offsetY=d,this.blurStrength=v,this.strength=p,this.glcolor=[1,1,1],l!=null&&(this.color=l)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=u},9047:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g){l===void 0&&(l=0),c===void 0&&(c=2),d===void 0&&(d=2),v===void 0&&(v=1),g===void 0&&(g=4),m.call(this,f.BLUR,a),this.quality=l,this.x=c,this.y=d,this.steps=g,this.strength=v,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=u},27885:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g,x){l===void 0&&(l=.5),c===void 0&&(c=1),d===void 0&&(d=.2),v===void 0&&(v=!1),p===void 0&&(p=1),g===void 0&&(g=1),x===void 0&&(x=1),m.call(this,f.BOKEH,a),this.radius=l,this.amount=c,this.contrast=d,this.isTiltShift=v,this.strength=x,this.blurX=p,this.blurY=g}});r.exports=u},12578:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p){l===void 0&&(l=8),v===void 0&&(v=1),p===void 0&&(p=.005),m.call(this,f.CIRCLE,a),this.scale=v,this.feather=p,this.thickness=l,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),d!=null&&(this.backgroundColor=d)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor2;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});r.exports=u},15802:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(89422),f=s(14811),u=new o({Extends:m,initialize:function(a){m.call(this),this.type=f.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=u},72898:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h){this.type=u,this.gameObject=h,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=m},44553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d){l===void 0&&(l="__WHITE"),c===void 0&&(c=.005),d===void 0&&(d=.005),m.call(this,f.DISPLACEMENT,a),this.x=c,this.y=d,this.glTexture,this.setTexture(l)},setTexture:function(h){var a=this.gameObject.scene.sys.textures.getFrame(h);return a&&(this.glTexture=a.glTexture),this}});r.exports=u},68531:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v){c===void 0&&(c=4),d===void 0&&(d=0),v===void 0&&(v=!1),m.call(this,f.GLOW,a),this.outerStrength=c,this.innerStrength=d,this.knockout=v,this.glcolor=[1,1,1,1],l!==void 0&&(this.color=l)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=u},37102:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g,x,C){d===void 0&&(d=.2),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=1),C===void 0&&(C=0),m.call(this,f.GRADIENT,a),this.alpha=d,this.size=C,this.fromX=v,this.fromY=p,this.toX=g,this.toY=x,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],l!=null&&(this.color1=l),c!=null&&(this.color2=c)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor1;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor2;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}}});r.exports=u},86886:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l){l===void 0&&(l=1),m.call(this,f.PIXELATE,a),this.amount=l}});r.exports=u},92322:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g,x){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=.1),v===void 0&&(v=1),g===void 0&&(g=6),x===void 0&&(x=1),m.call(this,f.SHADOW,a),this.x=l,this.y=c,this.decay=d,this.power=v,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=x,p!==void 0&&(this.color=p)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});r.exports=u},39563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v){l===void 0&&(l=.5),c===void 0&&(c=.5),d===void 0&&(d=3),v===void 0&&(v=!1),m.call(this,f.SHINE,a),this.speed=l,this.lineWidth=c,this.gradient=d,this.reveal=v}});r.exports=u},56448:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v){l===void 0&&(l=.5),c===void 0&&(c=.5),d===void 0&&(d=.5),v===void 0&&(v=.5),m.call(this,f.VIGNETTE,a),this.x=l,this.y=c,this.radius=d,this.strength=v}});r.exports=u},38433:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72898),f=s(14811),u=new o({Extends:m,initialize:function(a,l,c,d,v){l===void 0&&(l=.1),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=!1),m.call(this,f.WIPE,a),this.progress=0,this.wipeWidth=l,this.direction=c,this.axis=d,this.reveal=v}});r.exports=u},14811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=T},66064:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=s(14811),f={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};f=o(!1,f,m),r.exports=f},25305:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(23568),f=function(u,h,a){h.x=m(a,"x",0),h.y=m(a,"y",0),h.depth=m(a,"depth",0),h.flipX=m(a,"flipX",!1),h.flipY=m(a,"flipY",!1);var l=m(a,"scale",null);typeof l=="number"?h.setScale(l):l!==null&&(h.scaleX=m(l,"x",1),h.scaleY=m(l,"y",1));var c=m(a,"scrollFactor",null);typeof c=="number"?h.setScrollFactor(c):c!==null&&(h.scrollFactorX=m(c,"x",1),h.scrollFactorY=m(c,"y",1)),h.rotation=m(a,"rotation",0);var d=m(a,"angle",null);d!==null&&(h.angle=d),h.alpha=m(a,"alpha",1);var v=m(a,"origin",null);if(typeof v=="number")h.setOrigin(v);else if(v!==null){var p=m(v,"x",.5),g=m(v,"y",.5);h.setOrigin(p,g)}h.blendMode=m(a,"blendMode",o.NORMAL),h.visible=m(a,"visible",!0);var x=m(a,"add",!0);return x&&u.sys.displayList.add(h),h.preUpdate&&u.sys.updateList.add(h),h};r.exports=f},13059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23568),m=function(f,u){var h=o(u,"anims",null);if(h===null)return f;if(typeof h=="string")f.anims.play(h);else if(typeof h=="object"){var a=f.anims,l=o(h,"key",void 0);if(l){var c=o(h,"startFrame",void 0),d=o(h,"delay",0),v=o(h,"repeat",0),p=o(h,"repeatDelay",0),g=o(h,"yoyo",!1),x=o(h,"play",!1),C=o(h,"delayedPlay",0),P={key:l,delay:d,repeat:v,repeatDelay:p,yoyo:g,startFrame:c};x?a.play(P):C>0?a.playAfterDelay(P,C):a.load(P)}}return f};r.exports=m},8050:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(73162),f=s(37277),u=s(51708),h=s(44594),a=s(19186),l=new o({Extends:m,initialize:function(d){m.call(this,d),this.sortChildrenFlag=!1,this.scene=d,this.systems=d.sys,this.events=d.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(u.ADDED_TO_SCENE,c,this.scene),this.events.emit(h.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(u.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,d){return c._depth-d._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,d=c.length;d--;)c[d]&&c[d].destroy(!0);c.length=0,this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",l,"displayList"),r.exports=l},95643:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(53774),f=s(45893),u=s(50792),h=s(51708),a=s(44594),l=new o({Extends:u,initialize:function(d,v){u.call(this),this.scene=d,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),d.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(c,d){return this.data||(this.data=new f(this)),this.data.set(c,d),this},incData:function(c,d){return this.data||(this.data=new f(this)),this.data.inc(c,d),this},toggleData:function(c){return this.data||(this.data=new f(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new f(this)),this.data.get(c)},setInteractive:function(c,d,v){return this.scene.sys.input.enable(this,c,d,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(c){var d=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!d||l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,d=this.parentContainer,v=[];d&&(v.unshift(d.getIndex(c)),c=d,d.parentContainer);)d=d.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),c.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,r.exports=l},44603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(37277),f=s(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,a){u.prototype.hasOwnProperty(h)||(u.prototype[h]=a)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},m.register("GameObjectCreator",u,"make"),r.exports=u},39429:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(37277),f=s(44594),u=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(h,a){u.prototype.hasOwnProperty(h)||(u.prototype[h]=a)},u.remove=function(h){u.prototype.hasOwnProperty(h)&&delete u.prototype[h]},m.register("GameObjectFactory",u,"add"),r.exports=u},91296:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),m=new o,f=new o,u=new o,h={camera:m,sprite:f,calc:u},a=function(l,c,d){var v=m,p=f,g=u;return p.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),v.copyFrom(c.matrix),d?(v.multiplyWithOffset(d,-c.scrollX*l.scrollFactorX,-c.scrollY*l.scrollFactorY),p.e=l.x,p.f=l.y):(p.e-=c.scrollX*l.scrollFactorX,p.f-=c.scrollY*l.scrollFactorY),v.multiply(p,g),h};r.exports=a},45027:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(25774),f=s(37277),u=s(44594),h=new o({Extends:m,initialize:function(l){m.call(this),this.checkQueue=!0,this.scene=l,this.systems=l.sys,l.sys.events.once(u.BOOT,this.boot,this),l.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(u.PRE_UPDATE,this.update,this),a.on(u.UPDATE,this.sceneUpdate,this),a.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,l){for(var c=this._active,d=c.length,v=0;v<d;v++){var p=c[v];p.active&&p.preUpdate.call(p,a,l)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var l=this.systems.events;l.off(u.PRE_UPDATE,this.update,this),l.off(u.UPDATE,this.sceneUpdate,this),l.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",h,"updateList"),r.exports=h},3217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h,a,l,c,d,v,p,g,x,C){var P=m.x-o.displayOriginX+u,w=m.y-o.displayOriginY+h,E=P+m.w,b=w+m.h,O=a.a,M=a.b,A=a.c,F=a.d,R=a.e,L=a.f,D=P*O+w*A+R,I=P*M+w*F+L,z=P*O+b*A+R,U=P*M+b*F+L,H=E*O+b*A+R,W=E*M+b*F+L,N=E*O+w*A+R,X=E*M+w*F+L;l&&(D=Math.round(D),I=Math.round(I),z=Math.round(z),U=Math.round(U),H=Math.round(H),W=Math.round(W),N=Math.round(N),X=Math.round(X)),s.batchQuad(o,D,I,z,U,H,W,N,X,f.u0,f.v0,f.u1,f.v1,c,d,v,p,g,x,C)};r.exports=T},53048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){if(m===void 0&&(m=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var u=s.text,h=u.length,a=s.maxWidth,l=s.wordWrapCharCode,c=Number.MAX_VALUE,d=Number.MAX_VALUE,v=0,p=0,g=s.fontData.chars,x=s.fontData.lineHeight,C=s.letterSpacing,P=s.lineSpacing,w=0,E=0,b=0,O=null,M=s._align,A=0,F=0,R=s.fontSize/s.fontData.size,L=R*s.scaleX,D=R*s.scaleY,I=null,z=0,U=[],H=Number.MAX_VALUE,W=0,N=0,X=0,B,V,k,j=[],$=[],J=null,Z=function(he,Ae){for(var jt=0,ae=0;ae<he.length;ae++){var pe=he.charCodeAt(ae),Ne=Ae.chars[pe];Ne&&(jt+=Ne.xAdvance)}return jt*L};if(a>0){k=u.split(`
`);var _=[];for(B=0;B<k.length;B++){var it=k[B],at="",st="",ft="",ct="";for(V=0;V<it.length;V++)if(b=it.charCodeAt(V),at+=it[V],b===l||V===it.length-1){ct=ft+at;var ut=Z(ct,s.fontData);ut<=a?ft=ct:(st=st.slice(0,-1),st+=(st?`
`:"")+ft,ft=at),at=""}st=st.slice(0,-1),st+=(st?`
`:"")+ft,_.push(st)}u=_.join(`
`),f.wrappedText=u,h=u.length}var Et=0;for(B=0;B<h;B++){if(b=u.charCodeAt(B),b===10){J!==null&&(j.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null),I=null,U[N]=X,X>W&&(W=X),X<H&&(H=X),N++,X=0,w=0,E=(x+P)*N;continue}if(O=g[b],!!O){if(A=w,F=E,I!==null){var Mt=O.kerning[z];A+=Mt!==void 0?Mt:0}c>A&&(c=A),d>F&&(d=F);var At=A+O.xAdvance,vt=F+x;v<At&&(v=At),p<vt&&(p=vt);var Ct=O.xOffset+O.xAdvance+(Mt!==void 0?Mt:0);b===l?J!==null&&(j.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null):(J===null&&(J={word:"",i:Et,x:w,y:E,w:0,h:x}),J.word=J.word.concat(u[B]),J.w+=Ct),$.push({i:Et,idx:B,char:u[B],code:b,x:(O.xOffset+A)*R,y:(O.yOffset+E)*R,w:O.width*R,h:O.height*R,t:E*R,r:At*R,b:x*R,line:N,glyph:O}),w+=O.xAdvance+C+(Mt!==void 0?Mt:0),I=O,z=b,X=At*R,Et++}}if(J!==null&&j.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),U[N]=X,X>W&&(W=X),X<H&&(H=X),M>0)for(var St=0;St<$.length;St++){var kt=$[St];if(M===1){var Ht=(W-U[kt.line])/2;kt.x+=Ht,kt.r+=Ht}else if(M===2){var re=W-U[kt.line];kt.x+=re,kt.r+=re}}var Xt=f.local,Bt=f.global;return k=f.lines,Xt.x=c*R,Xt.y=d*R,Xt.width=v*R,Xt.height=p*R,Bt.x=s.x-s._displayOriginX+c*L,Bt.y=s.y-s._displayOriginY+d*D,Bt.width=v*L,Bt.height=p*D,k.shortest=H,k.longest=W,k.lengths=U,o&&(Xt.x=Math.ceil(Xt.x),Xt.y=Math.ceil(Xt.y),Xt.width=Math.ceil(Xt.width),Xt.height=Math.ceil(Xt.height),Bt.x=Math.ceil(Bt.x),Bt.y=Math.ceil(Bt.y),Bt.width=Math.ceil(Bt.width),Bt.height=Math.ceil(Bt.height),k.shortest=Math.ceil(H),k.longest=Math.ceil(W)),m&&(s._displayOriginX=s.originX*Xt.width,s._displayOriginY=s.originY*Xt.height,Bt.x=s.x-s._displayOriginX*s.scaleX,Bt.y=s.y-s._displayOriginY*s.scaleY,o&&(Bt.x=Math.ceil(Bt.x),Bt.y=Math.ceil(Bt.y))),f.words=j,f.characters=$,f.lines.height=x,f.scale=R,f.scaleX=s.scaleX,f.scaleY=s.scaleY,f};r.exports=T},61327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21859),m=function(f,u,h,a,l,c,d){var v=f.sys.textures.get(h),p=v.get(a),g=f.sys.cache.xml.get(l);if(p&&g){var x=o(g,p,c,d,v);return f.sys.cache.bitmapFont.add(u,{data:x,texture:h,frame:a,fromAtlas:!0}),!0}else return!1};r.exports=m},6925:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),m=function(f,u){var h=u.width,a=u.height,l=Math.floor(h/2),c=Math.floor(a/2),d=o(u,"chars","");if(d!==""){var v=o(u,"image",""),p=f.sys.textures.getFrame(v),g=p.cutX,x=p.cutY,C=p.source.width,P=p.source.height,w=o(u,"offset.x",0),E=o(u,"offset.y",0),b=o(u,"spacing.x",0),O=o(u,"spacing.y",0),M=o(u,"lineSpacing",0),A=o(u,"charsPerRow",null);A===null&&(A=C/h,A>d.length&&(A=d.length));for(var F=w,R=E,L={retroFont:!0,font:v,size:h,lineHeight:a+M,chars:{}},D=0,I=0;I<d.length;I++){var z=d.charCodeAt(I),U=(g+F)/C,H=(x+R)/P,W=(g+F+h)/C,N=(x+R+a)/P;L.chars[z]={x:F,y:R,width:h,height:a,centerX:l,centerY:c,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:U,v0:H,u1:W,v1:N},D++,D===A?(D=0,F=w,R+=a+O):F+=h+b}var X={data:L,frame:null,texture:v};return X}};r.exports=m},21859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,m){return parseInt(o.getAttribute(m),10)}var s=function(o,m,f,u,h){f===void 0&&(f=0),u===void 0&&(u=0);var a=m.cutX,l=m.cutY,c=m.source.width,d=m.source.height,v=m.sourceIndex,p={},g=o.getElementsByTagName("info")[0],x=o.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=T(g,"size"),p.lineHeight=T(x,"lineHeight")+u,p.chars={};var C=o.getElementsByTagName("char"),P=m!==void 0&&m.trimmed;if(P)var w=m.height,E=m.width;for(var b=0;b<C.length;b++){var O=C[b],M=T(O,"id"),A=String.fromCharCode(M),F=T(O,"x"),R=T(O,"y"),L=T(O,"width"),D=T(O,"height");P&&(F<E&&(E=F),R<w&&(w=R)),P&&w!==0&&E!==0&&(F-=m.x,R-=m.y);var I=(a+F)/c,z=(l+R)/d,U=(a+F+L)/c,H=(l+R+D)/d;if(p.chars[M]={x:F,y:R,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:T(O,"xoffset"),yOffset:T(O,"yoffset"),xAdvance:T(O,"xadvance")+f,data:{},kerning:{},u0:I,v0:z,u1:U,v1:H},h&&L!==0&&D!==0){var W=h.add(A,v,F,R,L,D);W&&W.setUVs(L,D,I,z,U,H)}}var N=o.getElementsByTagName("kerning");for(b=0;b<N.length;b++){var X=N[b],B=T(X,"first"),V=T(X,"second"),k=T(X,"amount");p.chars[V].kerning[B]=k}return p};r.exports=s},196:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87662),m=s(79291),f={Parse:s(6925)};f=m(!1,f,o),r.exports=f},87662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=T},2638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),m=s(83419),f=s(12310),u=new m({Extends:o,Mixins:[f],initialize:function(a,l,c,d,v,p,g){o.call(this,a,l,c,d,v,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,a){return this.cropWidth=h,this.cropHeight=a,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});r.exports=u},86741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),m=function(f,u,h,a){var l=u._text,c=l.length,d=f.currentContext;if(!(c===0||!o(f,d,u,h,a))){h.addToRenderList(u);var v=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.displayCallback,g=u.callbackData,x=u.fontData.chars,C=u.fontData.lineHeight,P=u._letterSpacing,w=0,E=0,b=0,O=null,M=0,A=0,F=0,R=0,L=0,D=0,I=null,z=0,U=u.frame.source.image,H=v.cutX,W=v.cutY,N=0,X=0,B=u._fontSize/u.fontData.size,V=u._align,k=0,j=0;u.getTextBounds(!1);var $=u._bounds.lines;V===1?j=($.longest-$.lengths[0])/2:V===2&&(j=$.longest-$.lengths[0]),d.translate(-u.displayOriginX,-u.displayOriginY);var J=h.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(d.beginPath(),d.rect(0,0,u.cropWidth,u.cropHeight),d.clip());for(var Z=0;Z<c;Z++){if(X=B,N=0,b=l.charCodeAt(Z),b===10){k++,V===1?j=($.longest-$.lengths[k])/2:V===2&&(j=$.longest-$.lengths[k]),w=0,E+=C,I=null;continue}if(O=x[b],!!O){if(M=H+O.x,A=W+O.y,F=O.width,R=O.height,L=O.xOffset+w-u.scrollX,D=O.yOffset+E-u.scrollY,I!==null){var _=O.kerning[z];L+=_!==void 0?_:0}if(p){g.index=Z,g.charCode=b,g.x=L,g.y=D,g.scale=X,g.rotation=N,g.data=O.data;var it=p(g);L=it.x,D=it.y,X=it.scale,N=it.rotation}L*=X,D*=X,L+=j,w+=O.xAdvance+P+(_!==void 0?_:0),I=O,z=b,!(F===0||R===0||b===32)&&(J&&(L=Math.round(L),D=Math.round(D)),d.save(),d.translate(L,D),d.rotate(N),d.scale(X,X),d.drawImage(U,M,A,F,R,0,0,F,R),d.restore())}}d.restore()}};r.exports=m},11164:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),m=s(25305),f=s(44603),u=s(23568);f.register("dynamicBitmapText",function(h,a){h===void 0&&(h={});var l=u(h,"font",""),c=u(h,"text",""),d=u(h,"size",!1),v=new o(this.scene,0,0,l,c,d);return a!==void 0&&(h.add=a),m(this.scene,v,h),v})},72566:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2638),m=s(39429);m.register("dynamicBitmapText",function(f,u,h,a,l){return this.displayList.add(new o(this.scene,f,u,h,a,l))})},12310:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(73482),f=s(86741),r.exports={renderWebGL:m,renderCanvas:f}},73482:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(61340),f=s(70554),u=new m,h=function(a,l,c,d){var v=l.text,p=v.length;if(p!==0){c.addToRenderList(l);var g=a.pipelines.set(l.pipeline,l),x=o(l,c,d);a.pipelines.preBatch(l);var C=x.sprite,P=x.calc,w=u,E=l.cropWidth>0||l.cropHeight>0;E&&(g.flush(),a.pushScissor(P.tx,P.ty,l.cropWidth*P.scaleX,l.cropHeight*P.scaleY));var b=l.frame,O=b.glTexture,M=l.tintFill,A=f.getTintAppendFloatAlpha(l.tintTopLeft,c.alpha*l._alphaTL),F=f.getTintAppendFloatAlpha(l.tintTopRight,c.alpha*l._alphaTR),R=f.getTintAppendFloatAlpha(l.tintBottomLeft,c.alpha*l._alphaBL),L=f.getTintAppendFloatAlpha(l.tintBottomRight,c.alpha*l._alphaBR),D=g.setGameObject(l),I=0,z=0,U=0,H=0,W=l.letterSpacing,N,X=0,B=0,V,k=l.scrollX,j=l.scrollY,$=l.fontData,J=$.chars,Z=$.lineHeight,_=l.fontSize/$.size,it=0,at=l._align,st=0,ft=0,ct=l.getTextBounds(!1);l.maxWidth>0&&(v=ct.wrappedText,p=v.length);var ut=l._bounds.lines;at===1?ft=(ut.longest-ut.lengths[0])/2:at===2&&(ft=ut.longest-ut.lengths[0]);for(var Et=c.roundPixels,Mt=l.displayCallback,At=l.callbackData,vt=0;vt<p;vt++){if(U=v.charCodeAt(vt),U===10){st++,at===1?ft=(ut.longest-ut.lengths[st])/2:at===2&&(ft=ut.longest-ut.lengths[st]),I=0,z+=Z,V=null;continue}if(N=J[U],!!N){X=N.width,B=N.height;var Ct=N.xOffset+I-k,St=N.yOffset+z-j;if(V!==null){var kt=N.kerning[H]||0;Ct+=kt,I+=kt}if(I+=N.xAdvance+W,V=N,H=U,!(X===0||B===0||U===32)){if(_=l.fontSize/l.fontData.size,it=0,Mt){At.color=0,At.tint.topLeft=A,At.tint.topRight=F,At.tint.bottomLeft=R,At.tint.bottomRight=L,At.index=vt,At.charCode=U,At.x=Ct,At.y=St,At.scale=_,At.rotation=it,At.data=N.data;var Ht=Mt(At);Ct=Ht.x,St=Ht.y,_=Ht.scale,it=Ht.rotation,Ht.color?(A=Ht.color,F=Ht.color,R=Ht.color,L=Ht.color):(A=Ht.tint.topLeft,F=Ht.tint.topRight,R=Ht.tint.bottomLeft,L=Ht.tint.bottomRight),A=f.getTintAppendFloatAlpha(A,c.alpha*l._alphaTL),F=f.getTintAppendFloatAlpha(F,c.alpha*l._alphaTR),R=f.getTintAppendFloatAlpha(R,c.alpha*l._alphaBL),L=f.getTintAppendFloatAlpha(L,c.alpha*l._alphaBR)}Ct*=_,St*=_,Ct-=l.displayOriginX,St-=l.displayOriginY,Ct+=ft,w.applyITRS(Ct,St,it,_,_),P.multiply(w,C);var re=N.u0,Xt=N.v0,Bt=N.u1,he=N.v1,Ae=X,jt=B,ae=C.e,pe=C.f,Ne=jt*C.c+C.e,ai=jt*C.d+C.f,Es=Ae*C.a+jt*C.c+C.e,de=Ae*C.b+jt*C.d+C.f,Vi=Ae*C.a+C.e,Re=Ae*C.b+C.f;Et&&(ae=Math.round(ae),pe=Math.round(pe),Ne=Math.round(Ne),ai=Math.round(ai),Es=Math.round(Es),de=Math.round(de),Vi=Math.round(Vi),Re=Math.round(Re)),g.shouldFlush(6)&&(g.flush(),D=g.setGameObject(l)),g.batchQuad(l,ae,pe,Ne,ai,Es,de,Vi,Re,re,Xt,Bt,he,A,F,R,L,M,O,D)}}}E&&(g.flush(),a.popScissor()),a.pipelines.postBatch(l)}};r.exports=h},22186:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(45319),f=s(31401),u=s(95643),h=s(53048),a=s(61327),l=s(21859),c=s(87841),d=s(18658),v=new o({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,d],initialize:function(g,x,C,P,w,E,b){w===void 0&&(w=""),b===void 0&&(b=0),u.call(this,g,"BitmapText"),this.font=P;var O=this.scene.sys.cache.bitmapFont.get(P);if(!O)throw new Error("Invalid BitmapText key: "+P);this.fontData=O.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=b,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=O.fromAtlas,this.setTexture(O.texture,O.frame),this.setPosition(x,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,x,C){return p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=x,this.dropShadowAlpha=C,this},setCharacterTint:function(p,g,x,C,P,w,E){p===void 0&&(p=0),g===void 0&&(g=1),x===void 0&&(x=!1),C===void 0&&(C=-1),P===void 0&&(P=C,w=C,E=C);var b=this.text.length;g===-1&&(g=b),p<0&&(p=b+p),p=m(p,0,b-1);for(var O=m(p+g,p,b),M=this.charColors,A=p;A<O;A++){var F=M[A];if(C===-1)M[A]=null;else{var R=x?1:0;F?(F.tintEffect=R,F.tintTL=C,F.tintTR=P,F.tintBL=w,F.tintBR=E):M[A]={tintEffect:R,tintTL:C,tintTR:P,tintBL:w,tintBR:E}}}return this},setWordTint:function(p,g,x,C,P,w,E){g===void 0&&(g=1);for(var b=this.getTextBounds(),O=b.words,M=typeof p=="number",A=0,F=0;F<O.length;F++){var R=O[F];if((M&&F===p||!M&&R.word===p)&&(this.setCharacterTint(R.i,R.word.length,x,C,P,w,E),A++,A===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(h(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,x){for(var C=this.getLocalPoint(p,g,null,x),P=this.getTextBounds(),w=P.characters,E=new c,b=0;b<w.length;b++){var O=w[b];if(E.setTo(O.x,O.t,O.r-O.x,O.b),E.contains(C.x,C.y))return O}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,x){g===void 0&&(g=this._fontSize),x===void 0&&(x=this._align);var C=this.scene.sys.cache.bitmapFont.get(p);return C&&(this.font=p,this.fontData=C.data,this._fontSize=g,this._align=x,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},setDisplaySize:function(p,g){this.setScale(1,1),this.getTextBounds(!1);var x=p/this.width,C=g/this.height;return this.setScale(x,C),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(p){this.setScaleX(1),this.getTextBounds(!1);var g=p/this.width;this.setScaleX(g)},get:function(){return this.width}},displayHeight:{set:function(p){this.setScaleY(1),this.getTextBounds(!1);var g=p/this.height;this.setScaleY(g)},get:function(){return this.height}},toJSON:function(){var p=f.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=a,v.ParseXMLBitmapFont=l,r.exports=v},37289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20926),m=function(f,u,h,a){var l=u._text,c=l.length,d=f.currentContext;if(!(c===0||!o(f,d,u,h,a))){h.addToRenderList(u);var v=u.fromAtlas?u.frame:u.texture.frames.__BASE,p=u.fontData.chars,g=u.fontData.lineHeight,x=u._letterSpacing,C=u._lineSpacing,P=0,w=0,E=0,b=null,O=0,M=0,A=0,F=0,R=0,L=0,D=null,I=0,z=v.source.image,U=v.cutX,H=v.cutY,W=u._fontSize/u.fontData.size,N=u._align,X=0,B=0,V=u.getTextBounds(!1);u.maxWidth>0&&(l=V.wrappedText,c=l.length);var k=u._bounds.lines;N===1?B=(k.longest-k.lengths[0])/2:N===2&&(B=k.longest-k.lengths[0]),d.translate(-u.displayOriginX,-u.displayOriginY);for(var j=h.roundPixels,$=0;$<c;$++){if(E=l.charCodeAt($),E===10){X++,N===1?B=(k.longest-k.lengths[X])/2:N===2&&(B=k.longest-k.lengths[X]),P=0,w+=g+C,D=null;continue}if(b=p[E],!!b){if(O=U+b.x,M=H+b.y,A=b.width,F=b.height,R=b.xOffset+P,L=b.yOffset+w,D!==null){var J=b.kerning[I];R+=J!==void 0?J:0}R*=W,L*=W,R+=B,P+=b.xAdvance+x+(J!==void 0?J:0),D=b,I=E,!(A===0||F===0||E===32)&&(j&&(R=Math.round(R),L=Math.round(L)),d.save(),d.translate(R,L),d.scale(W,W),d.drawImage(z,O,M,A,F,0,0,A,F),d.restore())}}d.restore()}};r.exports=m},57336:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),m=s(25305),f=s(44603),u=s(23568),h=s(35154);f.register("bitmapText",function(a,l){a===void 0&&(a={});var c=h(a,"font",""),d=u(a,"text",""),v=u(a,"size",!1),p=h(a,"align",0),g=new o(this.scene,0,0,c,d,v,p);return l!==void 0&&(a.add=l),m(this.scene,g,a),g})},34914:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22186),m=s(39429);m.register("bitmapText",function(f,u,h,a,l,c){return this.displayList.add(new o(this.scene,f,u,h,a,l,c))})},18658:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(33590),f=s(37289),r.exports={renderWebGL:m,renderCanvas:f}},33590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3217),m=s(91296),f=s(70554),u=function(h,a,l,c){var d=a._text,v=d.length;if(v!==0){l.addToRenderList(a);var p=h.pipelines.set(a.pipeline,a),g=m(a,l,c).calc;h.pipelines.preBatch(a);var x=l.roundPixels,C=l.alpha,P=a.charColors,w=a.tintFill,E=f.getTintAppendFloatAlpha,b=E(a.tintTopLeft,C*a._alphaTL),O=E(a.tintTopRight,C*a._alphaTR),M=E(a.tintBottomLeft,C*a._alphaBL),A=E(a.tintBottomRight,C*a._alphaBR),F=a.frame.glTexture,R=p.setGameObject(a),L=a.getTextBounds(!1),D,I,z,U=L.characters,H=a.dropShadowX,W=a.dropShadowY,N=H!==0||W!==0;if(N){var X=a.dropShadowColor,B=a.dropShadowAlpha,V=E(X,C*B*a._alphaTL),k=E(X,C*B*a._alphaTR),j=E(X,C*B*a._alphaBL),$=E(X,C*B*a._alphaBR);for(D=0;D<U.length;D++)I=U[D],z=I.glyph,!(I.code===32||z.width===0||z.height===0)&&o(p,a,I,z,H,W,g,x,V,k,j,$,1,F,R)}for(D=0;D<U.length;D++)if(I=U[D],z=I.glyph,!(I.code===32||z.width===0||z.height===0))if(p.shouldFlush(6)&&(p.flush(),R=p.setGameObject(a)),P[I.i]){var J=P[I.i],Z=J.tintEffect,_=E(J.tintTL,C*a._alphaTL),it=E(J.tintTR,C*a._alphaTR),at=E(J.tintBL,C*a._alphaBL),st=E(J.tintBR,C*a._alphaBR);o(p,a,I,z,0,0,g,x,_,it,at,st,Z,F,R)}else o(p,a,I,z,0,0,g,x,b,O,M,A,w,F,R);h.pipelines.postBatch(a)}};r.exports=u},6107:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48011),m=s(46590),f=s(83419),u=s(31401),h=s(4327),a=s(95643),l=s(73162),c=new f({Extends:a,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,o],initialize:function(v,p,g,x,C){a.call(this,v,"Blitter"),this.setTexture(x,C),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(d,v,p,g,x){g===void 0&&(g=!0),x===void 0&&(x=this.children.length),p===void 0?p=this.frame:p instanceof h||(p=this.texture.get(p));var C=new m(this,d,v,p,g);return this.children.addAt(C,x,!1),this.dirty=!0,C},createFromCallback:function(d,v,p,g){for(var x=this.createMultiple(v,p,g),C=0;C<x.length;C++){var P=x[C];d.call(this,P,C)}return x},createMultiple:function(d,v,p){v===void 0&&(v=this.frame.name),p===void 0&&(p=!0),Array.isArray(v)||(v=[v]);var g=[],x=this;return v.forEach(function(C){for(var P=0;P<d;P++)g.push(x.create(0,0,C,p))}),g},childCanRender:function(d){return d.visible&&d.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=c},72396:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=o.getRenderList();if(u.length!==0){var h=s.currentContext,a=m.alpha*o.alpha;if(a!==0){m.addToRenderList(o),h.globalCompositeOperation=s.blendModes[o.blendMode],h.imageSmoothingEnabled=!o.frame.source.scaleMode;var l=o.x-m.scrollX*o.scrollFactorX,c=o.y-m.scrollY*o.scrollFactorY;h.save(),f&&f.copyToContext(h);for(var d=m.roundPixels,v=0;v<u.length;v++){var p=u[v],g=p.flipX||p.flipY,x=p.frame,C=x.canvasData,P=x.x,w=x.y,E=1,b=1,O=p.alpha*a;O!==0&&(h.globalAlpha=O,g?(p.flipX&&(E=-1,P-=C.width),p.flipY&&(b=-1,w-=C.height),C.width>0&&C.height>0&&(h.save(),h.translate(p.x+l,p.y+c),h.scale(E,b),h.drawImage(x.source.image,C.x,C.y,C.width,C.height,P,w,C.width,C.height),h.restore())):(d&&(P=Math.round(P),w=Math.round(w)),C.width>0&&C.height>0&&h.drawImage(x.source.image,C.x,C.y,C.width,C.height,P+p.x+l,w+p.y+c,C.width,C.height)))}h.restore()}}};r.exports=T},9403:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),m=s(25305),f=s(44603),u=s(23568);f.register("blitter",function(h,a){h===void 0&&(h={});var l=u(h,"key",null),c=u(h,"frame",null),d=new o(this.scene,0,0,l,c);return a!==void 0&&(h.add=a),m(this.scene,d,h),d})},12709:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6107),m=s(39429);m.register("blitter",function(f,u,h,a){return this.displayList.add(new o(this.scene,f,u,h,a))})},48011:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(99485),f=s(72396),r.exports={renderWebGL:m,renderCanvas:f}},99485:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),m=s(70554),f=new o,u=function(h,a,l,c){var d=a.getRenderList(),v=l.alpha*a.alpha;if(!(d.length===0||v===0)){l.addToRenderList(a);var p=h.pipelines.set(this.pipeline,a),g=l.scrollX*a.scrollFactorX,x=l.scrollY*a.scrollFactorY,C=f.copyFrom(l.matrix);c&&(C.multiplyWithOffset(c,-g,-x),g=0,x=0);var P=a.x-g,w=a.y-x,E=-1,b=!1,O=l.roundPixels;h.pipelines.preBatch(a);for(var M=0;M<d.length;M++){var A=d[M],F=A.frame,R=A.alpha*v;if(R!==0){var L=F.width,D=F.height,I=P+A.x+F.x,z=w+A.y+F.y;A.flipX&&(L*=-1,I+=F.width),A.flipY&&(D*=-1,z+=F.height);var U=C.setQuad(I,z,I+L,z+D,O),H=m.getTintAppendFloatAlpha(A.tint,R);if(F.sourceIndex!==E){var W=p.setGameObject(a,F);E=F.sourceIndex}p.batchQuad(a,U[0],U[1],U[2],U[3],U[4],U[5],U[6],U[7],F.u0,F.v0,F.u1,F.v1,H,H,H,H,b,F.glTexture,W)&&(E=-1)}}h.pipelines.postBatch(a)}};r.exports=u},46590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(4327),f=new o({initialize:function(h,a,l,c,d){this.parent=h,this.x=a,this.y=l,this.frame=c,this.data={},this.tint=16777215,this._visible=d,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof m&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,h,a){return this.x=u,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(u,h){return this.x=u,this.y=h,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,h){return this.flipX=u,this.flipY=h,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});r.exports=f},16005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,h,a,l){return u===void 0&&(u=1),h===void 0?this.alpha=u:(this._alphaTL=o(u,0,1),this._alphaTR=o(h,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(l,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var h=o(u,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var h=o(u,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var h=o(u,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var h=o(u,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var h=o(u,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=m)}}};r.exports=f},88509:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var h=o(u,0,1);this._alpha=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}}};r.exports=f},90065:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=o[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};r.exports=m},94215:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};r.exports=T},61683:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(s,o,m,f){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,o,m,f,this.flipX,this.flipY);else{var u=s;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=T},89272:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),m={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&o.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&o.SendToBack(f,this),this},setAbove:function(f){var u=this.getDisplayList();return u&&f&&o.MoveAbove(u,this,f),this},setBelow:function(f){var u=this.getDisplayList();return u&&f&&o.MoveBelow(u,this,f),this}};r.exports=m},47059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(66064),f=s(19133),u=new o({initialize:function(a,l){this.gameObject=a,this.isPost=l,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,a=0;a<h.length;a++)h[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var a;if(this.isPost){var l=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(l)||(l=[l]),a=0;a<l.length;a++){var c=l[a];if(c.controller===h){this.gameObject.removePostPipeline(c),h.destroy();break}}}else{var d=this.list;for(a=0;a<d.length;a++)d[a]===h&&(f(d,a),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,a){if(this.isPost){var l=String(h.type);this.gameObject.setPostPipeline(l,a);var c=this.gameObject.getPostPipeline(l);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=h),h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,a,l,c,d,v){return this.add(new m.Glow(this.gameObject,h,a,l,c),{quality:d,distance:v})},addShadow:function(h,a,l,c,d,v,p){return this.add(new m.Shadow(this.gameObject,h,a,l,c,d,v,p))},addPixelate:function(h){return this.add(new m.Pixelate(this.gameObject,h))},addVignette:function(h,a,l,c){return this.add(new m.Vignette(this.gameObject,h,a,l,c))},addShine:function(h,a,l,c){return this.add(new m.Shine(this.gameObject,h,a,l,c))},addBlur:function(h,a,l,c,d,v){return this.add(new m.Blur(this.gameObject,h,a,l,c,d,v))},addGradient:function(h,a,l,c,d,v,p,g){return this.add(new m.Gradient(this.gameObject,h,a,l,c,d,v,p,g))},addBloom:function(h,a,l,c,d,v){return this.add(new m.Bloom(this.gameObject,h,a,l,c,d,v))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(h,a,l,c,d){return this.add(new m.Circle(this.gameObject,h,a,l,c,d))},addBarrel:function(h){return this.add(new m.Barrel(this.gameObject,h))},addDisplacement:function(h,a,l){return this.add(new m.Displacement(this.gameObject,h,a,l))},addWipe:function(h,a,l){return this.add(new m.Wipe(this.gameObject,h,a,l))},addReveal:function(h,a,l){return this.add(new m.Wipe(this.gameObject,h,a,l,!0))},addBokeh:function(h,a,l){return this.add(new m.Bokeh(this.gameObject,h,a,l))},addTiltShift:function(h,a,l,c,d,v){return this.add(new m.Bokeh(this.gameObject,h,a,l,!0,c,d,v))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=u},54434:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,o){return this.flipX=s,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=T},8004:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=s(11520),f=s(26099),u={prepareBoundsOutput:function(h,a){if(a===void 0&&(a=!1),this.rotation!==0&&m(h,this.x,this.y,this.rotation),a&&this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();l.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,a){return h===void 0&&(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getTopLeft:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopRight:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getLeftCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getRightCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getBottomLeft:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomCenter:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomRight:function(h,a){return h||(h=new f),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBounds:function(h){h===void 0&&(h=new o);var a,l,c,d,v,p,g,x;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),C.transformPoint(h.x,h.y,h),a=h.x,l=h.y,this.getTopRight(h),C.transformPoint(h.x,h.y,h),c=h.x,d=h.y,this.getBottomLeft(h),C.transformPoint(h.x,h.y,h),v=h.x,p=h.y,this.getBottomRight(h),C.transformPoint(h.x,h.y,h),g=h.x,x=h.y}else this.getTopLeft(h),a=h.x,l=h.y,this.getTopRight(h),c=h.x,d=h.y,this.getBottomLeft(h),v=h.x,p=h.y,this.getBottomRight(h),g=h.x,x=h.y;return h.x=Math.min(a,c,v,g),h.y=Math.min(l,d,p,x),h.width=Math.max(a,c,v,g)-h.x,h.height=Math.max(l,d,p,x)-h.y,h}};r.exports=u},8573:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6858),m=s(80661),f={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,h,a,l,c){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new o(this.scene,u,h,a,l,c)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new m(this.scene,u)}};r.exports=f},27387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,o){return s===void 0&&(s=.5),o===void 0&&(o=s),this.originX=s,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,o){return s===void 0&&(s=0),o===void 0&&(o=s),this.displayOriginX=s,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=T},37640:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),m=s(57355),f=s(35154),u=s(86353),h=s(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(l,c){c===void 0&&(c=this.pathConfig);var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this.path=l,c&&this.startFollow(c),this},setRotateToPath:function(l,c){return c===void 0&&(c=0),this.rotateToPath=l,this.pathRotationOffset=c,this},isFollowing:function(){var l=this.pathTween;return l&&l.isPlaying()},startFollow:function(l,c){l===void 0&&(l={}),c===void 0&&(c=0);var d=this.pathTween;d&&d.isPlaying()&&d.stop(),typeof l=="number"&&(l={duration:l}),l.from=f(l,"from",0),l.to=f(l,"to",1);var v=m(l,"positionOnPath",!1);this.rotateToPath=m(l,"rotateToPath",!1),this.pathRotationOffset=f(l,"rotationOffset",0);var p=f(l,"startAt",c);if(p&&(l.onStart=function(x){var C=x.data[0];C.progress=p,C.elapsed=C.duration*p;var P=C.ease(C.progress);C.current=C.start+(C.end-C.start)*P,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),l.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(l),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=l,this},pauseFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.pause(),this},resumeFollow:function(){var l=this.pathTween;return l&&l.isPaused()&&l.resume(),this},stopFollow:function(){var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this},pathUpdate:function(){var l=this.pathTween;if(l&&l.data){var c=l.data[0],d=this.pathDelta,v=this.pathVector;if(d.copy(v).negate(),c.state===u.COMPLETE){this.path.getPoint(c.end,v),d.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==u.PLAYING_FORWARD&&c.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(l.getValue(),v),d.add(v),v.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(v.x,v.y);var x=this.x-p,C=this.y-g;if(x===0&&C===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,x)+o(this.pathRotationOffset))}}};r.exports=a},72699:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var h=u.pipelines;if(h){f===void 0&&(f=h.default);var a=h.get(f);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(f,u,h){var a=this.scene.sys.renderer;if(!a)return this;var l=a.pipelines;if(l){var c=l.get(f);c&&(this.pipeline=c),u&&(this.pipelineData=h?o(u):u)}return this},setPipelineData:function(f,u){var h=this.pipelineData;return u===void 0?delete h[f]:h[f]=u,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};r.exports=m},17581:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),m=s(47059),f=s(19133),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),h&&(this.preFX=new m(this,!1))},setPostPipeline:function(h,a,l){var c=this.scene.sys.renderer;if(!c)return this;var d=c.pipelines;if(d){Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++){var p=d.getPostPipeline(h[v],this,a);p&&this.postPipelines.push(p)}a&&(this.postPipelineData=l?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,a){var l=this.postPipelineData;return a===void 0?delete l[h]:l[h]=a,this},getPostPipeline:function(h){for(var a=typeof h=="string",l=this.postPipelines,c=[],d=0;d<l.length;d++){var v=l[d];(a&&v.name===h||!a&&v instanceof h)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var a=this.postPipelines,l=0;l<a.length;l++)a[l].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var a=typeof h=="string",l=this.postPipelines,c=l.length-1;c>=0;c--){var d=l[c];(a&&d.name===h||!a&&d===h)&&(d.destroy(),f(l,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=u},80227:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,o){return o===void 0&&(o=s),this.scrollFactorX=s,this.scrollFactorY=o,this}};r.exports=T},16736:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(s,o){return this.width=s,this.height=o,this},setDisplaySize:function(s,o){return this.displayWidth=s,this.displayHeight=o,this}};r.exports=T},37726:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),m=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(u,h,a,l){return this.texture=this.scene.sys.textures.get(u),this.setFrame(h,a,l)},setFrame:function(u,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=f},79812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4327),m=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(u,h,a,l){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,h,a,l,this.flipX,this.flipY);else{var c=u;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,h){return this.texture=this.scene.sys.textures.get(u),this.setFrame(h)},setFrame:function(u,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),u instanceof o?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=f},27472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,o,m,f){return s===void 0&&(s=16777215),o===void 0&&(o=s,m=s,f=s),this.tintTopLeft=s,this.tintTopRight=o,this.tintBottomLeft=m,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(s,o,m,f){return this.setTint(s,o,m,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};r.exports=T},53774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(o.textureKey=s.texture.key,o.frameKey=s.frame.name),o};r.exports=T},16901:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(61340),f=s(85955),u=s(86554),h=s(30954),a=s(26099),l=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this._scaleX=d,this._scaleY=d,d===0?this.renderFlags&=~l:this.renderFlags|=l}},scaleX:{get:function(){return this._scaleX},set:function(d){this._scaleX=d,d===0?this.renderFlags&=~l:this._scaleY!==0&&(this.renderFlags|=l)}},scaleY:{get:function(){return this._scaleY},set:function(d){this._scaleY=d,d===0?this.renderFlags&=~l:this._scaleX!==0&&(this.renderFlags|=l)}},angle:{get:function(){return h(this._rotation*o.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=u(d)}},setPosition:function(d,v,p,g){return d===void 0&&(d=0),v===void 0&&(v=d),p===void 0&&(p=0),g===void 0&&(g=0),this.x=d,this.y=v,this.z=p,this.w=g,this},copyPosition:function(d){return d.x!==void 0&&(this.x=d.x),d.y!==void 0&&(this.y=d.y),d.z!==void 0&&(this.z=d.z),d.w!==void 0&&(this.w=d.w),this},setRandomPosition:function(d,v,p,g){return d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=d+Math.random()*p,this.y=v+Math.random()*g,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,this},setScale:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=d),this.scaleX=d,this.scaleY=v,this},setX:function(d){return d===void 0&&(d=0),this.x=d,this},setY:function(d){return d===void 0&&(d=0),this.y=d,this},setZ:function(d){return d===void 0&&(d=0),this.z=d,this},setW:function(d){return d===void 0&&(d=0),this.w=d,this},getLocalTransformMatrix:function(d){return d===void 0&&(d=new m),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(d,v){d===void 0&&(d=new m);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(d);var g=!1;for(v||(v=new m,g=!0),d.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)v.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),v.multiply(d,d),p=p.parentContainer;return g&&v.destroy(),d},getLocalPoint:function(d,v,p,g){p||(p=new a),g||(g=this.scene.sys.cameras.main);var x=g.scrollX,C=g.scrollY,P=d+x*this.scrollFactorX-x,w=v+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,w,p):f(P,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getWorldPoint:function(d,v,p){d===void 0&&(d=new a);var g=this.parentContainer;if(!g)return d.x=this.x,d.y=this.y,d;var x=this.getWorldTransformMatrix(v,p);return d.x=x.tx,d.y=x.ty,d},getParentRotation:function(){for(var d=0,v=this.parentContainer;v;)d+=v.rotation,v=v.parentContainer;return d}};r.exports=c},61340:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(36383),f=s(26099),u=new o({initialize:function(a,l,c,d,v,p){a===void 0&&(a=1),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=1),v===void 0&&(v=0),p===void 0&&(p=0),this.matrix=new Float32Array([a,l,c,d,v,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,a=h[0],l=h[1],c=h[2],d=h[3];return a||l?l>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||d?m.TAU-(d>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,a){var l=this.matrix;return l[4]=l[0]*h+l[2]*a+l[4],l[5]=l[1]*h+l[3]*a+l[5],this},scale:function(h,a){var l=this.matrix;return l[0]*=h,l[1]*=h,l[2]*=a,l[3]*=a,this},rotate:function(h){var a=Math.sin(h),l=Math.cos(h),c=this.matrix,d=c[0],v=c[1],p=c[2],g=c[3];return c[0]=d*l+p*a,c[1]=v*l+g*a,c[2]=d*-a+p*l,c[3]=v*-a+g*l,this},multiply:function(h,a){var l=this.matrix,c=h.matrix,d=l[0],v=l[1],p=l[2],g=l[3],x=l[4],C=l[5],P=c[0],w=c[1],E=c[2],b=c[3],O=c[4],M=c[5],A=a===void 0?l:a.matrix;return A[0]=P*d+w*p,A[1]=P*v+w*g,A[2]=E*d+b*p,A[3]=E*v+b*g,A[4]=O*d+M*p+x,A[5]=O*v+M*g+C,A},multiplyWithOffset:function(h,a,l){var c=this.matrix,d=h.matrix,v=c[0],p=c[1],g=c[2],x=c[3],C=c[4],P=c[5],w=a*v+l*g+C,E=a*p+l*x+P,b=d[0],O=d[1],M=d[2],A=d[3],F=d[4],R=d[5];return c[0]=b*v+O*g,c[1]=b*p+O*x,c[2]=M*v+A*g,c[3]=M*p+A*x,c[4]=F*v+R*g+w,c[5]=F*p+R*x+E,this},transform:function(h,a,l,c,d,v){var p=this.matrix,g=p[0],x=p[1],C=p[2],P=p[3],w=p[4],E=p[5];return p[0]=h*g+a*C,p[1]=h*x+a*P,p[2]=l*g+c*C,p[3]=l*x+c*P,p[4]=d*g+v*C+w,p[5]=d*x+v*P+E,this},transformPoint:function(h,a,l){l===void 0&&(l={x:0,y:0});var c=this.matrix,d=c[0],v=c[1],p=c[2],g=c[3],x=c[4],C=c[5];return l.x=h*d+a*p+x,l.y=h*v+a*g+C,l},invert:function(){var h=this.matrix,a=h[0],l=h[1],c=h[2],d=h[3],v=h[4],p=h[5],g=a*d-l*c;return h[0]=d/g,h[1]=-l/g,h[2]=-c/g,h[3]=a/g,h[4]=(c*p-d*v)/g,h[5]=-(a*p-l*v)/g,this},copyFrom:function(h){var a=this.matrix;return a[0]=h.a,a[1]=h.b,a[2]=h.c,a[3]=h.d,a[4]=h.e,a[5]=h.f,this},copyFromArray:function(h){var a=this.matrix;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],this},copyToContext:function(h){var a=this.matrix;return h.transform(a[0],a[1],a[2],a[3],a[4],a[5]),h},setToContext:function(h){return h.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),h},copyToArray:function(h){var a=this.matrix;return h===void 0?h=[a[0],a[1],a[2],a[3],a[4],a[5]]:(h[0]=a[0],h[1]=a[1],h[2]=a[2],h[3]=a[3],h[4]=a[4],h[5]=a[5]),h},setTransform:function(h,a,l,c,d,v){var p=this.matrix;return p[0]=h,p[1]=a,p[2]=l,p[3]=c,p[4]=d,p[5]=v,this},decomposeMatrix:function(){var h=this.decomposedMatrix,a=this.matrix,l=a[0],c=a[1],d=a[2],v=a[3],p=l*v-c*d;if(h.translateX=a[4],h.translateY=a[5],l||c){var g=Math.sqrt(l*l+c*c);h.rotation=c>0?Math.acos(l/g):-Math.acos(l/g),h.scaleX=g,h.scaleY=p/g}else if(d||v){var x=Math.sqrt(d*d+v*v);h.rotation=Math.PI*.5-(v>0?Math.acos(-d/x):-Math.acos(d/x)),h.scaleX=p/x,h.scaleY=x}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,a,l,c,d){var v=this.matrix,p=Math.sin(l),g=Math.cos(l);return v[4]=h,v[5]=a,v[0]=g*c,v[1]=p*c,v[2]=-p*d,v[3]=g*d,this},applyInverse:function(h,a,l){l===void 0&&(l=new f);var c=this.matrix,d=c[0],v=c[1],p=c[2],g=c[3],x=c[4],C=c[5],P=1/(d*g+p*-v);return l.x=g*P*h+-p*P*a+(C*p-x*g)*P,l.y=d*P*a+-v*P*h+(-C*d+x*v)*P,l},setQuad:function(h,a,l,c,d,v){d===void 0&&(d=!1),v===void 0&&(v=this.quad);var p=this.matrix,g=p[0],x=p[1],C=p[2],P=p[3],w=p[4],E=p[5],b=h*g+a*C+w,O=h*x+a*P+E,M=h*g+c*C+w,A=h*x+c*P+E,F=l*g+c*C+w,R=l*x+c*P+E,L=l*g+a*C+w,D=l*x+a*P+E;if(d){var I=Math.floor(b+.5),z=Math.floor(O+.5),U=I-b,H=z-O;v[0]=I,v[1]=z,v[2]=M+U,v[3]=A+H,v[4]=F+U,v[5]=R+H,v[6]=L+U,v[7]=D+H}else v[0]=b,v[1]=O,v[2]=M,v[3]=A,v[4]=F,v[5]=R,v[6]=L,v[7]=D;return v},getX:function(h,a){return h*this.a+a*this.c+this.e},getY:function(h,a){return h*this.b+a*this.d+this.f},getXRound:function(h,a,l){var c=this.getX(h,a);return l&&(c=Math.floor(c+.5)),c},getYRound:function(h,a,l){var c=this.getY(h,a);return l&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=u},59715:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(o){return this.visible=o,this}};r.exports=s},31401:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),m=s(10312),f=s(83419),u=s(31401),h=s(51708),a=s(95643),l=s(87841),c=s(29959),d=s(36899),v=s(26099),p=new u.TransformMatrix,g=new f({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,c],initialize:function(C,P,w,E){a.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(P,w),this.setBlendMode(m.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new l),x.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),P=C.transformPoint(this.x,this.y);x.setTo(P.x,P.y,0,0)}if(this.list.length>0){var w=this.list,E=new l,b=!1;x.setEmpty();for(var O=0;O<w.length;O++){var M=w[O];M.getBounds&&(M.getBounds(E),b?d(E,x,x):(x.setTo(E.x,E.y,E.width,E.height),b=!0))}}return x},addHandler:function(x){x.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(h.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,C){C===void 0&&(C=new v),this.parentContainer?this.parentContainer.pointToContainer(x,C):(C.x=x.x,C.y=x.y);var P=p;return P.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),P.invert(),P.transformPoint(x.x,x.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(p,this.localTransform)},add:function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,C){return o.AddAt(this.list,x,C,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,C){return x?(C===void 0&&(C=function(P,w){return P[x]-w[x]}),o.StableSort(this.list,C),this):this},getByName:function(x){return o.GetFirst(this.list,"name",x)},getRandom:function(x,C){return o.GetRandom(this.list,x,C)},getFirst:function(x,C,P,w){return o.GetFirst(this.list,x,C,P,w)},getAll:function(x,C,P,w){return o.GetAll(this.list,x,C,P,w)},count:function(x,C,P,w){return o.CountAllMatching(this.list,x,C,P,w)},swap:function(x,C){return o.Swap(this.list,x,C),this},moveTo:function(x,C){return o.MoveTo(this.list,x,C),this},moveAbove:function(x,C){return o.MoveAbove(this.list,x,C),this},moveBelow:function(x,C){return o.MoveBelow(this.list,x,C),this},remove:function(x,C){var P=o.Remove(this.list,x,this.removeHandler,this);if(C&&P){Array.isArray(P)||(P=[P]);for(var w=0;w<P.length;w++)P[w].destroy()}return this},removeAt:function(x,C){var P=o.RemoveAt(this.list,x,this.removeHandler,this);return C&&P&&P.destroy(),this},removeBetween:function(x,C,P){var w=o.RemoveBetween(this.list,x,C,this.removeHandler,this);if(P)for(var E=0;E<w.length;E++)w[E].destroy();return this},removeAll:function(x){var C=this.list;if(x){for(var P=0;P<C.length;P++)C[P]&&C[P].scene&&(C[P].off(h.DESTROY,this.onChildDestroyed,this),C[P].destroy());this.list=[]}else o.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(x){return o.BringToTop(this.list,x),this},sendToBack:function(x){return o.SendToBack(this.list,x),this},moveUp:function(x){return o.MoveUp(this.list,x),this},moveDown:function(x){return o.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(x,C,P){var w=o.Replace(this.list,x,C);return w&&(this.addHandler(C),this.removeHandler(x),P&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,C,P,w){return o.SetAll(this.list,x,C,P,w),this},each:function(x,C){var P=[null],w,E=this.list.slice(),b=E.length;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<b;w++)P[0]=E[w],x.apply(C,P);return this},iterate:function(x,C){var P=[null],w;for(w=2;w<arguments.length;w++)P.push(arguments[w]);for(w=0;w<this.list.length;w++)P[0]=this.list[w],x.apply(C,P);return this},setScrollFactor:function(x,C,P){return C===void 0&&(C=x),P===void 0&&(P=!1),this.scrollFactorX=x,this.scrollFactorY=C,P&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});r.exports=g},53584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o);var u=o.list;if(u.length!==0){var h=o.localTransform;f?(h.loadIdentity(),h.multiply(f),h.translate(o.x,o.y),h.rotate(o.rotation),h.scale(o.scaleX,o.scaleY)):h.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||s.setBlendMode(0);var l=o._alpha,c=o.scrollFactorX,d=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(s,null,m);for(var v=0;v<u.length;v++){var p=u[v];if(p.willRender(m)){var g=p.alpha,x=p.scrollFactorX,C=p.scrollFactorY;!a&&p.blendMode!==s.currentBlendMode&&s.setBlendMode(p.blendMode),p.setScrollFactor(x*c,C*d),p.setAlpha(g*l),p.renderCanvas(s,p,m,h),p.setAlpha(g),p.setScrollFactor(x,C)}}o.mask&&o.mask.postRenderCanvas(s)}};r.exports=T},77143:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(31559),f=s(44603),u=s(23568),h=s(95540);f.register("container",function(a,l){a===void 0&&(a={});var c=u(a,"x",0),d=u(a,"y",0),v=h(a,"children",null),p=new m(this.scene,c,d,v);return l!==void 0&&(a.add=l),o(this.scene,p,a),p})},24961:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31559),m=s(39429);m.register("container",function(f,u,h){return this.displayList.add(new o(this.scene,f,u,h))})},29959:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(72249),f=s(53584),r.exports={renderWebGL:m,renderCanvas:f}},72249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o);var u=o.list,h=u.length;if(h!==0){var a=o.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),s.pipelines.preBatch(o);var l=o.blendMode!==-1;l||s.setBlendMode(0);for(var c=o.alpha,d=o.scrollFactorX,v=o.scrollFactorY,p=0;p<h;p++){var g=u[p];if(g.willRender(m)){var x,C,P,w;if(g.alphaTopLeft!==void 0)x=g.alphaTopLeft,C=g.alphaTopRight,P=g.alphaBottomLeft,w=g.alphaBottomRight;else{var E=g.alpha;x=E,C=E,P=E,w=E}var b=g.scrollFactorX,O=g.scrollFactorY;!l&&g.blendMode!==s.currentBlendMode&&s.setBlendMode(g.blendMode);var M=g.mask;M&&M.preRenderWebGL(s,g,m);var A=g.type;A!==s.currentType&&(s.newType=!0,s.currentType=A),s.nextTypeMatch=p<h-1?u[p+1].type===s.currentType:!1,g.setScrollFactor(b*d,O*v),g.setAlpha(x*c,C*c,P*c,w*c),g.renderWebGL(s,g,m,a,o),g.setAlpha(x,C,P,w),g.setScrollFactor(b,O),M&&M.postRenderWebGL(s,m),s.newType=!1}}s.pipelines.postBatch(o)}};r.exports=T},47407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(441),u=s(95643),h=s(41212),a=s(35846),l=s(44594),c=s(61369),d=new o({Extends:u,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,f],initialize:function(p,g,x,C,P,w){if(u.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,x),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),P,w):this.createElement(C,P,w):C&&this.setElement(C,P,w),p.sys.events.on(l.SLEEP,this.handleSceneEvent,this),p.sys.events.on(l.WAKE,this.handleSceneEvent,this),p.sys.events.on(l.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var p=this.node,g=p.style;p&&(g.display=v.settings.visible?"block":"none")},setSkew:function(v,p){return v===void 0&&(v=0),p===void 0&&(p=v),this.skewX=v,this.skewY=p,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.addEventListener(v[p],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.removeEventListener(v[p],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,p,g){return this.setElement(document.createElement(v),p,g)},setElement:function(v,p,g){this.removeElement();var x;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),x=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(x=v),!x)return this;if(this.node=x,p&&h(p))for(var C in p)x.style[C]=p[C];else typeof p=="string"&&(x.style=p);return x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent.appendChild(x),g&&(x.innerText=g),this.updateSize()},createFromCache:function(v,p){var g=this.cache.get(v);return g&&this.createFromHTML(g,p),this},createFromHTML:function(v,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent.appendChild(g),g.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,p){if(this.node){for(var g=this.node.querySelectorAll("*"),x=0;x<g.length;x++)if(g[x][v]===p)return g[x]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,p=this.node;p&&v&&!v.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(l.PRE_RENDER,this.preRender,this)}});r.exports=d},49381:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(47407),m=s(95643),f=s(61340),u=new f,h=new f,a=new f,l=function(c,d,v,p){if(d.node){var g=d.node.style,x=d.scene.sys.settings;if(!g||!x.visible||m.RENDER_MASK!==d.renderFlags||d.cameraFilter!==0&&d.cameraFilter&v.id||d.parentContainer&&!d.parentContainer.willRender()){g.display="none";return}var C=d.parentContainer,P=v.alpha*d.alpha;C&&(P*=C.alpha);var w=u,E=h,b=a,O=0,M=0,A="0%",F="0%";p?(O=d.width*d.scaleX*d.originX,M=d.height*d.scaleY*d.originY,E.applyITRS(d.x-O,d.y-M,d.rotation,d.scaleX,d.scaleY),w.copyFrom(v.matrix),w.multiplyWithOffset(p,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),E.e=d.x-O,E.f=d.y-M,w.multiply(E,b)):(O=d.width*d.originX,M=d.height*d.originY,E.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),w.copyFrom(v.matrix),A=100*d.originX+"%",F=100*d.originY+"%",E.e-=v.scrollX*d.scrollFactorX,E.f-=v.scrollY*d.scrollFactorY,w.multiply(E,b),b.e-=O,b.f-=M),d.transformOnly||(g.display="block",g.opacity=P,g.zIndex=d._depth,g.pointerEvents=d.pointerEvents,g.mixBlendMode=o[d._blendMode]),g.transform=b.getCSSMatrix()+" skew("+d.skewX+"rad, "+d.skewY+"rad) rotate3d("+d.rotate3d.x+","+d.rotate3d.y+","+d.rotate3d.z+","+d.rotate3d.w+d.rotate3dAngle+")",g.transformOrigin=A+" "+F}};r.exports=l},2611:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3069),m=s(39429);m.register("dom",function(f,u,h,a,l){var c=new o(this.scene,f,u,h,a,l);return this.displayList.add(c),c})},441:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(49381),f=s(49381),r.exports={renderWebGL:m,renderCanvas:f}},62980:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},41337:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},44947:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},49358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},35163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"},97249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"},19483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"},56059:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},26772:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="metadata"},64437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"},83411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},75780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"},67799:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"},63500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"},55541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},53208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"},4992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},12:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"},51708:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(64993),h=new o({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,u],initialize:function(l){f.call(this,l,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=h},70217:()=>{},56315:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42421),m=s(39429);m.register("extern",function(){var f=new o(this.scene);return this.displayList.add(f),f})},64993:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(80287),f=s(70217),r.exports={renderWebGL:m,renderCanvas:f}},80287:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=function(f,u,h,a){f.pipelines.clear();var l=o(u,h,a).calc;u.render.call(u,f,h,l),f.pipelines.rebind()};r.exports=m},85592:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71911),m=s(83419),f=s(85592),u=s(31401),h=s(8497),a=s(95643),l=s(95540),c=s(35154),d=s(36383),v=s(84503),p=new m({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,v],initialize:function(x,C){var P=c(C,"x",0),w=c(C,"y",0);a.call(this,x,"Graphics"),this.setPosition(P,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(g){return c(g,"lineStyle",null)&&(this.defaultStrokeWidth=c(g,"lineStyle.width",1),this.defaultStrokeColor=c(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(g,"fillStyle",null)&&(this.defaultFillColor=c(g,"fillStyle.color",16777215),this.defaultFillAlpha=c(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,x,C){return C===void 0&&(C=1),this.commandBuffer.push(f.LINE_STYLE,g,x,C),this._lineWidth=g,this},fillStyle:function(g,x){return x===void 0&&(x=1),this.commandBuffer.push(f.FILL_STYLE,g,x),this},fillGradientStyle:function(g,x,C,P,w,E,b,O){return w===void 0&&(w=1),E===void 0&&(E=w),b===void 0&&(b=w),O===void 0&&(O=w),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,w,E,b,O,g,x,C,P),this},lineGradientStyle:function(g,x,C,P,w,E){return E===void 0&&(E=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,g,E,x,C,P,w),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,x,C){return this.beginPath(),this.arc(g,x,C,0,d.PI2),this.fillPath(),this},strokeCircle:function(g,x,C){return this.beginPath(),this.arc(g,x,C,0,d.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,x,C,P){return this.commandBuffer.push(f.FILL_RECT,g,x,C,P),this},strokeRect:function(g,x,C,P){var w=this._lineWidth/2,E=g-w,b=g+w;return this.beginPath(),this.moveTo(g,x),this.lineTo(g,x+P),this.strokePath(),this.beginPath(),this.moveTo(g+C,x),this.lineTo(g+C,x+P),this.strokePath(),this.beginPath(),this.moveTo(E,x),this.lineTo(b+C,x),this.strokePath(),this.beginPath(),this.moveTo(E,x+P),this.lineTo(b+C,x+P),this.strokePath(),this},fillRoundedRect:function(g,x,C,P,w){w===void 0&&(w=20);var E=w,b=w,O=w,M=w;typeof w!="number"&&(E=l(w,"tl",20),b=l(w,"tr",20),O=l(w,"bl",20),M=l(w,"br",20));var A=E>=0,F=b>=0,R=O>=0,L=M>=0;return E=Math.abs(E),b=Math.abs(b),O=Math.abs(O),M=Math.abs(M),this.beginPath(),this.moveTo(g+E,x),this.lineTo(g+C-b,x),F?this.arc(g+C-b,x+b,b,-d.TAU,0):this.arc(g+C,x,b,Math.PI,d.TAU,!0),this.lineTo(g+C,x+P-M),L?this.arc(g+C-M,x+P-M,M,0,d.TAU):this.arc(g+C,x+P,M,-d.TAU,Math.PI,!0),this.lineTo(g+O,x+P),R?this.arc(g+O,x+P-O,O,d.TAU,Math.PI):this.arc(g,x+P,O,0,-d.TAU,!0),this.lineTo(g,x+E),A?this.arc(g+E,x+E,E,-Math.PI,-d.TAU):this.arc(g,x,E,d.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,x,C,P,w){w===void 0&&(w=20);var E=w,b=w,O=w,M=w,A=Math.min(C,P)/2;typeof w!="number"&&(E=l(w,"tl",20),b=l(w,"tr",20),O=l(w,"bl",20),M=l(w,"br",20));var F=E>=0,R=b>=0,L=O>=0,D=M>=0;return E=Math.min(Math.abs(E),A),b=Math.min(Math.abs(b),A),O=Math.min(Math.abs(O),A),M=Math.min(Math.abs(M),A),this.beginPath(),this.moveTo(g+E,x),this.lineTo(g+C-b,x),this.moveTo(g+C-b,x),R?this.arc(g+C-b,x+b,b,-d.TAU,0):this.arc(g+C,x,b,Math.PI,d.TAU,!0),this.lineTo(g+C,x+P-M),this.moveTo(g+C,x+P-M),D?this.arc(g+C-M,x+P-M,M,0,d.TAU):this.arc(g+C,x+P,M,-d.TAU,Math.PI,!0),this.lineTo(g+O,x+P),this.moveTo(g+O,x+P),L?this.arc(g+O,x+P-O,O,d.TAU,Math.PI):this.arc(g,x+P,O,0,-d.TAU,!0),this.lineTo(g,x+E),this.moveTo(g,x+E),F?this.arc(g+E,x+E,E,-Math.PI,-d.TAU):this.arc(g,x,E,d.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,x){return this.fillPoint(g.x,g.y,x)},fillPoint:function(g,x,C){return!C||C<1?C=1:(g-=C/2,x-=C/2),this.commandBuffer.push(f.FILL_RECT,g,x,C,C),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,x,C,P,w,E){return this.commandBuffer.push(f.FILL_TRIANGLE,g,x,C,P,w,E),this},strokeTriangle:function(g,x,C,P,w,E){return this.commandBuffer.push(f.STROKE_TRIANGLE,g,x,C,P,w,E),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,x,C,P){return this.beginPath(),this.moveTo(g,x),this.lineTo(C,P),this.strokePath(),this},lineTo:function(g,x){return this.commandBuffer.push(f.LINE_TO,g,x),this},moveTo:function(g,x){return this.commandBuffer.push(f.MOVE_TO,g,x),this},strokePoints:function(g,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var w=1;w<P;w++)this.lineTo(g[w].x,g[w].y);return x&&this.lineTo(g[0].x,g[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(g,x,C,P){x===void 0&&(x=!1),C===void 0&&(C=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var w=1;w<P;w++)this.lineTo(g[w].x,g[w].y);return x&&this.lineTo(g[0].x,g[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,x){x===void 0&&(x=32);var C=g.getPoints(x);return this.strokePoints(C,!0)},strokeEllipse:function(g,x,C,P,w){w===void 0&&(w=32);var E=new h(g,x,C,P),b=E.getPoints(w);return this.strokePoints(b,!0)},fillEllipseShape:function(g,x){x===void 0&&(x=32);var C=g.getPoints(x);return this.fillPoints(C,!0)},fillEllipse:function(g,x,C,P,w){w===void 0&&(w=32);var E=new h(g,x,C,P),b=E.getPoints(w);return this.fillPoints(b,!0)},arc:function(g,x,C,P,w,E,b){return E===void 0&&(E=!1),b===void 0&&(b=0),this.commandBuffer.push(f.ARC,g,x,C,P,w,E,b),this},slice:function(g,x,C,P,w,E,b){return E===void 0&&(E=!1),b===void 0&&(b=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,g,x),this.commandBuffer.push(f.ARC,g,x,C,P,w,E,b),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(g,x){return this.commandBuffer.push(f.TRANSLATE,g,x),this},scaleCanvas:function(g,x){return this.commandBuffer.push(f.SCALE,g,x),this},rotateCanvas:function(g){return this.commandBuffer.push(f.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,x,C){var P=this.scene.sys,w=P.game.renderer;x===void 0&&(x=P.scale.width),C===void 0&&(C=P.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,x,C),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var E,b,O={willReadFrequently:!0};if(typeof g=="string")if(P.textures.exists(g)){E=P.textures.get(g);var M=E.getSourceImage();M instanceof HTMLCanvasElement&&(b=M.getContext("2d",O))}else E=P.textures.createCanvas(g,x,C),b=E.getSourceImage().getContext("2d",O);else g instanceof HTMLCanvasElement&&(b=g.getContext("2d",O));return b&&(this.renderCanvas(w,this,p.TargetCamera,null,b,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new o,r.exports=p},32768:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),m=s(20926),f=function(u,h,a,l,c,d){var v=h.commandBuffer,p=v.length,g=c||u.currentContext;if(!(p===0||!m(u,g,h,a,l))){a.addToRenderList(h);var x=1,C=1,P=0,w=0,E=1,b=0,O=0,M=0;g.beginPath();for(var A=0;A<p;++A){var F=v[A];switch(F){case o.ARC:g.arc(v[A+1],v[A+2],v[A+3],v[A+4],v[A+5],v[A+6]),A+=7;break;case o.LINE_STYLE:E=v[A+1],P=v[A+2],x=v[A+3],b=(P&16711680)>>>16,O=(P&65280)>>>8,M=P&255,g.strokeStyle="rgba("+b+","+O+","+M+","+x+")",g.lineWidth=E,A+=3;break;case o.FILL_STYLE:w=v[A+1],C=v[A+2],b=(w&16711680)>>>16,O=(w&65280)>>>8,M=w&255,g.fillStyle="rgba("+b+","+O+","+M+","+C+")",A+=2;break;case o.BEGIN_PATH:g.beginPath();break;case o.CLOSE_PATH:g.closePath();break;case o.FILL_PATH:d||g.fill();break;case o.STROKE_PATH:d||g.stroke();break;case o.FILL_RECT:d?g.rect(v[A+1],v[A+2],v[A+3],v[A+4]):g.fillRect(v[A+1],v[A+2],v[A+3],v[A+4]),A+=4;break;case o.FILL_TRIANGLE:g.beginPath(),g.moveTo(v[A+1],v[A+2]),g.lineTo(v[A+3],v[A+4]),g.lineTo(v[A+5],v[A+6]),g.closePath(),d||g.fill(),A+=6;break;case o.STROKE_TRIANGLE:g.beginPath(),g.moveTo(v[A+1],v[A+2]),g.lineTo(v[A+3],v[A+4]),g.lineTo(v[A+5],v[A+6]),g.closePath(),d||g.stroke(),A+=6;break;case o.LINE_TO:g.lineTo(v[A+1],v[A+2]),A+=2;break;case o.MOVE_TO:g.moveTo(v[A+1],v[A+2]),A+=2;break;case o.LINE_FX_TO:g.lineTo(v[A+1],v[A+2]),A+=5;break;case o.MOVE_FX_TO:g.moveTo(v[A+1],v[A+2]),A+=5;break;case o.SAVE:g.save();break;case o.RESTORE:g.restore();break;case o.TRANSLATE:g.translate(v[A+1],v[A+2]),A+=2;break;case o.SCALE:g.scale(v[A+1],v[A+2]),A+=2;break;case o.ROTATE:g.rotate(v[A+1]),A+=1;break;case o.GRADIENT_FILL_STYLE:A+=5;break;case o.GRADIENT_LINE_STYLE:A+=6;break}}g.restore()}};r.exports=f},87079:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),m=s(43831);o.register("graphics",function(f,u){f===void 0&&(f={}),u!==void 0&&(f.add=u);var h=new m(this.scene,f);return f.add&&this.scene.sys.displayList.add(h),h})},1201:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43831),m=s(39429);m.register("graphics",function(f){return this.displayList.add(new o(this.scene,f))})},84503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(77545),f=s(32768),f=s(32768),r.exports={renderWebGL:m,renderCanvas:f}},77545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85592),m=s(91296),f=s(61340),u=s(70554),h=function(v,p,g){this.x=v,this.y=p,this.width=g},a=function(v,p,g){this.points=[],this.pointsLength=1,this.points[0]=new h(v,p,g)},l=[],c=new f,d=function(v,p,g,x){if(p.commandBuffer.length!==0){g.addToRenderList(p);var C=v.pipelines.set(p.pipeline,p);v.pipelines.preBatch(p);for(var P=m(p,g,x).calc,w=c.loadIdentity(),E=p.commandBuffer,b=g.alpha*p.alpha,O=1,M=C.fillTint,A=C.strokeTint,F=0,R=0,L=0,D=.01,I=Math.PI*2,z,U=[],H=0,W=!0,N=null,X=u.getTintAppendFloatAlpha,B=0;B<E.length;B++)switch(z=E[B],z){case o.BEGIN_PATH:{U.length=0,N=null,W=!0;break}case o.CLOSE_PATH:{W=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case o.FILL_PATH:{for(H=0;H<U.length;H++)C.batchFillPath(U[H].points,w,P);break}case o.STROKE_PATH:{for(H=0;H<U.length;H++)C.batchStrokePath(U[H].points,O,W,w,P);break}case o.LINE_STYLE:{O=E[++B];var V=E[++B],k=E[++B]*b,j=X(V,k);A.TL=j,A.TR=j,A.BL=j,A.BR=j;break}case o.FILL_STYLE:{var $=E[++B],J=E[++B]*b,Z=X($,J);M.TL=Z,M.TR=Z,M.BL=Z,M.BR=Z;break}case o.GRADIENT_FILL_STYLE:{var _=E[++B]*b,it=E[++B]*b,at=E[++B]*b,st=E[++B]*b;M.TL=X(E[++B],_),M.TR=X(E[++B],it),M.BL=X(E[++B],at),M.BR=X(E[++B],st);break}case o.GRADIENT_LINE_STYLE:{O=E[++B];var ft=E[++B]*b;A.TL=X(E[++B],ft),A.TR=X(E[++B],ft),A.BL=X(E[++B],ft),A.BR=X(E[++B],ft);break}case o.ARC:{var ct=0,ut=E[++B],Et=E[++B],Mt=E[++B],At=E[++B],vt=E[++B],Ct=E[++B],St=E[++B];for(vt-=At,Ct?vt<-I?vt=-I:vt>0&&(vt=-I+vt%I):vt>I?vt=I:vt<0&&(vt=I+vt%I),N===null&&(N=new a(ut+Math.cos(At)*Mt,Et+Math.sin(At)*Mt,O),U.push(N),ct+=D);ct<1+St;)L=vt*ct+At,F=ut+Math.cos(L)*Mt,R=Et+Math.sin(L)*Mt,N.points.push(new h(F,R,O)),ct+=D;L=vt+At,F=ut+Math.cos(L)*Mt,R=Et+Math.sin(L)*Mt,N.points.push(new h(F,R,O));break}case o.FILL_RECT:{C.batchFillRect(E[++B],E[++B],E[++B],E[++B],w,P);break}case o.FILL_TRIANGLE:{C.batchFillTriangle(E[++B],E[++B],E[++B],E[++B],E[++B],E[++B],w,P);break}case o.STROKE_TRIANGLE:{C.batchStrokeTriangle(E[++B],E[++B],E[++B],E[++B],E[++B],E[++B],O,w,P);break}case o.LINE_TO:{N!==null?N.points.push(new h(E[++B],E[++B],O)):(N=new a(E[++B],E[++B],O),U.push(N));break}case o.MOVE_TO:{N=new a(E[++B],E[++B],O),U.push(N);break}case o.SAVE:{l.push(w.copyToArray());break}case o.RESTORE:{w.copyFromArray(l.pop());break}case o.TRANSLATE:{ut=E[++B],Et=E[++B],w.translate(ut,Et);break}case o.SCALE:{ut=E[++B],Et=E[++B],w.scale(ut,Et);break}case o.ROTATE:{w.rotate(E[++B]);break}}v.pipelines.postBatch(p)}};r.exports=d},26479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61061),m=s(83419),f=s(51708),u=s(50792),h=s(46710),a=s(95540),l=s(35154),c=s(97022),d=s(41212),v=s(88492),p=s(35072),g=s(68287),x=new m({Extends:u,initialize:function(P,w,E){u.call(this),E?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?d(w[0])&&(E=w,w=null):d(w)&&(E=w,w=null),this.scene=P,this.children=new p,this.isParent=!0,this.type="Group",this.classType=a(E,"classType",g),this.name=a(E,"name",""),this.active=a(E,"active",!0),this.maxSize=a(E,"maxSize",-1),this.defaultKey=a(E,"defaultKey",null),this.defaultFrame=a(E,"defaultFrame",null),this.runChildUpdate=a(E,"runChildUpdate",!1),this.createCallback=a(E,"createCallback",null),this.removeCallback=a(E,"removeCallback",null),this.createMultipleCallback=a(E,"createMultipleCallback",null),this.internalCreateCallback=a(E,"internalCreateCallback",null),this.internalRemoveCallback=a(E,"internalRemoveCallback",null),w&&this.addMultiple(w),E&&this.createMultiple(E),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,P,w,E,b,O){if(C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=this.defaultKey),E===void 0&&(E=this.defaultFrame),b===void 0&&(b=!0),O===void 0&&(O=!0),this.isFull())return null;var M=new this.classType(this.scene,C,P,w,E);return M.addToDisplayList(this.scene.sys.displayList),M.addToUpdateList(),M.visible=b,M.setActive(O),this.add(M),M},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var P=[];if(C[0].key)for(var w=0;w<C.length;w++){var E=this.createFromConfig(C[w]);P=P.concat(E)}return P},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var P=a(C,"key",void 0),w=a(C,"frame",null),E=a(C,"visible",!0),b=a(C,"active",!0),O=[];if(P===void 0)return O;Array.isArray(P)||(P=[P]),Array.isArray(w)||(w=[w]);var M=a(C,"repeat",0),A=a(C,"randomKey",!1),F=a(C,"randomFrame",!1),R=a(C,"yoyo",!1),L=a(C,"quantity",!1),D=a(C,"frameQuantity",1),I=a(C,"max",0),z=v(P,w,{max:I,qty:L||D,random:A,randomB:F,repeat:M,yoyo:R});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var U=0;U<z.length;U++){var H=this.create(0,0,z[U].a,z[U].b,E,b);if(!H)break;O.push(H)}if(c(C,"setXY")){var W=l(C,"setXY.x",0),N=l(C,"setXY.y",0),X=l(C,"setXY.stepX",0),B=l(C,"setXY.stepY",0);o.SetXY(O,W,N,X,B)}if(c(C,"setRotation")){var V=l(C,"setRotation.value",0),k=l(C,"setRotation.step",0);o.SetRotation(O,V,k)}if(c(C,"setScale")){var j=l(C,"setScale.x",1),$=l(C,"setScale.y",j),J=l(C,"setScale.stepX",0),Z=l(C,"setScale.stepY",0);o.SetScale(O,j,$,J,Z)}if(c(C,"setOrigin")){var _=l(C,"setOrigin.x",.5),it=l(C,"setOrigin.y",_),at=l(C,"setOrigin.stepX",0),st=l(C,"setOrigin.stepY",0);o.SetOrigin(O,_,it,at,st)}if(c(C,"setAlpha")){var ft=l(C,"setAlpha.value",1),ct=l(C,"setAlpha.step",0);o.SetAlpha(O,ft,ct)}if(c(C,"setDepth")){var ut=l(C,"setDepth.value",0),Et=l(C,"setDepth.step",0);o.SetDepth(O,ut,Et)}if(c(C,"setScrollFactor")){var Mt=l(C,"setScrollFactor.x",1),At=l(C,"setScrollFactor.y",Mt),vt=l(C,"setScrollFactor.stepX",0),Ct=l(C,"setScrollFactor.stepY",0);o.SetScrollFactor(O,Mt,At,vt,Ct)}var St=a(C,"hitArea",null),kt=a(C,"hitAreaCallback",null);St&&o.SetHitArea(O,St,kt);var Ht=a(C,"gridAlign",!1);return Ht&&o.GridAlign(O,Ht),this.createMultipleCallback&&this.createMultipleCallback.call(this,O),O},preUpdate:function(C,P){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),E=0;E<w.length;E++){var b=w[E];b.active&&b.update(C,P)}},add:function(C,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),P&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(f.DESTROY,this.remove,this),this)},addMultiple:function(C,P){if(P===void 0&&(P=!1),Array.isArray(C))for(var w=0;w<C.length;w++)this.add(C[w],P);return this},remove:function(C,P,w){return P===void 0&&(P=!1),w===void 0&&(w=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(f.DESTROY,this.remove,this),w?C.destroy():P&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1);for(var w=this.children,E=0;E<w.size;E++){var b=w.entries[E];b.off(f.DESTROY,this.remove,this),P?b.destroy():C&&(b.removeFromDisplayList(),b.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,P,w,E){return h(this.children.entries,C,P,w,E)},getFirst:function(C,P,w,E,b,O,M){return this.getHandler(!0,1,C,P,w,E,b,O,M)},getFirstNth:function(C,P,w,E,b,O,M,A){return this.getHandler(!0,C,P,w,E,b,O,M,A)},getLast:function(C,P,w,E,b,O,M){return this.getHandler(!1,1,C,P,w,E,b,O,M)},getLastNth:function(C,P,w,E,b,O,M,A){return this.getHandler(!1,C,P,w,E,b,O,M,A)},getHandler:function(C,P,w,E,b,O,M,A,F){w===void 0&&(w=!1),E===void 0&&(E=!1);var R,L,D=0,I=this.children.entries;if(C)for(L=0;L<I.length;L++)if(R=I[L],R.active===w){if(D++,D===P)break}else R=null;else for(L=I.length-1;L>=0;L--)if(R=I[L],R.active===w){if(D++,D===P)break}else R=null;return R?(typeof b=="number"&&(R.x=b),typeof O=="number"&&(R.y=O),R):E?this.create(b,O,M,A,F):null},get:function(C,P,w,E,b){return this.getFirst(!1,!0,C,P,w,E,b)},getFirstAlive:function(C,P,w,E,b,O){return this.getFirst(!0,C,P,w,E,b,O)},getFirstDead:function(C,P,w,E,b,O){return this.getFirst(!1,C,P,w,E,b,O)},playAnimation:function(C,P){return o.PlayAnimation(this.children.entries,C,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var P=0,w=0;w<this.children.size;w++)this.children.entries[w].active===C&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,P,w,E,b){return o.PropertyValueSet(this.children.entries,C,P,w,E,b),this},propertyValueInc:function(C,P,w,E,b){return o.PropertyValueInc(this.children.entries,C,P,w,E,b),this},setX:function(C,P){return o.SetX(this.children.entries,C,P),this},setY:function(C,P){return o.SetY(this.children.entries,C,P),this},setXY:function(C,P,w,E){return o.SetXY(this.children.entries,C,P,w,E),this},incX:function(C,P){return o.IncX(this.children.entries,C,P),this},incY:function(C,P){return o.IncY(this.children.entries,C,P),this},incXY:function(C,P,w,E){return o.IncXY(this.children.entries,C,P,w,E),this},shiftPosition:function(C,P,w){return o.ShiftPosition(this.children.entries,C,P,w),this},angle:function(C,P){return o.Angle(this.children.entries,C,P),this},rotate:function(C,P){return o.Rotate(this.children.entries,C,P),this},rotateAround:function(C,P){return o.RotateAround(this.children.entries,C,P),this},rotateAroundDistance:function(C,P,w){return o.RotateAroundDistance(this.children.entries,C,P,w),this},setAlpha:function(C,P){return o.SetAlpha(this.children.entries,C,P),this},setTint:function(C,P,w,E){return o.SetTint(this.children.entries,C,P,w,E),this},setOrigin:function(C,P,w,E){return o.SetOrigin(this.children.entries,C,P,w,E),this},scaleX:function(C,P){return o.ScaleX(this.children.entries,C,P),this},scaleY:function(C,P){return o.ScaleY(this.children.entries,C,P),this},scaleXY:function(C,P,w,E){return o.ScaleXY(this.children.entries,C,P,w,E),this},setDepth:function(C,P){return o.SetDepth(this.children.entries,C,P),this},setBlendMode:function(C){return o.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,P){return o.SetHitArea(this.children.entries,C,P),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,P,w){return o.SetVisible(this.children.entries,C,P,w),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(C,P){C===void 0&&(C=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,C),this.scene=void 0,this.children=void 0)}});r.exports=x},94975:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),m=s(26479);o.register("group",function(f){return new m(this.scene,null,f)})},3385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26479),m=s(39429);m.register("group",function(f,u){return this.updateList.add(new o(this.scene,f,u))})},88571:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(59819),h=new o({Extends:f,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,u],initialize:function(l,c,d,v,p){f.call(this,l,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setPosition(c,d),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=h},40652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o),s.batchSprite(o,o.frame,m,f)};r.exports=T},82459:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(88571);m.register("image",function(h,a){h===void 0&&(h={});var l=f(h,"key",null),c=f(h,"frame",null),d=new u(this.scene,0,0,l,c);return a!==void 0&&(h.add=a),o(this.scene,d,h),d})},2117:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(88571),m=s(39429);m.register("image",function(f,u,h,a){return this.displayList.add(new o(this.scene,f,u,h,a))})},59819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(99517),f=s(40652),r.exports={renderWebGL:m,renderCanvas:f}},99517:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o),this.pipeline.batchSprite(o,m,f)};r.exports=T},77856:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};o.Shader=s(20071),o.Mesh=s(4703),o.NineSlice=s(28103),o.PointLight=s(80321),o.Plane=s(33663),o.Factories.Shader=s(74177),o.Factories.Mesh=s(9225),o.Factories.NineSlice=s(47521),o.Factories.PointLight=s(71255),o.Factories.Plane=s(30985),o.Creators.Shader=s(54935),o.Creators.Mesh=s(20527),o.Creators.NineSlice=s(28279),o.Creators.PointLight=s(39829),o.Creators.Plane=s(56015),o.Light=s(41432),o.LightsManager=s(61356),o.LightsPlugin=s(88992),r.exports=o},93595:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(83419),f=s(31401),u=s(53774),h=s(45893),a=s(50792),l=s(51708),c=s(73162),d=s(33963),v=s(44594),p=s(19186),g=new m({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,a,d],initialize:function(C,P){c.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),P&&this.add(P),C.sys.queueDepthSort()},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},setState:function(x){return this.state=x,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(x,C){return this.data||(this.data=new h(this)),this.data.set(x,C),this},incData:function(x,C){return this.data||(this.data=new h(this)),this.data.inc(x,C),this},toggleData:function(x){return this.data||(this.data=new h(this)),this.data.toggle(x),this},getData:function(x){return this.data||(this.data=new h(this)),this.data.get(x)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(x){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&x.id)},getIndexList:function(){for(var x=this,C=this.parentContainer,P=[];C&&(P.unshift(C.getIndex(x)),x=C,C.parentContainer);)C=C.parentContainer;return P.unshift(this.displayList.getIndex(x)),P},addChildCallback:function(x){var C=x.displayList;C&&C!==this&&x.removeFromDisplayList(),x.displayList||(this.queueDepthSort(),x.displayList=this,x.emit(l.ADDED_TO_SCENE,x,this.scene),this.events.emit(v.ADDED_TO_SCENE,x,this.scene))},removeChildCallback:function(x){this.queueDepthSort(),x.displayList=null,x.emit(l.REMOVED_FROM_SCENE,x,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,x,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(x,C){return x._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(x){return x===void 0&&(x=this.scene.sys.displayList),this.displayList&&this.displayList!==x&&this.removeFromDisplayList(),x.exists(this)||(this.displayList=x,x.add(this,!0),x.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),x.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var x=this.displayList||this.scene.sys.displayList;return x.exists(this)&&(x.remove(this,!0),x.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),x.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var x=null;return this.parentContainer?x=this.parentContainer.list:this.displayList&&(x=this.displayList.list),x},destroy:function(x){if(!(!this.scene||this.ignoreDestroy)){this.emit(l.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(x);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=g},2956:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=o.list;if(f.length!==0){o.depthSort();var u=o.blendMode!==-1;u||s.setBlendMode(0);var h=o._alpha;o.mask&&o.mask.preRenderCanvas(s,null,m);for(var a=0;a<f.length;a++){var l=f[a];if(l.willRender(m)){var c=l.alpha;!u&&l.blendMode!==s.currentBlendMode&&s.setBlendMode(l.blendMode),l.setAlpha(c*h),l.renderCanvas(s,l,m),l.setAlpha(c)}}o.mask&&o.mask.postRenderCanvas(s)}};r.exports=T},25179:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(93595),f=s(44603),u=s(23568);f.register("layer",function(h,a){h===void 0&&(h={});var l=u(h,"children",null),c=new m(this.scene,l);return a!==void 0&&(h.add=a),o(this.scene,c,h),c})},20005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93595),m=s(39429);m.register("layer",function(f){return this.displayList.add(new o(this.scene,f))})},33963:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(15869),f=s(2956),r.exports={renderWebGL:m,renderCanvas:f}},15869:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=o.list,u=f.length;if(u!==0){o.depthSort(),s.pipelines.preBatch(o);var h=o.blendMode!==-1;h||s.setBlendMode(0);for(var a=o.alpha,l=0;l<u;l++){var c=f[l];if(c.willRender(m)){var d,v,p,g;if(c.alphaTopLeft!==void 0)d=c.alphaTopLeft,v=c.alphaTopRight,p=c.alphaBottomLeft,g=c.alphaBottomRight;else{var x=c.alpha;d=x,v=x,p=x,g=x}!h&&c.blendMode!==s.currentBlendMode&&s.setBlendMode(c.blendMode);var C=c.mask;C&&C.preRenderWebGL(s,c,m);var P=c.type;P!==s.currentType&&(s.newType=!0,s.currentType=P),s.nextTypeMatch=l<u-1?f[l+1].type===s.currentType:!1,c.setAlpha(d*a,v*a,p*a,g*a),c.renderWebGL(s,c,m),c.setAlpha(d,v,p,g),C&&C.postRenderWebGL(s,m),s.newType=!1}}s.pipelines.postBatch(o)}};r.exports=T},41432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),m=s(83419),f=s(31401),u=s(51767),h=s(70554),a=new m({Extends:o,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(c,d,v,p,g,x,C){o.call(this,c,d,v),this.color=new u(p,g,x),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(l){this.diameter=l}},displayHeight:{get:function(){return this.diameter},set:function(l){this.diameter=l}},width:{get:function(){return this.diameter},set:function(l){this.diameter=l}},height:{get:function(){return this.diameter},set:function(l){this.diameter=l}},willRender:function(l){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},setColor:function(l){var c=h.getFloatsFromUintRGB(l);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(l){return this.intensity=l,this},setRadius:function(l){return this.radius=l,this}});a.RENDER_MASK=15,r.exports=a},61356:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81491),m=s(83419),f=s(20339),u=s(41432),h=s(80321),a=s(51767),l=s(19133),c=s(19186),d=s(70554),v=new m({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,x,C,P,w){return this.systems.displayList.add(new h(this.scene,p,g,x,C,P,w))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,x=p.worldView,C=[],P=0;P<g.length;P++){var w=g[P];w.willRender(p)&&o(w,x)&&C.push({light:w,distance:f(w.x,w.y,x.centerX,x.centerY)})}return C.length>this.maxLights&&(c(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=d.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,x,C,P){p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=128),C===void 0&&(C=16777215),P===void 0&&(P=1);var w=d.getFloatsFromUintRGB(C),E=new u(p,g,x,w[0],w[1],w[2],P);return this.lights.push(E),E},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&l(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=v},88992:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(61356),f=s(37277),u=s(44594),h=new o({Extends:m,initialize:function(l){this.scene=l,this.systems=l.sys,l.sys.settings.isBooted||l.sys.events.once(u.BOOT,this.boot,this),m.call(this)},boot:function(){var a=this.systems.events;a.on(u.SHUTDOWN,this.shutdown,this),a.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",h,"lights"),r.exports=h},4703:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(39506),u=s(83997),h=s(95643),a=s(34684),l=s(92515),c=s(91296),d=s(37867),v=s(29807),p=s(43396),g=s(19186),x=s(25836),C=s(39318),P=new o({Extends:h,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,v],initialize:function(E,b,O,M,A,F,R,L,D,I,z,U){b===void 0&&(b=0),O===void 0&&(O=0),M===void 0&&(M="__WHITE"),h.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new x,this.modelScale=new x(1,1,1),this.modelRotation=new x,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new d,this.viewPosition=new x,this.viewMatrix=new d,this.projectionMatrix=new d,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var H=E.sys.renderer;this.setPosition(b,O),this.setTexture(M,A),this.setSize(H.width,H.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(H.width,H.height),F&&this.addVertices(F,R,L,D,I,z,U)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(w){return this.viewPosition.addScale(x.LEFT,w),this.dirtyCache[10]=1,this},panY:function(w){return this.viewPosition.y+=x.DOWN.y*w,this.dirtyCache[10]=1,this},panZ:function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},setPerspective:function(w,E,b,O,M){return b===void 0&&(b=45),O===void 0&&(O=.01),M===void 0&&(M=1e3),this.fov=b,this.projectionMatrix.perspective(f(b),w/E,O,M),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(w,E,b,O){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),b===void 0&&(b=-1e3),O===void 0&&(O=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-E,E,b,O),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(w,E,b,O,M,A,F,R,L){var D=this.scene.sys.cache.obj.get(w),I;return D&&(I=a(D,this,E,b,O,M,A,F,R,L)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},sortByDepth:function(w,E){return w.depth-E.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(w,E,b,O,M,A,F){var R=new C(w,E,b,O,M,A,F);return this.vertices.push(R),R},addFace:function(w,E,b){var O=new u(w,E,b);return this.faces.push(O),this.dirtyCache[9]=-1,O},addVertices:function(w,E,b,O,M,A,F){var R=l(w,E,b,O,M,A,F);return R?(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(w){return this.faces[w]},hasFaceAt:function(w,E,b){b===void 0&&(b=this.scene.sys.cameras.main);for(var O=c(this,b).calc,M=this.faces,A=0;A<M.length;A++){var F=M[A];if(F.contains(w,E,O))return!0}return!1},getFaceAt:function(w,E,b){b===void 0&&(b=this.scene.sys.cameras.main);for(var O=c(this,b).calc,M=this.faces,A=[],F=0;F<M.length;F++){var R=M[F];R.contains(w,E,O)&&A.push(R)}return g(A,this.sortByDepth)},setDebug:function(w,E){return this.debugGraphic=w,!w&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var w=this.modelPosition,E=this.modelRotation,b=this.modelScale,O=this.dirtyCache,M=w.x,A=w.y,F=w.z,R=E.x,L=E.y,D=E.z,I=b.x,z=b.y,U=b.z,H=this.getFaceCount(),W=O[0],N=O[1],X=O[2],B=O[3],V=O[4],k=O[5],j=O[6],$=O[7],J=O[8],Z=O[9];return O[0]=M,O[1]=A,O[2]=F,O[3]=R,O[4]=L,O[5]=D,O[6]=I,O[7]=z,O[8]=U,O[9]=H,W!==M||N!==A||X!==F||B!==R||V!==L||k!==D||j!==I||$!==z||J!==U||Z!==H},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var E=this.width,b=this.height,O=this.viewMatrix,M=this.viewPosition;w[10]&&(O.identity(),O.translate(M),O.invert(),w[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=M.z,R=this.faces,L=0;L<R.length;L++)R[L].transformCoordinatesLocal(A,E,b,F);this.depthSort()}},renderDebug:function(w,E){for(var b=w.debugGraphic,O=0;O<E.length;O++){var M=E[O],A=M.vertex1.tx,F=M.vertex1.ty,R=M.vertex2.tx,L=M.vertex2.ty,D=M.vertex3.tx,I=M.vertex3.ty;b.strokeTriangle(A,F,R,L,D,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(w){w===void 0&&(w={});var E=(function(b,O,M){for(var A=this.faces,F=0;F<A.length;F++){var R=A[F];if(R.contains(O,M))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,E),this},setTint:function(w){w===void 0&&(w=16777215);for(var E=this.vertices,b=0;b<E.length;b++)E[b].color=w;return this},uvScroll:function(w,E){for(var b=this.faces,O=0;O<b.length;O++)b[O].scrollUV(w,E);return this},uvScale:function(w,E){for(var b=this.faces,O=0;O<b.length;O++)b[O].scaleUV(w,E);return this},tint:{set:function(w){this.setTint(w)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(w){this.modelRotation.x=f(w)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(w){this.modelRotation.y=f(w)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(w){this.modelRotation.z=f(w)}}});r.exports=P},36488:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},20527:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(35154),h=s(4703);m.register("mesh",function(a,l){a===void 0&&(a={});var c=f(a,"key",null),d=f(a,"frame",null),v=u(a,"vertices",[]),p=u(a,"uvs",[]),g=u(a,"indicies",[]),x=u(a,"containsZ",!1),C=u(a,"normals",[]),P=u(a,"colors",16777215),w=u(a,"alphas",1),E=new h(this.scene,0,0,c,d,v,p,g,x,C,P,w);return l!==void 0&&(a.add=l),o(this.scene,E,a),E})},9225:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4703),m=s(39429);m.register("mesh",function(f,u,h,a,l,c,d,v,p,g,x){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d,v,p,g,x))})},29807:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(48833),f=s(36488),r.exports={renderWebGL:m,renderCanvas:f}},48833:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=function(f,u,h,a){var l=u.faces,c=l.length;if(c!==0){h.addToRenderList(u);var d=f.pipelines.set(u.pipeline,u),v=o(u,h,a).calc;f.pipelines.preBatch(u);for(var p=d.setGameObject(u),g=d.vertexViewF32,x=d.vertexViewU32,C=d.vertexCount*d.currentShader.vertexComponentCount-1,P=u.tintFill,w=[],E=u.debugCallback,b=v.a,O=v.b,M=v.c,A=v.d,F=v.e,R=v.f,L=u.viewPosition.z,D=u.hideCCW,I=h.roundPixels,z=h.alpha*u.alpha,U=0,H=0;H<c;H++){var W=l[H];W.isInView(h,D,L,z,b,O,M,A,F,R,I)&&(d.shouldFlush(3)&&(d.flush(),p=d.setGameObject(u),C=d.vertexCount*d.currentShader.vertexComponentCount-1),C=W.load(g,x,C,p,P),U++,d.vertexCount+=3,d.currentBatch.count=d.vertexCount-d.currentBatch.start,E&&w.push(W))}u.totalFrame+=U,E&&E.call(u,u,w),f.pipelines.postBatch(u)}};r.exports=m},28103:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(78023),h=s(39318),a=new o({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,u],initialize:function(c,d,v,p,g,x,C,P,w,E,b){f.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var O=c.textures.getFrame(p,g);this.is3Slice=!E&&!b,O&&O.scale9&&(this.is3Slice=O.is3Slice);for(var M=this.is3Slice?18:54,A=0;A<M;A++)this.vertices.push(new h);this.setPosition(d,v),this.setTexture(p,g),this.setSlices(x,C,P,w,E,b,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(l,c,d,v,p,g,x){d===void 0&&(d=10),v===void 0&&(v=10),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=!1);var C=this.frame,P=!1;if(this.is3Slice&&x&&p!==0&&g!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!x){var w=C.data.scale9Borders,E=w.x,b=w.y;d=E,v=C.width-w.w-E,p=b,g=C.height-w.h-b,l===void 0&&(l=C.width),c===void 0&&(c=C.height)}else l===void 0&&(l=256),c===void 0&&(c=256);this._width=l,this._height=c,this.leftWidth=d,this.rightWidth=v,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(c=C.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var l=this.leftWidth,c=this.rightWidth,d=this.topHeight,v=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,l/p,d/g),this.updateQuadUVs(6,l/p,0,1-c/p,d/g),this.updateQuadUVs(12,1-c/p,0,1,d/g),this.is3Slice||(this.updateQuadUVs(18,0,d/g,l/p,1-v/g),this.updateQuadUVs(24,l/p,d/g,1-c/p,1-v/g),this.updateQuadUVs(30,1-c/p,d/g,1,1-v/g),this.updateQuadUVs(36,0,1-v/g,l/p,1),this.updateQuadUVs(42,l/p,1-v/g,1-c/p,1),this.updateQuadUVs(48,1-c/p,1-v/g,1,1))},updateVertices:function(){var l=this.leftWidth,c=this.rightWidth,d=this.topHeight,v=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+l/p,.5-d/g),this.updateQuad(6,-.5+l/p,.5,.5-c/p,.5-d/g),this.updateQuad(12,.5-c/p,.5,.5,.5-d/g),this.is3Slice||(this.updateQuad(18,-.5,.5-d/g,-.5+l/p,-.5+v/g),this.updateQuad(24,-.5+l/p,.5-d/g,.5-c/p,-.5+v/g),this.updateQuad(30,.5-c/p,.5-d/g,.5,-.5+v/g),this.updateQuad(36,-.5,-.5+v/g,-.5+l/p,-.5),this.updateQuad(42,-.5+l/p,-.5+v/g,.5-c/p,-.5),this.updateQuad(48,.5-c/p,-.5+v/g,.5,-.5))},updateQuad:function(l,c,d,v,p){var g=this.width,x=this.height,C=this.originX,P=this.originY,w=this.vertices;w[l+0].resize(c,d,g,x,C,P),w[l+1].resize(c,p,g,x,C,P),w[l+2].resize(v,d,g,x,C,P),w[l+3].resize(c,p,g,x,C,P),w[l+4].resize(v,p,g,x,C,P),w[l+5].resize(v,d,g,x,C,P)},updateQuadUVs:function(l,c,d,v,p){var g=this.vertices,x=this.frame,C=x.u0,P=x.v0,w=x.u1,E=x.v1;if(C!==0||w!==1){var b=w-C;c=C+c*b,v=C+v*b}if(P!==0||E!==1){var O=E-P;d=P+d*O,p=P+p*O}g[l+0].setUVs(c,d),g[l+1].setUVs(c,p),g[l+2].setUVs(v,d),g[l+3].setUVs(c,p),g[l+4].setUVs(v,p),g[l+5].setUVs(v,d)},clearTint:function(){return this.setTint(16777215),this},setTint:function(l){return l===void 0&&(l=16777215),this.tint=l,this.tintFill=!1,this},setTintFill:function(l){return this.setTint(l),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(l){this._width=Math.max(l,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(l){this.is3Slice||(this._height=Math.max(l,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,c){this.width=l,this.height=c,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setDisplaySize:function(l,c){return this.displayWidth=l,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(l){this._originX=l,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(l){this._originY=l,this.updateVertices()}},setOrigin:function(l,c){return l===void 0&&(l=.5),c===void 0&&(c=l),this._originX=l,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var l=this.frame.height;this._height=l,this.topHeight=l,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=a},28279:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(35154),h=s(28103);m.register("nineslice",function(a,l){a===void 0&&(a={});var c=f(a,"key",null),d=f(a,"frame",null),v=u(a,"width",256),p=u(a,"height",256),g=u(a,"leftWidth",10),x=u(a,"rightWidth",10),C=u(a,"topHeight",0),P=u(a,"bottomHeight",0),w=new h(this.scene,0,0,c,d,v,p,g,x,C,P);return l!==void 0&&(a.add=l),o(this.scene,w,a),w})},47521:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28103),m=s(39429);m.register("nineslice",function(f,u,h,a,l,c,d,v,p,g){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d,v,p,g))})},78023:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(52230),r.exports={renderWebGL:m,renderCanvas:f}},52230:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){var c=h.vertices,d=c.length;if(d!==0){a.addToRenderList(h);var v=u.pipelines.set(h.pipeline,h),p=o(h,a,l,!1).calc;u.pipelines.preBatch(h);var g=v.setGameObject(h),x=v.vertexViewF32,C=v.vertexViewU32,P=v.vertexCount*v.currentShader.vertexComponentCount-1,w=a.roundPixels,E=h.tintFill,b=a.alpha*h.alpha,O=m.getTintAppendFloatAlpha(h.tint,b),M=v.vertexAvailable(),A=-1;M<d&&(A=M);for(var F=0;F<d;F++){var R=c[F];F===A&&(v.flush(),g=v.setGameObject(h),P=0),x[++P]=p.getXRound(R.vx,R.vy,w),x[++P]=p.getYRound(R.vx,R.vy,w),x[++P]=R.u,x[++P]=R.v,x[++P]=g,x[++P]=E,C[++P]=O,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}u.pipelines.postBatch(h)}};r.exports=f},76472:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(44777),f=s(37589),u=s(6113),h=s(91389),a=s(90664),l=new o({Extends:m,initialize:function(d){m.call(this,d,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,d=c,v=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=u("Linear"),this.interpolation=h("linear"),v=this.easedValueEmit,p=this.easeValueUpdate,d=c[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var g=0;g<c.length;g++){var x=a(c[g]);this.r.push(x.r),this.g.push(x.g),this.b.push(x.b)}}return this.onEmit=v,this.onUpdate=p,this.current=d,this},setEase:function(c){this.easeName=c,this.ease=u(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,d,v){var p=this.ease(v),g=this.interpolation(this.r,p),x=this.interpolation(this.g,p),C=this.interpolation(this.b,p),P=f(g,x,C);return this.current=P,P}});r.exports=l},44777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),m=s(45319),f=s(83419),u=s(99472),h=s(6113),a=s(95540),l=s(91389),c=s(77720),d=s(15994),v=new f({initialize:function(g,x,C){C===void 0&&(C=!1),this.propertyKey=g,this.propertyValue=x,this.defaultValue=x,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=a(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var x=(this.end-this.start)/this.steps;g=c(p,x),this.counter=g;break;case 5:case 6:case 7:g=m(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,x=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:x=this.staticValueEmit;break;case 2:x=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,x=this.proxyEmit,g=this.defaultValue;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,x=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=h(P,p.easeParams),x=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,x=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var w=p.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),x=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,x=this.proxyEmit,C=this.proxyUpdate,g=this.defaultValue;break;case 9:this.start=p.values;var E=this.has(p,"ease")?p.ease:"Linear";this.ease=h(E,p.easeParams),this.interpolation=l(p.interpolation),x=this.easedValueEmit,C=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=x,this.onUpdate=C,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,x){return p.hasOwnProperty(g)&&p.hasOwnProperty(x)},hasEither:function(p,g,x){return p.hasOwnProperty(g)||p.hasOwnProperty(x)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(p,g,x,C){return C},proxyEmit:function(p,g,x){var C=this._onEmit(p,g,x);return this.current=C,C},proxyUpdate:function(p,g,x,C){var P=this._onUpdate(p,g,x,C);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var x=u(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=x,p.data[g].max=this.end),this.current=x,x},randomRangedIntEmit:function(p,g){var x=o(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=x,p.data[g].max=this.end),this.current=x,x},steppedEmit:function(){var p=this.counter,g=p,x=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(g+=x,g>=this.end&&(C=g-this.end,g=this.end-C,this.direction=1)):(g-=x,g<=this.start&&(C=this.start-g,g=this.start+C,this.direction=0)),this.counter=g}else this.counter=d(g+x,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var x=p.data[g];x.min=this.start,x.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,x){var C=p.data[g],P,w=this.ease(x);return this.interpolation?P=this.interpolation(this.start,w):P=(C.max-C.min)*w+C.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=v},24502:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(20286),u=new o({Extends:f,initialize:function(a,l,c,d,v){if(typeof a=="object"){var p=a;a=m(p,"x",0),l=m(p,"y",0),c=m(p,"power",0),d=m(p,"epsilon",100),v=m(p,"gravity",50)}else a===void 0&&(a=0),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=100),v===void 0&&(v=50);f.call(this,a,l,!0),this._gravity=v,this._power=c*v,this._epsilon=d*d},update:function(h,a){var l=this.x-h.x,c=this.y-h.y,d=l*l+c*c;if(d!==0){var v=Math.sqrt(d);d<this._epsilon&&(d=this._epsilon);var p=this._power*a/(d*v)*100;h.velocityX+=l*p,h.velocityY+=c*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var a=this.power;this._gravity=h,this.power=a}}});r.exports=u},56480:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),m=s(45319),f=s(83419),u=s(39506),h=s(87841),a=s(11520),l=s(26099),c=new f({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new l,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new h},emit:function(d,v,p,g,x,C){return this.emitter.emit(d,v,p,g,x,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(d,v){d===void 0&&(d=0),v===void 0&&(v=0),this.x=d,this.y=v},fire:function(d,v){var p=this.emitter,g=p.ops,x=p.getAnim();if(x?this.anims.play(x):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),d===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=d+g.x.onEmit(this,"x"):this.x+=d,v===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=v+g.y.onEmit(this,"y"):this.y+=v,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var C=g.speedX.onEmit(this,"speedX"),P=g.speedY.active?g.speedY.onEmit(this,"speedY"):C;if(p.radial){var w=u(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(C),this.velocityY=Math.sin(w)*Math.abs(P)}else if(p.moveTo){var E=g.moveToX.onEmit(this,"moveToX"),b=g.moveToY.onEmit(this,"moveToY"),O=this.life/1e3;this.velocityX=(E-this.x)/O,this.velocityY=(b-this.y)/O}else this.velocityX=C,this.velocityY=P;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(d,v,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=d,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=d,!1;this.anims&&this.anims.update(0,d);var g=this.emitter,x=g.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=x.x.onUpdate(this,"x",C,this.x),this.y=x.y.onUpdate(this,"y",C,this.y),g.moveTo){var P=x.moveToX.onUpdate(this,"moveToX",C,g.moveToX),w=x.moveToY.onUpdate(this,"moveToY",C,g.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/E,this.velocityY=(w-this.y)/E}return this.computeVelocity(g,d,v,p,C),this.scaleX=x.scaleX.onUpdate(this,"scaleX",C,this.scaleX),x.scaleY.active?this.scaleY=x.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=x.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=u(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(x.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),x.color.active?this.tint=x.color.onUpdate(this,"color",C,this.tint):this.tint=x.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=d,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(d,v,p,g,x){var C=d.ops,P=this.velocityX,w=this.velocityY,E=C.accelerationX.onUpdate(this,"accelerationX",x,this.accelerationX),b=C.accelerationY.onUpdate(this,"accelerationY",x,this.accelerationY),O=C.maxVelocityX.onUpdate(this,"maxVelocityX",x,this.maxVelocityX),M=C.maxVelocityY.onUpdate(this,"maxVelocityY",x,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",x,this.bounce),P+=d.gravityX*p+E*p,w+=d.gravityY*p+b*p,P=m(P,-O,O),w=m(w,-M,M),this.velocityX=P,this.velocityY=w,this.x+=P*p,this.y+=w*p,d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<g.length;A++){var F=g[A];F.active&&F.update(this,v,p,x)}},setSizeToFrame:function(){},getBounds:function(d){d===void 0&&(d=this.emitter.getWorldTransformMatrix());var v=Math.abs(d.scaleX)*this.scaleX,p=Math.abs(d.scaleY)*this.scaleY,g=this.x,x=this.y,C=this.rotation,P=this.frame.width*v/2,w=this.frame.height*p/2,E=this.bounds,b=new l(g-P,x-w),O=new l(g+P,x-w),M=new l(g-P,x+w),A=new l(g+P,x+w);return C!==0&&(a(b,g,x,C),a(O,g,x,C),a(M,g,x,C),a(A,g,x,C)),d.transformPoint(b.x,b.y,b),d.transformPoint(O.x,O.y,O),d.transformPoint(M.x,M.y,M),d.transformPoint(A.x,A.y,A),E.x=Math.min(b.x,O.x,M.x,A.x),E.y=Math.min(b.y,O.y,M.y,A.y),E.width=Math.max(b.x,O.x,M.x,A.x)-E.x,E.height=Math.max(b.y,O.y,M.y,A.y)-E.y,E},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=c},69601:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(20286),f=s(87841),u=new o({Extends:m,initialize:function(a,l,c,d,v,p,g,x){v===void 0&&(v=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),x===void 0&&(x=!0),m.call(this,a,l,!0),this.bounds=new f(a,l,c,d),this.collideLeft=v,this.collideRight=p,this.collideTop=g,this.collideBottom=x},update:function(h){var a=this.bounds,l=-h.bounce,c=h.worldPosition;c.x<a.x&&this.collideLeft?(h.x+=a.x-c.x,h.velocityX*=l):c.x>a.right&&this.collideRight&&(h.x-=c.x-a.right,h.velocityX*=l),c.y<a.y&&this.collideTop?(h.y+=a.y-c.y,h.velocityY*=l):c.y>a.bottom&&this.collideBottom&&(h.y-=c.y-a.bottom,h.velocityY*=l)}});r.exports=u},31600:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(53774),u=s(43459),h=s(26388),a=s(19909),l=s(76472),c=s(44777),d=s(20696),v=s(95643),p=s(95540),g=s(26546),x=s(24502),C=s(69036),P=s(1985),w=s(97022),E=s(86091),b=s(73162),O=s(20074),M=s(269),A=s(56480),F=s(69601),R=s(68875),L=s(87841),D=s(59996),I=s(72905),z=s(90668),U=s(19186),H=s(61340),W=s(26099),N=s(15994),X=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],B=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new o({Extends:v,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,z],initialize:function(j,$,J,Z,_){v.call(this,j,"ParticleEmitter"),this.particleClass=A,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new l("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new H,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new b(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,J),this.setTexture(Z),_&&this.setConfig(_)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(k){if(!k)return this;this.config=k;var j=0,$="",J=this.ops;for(j=0;j<B.length;j++)$=B[j],J[$].loadConfig(k);for(j=0;j<X.length;j++)$=X[j],w(k,$)&&(this[$]=p(k,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=C(k,["moveToX","moveToY"]),w(k,"speed")&&(J.speedX.loadConfig(k,"speed"),J.speedY.active=!1),(P(k,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),w(k,"scale")&&(J.scaleX.loadConfig(k,"scale"),J.scaleY.active=!1),w(k,"callbackScope")){var Z=p(k,"callbackScope",null);this.emitCallbackScope=Z,this.deathCallbackScope=Z}if(w(k,"emitZone")&&this.addEmitZone(k.emitZone),w(k,"deathZone")&&this.addDeathZone(k.deathZone),w(k,"bounds")){var _=this.addParticleBounds(k.bounds);_.collideLeft=p(k,"collideLeft",!0),_.collideRight=p(k,"collideRight",!0),_.collideTop=p(k,"collideTop",!0),_.collideBottom=p(k,"collideBottom",!0)}return w(k,"followOffset")&&this.followOffset.setFromObject(p(k,"followOffset",0)),w(k,"texture")&&this.setTexture(k.texture),w(k,"frame")?this.setEmitterFrame(k.frame):w(k,"anim")&&this.setAnim(k.anim),w(k,"reserve")&&this.reserve(k.reserve),w(k,"advance")&&this.fastForward(k.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(d.START,this),this},updateConfig:function(k){return k&&(this.config?this.setConfig(M(this.config,k)):this.setConfig(k)),this},toJSON:function(){var k=f(this),j=0,$="";for(j=0;j<X.length;j++)$=X[j],k[$]=this[$];var J=this.ops;for(j=0;j<B.length;j++)$=B[j],J[$]&&(k[$]=J[$].toJSON());return J.speedY.active||(delete k.speedX,k.speed=J.speedX.toJSON()),this.scaleX===this.scaleY&&(delete k.scaleX,delete k.scaleY,k.scale=J.scaleX.toJSON()),k},resetCounters:function(k,j){var $=this.counters;$.fill(0),$[0]=k,j&&($[5]=1)},startFollow:function(k,j,$,J){return j===void 0&&(j=0),$===void 0&&($=0),J===void 0&&(J=!1),this.follow=k,this.followOffset.set(j,$),this.trackVisible=J,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var k=this.frames,j=k.length,$;return j===1?$=k[0]:this.randomFrame?$=g(k):($=k[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===j&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(k,j,$){j===void 0&&(j=!0),$===void 0&&($=1),this.randomFrame=j,this.frameQuantity=$,this.currentFrame=0;var J=typeof k;if(this.frames.length=0,Array.isArray(k))this.frames=this.frames.concat(k);else if(J==="string"||J==="number")this.frames.push(k);else if(J==="object"){var Z=k;k=p(Z,"frames",null),k&&(this.frames=this.frames.concat(k));var _=p(Z,"cycle",!1);this.randomFrame=!_,this.frameQuantity=p(Z,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var k=this.anims,j=k.length;if(j===0)return null;if(j===1)return k[0];if(this.randomAnim)return g(k);var $=k[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=N(this.currentAnim+1,0,j)),$},setAnim:function(k,j,$){j===void 0&&(j=!0),$===void 0&&($=1),this.randomAnim=j,this.animQuantity=$,this.currentAnim=0;var J=typeof k;if(this.anims.length=0,Array.isArray(k))this.anims=this.anims.concat(k);else if(J==="string")this.anims.push(k);else if(J==="object"){var Z=k;k=p(Z,"anims",null),k&&(this.anims=this.anims.concat(k));var _=p(Z,"cycle",!1);this.randomAnim=!_,this.animQuantity=p(Z,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(k){return k===void 0&&(k=!0),this.radial=k,this},addParticleBounds:function(k,j,$,J,Z,_,it,at){if(typeof k=="object"){var st=k;k=st.x,j=st.y,$=w(st,"w")?st.w:st.width,J=w(st,"h")?st.h:st.height}return this.addParticleProcessor(new F(k,j,$,J,Z,_,it,at))},setParticleSpeed:function(k,j){return j===void 0&&(j=k),this.ops.speedX.onChange(k),k===j?this.ops.speedY.active=!1:this.ops.speedY.onChange(j),this.radial=!0,this},setParticleScale:function(k,j){return k===void 0&&(k=1),j===void 0&&(j=k),this.ops.scaleX.onChange(k),this.ops.scaleY.onChange(j),this},setParticleGravity:function(k,j){return this.gravityX=k,this.gravityY=j,this},setParticleAlpha:function(k){return this.ops.alpha.onChange(k),this},setParticleTint:function(k){return this.ops.tint.onChange(k),this},setEmitterAngle:function(k){return this.ops.angle.onChange(k),this},setParticleLifespan:function(k){return this.ops.lifespan.onChange(k),this},setQuantity:function(k){return this.quantity=k,this},setFrequency:function(k,j){return this.frequency=k,this.flowCounter=k>0?k:0,j&&(this.quantity=j),this},addDeathZone:function(k){Array.isArray(k)||(k=[k]);for(var j,$=[],J=0;J<k.length;J++)if(j=k[J],j instanceof h)$.push(j);else if(typeof j.contains=="function")j=new h(j,!0),$.push(j);else{var Z=p(j,"type","onEnter"),_=p(j,"source",null);if(_&&typeof _.contains=="function"){var it=Z==="onEnter";j=new h(_,it),$.push(j)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(k){return I(this.deathZones,k),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(k){Array.isArray(k)||(k=[k]);for(var j,$=[],J=0;J<k.length;J++)if(j=k[J],j instanceof R||j instanceof a)$.push(j);else{var Z=p(j,"source",null);if(Z){var _=p(j,"type","random");if(_==="random"&&typeof Z.getRandomPoint=="function")j=new R(Z),$.push(j);else if(_==="edge"&&typeof Z.getPoints=="function"){var it=p(j,"quantity",1),at=p(j,"stepRate",0),st=p(j,"yoyo",!1),ft=p(j,"seamless",!0),ct=p(j,"total",-1);j=new a(Z,it,at,st,ft,ct),$.push(j)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(k){return I(this.emitZones,k),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(k){var j=this.emitZones,$=j.length;if($!==0){var J=j[this.zoneIndex];J.getPoint(k),J.total>-1&&(this.zoneTotal++,this.zoneTotal===J.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(k){for(var j=this.deathZones,$=0;$<j.length;$++){var J=j[$];if(J.willKill(k))return this.emit(d.DEATH_ZONE,this,k,J),!0}return!1},setEmitZone:function(k){var j;return isFinite(k)?j=k:j=this.emitZones.indexOf(k),j>=0&&(this.zoneIndex=j),this},addParticleProcessor:function(k){return this.processors.exists(k)||(k.emitter&&k.emitter.removeParticleProcessor(k),this.processors.add(k),k.emitter=this),k},removeParticleProcessor:function(k){return this.processors.exists(k)&&(this.processors.remove(k,!0),k.emitter=null),k},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(k){return this.addParticleProcessor(new x(k))},reserve:function(k){var j=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+k>this.maxParticles&&(k=this.maxParticles-($+k))}for(var J=0;J<k;J++)j.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(k,j){return k===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof k=="function"&&(this.emitCallback=k,j&&(this.emitCallbackScope=j)),this},onParticleDeath:function(k,j){return k===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof k=="function"&&(this.deathCallback=k,j&&(this.deathCallbackScope=j)),this},killAll:function(){for(var k=this.dead,j=this.alive;j.length>0;)k.push(j.pop());return this},forEachAlive:function(k,j){for(var $=this.alive,J=$.length,Z=0;Z<J;Z++)k.call(j,$[Z],this);return this},forEachDead:function(k,j){for(var $=this.dead,J=$.length,Z=0;Z<J;Z++)k.call(j,$[Z],this);return this},start:function(k,j){return k===void 0&&(k=0),this.emitting||(k>0&&this.fastForward(k),this.emitting=!0,this.resetCounters(this.frequency,!0),j!==void 0&&(this.duration=Math.abs(j)),this.emit(d.START,this)),this},stop:function(k){return k===void 0&&(k=!1),this.emitting&&(this.emitting=!1,k&&this.killAll(),this.emit(d.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(k,j){return k===void 0&&(k=""),j===void 0&&(j=this.true),this.sortProperty=k,this.sortOrderAsc=j,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(k){return this.sortProperty!==""?k=this.depthSortCallback:k=null,this.sortCallback=k,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(k,j){var $=this.sortProperty;return this.sortOrderAsc?k[$]-j[$]:j[$]-k[$]},flow:function(k,j,$){return j===void 0&&(j=1),this.emitting=!1,this.frequency=k,this.quantity=j,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(k,j,$){this.frequency=-1,this.resetCounters(-1,!0);var J=this.emitParticle(k,j,$);return this.emit(d.EXPLODE,this,J),J},emitParticleAt:function(k,j,$){return this.emitParticle($,k,j)},emitParticle:function(k,j,$){if(!this.atLimit()){k===void 0&&(k=this.ops.quantity.onEmit());for(var J=this.dead,Z=this.stopAfter,_=this.follow?this.follow.x+this.followOffset.x:j,it=this.follow?this.follow.y+this.followOffset.y:$,at=0;at<k;at++){var st=J.pop();if(st||(st=new this.particleClass(this)),st.fire(_,it)?(this.particleBringToTop?this.alive.push(st):this.alive.unshift(st),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,st,this)):this.dead.push(st),Z>0&&(this.stopCounter++,this.stopCounter>=Z)||this.atLimit())break}return st}},fastForward:function(k,j){j===void 0&&(j=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(k);)this.preUpdate(0,j),$+=j;return this.skipping=!1,this},preUpdate:function(k,j){j*=this.timeScale;var $=j/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var J=this.getProcessors(),Z=this.alive,_=this.dead,it=0,at=[],st=Z.length;for(it=0;it<st;it++){var ft=Z[it];ft.update(j,$,J)&&at.push({index:it,particle:ft})}if(st=at.length,st>0){var ct=this.deathCallback,ut=this.deathCallbackScope;for(it=st-1;it>=0;it--){var Et=at[it];Z.splice(Et.index,1),_.push(Et.particle),ct&&ct.call(ut,Et.particle),Et.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&Z.length===0&&(this.completeFlag=0,this.emit(d.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=j;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=j,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(k){for(var j=this.getWorldTransformMatrix(),$=this.alive,J=$.length,Z=[],_=0;_<J;_++){var it=$[_];D(k,it.getBounds(j))&&Z.push(it)}return Z},getBounds:function(k,j,$,J){k===void 0&&(k=0),j===void 0&&(j=0),$===void 0&&($=1e3/60),J===void 0&&(J=new L);var Z=this.getWorldTransformMatrix(),_,it,at=this.alive,st=!1;if(J.setTo(0,0,0,0),j>0){var ft=0;for(this.skipping=!0;ft<Math.abs(j);){for(this.preUpdate(0,$),_=0;_<at.length;_++)it=at[_].getBounds(Z),st?O(J,it):(st=!0,u(it,J));ft+=$}this.skipping=!1}else for(_=0;_<at.length;_++)it=at[_].getBounds(Z),st?O(J,it):(st=!0,u(it,J));return k>0&&E(J,k,k),J},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(k){this.ops.x.onChange(k)}},particleY:{get:function(){return this.ops.y.current},set:function(k){this.ops.y.onChange(k)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(k){this.ops.accelerationX.onChange(k)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(k){this.ops.accelerationY.onChange(k)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(k){this.ops.maxVelocityX.onChange(k)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(k){this.ops.maxVelocityY.onChange(k)}},speed:{get:function(){return this.ops.speedX.current},set:function(k){this.ops.speedX.onChange(k),this.ops.speedY.onChange(k)}},speedX:{get:function(){return this.ops.speedX.current},set:function(k){this.ops.speedX.onChange(k)}},speedY:{get:function(){return this.ops.speedY.current},set:function(k){this.ops.speedY.onChange(k)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(k){this.ops.moveToX.onChange(k)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(k){this.ops.moveToY.onChange(k)}},bounce:{get:function(){return this.ops.bounce.current},set:function(k){this.ops.bounce.onChange(k)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(k){this.ops.scaleX.onChange(k)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(k){this.ops.scaleY.onChange(k)}},particleColor:{get:function(){return this.ops.color.current},set:function(k){this.ops.color.onChange(k)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(k){this.ops.color.setEase(k)}},particleTint:{get:function(){return this.ops.tint.current},set:function(k){this.ops.tint.onChange(k)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(k){this.ops.alpha.onChange(k)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(k){this.ops.lifespan.onChange(k)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(k){this.ops.angle.onChange(k)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(k){this.ops.rotate.onChange(k)}},quantity:{get:function(){return this.ops.quantity.current},set:function(k){this.ops.quantity.onChange(k)}},delay:{get:function(){return this.ops.delay.current},set:function(k){this.ops.delay.onChange(k)}},hold:{get:function(){return this.ops.hold.current},set:function(k){this.ops.hold.onChange(k)}},flowCounter:{get:function(){return this.counters[0]},set:function(k){this.counters[0]=k}},frameCounter:{get:function(){return this.counters[1]},set:function(k){this.counters[1]=k}},animCounter:{get:function(){return this.counters[2]},set:function(k){this.counters[2]=k}},elapsed:{get:function(){return this.counters[3]},set:function(k){this.counters[3]=k}},stopCounter:{get:function(){return this.counters[4]},set:function(k){this.counters[4]=k}},completeFlag:{get:function(){return this.counters[5]},set:function(k){this.counters[5]=k}},zoneIndex:{get:function(){return this.counters[6]},set:function(k){this.counters[6]=k}},zoneTotal:{get:function(){return this.counters[7]},set:function(k){this.counters[7]=k}},currentFrame:{get:function(){return this.counters[8]},set:function(k){this.counters[8]=k}},currentAnim:{get:function(){return this.counters[9]},set:function(k){this.counters[9]=k}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var k,j=this.ops;for(k=0;k<B.length;k++){var $=B[k];j[$].destroy()}for(k=0;k<this.alive.length;k++)this.alive[k].destroy();for(k=0;k<this.dead.length;k++)this.dead[k].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=V},9871:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),m=s(61340),f=new m,u=new m,h=new m,a=new m,l=function(c,d,v,p){var g=f,x=u,C=h,P=a;p?(P.loadIdentity(),P.multiply(p),P.translate(d.x,d.y),P.rotate(d.rotation),P.scale(d.scaleX,d.scaleY)):P.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var w=c.currentContext,E=v.roundPixels,b=v.alpha,O=d.alpha,M=d.alive,A=M.length,F=d.viewBounds;if(!(!d.visible||A===0||F&&!o(F,v.worldView))){d.sortCallback&&d.depthSort(),v.addToRenderList(d);var R=d.scrollFactorX,L=d.scrollFactorY;w.save(),w.globalCompositeOperation=c.blendModes[d.blendMode];for(var D=0;D<A;D++){var I=M[D],z=I.alpha*O*b;if(!(z<=0||I.scaleX===0||I.scaleY===0)){C.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),g.copyFrom(v.matrix),g.multiplyWithOffset(P,-v.scrollX*R,-v.scrollY*L),C.e=I.x,C.f=I.y,g.multiply(C,x);var U=I.frame,H=U.canvasData;if(H.width>0&&H.height>0){var W=-U.halfWidth,N=-U.halfHeight;w.globalAlpha=z,w.save(),x.setToContext(w),E&&(W=Math.round(W),N=Math.round(N)),w.imageSmoothingEnabled=!U.source.scaleMode,w.drawImage(U.source.image,H.x,H.y,H.width,H.height,W,N,H.width,H.height),w.restore()}}}w.restore()}};r.exports=l},92730:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(95540),h=s(31600);m.register("particles",function(a,l){a===void 0&&(a={});var c=f(a,"key",null),d=u(a,"config",null),v=new h(this.scene,0,0,c);return l!==void 0&&(a.add=l),o(this.scene,v,a),d&&v.setConfig(d),v})},676:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(31600);o.register("particles",function(f,u,h,a){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,f,u,h,a))})},90668:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(21188),f=s(9871),r.exports={renderWebGL:m,renderCanvas:f}},21188:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(59996),m=s(61340),f=s(70554),u=new m,h=new m,a=new m,l=new m,c=function(d,v,p,g){var x=d.pipelines.set(v.pipeline),C=u,P=h,w=a,E=l;g?(E.loadIdentity(),E.multiply(g),E.translate(v.x,v.y),E.rotate(v.rotation),E.scale(v.scaleX,v.scaleY)):E.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var b=f.getTintAppendFloatAlpha,O=p.alpha,M=v.alpha;d.pipelines.preBatch(v);var A=v.alive,F=A.length,R=v.viewBounds;if(!(F===0||R&&!o(R,p.worldView))){v.sortCallback&&v.depthSort(),p.addToRenderList(v),C.copyFrom(p.matrix),C.multiplyWithOffset(E,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),d.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(d,v,p),d.pipelines.set(v.pipeline));for(var L=v.tintFill,D,I,z=0;z<F;z++){var U=A[z],H=U.alpha*M*O;if(!(H<=0||U.scaleX===0||U.scaleY===0)){w.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),w.e=U.x,w.f=U.y,C.multiply(w,P);var W=U.frame;W.glTexture!==I&&(I=W.glTexture,D=x.setGameObject(v,W));var N=-W.halfWidth,X=-W.halfHeight,B=P.setQuad(N,X,N+W.width,X+W.height),V=b(U.tint,H);x.shouldFlush(6)&&(x.flush(),D=x.setGameObject(v,W)),x.batchQuad(v,B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],W.u0,W.v0,W.u1,W.v1,V,V,V,V,L,I,D)}}v.mask&&v.mask.postRenderWebGL(d,p),d.pipelines.postBatch(v)}};r.exports=c},20286:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a){u===void 0&&(u=0),h===void 0&&(h=0),a===void 0&&(a=!0),this.emitter,this.x=u,this.y=h,this.active=a},update:function(){},destroy:function(){this.emitter=null}});r.exports=m},9774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},812:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"},30522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"},96695:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},18677:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},20696:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h){this.source=u,this.killOnEnter=h},willKill:function(f){var u=f.worldPosition,h=this.source.contains(u.x,u.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});r.exports=m},19909:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l,c,d){l===void 0&&(l=!1),c===void 0&&(c=!0),d===void 0&&(d=-1),this.source=u,this.points=[],this.quantity=h,this.stepRate=a,this.yoyo=l,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=d,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],u=this.points[this.points.length-1];f.x===u.x&&f.y===u.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(f.x=u.x,f.y=u.y)}});r.exports=m},68875:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(26099),f=new o({initialize:function(h){this.source=h,this._tempVec=new m,this.total=-1},getPoint:function(u){var h=this._tempVec;this.source.getRandomPoint(h),u.x=h.x,u.y=h.y}});r.exports=f},21024:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(68287),u=new o({Extends:f,Mixins:[m.PathFollower],initialize:function(a,l,c,d,v,p){f.call(this,a,c,d,v,p),this.path=l},preUpdate:function(h,a){this.anims.update(h,a),this.pathUpdate(h)}});r.exports=u},90145:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(1159);o.register("follower",function(f,u,h,a,l){var c=new m(this.scene,f,u,h,a,l);return this.displayList.add(c),this.updateList.add(c),c})},33663:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),m=s(83419),f=s(48803),u=s(90664),h=s(4703),a=s(45650),l=new m({Extends:h,initialize:function(d,v,p,g,x,C,P,w){g||(g="__DEFAULT"),h.call(this,d,v,p,g,x),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,P,w),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,d,v){c===void 0&&(c=8),d===void 0&&(d=8),v===void 0&&(v=!1);var p=!1;return v&&(p=!0),this.gridWidth=c,this.gridHeight=d,this.isTiled=v,this.clear(),f({mesh:this,widthSegments:c,heightSegments:d,isOrtho:!1,tile:v,flipY:p}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var d=this.frame;if(this.setPerspective(this.width/d.width,this.height/d.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,p=this.gridHeight,g=this.vertices,x=d.u0,C=d.u1,P=d.v0,w=d.v1,E,b,O=0;if(this.isTiled)for(P=d.v1,w=d.v0,b=0;b<p;b++)for(E=0;E<v;E++)g[O++].setUVs(x,w),g[O++].setUVs(x,P),g[O++].setUVs(C,w),g[O++].setUVs(x,P),g[O++].setUVs(C,P),g[O++].setUVs(C,w);else{var M=v+1,A=p+1,F=C-x,R=w-P,L=[];for(b=0;b<A;b++)for(E=0;E<M;E++){var D=x+F*(E/v),I=P+R*(b/p);L.push(D,I)}for(b=0;b<p;b++)for(E=0;E<v;E++){var z=(E+M*b)*2,U=(E+M*(b+1))*2,H=(E+1+M*(b+1))*2,W=(E+1+M*b)*2;g[O++].setUVs(L[z],L[z+1]),g[O++].setUVs(L[U],L[U+1]),g[O++].setUVs(L[W],L[W+1]),g[O++].setUVs(L[U],L[U+1]),g[O++].setUVs(L[H],L[H+1]),g[O++].setUVs(L[W],L[W+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var d=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(d/2),this.dirtyCache[10]=1},createCheckerboard:function(c,d,v,p,g){c===void 0&&(c=16777215),d===void 0&&(d=255),v===void 0&&(v=255),p===void 0&&(p=255),g===void 0&&(g=128);for(var x=u(c),C=u(d),P=[],w=0;w<16;w++)for(var E=0;E<16;E++)w<8&&E<8||w>7&&E>7?P.push(x.r,x.g,x.b,v):P.push(C.r,C.g,C.b,p);var b=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(b),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,d){return this.anims.play(c,d)},playReverse:function(c,d){return this.anims.playReverse(c,d)},playAfterDelay:function(c,d){return this.anims.playAfterDelay(c,d)},playAfterRepeat:function(c,d){return this.anims.playAfterRepeat(c,d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,d){h.prototype.preUpdate.call(this,c,d),this.anims.update(c,d)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=l},56015:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(13059),f=s(44603),u=s(23568),h=s(35154),a=s(33663);f.register("plane",function(l,c){l===void 0&&(l={});var d=u(l,"key",null),v=u(l,"frame",null),p=h(l,"width",8),g=h(l,"height",8),x=h(l,"tile",!1),C=new a(this.scene,0,0,d,v,p,g,x);c!==void 0&&(l.add=c);var P=h(l,"checkerboard",null);if(P){var w=h(P,"color1",16777215),E=h(P,"color2",255),b=h(P,"alpha1",255),O=h(P,"alpha2",255),M=h(P,"height",128);C.createCheckerboard(w,E,b,O,M)}return o(this.scene,C,l),m(C,l),C})},30985:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33663),m=s(39429);m.register("plane",function(f,u,h,a,l,c,d){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d))})},80321:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(30100),h=s(36060),a=s(67277),l=new o({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,a],initialize:function(d,v,p,g,x,C,P){g===void 0&&(g=16777215),x===void 0&&(x=128),C===void 0&&(C=1),P===void 0&&(P=.1),f.call(this,d,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,p),this.color=u(g),this.intensity=C,this.attenuation=P,this.width=x*2,this.height=x*2,this._radius=x},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=l},39829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(80321);m.register("pointlight",function(h,a){h===void 0&&(h={});var l=f(h,"color",16777215),c=f(h,"radius",128),d=f(h,"intensity",1),v=f(h,"attenuation",.1),p=new u(this.scene,0,0,l,c,d,v);return a!==void 0&&(h.add=a),o(this.scene,p,h),p})},71255:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(80321);o.register("pointlight",function(f,u,h,a,l,c){return this.displayList.add(new m(this.scene,f,u,h,a,l,c))})},67277:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(57787),r.exports={renderWebGL:m,renderCanvas:f}},57787:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=function(f,u,h,a){h.addToRenderList(u);var l=f.pipelines.set(u.pipeline),c=o(u,h,a).calc,d=u.width,v=u.height,p=-u._radius,g=-u._radius,x=p+d,C=g+v,P=c.getX(0,0),w=c.getY(0,0),E=c.getX(p,g),b=c.getY(p,g),O=c.getX(p,C),M=c.getY(p,C),A=c.getX(x,C),F=c.getY(x,C),R=c.getX(x,g),L=c.getY(x,g);f.pipelines.preBatch(u),l.batchPointLight(u,h,E,b,O,M,A,F,R,L,P,w),f.pipelines.postBatch(u)};r.exports=m},591:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(81320),f=s(88571),u=new o({Extends:f,initialize:function(a,l,c,d,v,p){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=32),v===void 0&&(v=32),p===void 0&&(p=!0);var g=new m(a.sys.textures,"",d,v,p);f.call(this,a,l,c,g),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,a){this.width=h,this.height=a,this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=h,l.hitArea.height=a),this},resize:function(h,a,l){return this.texture.setSize(h,a,l),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(h){var a=this.texture;return a.key=h,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(h,a,l,c,d,v){return this.texture.fill(h,a,l,c,d,v),this},clear:function(){return this.texture.clear(),this},stamp:function(h,a,l,c,d){return this.texture.stamp(h,a,l,c,d),this},erase:function(h,a,l){return this.texture.erase(h,a,l),this},draw:function(h,a,l,c,d){return this.texture.draw(h,a,l,c,d),this},drawFrame:function(h,a,l,c,d,v){return this.texture.drawFrame(h,a,l,c,d,v),this},repeat:function(h,a,l,c,d,v,p,g,x){return this.texture.repeat(h,a,l,c,d,v,p,g,x),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,a,l,c,d){return this.texture.batchDraw(h,a,l,c,d),this},batchDrawFrame:function(h,a,l,c,d,v){return this.texture.batchDrawFrame(h,a,l,c,d,v),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,a,l,c,d,v,p){return this.texture.snapshotArea(h,a,l,c,d,v,p),this},snapshot:function(h,a,l){return this.snapshotArea(0,0,this.width,this.height,h,a,l)},snapshotPixel:function(h,a,l){return this.snapshotArea(h,a,1,1,l,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=u},34495:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(591);m.register("renderTexture",function(h,a){h===void 0&&(h={});var l=f(h,"x",0),c=f(h,"y",0),d=f(h,"width",32),v=f(h,"height",32),p=new u(this.scene,l,c,d,v);return a!==void 0&&(h.add=a),o(this.scene,p,h),p})},60505:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(591);o.register("renderTexture",function(f,u,h,a){return this.displayList.add(new m(this.scene,f,u,h,a))})},77757:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),m=s(83419),f=s(31401),u=s(95643),h=s(36060),a=s(38745),l=s(26099),c=new m({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,a],initialize:function(v,p,g,x,C,P,w,E,b){x===void 0&&(x="__DEFAULT"),P===void 0&&(P=2),w===void 0&&(w=!0),u.call(this,v,"Rope"),this.anims=new o(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=x==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(x,C),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,E,b),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,v){var p=this.anims.currentFrame;this.anims.update(d,v),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(d,v,p){return this.anims.play(d,v,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(d,v,p){return d===void 0&&(d=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(d,v,p))},setVertical:function(d,v,p){return d===void 0&&(d=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(d,v,p)):this},setTintFill:function(d){return d===void 0&&(d=!1),this.tintFill=d,this},setAlphas:function(d,v){var p=this.points.length;if(p<1)return this;var g=this.alphas;d===void 0?d=[1]:!Array.isArray(d)&&v===void 0&&(d=[d]);var x,C=0;if(v!==void 0)for(x=0;x<p;x++)C=x*2,g[C]=d,g[C+1]=v;else if(d.length===p)for(x=0;x<p;x++)C=x*2,g[C]=d[x],g[C+1]=d[x];else{var P=d[0];for(x=0;x<p;x++)C=x*2,d.length>C&&(P=d[C]),g[C]=P,d.length>C+1&&(P=d[C+1]),g[C+1]=P}return this},setColors:function(d){var v=this.points.length;if(v<1)return this;var p=this.colors;d===void 0?d=[16777215]:Array.isArray(d)||(d=[d]);var g,x=0;if(d.length===v)for(g=0;g<v;g++)x=g*2,p[x]=d[g],p[x+1]=d[g];else{var C=d[0];for(g=0;g<v;g++)x=g*2,d.length>x&&(C=d[x]),p[x]=C,d.length>x+1&&(C=d[x+1]),p[x+1]=C}return this},setPoints:function(d,v,p){if(d===void 0&&(d=2),typeof d=="number"){var g=d;g<2&&(g=2),d=[];var x,C,P;if(this.horizontal)for(P=-this.frame.halfWidth,C=this.frame.width/(g-1),x=0;x<g;x++)d.push({x:P+x*C,y:0});else for(P=-this.frame.halfHeight,C=this.frame.height/(g-1),x=0;x<g;x++)d.push({x:0,y:P+x*C})}var w=d.length,E=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(d.unshift({x:0,y:0}),w++),E!==w&&this.resizeArrays(w),this.dirty=!0,this.points=d,this.updateUVs(),v!=null&&this.setColors(v),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var d=this.uv,v=this.points.length,p=this.frame.u0,g=this.frame.v0,x=this.frame.u1,C=this.frame.v1,P=(x-p)/(v-1),w=(C-g)/(v-1),E=0;E<v;E++){var b=E*4,O,M,A,F;this.horizontal?(this._flipX?(O=x-E*P,A=x-E*P):(O=p+E*P,A=p+E*P),this._flipY?(M=C,F=g):(M=g,F=C)):(this._flipX?(O=p,A=x):(O=x,A=p),this._flipY?(M=C-E*w,F=C-E*w):(M=g+E*w,F=g+E*w)),d[b+0]=O,d[b+1]=M,d[b+2]=A,d[b+3]=F}return this},resizeArrays:function(d){var v=this.colors,p=this.alphas;this.vertices=new Float32Array(d*4),this.uv=new Float32Array(d*4),v=new Uint32Array(d*2),p=new Float32Array(d*2);for(var g=0;g<d*2;g++)v[g]=16777215,p[g]=1;return this.colors=v,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var d=this._perp,v=this.points,p=this.vertices,g=v.length;if(this.dirty=!1,!(g<1)){for(var x,C=v[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<g;w++){var E=v[w],b=w*4;w<g-1?x=v[w+1]:x=E,d.x=x.y-C.y,d.y=-(x.x-C.x);var O=d.length();d.x/=O,d.y/=O,d.x*=P,d.y*=P,p[b]=E.x+d.x,p[b+1]=E.y+d.y,p[b+2]=E.x-d.x,p[b+3]=E.y-d.y,C=E}return this}},setDebug:function(d,v){return this.debugGraphic=d,!d&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(d,v,p){var g=d.debugGraphic,x=p[0],C=p[1],P=p[2],w=p[3];g.lineBetween(x,C,P,w);for(var E=4;E<v;E+=4){var b=p[E+0],O=p[E+1],M=p[E+2],A=p[E+3];g.lineBetween(x,C,b,O),g.lineBetween(P,w,M,A),g.lineBetween(P,w,b,O),g.lineBetween(b,O,M,A),x=b,C=O,P=M,w=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(d){return this._flipX=d,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(d){return this._flipY=d,this.updateUVs()}}});r.exports=c},95262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},26209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(35154),h=s(77757);m.register("rope",function(a,l){a===void 0&&(a={});var c=f(a,"key",null),d=f(a,"frame",null),v=f(a,"horizontal",!0),p=u(a,"points",void 0),g=u(a,"colors",void 0),x=u(a,"alphas",void 0),C=new h(this.scene,0,0,c,d,p,v,g,x);return l!==void 0&&(a.add=l),o(this.scene,C,a),C})},96819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(77757),m=s(39429);m.register("rope",function(f,u,h,a,l,c,d,v){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d,v))})},38745:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(20439),f=s(95262),r.exports={renderWebGL:m,renderCanvas:f}},20439:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){a.addToRenderList(h);var c=u.pipelines.set(h.pipeline,h),d=o(h,a,l).calc,v=h.vertices,p=h.uv,g=h.colors,x=h.alphas,C=h.alpha,P=m.getTintAppendFloatAlpha,w=a.roundPixels,E=v.length,b=Math.floor(E*.5);c.flush(),u.pipelines.preBatch(h);var O=c.setGameObject(h),M=c.vertexViewF32,A=c.vertexViewU32,F=c.vertexCount*c.currentShader.vertexComponentCount-1,R=0,L=h.tintFill;h.dirty&&h.updateVertices();for(var D=h.debugCallback,I=[],z=0;z<E;z+=2){var U=v[z+0],H=v[z+1],W=U*d.a+H*d.c+d.e,N=U*d.b+H*d.d+d.f;w&&(W=Math.round(W),N=Math.round(N)),M[++F]=W,M[++F]=N,M[++F]=p[z+0],M[++F]=p[z+1],M[++F]=O,M[++F]=L,A[++F]=P(g[R],a.alpha*(x[R]*C)),R++,D&&(I[z+0]=W,I[z+1]=N)}D&&D.call(h,h,E,I),c.vertexCount+=b,c.currentBatch.count=c.vertexCount-c.currentBatch.start,u.pipelines.postBatch(h)};r.exports=f},20071:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(95540),h=s(79291),a=s(61622),l=s(25479),c=s(61340),d=s(95428),v=s(92503),p=new o({Extends:f,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,l],initialize:function(x,C,P,w,E,b,O,M){P===void 0&&(P=0),w===void 0&&(w=0),E===void 0&&(E=128),b===void 0&&(b=128),f.call(this,x,"Shader"),this.blendMode=-1,this.shader;var A=x.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,w),this.setSize(E,b),this.setOrigin(.5,.5),this.setShader(C,O,M),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(g){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&g.id)},setRenderToTexture:function(g,x){if(!this.renderToTexture){var C=this.width,P=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,C,P,0),this.framebuffer=w.createFramebuffer(C,P,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),g&&(this.texture=this.scene.sys.textures.addGLTexture(g,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},setShader:function(g,x,C){if(this.renderer.contextLost)return this._deferSetShader={key:g,textures:x,textureData:C},this;if(x===void 0&&(x=[]),typeof g=="string"){var P=this.scene.sys.cache.shader;if(!P.has(g))return console.warn("Shader missing: "+g),this;this.shader=P.get(g)}else this.shader=g;var w=this.gl,E=this.renderer;this.program&&E.deleteProgram(this.program);var b=E.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(b.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(b.webGLProgram,"uResolution"),this.width,this.height),this.program=b;var O=new Date,M={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[O.getFullYear(),O.getMonth(),O.getDate(),O.getHours()*60*60+O.getMinutes()*60+O.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,M):this.uniforms=M;for(var A=0;A<4;A++)x[A]&&this.setSampler2D("iChannel"+A,x[A],A,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(g){return this.pointer=g,this},projOrtho:function(g,x,C,P){if(this.renderer.contextLost){this._deferProjOrtho={left:g,right:x,bottom:C,top:P};return}var w=-1e3,E=1e3,b=1/(g-x),O=1/(C-P),M=1/(w-E),A=this.projectionMatrix;A[0]=-2*b,A[5]=-2*O,A[10]=2*M,A[12]=(g+x)*b,A[13]=(P+C)*O,A[14]=(E+w)*M;var F=this.program,R=this.gl,L=this.renderer;L.setProgram(F),R.uniformMatrix4fv(R.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=x,this._rendererHeight=C},initUniforms:function(){var g=this.renderer.glFuncMap,x=this.program;this._textureCount=0;for(var C in this.uniforms){var P=this.uniforms[C],w=P.type,E=g[w];P.uniformLocation=this.renderer.createUniformLocation(x,C),w!=="sampler2D"&&(P.glMatrix=E.matrix,P.glValueLength=E.length,P.glFunc=E.func)}},setSampler2DBuffer:function(g,x,C,P,w,E){w===void 0&&(w=0),E===void 0&&(E={});var b=this.uniforms[g];return b.value=x,E.width=C,E.height=P,b.textureData=E,this._textureCount=w,this.initSampler2D(b),this},setSampler2D:function(g,x,C,P){C===void 0&&(C=0);var w=this.scene.sys.textures;if(w.exists(x)){var E=w.getFrame(x);if(E.glTexture&&E.glTexture.isRenderTexture)return this.setSampler2DBuffer(g,E.glTexture,E.width,E.height,C,P);var b=this.uniforms[g],O=E.source;b.textureKey=x,b.source=O.image,b.value=E.glTexture,O.isGLTexture&&(P||(P={}),P.width=O.width,P.height=O.height),P&&(b.textureData=P),this._textureCount=C,this.initSampler2D(b)}return this},setUniform:function(g,x){return a(this.uniforms,g,x),this},getUniform:function(g){return u(this.uniforms,g,null)},setChannel0:function(g,x){return this.setSampler2D("iChannel0",g,0,x)},setChannel1:function(g,x){return this.setSampler2D("iChannel1",g,1,x)},setChannel2:function(g,x){return this.setSampler2D("iChannel2",g,2,x)},setChannel3:function(g,x){return this.setSampler2D("iChannel3",g,3,x)},initSampler2D:function(g){if(g.value){var x=g.textureData;if(x&&!g.value.isRenderTexture){var C=this.gl,P=g.value,w=C[u(x,"magFilter","linear").toUpperCase()],E=C[u(x,"minFilter","linear").toUpperCase()],b=C[u(x,"wrapS","repeat").toUpperCase()],O=C[u(x,"wrapT","repeat").toUpperCase()],M=C[u(x,"format","rgba").toUpperCase()],A=u(x,"flipY",!1),F=u(x,"width",P.width),R=u(x,"height",P.height),L=u(x,"source",P.pixels);x.repeat&&(b=C.REPEAT,O=C.REPEAT),x.width&&(L=null),P.update(L,F,R,A,b,O,E,w,M)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var g=this.gl,x=this.uniforms,C,P,w,E,b,O=0;for(var M in x)C=x[M],w=C.glFunc,P=C.glValueLength,E=C.uniformLocation,b=C.value,b!==null&&(P===1?C.glMatrix?w.call(g,E.webGLUniformLocation,C.transpose,b):w.call(g,E.webGLUniformLocation,b):P===2?w.call(g,E.webGLUniformLocation,b.x,b.y):P===3?w.call(g,E.webGLUniformLocation,b.x,b.y,b.z):P===4?w.call(g,E.webGLUniformLocation,b.x,b.y,b.z,b.w):C.type==="sampler2D"&&(g.activeTexture(g.TEXTURE0+O),g.bindTexture(g.TEXTURE_2D,b.webGLTexture),g.uniform1i(E.webGLUniformLocation,O),O++))},load:function(g){var x=this.gl,C=this.width,P=this.height,w=this.renderer,E=this.program,b=this.viewMatrix;if(!this.renderToTexture){var O=-this._displayOriginX,M=-this._displayOriginY;b[0]=g[0],b[1]=g[1],b[4]=g[2],b[5]=g[3],b[8]=g[4],b[9]=g[5],b[12]=b[0]*O+b[4]*M,b[13]=b[1]*O+b[5]*M}x.useProgram(E.webGLProgram),x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,b),x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height);var A=this.uniforms,F=A.resolution;F.value.x=C,F.value.y=P,A.time.value=w.game.loop.getDuration();var R=this.pointer;if(R){var L=A.mouse,D=R.x/C,I=1-R.y/P;L.value.x=D.toFixed(2),L.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var g=this.width,x=this.height,C=this.program,P=this.gl,w=this.vertexBuffer,E=this.renderer,b=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(E.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,w.webGLBuffer);var O=P.getAttribLocation(C.webGLProgram,"inPosition");O!==-1&&(P.enableVertexAttribArray(O),P.vertexAttribPointer(O,2,P.FLOAT,!1,b,0));var M=this.vertexViewF32;M[3]=x,M[4]=g,M[5]=x,M[8]=g,M[9]=x,M[10]=g;var A=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,A*b)),P.drawArrays(P.TRIANGLES,0,A),this.renderToTexture&&E.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var g=this._deferSetShader.key,x=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(g,x,C)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,w=this._deferProjOrtho.right,E=this._deferProjOrtho.bottom,b=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,w,E,b)}},preDestroy:function(){var g=this.renderer;g.off(v.RESTORE_WEBGL,this.onContextRestored,this),g.deleteProgram(this.program),g.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(g.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),d(this.uniforms,function(x){g.deleteUniformLocation(x.uniformLocation),x.uniformLocation=null})}});r.exports=p},80464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},54935:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(20071);m.register("shader",function(h,a){h===void 0&&(h={});var l=f(h,"key",null),c=f(h,"x",0),d=f(h,"y",0),v=f(h,"width",128),p=f(h,"height",128),g=new u(this.scene,l,c,d,v,p);return a!==void 0&&(h.add=a),o(this.scene,g,h),g})},74177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20071),m=s(39429);m.register("shader",function(f,u,h,a,l,c,d){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d))})},25479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(19257),f=s(80464),r.exports={renderWebGL:m,renderCanvas:f}},19257:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=function(f,u,h,a){if(u.shader){if(h.addToRenderList(u),f.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var l=o(u,h,a).calc;(f.width!==u._rendererWidth||f.height!==u._rendererHeight)&&u.projOrtho(0,f.width,f.height,0),u.load(l.matrix),u.flush()}f.pipelines.rebind()}};r.exports=m},10441:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),m=function(f,u,h,a,l,c){for(var d=o.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*a),v=h.pathData,p=h.pathIndexes,g=0;g<p.length;g+=3){var x=p[g]*2,C=p[g+1]*2,P=p[g+2]*2,w=v[x+0]-l,E=v[x+1]-c,b=v[C+0]-l,O=v[C+1]-c,M=v[P+0]-l,A=v[P+1]-c,F=u.getX(w,E),R=u.getY(w,E),L=u.getX(b,O),D=u.getY(b,O),I=u.getX(M,A),z=u.getY(M,A);f.batchTri(h,F,R,L,D,I,z,0,0,1,1,d,d,d,2)}};r.exports=m},65960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=m||o.fillColor,h=f||o.fillAlpha,a=(u&16711680)>>>16,l=(u&65280)>>>8,c=u&255;s.fillStyle="rgba("+a+","+l+","+c+","+h+")"};r.exports=T},75177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=m||o.strokeColor,h=f||o.strokeAlpha,a=(u&16711680)>>>16,l=(u&65280)>>>8,c=u&255;s.strokeStyle="rgba("+a+","+l+","+c+","+h+")",s.lineWidth=o.lineWidth};r.exports=T},17803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(95643),u=s(23031),h=new o({Extends:f,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(l,c,d){c===void 0&&(c="Shape"),f.call(this,l,c),this.geom=d,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,l){return l===void 0&&(l=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=l,this.isFilled=!0),this},setStrokeStyle:function(a,l,c){return c===void 0&&(c=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=l,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,l){return this.width=a,this.height=l,this},setDisplaySize:function(a,l){return this.displayWidth=a,this.displayHeight=l,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});r.exports=h},34682:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),m=function(f,u,h,a,l){var c=f.strokeTint,d=o.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*h);c.TL=d,c.TR=d,c.BL=d,c.BR=d;var v=u.pathData,p=v.length-1,g=u.lineWidth,x=g/2,C=v[0]-a,P=v[1]-l;u.closePath||(p-=2);for(var w=2;w<p;w+=2){var E=v[w]-a,b=v[w+1]-l;f.batchLine(C,P,E,b,x,x,g,w-2,u.closePath?w===p-1:!1),C=E,P=b}};r.exports=m},23629:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13609),m=s(83419),f=s(39506),u=s(94811),h=s(96503),a=s(36383),l=s(17803),c=new m({Extends:l,Mixins:[o],initialize:function(v,p,g,x,C,P,w,E,b){p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=128),C===void 0&&(C=0),P===void 0&&(P=360),w===void 0&&(w=!1),l.call(this,v,"Arc",new h(0,0,x)),this._startAngle=C,this._endAngle=P,this._anticlockwise=w,this._iterations=.01,this.setPosition(p,g);var O=this.geom.radius*2;this.setSize(O,O),E!==void 0&&this.setFillStyle(E,b),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(d){this._iterations=d,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(d){this.geom.radius=d;var v=d*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(d){this._startAngle=d,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(d){this._endAngle=d,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(d){this._anticlockwise=d,this.updateData()}},setRadius:function(d){return this.radius=d,this},setIterations:function(d){return d===void 0&&(d=.01),this.iterations=d,this},setStartAngle:function(d,v){return this._startAngle=d,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(d,v){return this._endAngle=d,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var d=this._iterations,v=d,p=this.geom.radius,g=f(this._startAngle),x=f(this._endAngle),C=this._anticlockwise,P=p,w=p;x-=g,C?x<-a.PI2?x=-a.PI2:x>0&&(x=-a.PI2+x%a.PI2):x>a.PI2?x=a.PI2:x<0&&(x=a.PI2+x%a.PI2);for(var E=[P+Math.cos(g)*p,w+Math.sin(g)*p],b;v<1;)b=x*v+g,E.push(P+Math.cos(b)*p,w+Math.sin(b)*p),v+=d;return b=x+g,E.push(P+Math.cos(b)*p,w+Math.sin(b)*p),E.push(P+Math.cos(g)*p,w+Math.sin(g)*p),this.pathIndexes=u(E),this.pathData=E,this}});r.exports=c},42542:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39506),m=s(65960),f=s(75177),u=s(20926),h=function(a,l,c,d){c.addToRenderList(l);var v=a.currentContext;if(u(a,v,l,c,d)){var p=l.radius;v.beginPath(),v.arc(p-l.originX*(p*2),p-l.originY*(p*2),p,o(l._startAngle),o(l._endAngle),l.anticlockwise),l.closePath&&v.closePath(),l.isFilled&&(m(v,l),v.fill()),l.isStroked&&(f(v,l),v.stroke()),v.restore()}};r.exports=h},42563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23629),m=s(39429);m.register("arc",function(f,u,h,a,l,c,d,v){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d,v))}),m.register("circle",function(f,u,h,a,l){return this.displayList.add(new o(this.scene,f,u,h,0,360,!1,a,l))})},13609:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(41447),f=s(42542),r.exports={renderWebGL:m,renderCanvas:f}},41447:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(10441),f=s(34682),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=o(a,l,c),p=d.calcMatrix.copyFrom(v.calc),g=a._displayOriginX,x=a._displayOriginY,C=l.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&m(d,p,a,C,g,x),a.isStroked&&f(d,a,C,g,x),h.pipelines.postBatch(a)};r.exports=u},89:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(33141),f=s(94811),u=s(87841),h=s(17803),a=new o({Extends:h,Mixins:[m],initialize:function(c,d,v,p,g,x){d===void 0&&(d=0),v===void 0&&(v=0),h.call(this,c,"Curve",p),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(d,v),g!==void 0&&this.setFillStyle(g,x),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){var l=this._curveBounds,c=this._smoothness;this.geom.getBounds(l,c),this.setSize(l.width,l.height),this.updateDisplayOrigin();for(var d=[],v=this.geom.getPoints(c),p=0;p<v.length;p++)d.push(v[p].x,v[p].y);return d.push(v[0].x,v[0].y),this.pathIndexes=f(d),this.pathData=d,this}});r.exports=a},3170:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=a._displayOriginX+a._curveBounds.x,p=a._displayOriginY+a._curveBounds.y,g=a.pathData,x=g.length-1,C=g[0]-v,P=g[1]-p;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var E=g[w]-v,b=g[w+1]-p;d.lineTo(E,b)}a.closePath&&d.closePath(),a.isFilled&&(o(d,a),d.fill()),a.isStroked&&(m(d,a),d.stroke()),d.restore()}};r.exports=u},40511:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(89);o.register("curve",function(f,u,h,a,l){return this.displayList.add(new m(this.scene,f,u,h,a,l))})},33141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(53987),f=s(3170),r.exports={renderWebGL:m,renderCanvas:f}},53987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),m=s(91296),f=s(34682),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=m(a,l,c),p=d.calcMatrix.copyFrom(v.calc),g=a._displayOriginX+a._curveBounds.x,x=a._displayOriginY+a._curveBounds.y,C=l.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(d,p,a,C,g,x),a.isStroked&&f(d,a,C,g,x),h.pipelines.postBatch(a)};r.exports=u},19921:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(94811),f=s(54205),u=s(8497),h=s(17803),a=new o({Extends:h,Mixins:[f],initialize:function(c,d,v,p,g,x,C){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=128),g===void 0&&(g=128),h.call(this,c,"Ellipse",new u(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(d,v),this.width=p,this.height=g,x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(l){this._smoothness=l,this.updateData()}},setSize:function(l,c){return this.width=l,this.height=c,this.geom.setPosition(l/2,c/2),this.geom.setSize(l,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(l){return this._smoothness=l,this.updateData()},updateData:function(){for(var l=[],c=this.geom.getPoints(this._smoothness),d=0;d<c.length;d++)l.push(c[d].x,c[d].y);return l.push(c[0].x,c[0].y),this.pathIndexes=m(l),this.pathData=l,this}});r.exports=a},7930:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=a._displayOriginX,p=a._displayOriginY,g=a.pathData,x=g.length-1,C=g[0]-v,P=g[1]-p;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var E=g[w]-v,b=g[w+1]-p;d.lineTo(E,b)}d.closePath(),a.isFilled&&(o(d,a),d.fill()),a.isStroked&&(m(d,a),d.stroke()),d.restore()}};r.exports=u},1543:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19921),m=s(39429);m.register("ellipse",function(f,u,h,a,l,c){return this.displayList.add(new o(this.scene,f,u,h,a,l,c))})},54205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(19467),f=s(7930),r.exports={renderWebGL:m,renderCanvas:f}},19467:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),m=s(91296),f=s(34682),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=m(a,l,c),p=d.calcMatrix.copyFrom(v.calc),g=a._displayOriginX,x=a._displayOriginY,C=l.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(d,p,a,C,g,x),a.isStroked&&f(d,a,C,g,x),h.pipelines.postBatch(a)};r.exports=u},30479:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(17803),f=s(26015),u=new o({Extends:m,Mixins:[f],initialize:function(a,l,c,d,v,p,g,x,C,P,w){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=128),v===void 0&&(v=128),p===void 0&&(p=32),g===void 0&&(g=32),m.call(this,a,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(l,c),this.setSize(d,v),this.setFillStyle(x,C),P!==void 0&&this.setOutlineStyle(P,w),this.updateDisplayOrigin()},setFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=a,this.showOutline=!0),this}});r.exports=u},49912:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=-a._displayOriginX,p=-a._displayOriginY,g=l.alpha*a.alpha,x=a.width,C=a.height,P=a.cellWidth,w=a.cellHeight,E=Math.ceil(x/P),b=Math.ceil(C/w),O=P,M=w,A=P-(E*P-x),F=w-(b*w-C),R=a.showCells,L=a.showAltCells,D=a.showOutline,I=0,z=0,U=0,H=0,W=0;if(D&&(O--,M--,A===P&&A--,F===w&&F--),R&&a.fillAlpha>0)for(o(d,a),z=0;z<b;z++)for(L&&(U=z%2),I=0;I<E;I++){if(L&&U){U=0;continue}U++,H=I<E-1?O:A,W=z<b-1?M:F,d.fillRect(v+I*P,p+z*w,H,W)}if(L&&a.altFillAlpha>0)for(o(d,a,a.altFillColor,a.altFillAlpha*g),z=0;z<b;z++)for(L&&(U=z%2),I=0;I<E;I++){if(L&&!U){U=1;continue}U=0,H=I<E-1?O:A,W=z<b-1?M:F,d.fillRect(v+I*P,p+z*w,H,W)}if(D&&a.outlineFillAlpha>0){for(m(d,a,a.outlineFillColor,a.outlineFillAlpha*g),I=1;I<E;I++){var N=I*P;d.beginPath(),d.moveTo(N+v,p),d.lineTo(N+v,C+p),d.stroke()}for(z=1;z<b;z++){var X=z*w;d.beginPath(),d.moveTo(v,X+p),d.lineTo(v+x,X+p),d.stroke()}}d.restore()}};r.exports=u},34137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(30479);o.register("grid",function(f,u,h,a,l,c,d,v,p,g){return this.displayList.add(new m(this.scene,f,u,h,a,l,c,d,v,p,g))})},26015:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(46161),f=s(49912),r.exports={renderWebGL:m,renderCanvas:f}},46161:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){a.addToRenderList(h);var c=u.pipelines.set(h.pipeline),d=o(h,a,l),v=c.calcMatrix.copyFrom(d.calc);v.translate(-h._displayOriginX,-h._displayOriginY);var p=a.alpha*h.alpha,g=h.width,x=h.height,C=h.cellWidth,P=h.cellHeight,w=Math.ceil(g/C),E=Math.ceil(x/P),b=C,O=P,M=C-(w*C-g),A=P-(E*P-x),F,R,L=h.showCells,D=h.showAltCells,I=h.showOutline,z=0,U=0,H=0,W=0,N=0;if(I&&(b--,O--,M===C&&M--,A===P&&A--),u.pipelines.preBatch(h),L&&h.fillAlpha>0)for(F=c.fillTint,R=m.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*p),F.TL=R,F.TR=R,F.BL=R,F.BR=R,U=0;U<E;U++)for(D&&(H=U%2),z=0;z<w;z++){if(D&&H){H=0;continue}H++,W=z<w-1?b:M,N=U<E-1?O:A,c.batchFillRect(z*C,U*P,W,N)}if(D&&h.altFillAlpha>0)for(F=c.fillTint,R=m.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*p),F.TL=R,F.TR=R,F.BL=R,F.BR=R,U=0;U<E;U++)for(D&&(H=U%2),z=0;z<w;z++){if(D&&!H){H=1;continue}H=0,W=z<w-1?b:M,N=U<E-1?O:A,c.batchFillRect(z*C,U*P,W,N)}if(I&&h.outlineFillAlpha>0){var X=c.strokeTint,B=m.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*p);for(X.TL=B,X.TR=B,X.BL=B,X.BR=B,z=1;z<w;z++){var V=z*C;c.batchLine(V,0,V,x,h.lineWidth,h.lineWidth,1,0,!1)}for(U=1;U<E;U++){var k=U*P;c.batchLine(0,k,g,k,h.lineWidth,h.lineWidth,1,0,!1)}}u.pipelines.postBatch(h)};r.exports=f},61475:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99651),m=s(83419),f=s(17803),u=new m({Extends:f,Mixins:[o],initialize:function(a,l,c,d,v,p,g,x){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=48),v===void 0&&(v=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),x===void 0&&(x=13421772),f.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(l,c),this.setSize(d,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,a,l){return h===void 0&&(h=!0),a===void 0&&(a=!0),l===void 0&&(l=!0),this.showTop=h,this.showLeft=a,this.showRight=l,this},setFillStyle:function(h,a,l){return this.fillTop=h,this.fillLeft=a,this.fillRight=l,this.isFilled=!0,this}});r.exports=u},11508:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(20926),f=function(u,h,a,l){a.addToRenderList(h);var c=u.currentContext;if(m(u,c,h,a,l)&&h.isFilled){var d=h.width,v=h.height,p=d/2,g=d/h.projection;h.showTop&&(o(c,h,h.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-g-v),c.lineTo(p,-v),c.lineTo(p,-1),c.lineTo(0,g-1),c.lineTo(-p,-1),c.lineTo(-p,-v),c.fill()),h.showLeft&&(o(c,h,h.fillLeft),c.beginPath(),c.moveTo(-p,0),c.lineTo(0,g),c.lineTo(0,g-v),c.lineTo(-p,-v),c.lineTo(-p,0),c.fill()),h.showRight&&(o(c,h,h.fillRight),c.beginPath(),c.moveTo(p,0),c.lineTo(0,g),c.lineTo(0,g-v),c.lineTo(p,-v),c.lineTo(p,0),c.fill()),c.restore()}};r.exports=f},3933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(61475);o.register("isobox",function(f,u,h,a,l,c,d){return this.displayList.add(new m(this.scene,f,u,h,a,l,c,d))})},99651:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(68149),f=s(11508),r.exports={renderWebGL:m,renderCanvas:f}},68149:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){a.addToRenderList(h);var c=u.pipelines.set(h.pipeline),d=o(h,a,l),v=c.calcMatrix.copyFrom(d.calc),p=h.width,g=h.height,x=p/2,C=p/h.projection,P=a.alpha*h.alpha;if(h.isFilled){var w,E,b,O,M,A,F,R,L;u.pipelines.preBatch(h),h.showTop&&(w=m.getTintAppendFloatAlpha(h.fillTop,P),E=v.getX(-x,-g),b=v.getY(-x,-g),O=v.getX(0,-C-g),M=v.getY(0,-C-g),A=v.getX(x,-g),F=v.getY(x,-g),R=v.getX(0,C-g),L=v.getY(0,C-g),c.batchQuad(h,E,b,O,M,A,F,R,L,0,0,1,1,w,w,w,w,2)),h.showLeft&&(w=m.getTintAppendFloatAlpha(h.fillLeft,P),E=v.getX(-x,0),b=v.getY(-x,0),O=v.getX(0,C),M=v.getY(0,C),A=v.getX(0,C-g),F=v.getY(0,C-g),R=v.getX(-x,-g),L=v.getY(-x,-g),c.batchQuad(h,E,b,O,M,A,F,R,L,0,0,1,1,w,w,w,w,2)),h.showRight&&(w=m.getTintAppendFloatAlpha(h.fillRight,P),E=v.getX(x,0),b=v.getY(x,0),O=v.getX(0,C),M=v.getY(0,C),A=v.getX(0,C-g),F=v.getY(0,C-g),R=v.getX(x,-g),L=v.getY(x,-g),c.batchQuad(h,E,b,O,M,A,F,R,L,0,0,1,1,w,w,w,w,2)),u.pipelines.postBatch(h)}};r.exports=f},16933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(60561),f=s(17803),u=new o({Extends:f,Mixins:[m],initialize:function(a,l,c,d,v,p,g,x,C){l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=48),v===void 0&&(v=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),x===void 0&&(x=10066329),C===void 0&&(C=13421772),f.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=x,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(l,c),this.setSize(d,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,a,l){return h===void 0&&(h=!0),a===void 0&&(a=!0),l===void 0&&(l=!0),this.showTop=h,this.showLeft=a,this.showRight=l,this},setFillStyle:function(h,a,l){return this.fillTop=h,this.fillLeft=a,this.fillRight=l,this.isFilled=!0,this}});r.exports=u},79590:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(20926),f=function(u,h,a,l){a.addToRenderList(h);var c=u.currentContext;if(m(u,c,h,a,l)&&h.isFilled){var d=h.width,v=h.height,p=d/2,g=d/h.projection,x=h.isReversed;h.showTop&&x&&(o(c,h,h.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-g-v),c.lineTo(p,-v),c.lineTo(0,g-v),c.fill()),h.showLeft&&(o(c,h,h.fillLeft),c.beginPath(),x?(c.moveTo(-p,-v),c.lineTo(0,g),c.lineTo(0,g-v)):(c.moveTo(-p,0),c.lineTo(0,g),c.lineTo(0,g-v)),c.fill()),h.showRight&&(o(c,h,h.fillRight),c.beginPath(),x?(c.moveTo(p,-v),c.lineTo(0,g),c.lineTo(0,g-v)):(c.moveTo(p,0),c.lineTo(0,g),c.lineTo(0,g-v)),c.fill()),c.restore()}};r.exports=f},49803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(16933);o.register("isotriangle",function(f,u,h,a,l,c,d,v){return this.displayList.add(new m(this.scene,f,u,h,a,l,c,d,v))})},60561:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(51503),f=s(79590),r.exports={renderWebGL:m,renderCanvas:f}},51503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){a.addToRenderList(h);var c=u.pipelines.set(h.pipeline),d=o(h,a,l),v=c.calcMatrix.copyFrom(d.calc),p=h.width,g=h.height,x=p/2,C=p/h.projection,P=h.isReversed,w=a.alpha*h.alpha;if(h.isFilled){u.pipelines.preBatch(h);var E,b,O,M,A,F,R;if(h.showTop&&P){E=m.getTintAppendFloatAlpha(h.fillTop,w),b=v.getX(-x,-g),O=v.getY(-x,-g),M=v.getX(0,-C-g),A=v.getY(0,-C-g),F=v.getX(x,-g),R=v.getY(x,-g);var L=v.getX(0,C-g),D=v.getY(0,C-g);c.batchQuad(h,b,O,M,A,F,R,L,D,0,0,1,1,E,E,E,E,2)}h.showLeft&&(E=m.getTintAppendFloatAlpha(h.fillLeft,w),P?(b=v.getX(-x,-g),O=v.getY(-x,-g),M=v.getX(0,C),A=v.getY(0,C),F=v.getX(0,C-g),R=v.getY(0,C-g)):(b=v.getX(-x,0),O=v.getY(-x,0),M=v.getX(0,C),A=v.getY(0,C),F=v.getX(0,C-g),R=v.getY(0,C-g)),c.batchTri(h,b,O,M,A,F,R,0,0,1,1,E,E,E,2)),h.showRight&&(E=m.getTintAppendFloatAlpha(h.fillRight,w),P?(b=v.getX(x,-g),O=v.getY(x,-g),M=v.getX(0,C),A=v.getY(0,C),F=v.getX(0,C-g),R=v.getY(0,C-g)):(b=v.getX(x,0),O=v.getY(x,0),M=v.getX(0,C),A=v.getY(0,C),F=v.getX(0,C-g),R=v.getY(0,C-g)),c.batchTri(h,b,O,M,A,F,R,0,0,1,1,E,E,E,2)),u.pipelines.postBatch(h)}};r.exports=f},57847:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(17803),f=s(23031),u=s(36823),h=new o({Extends:m,Mixins:[u],initialize:function(l,c,d,v,p,g,x,C,P){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=128),x===void 0&&(x=0),m.call(this,l,"Line",new f(v,p,g,x));var w=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,d),this.setSize(w,E),C!==void 0&&this.setStrokeStyle(1,C,P),this.updateDisplayOrigin()},setLineWidth:function(a,l){return l===void 0&&(l=a),this._startWidth=a,this._endWidth=l,this.lineWidth=a,this},setTo:function(a,l,c,d){return this.geom.setTo(a,l,c,d),this}});r.exports=h},17440:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75177),m=s(20926),f=function(u,h,a,l){a.addToRenderList(h);var c=u.currentContext;if(m(u,c,h,a,l)){var d=h._displayOriginX,v=h._displayOriginY;h.isStroked&&(o(c,h),c.beginPath(),c.moveTo(h.geom.x1-d,h.geom.y1-v),c.lineTo(h.geom.x2-d,h.geom.y2-v),c.stroke()),c.restore()}};r.exports=f},2481:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(57847);o.register("line",function(f,u,h,a,l,c,d,v){return this.displayList.add(new m(this.scene,f,u,h,a,l,c,d,v))})},36823:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(77385),f=s(17440),r.exports={renderWebGL:m,renderCanvas:f}},77385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(70554),f=function(u,h,a,l){a.addToRenderList(h);var c=u.pipelines.set(h.pipeline),d=o(h,a,l);c.calcMatrix.copyFrom(d.calc);var v=h._displayOriginX,p=h._displayOriginY,g=a.alpha*h.alpha;if(u.pipelines.preBatch(h),h.isStroked){var x=c.strokeTint,C=m.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*g);x.TL=C,x.TR=C,x.BL=C,x.BR=C,c.batchLine(h.geom.x1-v,h.geom.y1-p,h.geom.x2-v,h.geom.y2-p,h._startWidth/2,h._endWidth/2,1,0,!1,d.sprite,d.camera)}u.pipelines.postBatch(h)};r.exports=f},24949:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90273),m=s(83419),f=s(94811),u=s(13829),h=s(25717),a=s(17803),l=s(5469),c=new m({Extends:a,Mixins:[o],initialize:function(v,p,g,x,C,P){p===void 0&&(p=0),g===void 0&&(g=0),a.call(this,v,"Polygon",new h(x));var w=u(this.geom);this.setPosition(p,g),this.setSize(w.width,w.height),C!==void 0&&this.setFillStyle(C,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(d){d===void 0&&(d=1);for(var v=0;v<d;v++)l(this.geom);return this.updateData()},setTo:function(d){this.geom.setTo(d);var v=u(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var d=[],v=this.geom.points,p=0;p<v.length;p++)d.push(v[p].x,v[p].y);return d.push(v[0].x,v[0].y),this.pathIndexes=f(d),this.pathData=d,this}});r.exports=c},38710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=a._displayOriginX,p=a._displayOriginY,g=a.pathData,x=g.length-1,C=g[0]-v,P=g[1]-p;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var E=g[w]-v,b=g[w+1]-p;d.lineTo(E,b)}a.closePath&&d.closePath(),a.isFilled&&(o(d,a),d.fill()),a.isStroked&&(m(d,a),d.stroke()),d.restore()}};r.exports=u},64827:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(24949);o.register("polygon",function(f,u,h,a,l){return this.displayList.add(new m(this.scene,f,u,h,a,l))})},90273:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(73695),f=s(38710),r.exports={renderWebGL:m,renderCanvas:f}},73695:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),m=s(91296),f=s(34682),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=m(a,l,c),p=d.calcMatrix.copyFrom(v.calc),g=a._displayOriginX,x=a._displayOriginY,C=l.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(d,p,a,C,g,x),a.isStroked&&f(d,a,C,g,x),h.pipelines.postBatch(a)};r.exports=u},74561:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(94811),f=s(87841),u=s(17803),h=s(95597),a=new o({Extends:u,Mixins:[h],initialize:function(c,d,v,p,g,x,C){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=128),g===void 0&&(g=128),u.call(this,c,"Rectangle",new f(0,0,p,g)),this.radius=20,this.isRounded=!1,this.setPosition(d,v),this.setSize(p,g),x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},setRounded:function(l){return l===void 0&&(l=16),this.radius=l,this.isRounded=l>0,this.updateRoundedData()},setSize:function(l,c){this.width=l,this.height=c,this.geom.setSize(l,c),this.updateData(),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=c),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var l=[],c=this.geom,d=this._tempLine;return c.getLineA(d),l.push(d.x1,d.y1,d.x2,d.y2),c.getLineB(d),l.push(d.x2,d.y2),c.getLineC(d),l.push(d.x2,d.y2),c.getLineD(d),l.push(d.x2,d.y2),this.pathData=l,this},updateRoundedData:function(){var l=[],c=this.width/2,d=this.height/2,v=Math.min(c,d),p=Math.min(this.radius,v),g=c,x=d,C=Math.max(1,Math.floor(p/5));return this.arcTo(l,g-c+p,x-d+p,p,Math.PI,Math.PI*1.5,C),l.push(g+c-p,x-d),this.arcTo(l,g+c-p,x-d+p,p,Math.PI*1.5,Math.PI*2,C),l.push(g+c,x+d-p),this.arcTo(l,g+c-p,x+d-p,p,0,Math.PI*.5,C),l.push(g-c+p,x+d),this.arcTo(l,g-c+p,x+d-p,p,Math.PI*.5,Math.PI,C),l.push(g-c,x-d+p),this.pathIndexes=m(l),this.pathData=l,this},arcTo:function(l,c,d,v,p,g,x){for(var C=(g-p)/x,P=0;P<=x;P++){var w=p+C*P;l.push(c+Math.cos(w)*v,d+Math.sin(w)*v)}}});r.exports=a},48682:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(a,l,c,d,v,p){var g=Math.min(d/2,v/2),x=Math.min(p,g);if(x===0){a.rect(l,c,d,v);return}a.moveTo(l+x,c),a.lineTo(l+d-x,c),a.arcTo(l+d,c,l+d,c+x,x),a.lineTo(l+d,c+v-x),a.arcTo(l+d,c+v,l+d-x,c+v,x),a.lineTo(l+x,c+v),a.arcTo(l,c+v,l,c+v-x,x),a.lineTo(l,c+x),a.arcTo(l,c,l+x,c,x),a.closePath()},h=function(a,l,c,d){c.addToRenderList(l);var v=a.currentContext;if(f(a,v,l,c,d)){var p=l._displayOriginX,g=l._displayOriginY;l.isFilled&&(o(v,l),l.isRounded?(v.beginPath(),u(v,-p,-g,l.width,l.height,l.radius),v.fill()):v.fillRect(-p,-g,l.width,l.height)),l.isStroked&&(m(v,l),v.beginPath(),l.isRounded?u(v,-p,-g,l.width,l.height,l.radius):v.rect(-p,-g,l.width,l.height),v.stroke()),v.restore()}};r.exports=h},87959:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(74561);o.register("rectangle",function(f,u,h,a,l,c){return this.displayList.add(new m(this.scene,f,u,h,a,l,c))})},95597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(52059),f=s(48682),r.exports={renderWebGL:m,renderCanvas:f}},52059:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),m=s(91296),f=s(34682),u=s(70554),h=function(a,l,c,d){c.addToRenderList(l);var v=a.pipelines.set(l.pipeline),p=m(l,c,d);v.calcMatrix.copyFrom(p.calc);var g=l._displayOriginX,x=l._displayOriginY,C=c.alpha*l.alpha;if(a.pipelines.preBatch(l),l.isRounded&&l.isFilled)o(v,p.calc,l,C,g,x);else if(l.isFilled){var P=v.fillTint,w=u.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*C);P.TL=w,P.TR=w,P.BL=w,P.BR=w,v.batchFillRect(-g,-x,l.width,l.height)}l.isStroked&&f(v,l,C,g,x),a.pipelines.postBatch(l)};r.exports=h},55911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81991),m=s(83419),f=s(94811),u=s(17803),h=new m({Extends:u,Mixins:[o],initialize:function(l,c,d,v,p,g,x,C){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=5),p===void 0&&(p=32),g===void 0&&(g=64),u.call(this,l,"Star",null),this._points=v,this._innerRadius=p,this._outerRadius=g,this.setPosition(c,d),this.setSize(g*2,g*2),x!==void 0&&this.setFillStyle(x,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],l=this._points,c=this._innerRadius,d=this._outerRadius,v=Math.PI/2*3,p=Math.PI/l,g=d,x=d;a.push(g,x+-d);for(var C=0;C<l;C++)a.push(g+Math.cos(v)*d,x+Math.sin(v)*d),v+=p,a.push(g+Math.cos(v)*c,x+Math.sin(v)*c),v+=p;return a.push(g,x+-d),this.pathIndexes=f(a),this.pathData=a,this}});r.exports=h},64272:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=a._displayOriginX,p=a._displayOriginY,g=a.pathData,x=g.length-1,C=g[0]-v,P=g[1]-p;d.beginPath(),d.moveTo(C,P),a.closePath||(x-=2);for(var w=2;w<x;w+=2){var E=g[w]-v,b=g[w+1]-p;d.lineTo(E,b)}d.closePath(),a.isFilled&&(o(d,a),d.fill()),a.isStroked&&(m(d,a),d.stroke()),d.restore()}};r.exports=u},93697:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55911),m=s(39429);m.register("star",function(f,u,h,a,l,c,d){return this.displayList.add(new o(this.scene,f,u,h,a,l,c,d))})},81991:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(57017),f=s(64272),r.exports={renderWebGL:m,renderCanvas:f}},57017:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10441),m=s(91296),f=s(34682),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=m(a,l,c),p=d.calcMatrix.copyFrom(v.calc),g=a._displayOriginX,x=a._displayOriginY,C=l.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(d,p,a,C,g,x),a.isStroked&&f(d,a,C,g,x),h.pipelines.postBatch(a)};r.exports=u},36931:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(17803),f=s(16483),u=s(96195),h=new o({Extends:m,Mixins:[u],initialize:function(l,c,d,v,p,g,x,C,P,w,E){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=128),g===void 0&&(g=64),x===void 0&&(x=0),C===void 0&&(C=128),P===void 0&&(P=128),m.call(this,l,"Triangle",new f(v,p,g,x,C,P));var b=this.geom.right-this.geom.left,O=this.geom.bottom-this.geom.top;this.setPosition(c,d),this.setSize(b,O),w!==void 0&&this.setFillStyle(w,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,l,c,d,v,p){return this.geom.setTo(a,l,c,d,v,p),this.updateData()},updateData:function(){var a=[],l=this.geom,c=this._tempLine;return l.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),l.getLineB(c),a.push(c.x2,c.y2),l.getLineC(c),a.push(c.x2,c.y2),this.pathData=a,this}});r.exports=h},85172:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(65960),m=s(75177),f=s(20926),u=function(h,a,l,c){l.addToRenderList(a);var d=h.currentContext;if(f(h,d,a,l,c)){var v=a._displayOriginX,p=a._displayOriginY,g=a.geom.x1-v,x=a.geom.y1-p,C=a.geom.x2-v,P=a.geom.y2-p,w=a.geom.x3-v,E=a.geom.y3-p;d.beginPath(),d.moveTo(g,x),d.lineTo(C,P),d.lineTo(w,E),d.closePath(),a.isFilled&&(o(d,a),d.fill()),a.isStroked&&(m(d,a),d.stroke()),d.restore()}};r.exports=u},45245:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(36931);o.register("triangle",function(f,u,h,a,l,c,d,v,p,g){return this.displayList.add(new m(this.scene,f,u,h,a,l,c,d,v,p,g))})},96195:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(83253),f=s(85172),r.exports={renderWebGL:m,renderCanvas:f}},83253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=s(34682),f=s(70554),u=function(h,a,l,c){l.addToRenderList(a);var d=h.pipelines.set(a.pipeline),v=o(a,l,c);d.calcMatrix.copyFrom(v.calc);var p=a._displayOriginX,g=a._displayOriginY,x=l.alpha*a.alpha;if(h.pipelines.preBatch(a),a.isFilled){var C=d.fillTint,P=f.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*x);C.TL=P,C.TR=P,C.BL=P,C.BR=P;var w=a.geom.x1-p,E=a.geom.y1-g,b=a.geom.x2-p,O=a.geom.y2-g,M=a.geom.x3-p,A=a.geom.y3-g;d.batchFillTriangle(w,E,b,O,M,A,v.sprite,v.camera)}a.isStroked&&m(d,a,x,p,g),h.pipelines.postBatch(a)};r.exports=u},68287:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),m=s(83419),f=s(31401),u=s(95643),h=s(92751),a=new m({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,h],initialize:function(c,d,v,p,g){u.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,g),this.setPosition(d,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,c){this.anims.update(l,c)},play:function(l,c){return this.anims.play(l,c)},playReverse:function(l,c){return this.anims.playReverse(l,c)},playAfterDelay:function(l,c){return this.anims.playAfterDelay(l,c)},playAfterRepeat:function(l,c){return this.anims.playAfterRepeat(l,c)},chain:function(l){return this.anims.chain(l)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=a},76552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o),s.batchSprite(o,o.frame,m,f)};r.exports=T},15567:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(13059),f=s(44603),u=s(23568),h=s(68287);f.register("sprite",function(a,l){a===void 0&&(a={});var c=u(a,"key",null),d=u(a,"frame",null),v=new h(this.scene,0,0,c,d);return l!==void 0&&(a.add=l),o(this.scene,v,a),m(v,a),v})},46409:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(68287);o.register("sprite",function(f,u,h,a){return this.displayList.add(new m(this.scene,f,u,h,a))})},92751:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(9409),f=s(76552),r.exports={renderWebGL:m,renderCanvas:f}},9409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m.addToRenderList(o),o.pipeline.batchSprite(o,m,f)};r.exports=T},14220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=s.canvas,u=s.context,h=s.style,a=[],l=0,c=m.length;h.maxLines>0&&h.maxLines<m.length&&(c=h.maxLines),h.syncFont(f,u);for(var d=s.letterSpacing,v=0;v<c;v++){var p=h.strokeThickness;if(d===0)p+=u.measureText(m[v]).width;else{for(var g=m[v],x=0;x<g.length;x++)p+=u.measureText(g[x]).width;g.length>1&&(p+=d*(g.length-1))}h.wordWrap&&(p-=u.measureText(" ").width),a[v]=Math.ceil(p),l=Math.max(l,a[v])}var C=o.fontSize+h.strokeThickness,P=C*c,w=s.lineSpacing;return c>1&&(P+=w*(c-1)),{width:l,height:P,lines:c,lineWidths:a,lineSpacing:w,lineHeight:C}};r.exports=T},79557:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=function(f){var u=o.create(this),h=u.getContext("2d",{willReadFrequently:!0});f.syncFont(u,h);var a=h.measureText(f.testString);if("actualBoundingBoxAscent"in a){var l=a.actualBoundingBoxAscent,c=a.actualBoundingBoxDescent;return o.remove(u),{ascent:l,descent:c,fontSize:l+c}}var d=Math.ceil(a.width*f.baselineX),v=d,p=2*v;v=v*f.baselineY|0,u.width=d,u.height=p,h.fillStyle="#f00",h.fillRect(0,0,d,p),h.font=f._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(f.testString,0,v);var g={ascent:0,descent:0,fontSize:0},x=h.getImageData(0,0,d,p);if(!x)return g.ascent=v,g.descent=v+6,g.fontSize=g.ascent+g.descent,o.remove(u),g;var C=x.data,P=C.length,w=d*4,E,b,O=0,M=!1;for(E=0;E<v;E++){for(b=0;b<w;b+=4)if(C[O+b]!==255){M=!0;break}if(!M)O+=w;else break}for(g.ascent=v-E,O=P-w,M=!1,E=p;E>v;E--){for(b=0;b<w;b+=4)if(C[O+b]!==255){M=!0;break}if(!M)O-=w;else break}return g.descent=E-v,g.fontSize=g.ascent+g.descent,o.remove(u),g};r.exports=m},50171:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(40366),m=s(27919),f=s(83419),u=s(31401),h=s(95643),a=s(14220),l=s(35154),c=s(35846),d=s(61771),v=s(35762),p=s(45650),g=new f({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,d],initialize:function(C,P,w,E,b){P===void 0&&(P=0),w===void 0&&(w=0),h.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(P,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new v(this,b),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),b&&b.padding&&this.setPadding(b.padding),b&&b.lineSpacing&&this.setLineSpacing(b.lineSpacing),b&&b.letterSpacing&&this.setLetterSpacing(b.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(x){var C=this.style;if(C.wordWrapCallback){var P=C.wordWrapCallback.call(C.wordWrapCallbackScope,x,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(x,this.context,this.style.wordWrapWidth):this.basicWordWrap(x,this.context,this.style.wordWrapWidth):x},advancedWordWrap:function(x,C,P){for(var w="",E=x.replace(/ +/gi," ").split(this.splitRegExp),b=E.length,O=0;O<b;O++){var M=E[O],A="";M=M.replace(/^ *|\s*$/gi,"");var F=M.length*this.letterSpacing,R=C.measureText(M).width+F;if(R<P){w+=M+`
`;continue}for(var L=P,D=M.split(" "),I=0;I<D.length;I++){var z=D[I],U=z+" ",H=U.length*this.letterSpacing,W=C.measureText(U).width+H;if(W>L){if(I===0){for(var N=U;N.length;){N=N.slice(0,-1);var X=N.length*this.letterSpacing;if(W=C.measureText(N).width+X,W<=L)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var B=z.substr(N.length);D[I]=B,A+=N}var V=D[I].length?I:I+1,k=D.slice(V).join(" ").replace(/[ \n]*$/gi,"");E.splice(O+1,0,k),b=E.length;break}else A+=U,L-=W}w+=A.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},basicWordWrap:function(x,C,P){for(var w="",E=x.split(this.splitRegExp),b=E.length-1,O=C.measureText(" ").width,M=0;M<=b;M++){for(var A=P,F=E[M].split(" "),R=F.length-1,L=0;L<=R;L++){var D=F[L],I=D.length*this.letterSpacing,z=C.measureText(D).width+I,U=z;L<R&&(U+=O),U>A&&L>0&&(w+=`
`,A=P),w+=D,L<R?(w+=" ",A-=U):A-=z}M<b&&(w+=`
`)}return w},getWrappedText:function(x){x===void 0&&(x=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(x);return C.split(this.splitRegExp)},setText:function(x){return!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x!==this._text&&(this._text=x.toString(),this.updateText()),this},appendText:function(x,C){C===void 0&&(C=!0),!x&&x!==0&&(x=""),Array.isArray(x)&&(x=x.join(`
`)),x=x.toString();var P=this._text.concat(C?`
`+x:x);return P!==this._text&&(this._text=P,this.updateText()),this},setStyle:function(x){return this.style.setStyle(x)},setFont:function(x){return this.style.setFont(x)},setFontFamily:function(x){return this.style.setFontFamily(x)},setFontSize:function(x){return this.style.setFontSize(x)},setFontStyle:function(x){return this.style.setFontStyle(x)},setFixedSize:function(x,C){return this.style.setFixedSize(x,C)},setBackgroundColor:function(x){return this.style.setBackgroundColor(x)},setFill:function(x){return this.style.setFill(x)},setColor:function(x){return this.style.setColor(x)},setStroke:function(x,C){return this.style.setStroke(x,C)},setShadow:function(x,C,P,w,E,b){return this.style.setShadow(x,C,P,w,E,b)},setShadowOffset:function(x,C){return this.style.setShadowOffset(x,C)},setShadowColor:function(x){return this.style.setShadowColor(x)},setShadowBlur:function(x){return this.style.setShadowBlur(x)},setShadowStroke:function(x){return this.style.setShadowStroke(x)},setShadowFill:function(x){return this.style.setShadowFill(x)},setWordWrapWidth:function(x,C){return this.style.setWordWrapWidth(x,C)},setWordWrapCallback:function(x,C){return this.style.setWordWrapCallback(x,C)},setAlign:function(x){return this.style.setAlign(x)},setResolution:function(x){return this.style.setResolution(x)},setLineSpacing:function(x){return this.lineSpacing=x,this.updateText()},setLetterSpacing:function(x){return this.letterSpacing=x,this.updateText()},setPadding:function(x,C,P,w){if(typeof x=="object"){var E=x,b=l(E,"x",null);b!==null?(x=b,P=b):(x=l(E,"left",0),P=l(E,"right",x));var O=l(E,"y",null);O!==null?(C=O,w=O):(C=l(E,"top",0),w=l(E,"bottom",C))}else x===void 0&&(x=0),C===void 0&&(C=x),P===void 0&&(P=x),w===void 0&&(w=C);return this.padding.left=x,this.padding.top=C,this.padding.right=P,this.padding.bottom=w,this.updateText()},setMaxLines:function(x){return this.style.setMaxLines(x)},setRTL:function(x){x===void 0&&(x=!0);var C=this.style;return C.rtl===x?this:(C.rtl=x,x?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var x=this.canvas,C=this.context,P=this.style,w=P.resolution,E=P.metrics;P.syncFont(x,C);var b=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(b=this.runWordWrap(this._text));var O=b.split(this.splitRegExp),M=a(this,E,O),A=this.padding,F;P.fixedWidth===0?(this.width=M.width+A.left+A.right,F=M.width):(this.width=P.fixedWidth,F=this.width-A.left-A.right,F<M.width&&(F=M.width)),P.fixedHeight===0?this.height=M.height+A.top+A.bottom:this.height=P.fixedHeight;var R=this.width,L=this.height;this.updateDisplayOrigin(),R*=w,L*=w,R=Math.max(R,1),L=Math.max(L,1),x.width!==R||x.height!==L?(x.width=R,x.height=L,this.frame.setSize(R,L),P.syncFont(x,C),P.rtl&&(C.direction="rtl")):C.clearRect(0,0,R,L),C.save(),C.scale(w,w),P.backgroundColor&&(C.fillStyle=P.backgroundColor,C.fillRect(0,0,R,L)),P.syncStyle(x,C),C.translate(A.left,A.top);for(var D,I,z=0;z<M.lines;z++){if(D=P.strokeThickness/2,I=P.strokeThickness/2+z*M.lineHeight+E.ascent,z>0&&(I+=M.lineSpacing*z),P.rtl)D=R-D-A.left-A.right;else if(P.align==="right")D+=F-M.lineWidths[z];else if(P.align==="center")D+=(F-M.lineWidths[z])/2;else if(P.align==="justify"){var U=.85;if(M.lineWidths[z]/M.width>=U){var H=M.width-M.lineWidths[z],W=C.measureText(" ").width,N=O[z].trim(),X=N.split(" ");H+=(O[z].length-N.length)*W;for(var B=Math.floor(H/W),V=0;B>0;)X[V]+=" ",V=(V+1)%(X.length-1||1),--B;O[z]=X.join(" ")}}this.autoRound&&(D=Math.round(D),I=Math.round(I));var k=this.letterSpacing;if(P.strokeThickness&&k===0&&(P.syncShadow(C,P.shadowStroke),C.strokeText(O[z],D,I)),P.color)if(P.syncShadow(C,P.shadowFill),k!==0)for(var j=0,$=O[z].split(""),J=0;J<$.length;J++)P.strokeThickness&&(P.syncShadow(C,P.shadowStroke),C.strokeText($[J],D+j,I),P.syncShadow(C,P.shadowFill)),C.fillText($[J],D+j,I),j+=C.measureText($[J]).width+k;else C.fillText(O[z],D,I)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(x,this.frame.source.glTexture,!0));var Z=this.input;return Z&&!Z.customHitArea&&(Z.hitArea.width=this.width,Z.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(x){this.setText(x)}},toJSON:function(){var x=u.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return x.data=C,x},preDestroy:function(){c(this.canvas),m.remove(this.canvas);var x=this.texture;x&&x.destroy()}});r.exports=g},79724:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o.width===0||o.height===0||(m.addToRenderList(o),s.batchSprite(o,o.frame,m,f))};r.exports=T},71259:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(50171);m.register("text",function(h,a){h===void 0&&(h={});var l=f(h,"text",""),c=f(h,"style",null),d=f(h,"padding",null);d!==null&&(c.padding=d);var v=new u(this.scene,0,0,l,c);return a!==void 0&&(h.add=a),o(this.scene,v,h),v.autoRound=f(h,"autoRound",!0),v.resolution=f(h,"resolution",1),v})},68005:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50171),m=s(39429);m.register("text",function(f,u,h,a){return this.displayList.add(new o(this.scene,f,u,h,a))})},61771:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(34397),f=s(79724),r.exports={renderWebGL:m,renderCanvas:f}},35762:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23568),f=s(35154),u=s(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(c,d){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(d,!1,!0)},setStyle:function(l,c,d){c===void 0&&(c=!0),d===void 0&&(d=!1);for(var v in h){var p=d?h[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=f(l,h[v][0],p):l&&v==="fontSize"&&typeof l.fontSize=="number"?this[v]=l.fontSize.toString()+"px":this[v]=m(l,h[v][0],p)}var g=f(l,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var x=f(l,"fill",null);x!==null&&(this.color=x);var C=f(l,"metrics",!1);return C?this.metrics={ascent:f(C,"ascent",0),descent:f(C,"descent",0),fontSize:f(C,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=u(this)),c?this.parent.updateText():this.parent},syncFont:function(l,c){c.font=this._font},syncStyle:function(l,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(l,c){c?(l.shadowOffsetX=this.shadowOffsetX,l.shadowOffsetY=this.shadowOffsetY,l.shadowColor=this.shadowColor,l.shadowBlur=this.shadowBlur):(l.shadowOffsetX=0,l.shadowOffsetY=0,l.shadowColor=0,l.shadowBlur=0)},update:function(l){return l&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(l,c){c===void 0&&(c=!0);var d=l,v="",p="";if(typeof l!="string")d=f(l,"fontFamily","Courier"),v=f(l,"fontSize","16px"),p=f(l,"fontStyle","");else{var g=l.split(" "),x=0;p=g.length>2?g[x++]:"",v=g[x++]||"16px",d=g[x++]||"Courier"}return(d!==this.fontFamily||v!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=d,this.fontSize=v,this.fontStyle=p,c&&this.update(!0)),this.parent},setFontFamily:function(l){return this.fontFamily!==l&&(this.fontFamily=l,this.update(!0)),this.parent},setFontStyle:function(l){return this.fontStyle!==l&&(this.fontStyle=l,this.update(!0)),this.parent},setFontSize:function(l){return typeof l=="number"&&(l=l.toString()+"px"),this.fontSize!==l&&(this.fontSize=l,this.update(!0)),this.parent},setTestString:function(l){return this.testString=l,this.update(!0)},setFixedSize:function(l,c){return this.fixedWidth=l,this.fixedHeight=c,l&&(this.parent.width=l),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(l){return this.backgroundColor=l,this.update(!1)},setFill:function(l){return this.color=l,this.update(!1)},setColor:function(l){return this.color=l,this.update(!1)},setResolution:function(l){return this.resolution=l,this.update(!1)},setStroke:function(l,c){return c===void 0&&(c=this.strokeThickness),l===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==l||this.strokeThickness!==c)&&(this.stroke=l,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(l,c,d,v,p,g){return l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d="#000"),v===void 0&&(v=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=l,this.shadowOffsetY=c,this.shadowColor=d,this.shadowBlur=v,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(l,c){return l===void 0&&(l=0),c===void 0&&(c=l),this.shadowOffsetX=l,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(l){return l===void 0&&(l="#000"),this.shadowColor=l,this.update(!1)},setShadowBlur:function(l){return l===void 0&&(l=0),this.shadowBlur=l,this.update(!1)},setShadowStroke:function(l){return this.shadowStroke=l,this.update(!1)},setShadowFill:function(l){return this.shadowFill=l,this.update(!1)},setWordWrapWidth:function(l,c){return c===void 0&&(c=!1),this.wordWrapWidth=l,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(l,c){return c===void 0&&(c=null),this.wordWrapCallback=l,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(l){return l===void 0&&(l="left"),this.align=l,this.update(!1)},setMaxLines:function(l){return l===void 0&&(l=0),this.maxLines=l,this.update(!1)},getTextMetrics:function(){var l=this.metrics;return{ascent:l.ascent,descent:l.descent,fontSize:l.fontSize}},toJSON:function(){var l={};for(var c in h)l[c]=this[c];return l.metrics=this.getTextMetrics(),l},destroy:function(){this.parent=void 0}});r.exports=a},34397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),m=function(f,u,h,a){if(!(u.width===0||u.height===0)){h.addToRenderList(u);var l=u.frame,c=l.width,d=l.height,v=o.getTintAppendFloatAlpha,p=f.pipelines.set(u.pipeline,u),g=p.setTexture2D(l.glTexture,u);p.batchTexture(u,l.glTexture,c,d,u.x,u.y,c/u.style.resolution,d/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,c,d,v(u.tintTopLeft,h.alpha*u._alphaTL),v(u.tintTopRight,h.alpha*u._alphaTR),v(u.tintBottomLeft,h.alpha*u._alphaBL),v(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,0,0,h,a,!1,g)}};r.exports=m},20839:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=s(83419),f=s(31401),u=s(95643),h=s(98439),a=s(68703),l=s(56295),c=s(45650),d=s(26099),v=8,p=new m({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,l],initialize:function(x,C,P,w,E,b,O){var M=x.sys.renderer;u.call(this,x,"TileSprite");var A=x.sys.textures.get(b),F=A.get(O);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),A=x.sys.textures.get("__MISSING"),F=A.get()),A.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),A=x.sys.textures.get("__MISSING"),F=A.get()),!w||!E?(w=w||F.width,E=E||F.height):(w=Math.floor(w),E=Math.floor(E)),this._tilePosition=new d,this._tileScale=new d(1,1),this.dirty=!1,this.renderer=M,this.canvas=o.create(this,w,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=A,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=x.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(F.width),this.potHeight=h(F.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,P),this.setSize(w,E),this.setFrame(O),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(g,x){return this.displayTexture=this.scene.sys.textures.get(g),this.setFrame(x)},setFrame:function(g){var x=this.displayTexture.get(g);return this.potWidth=h(x.width),this.potHeight=h(x.height),this.canvas.width=0,!x.cutWidth||!x.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=x,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(g,x){return g!==void 0&&(this.tilePositionX=g),x!==void 0&&(this.tilePositionY=x),this},setTileScale:function(g,x){return g===void 0&&(g=this.tileScaleX),x===void 0&&(x=g),this.tileScaleX=g,this.tileScaleY=x,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var g=this.displayFrame;if(g.source.isRenderTexture||g.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var x=this.fillContext,C=this.fillCanvas,P=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=g.cutWidth,w=g.cutHeight),x.clearRect(0,0,P,w),C.width=P,C.height=w,x.drawImage(g.source.image,g.cutX,g.cutY,g.cutWidth,g.cutHeight,0,0,P,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=x.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var g=this.canvas;if((g.width!==this.width||g.height!==this.height)&&(g.width=this.width,g.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var x=this.context;this.scene.sys.game.config.antialias||a.disable(x);var C=this._tileScale.x,P=this._tileScale.y,w=this._tilePosition.x,E=this._tilePosition.y;x.clearRect(0,0,this.width,this.height),x.save(),x.scale(C,P),x.translate(-w,-E),x.fillStyle=this.fillPattern,x.fillRect(w,E,this.width/C,this.height/P),x.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var g=this.texture;g&&g.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(g){this._tilePosition.x=g,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(g){this._tilePosition.y=g,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(g){this._tileScale.x=g,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(g){this._tileScale.y=g,this.dirty=!0}}});r.exports=p},46992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o.updateCanvas(),m.addToRenderList(o),s.batchSprite(o,o.frame,m,f)};r.exports=T},14167:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(20839);m.register("tileSprite",function(h,a){h===void 0&&(h={});var l=f(h,"x",0),c=f(h,"y",0),d=f(h,"width",512),v=f(h,"height",512),p=f(h,"key",""),g=f(h,"frame",""),x=new u(this.scene,l,c,d,v,p,g);return a!==void 0&&(h.add=a),o(this.scene,x,h),x})},91681:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20839),m=s(39429);m.register("tileSprite",function(f,u,h,a,l,c){return this.displayList.add(new o(this.scene,f,u,h,a,l,c))})},56295:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(18553),f=s(46992),r.exports={renderWebGL:m,renderCanvas:f}},18553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),m=function(f,u,h,a){u.updateCanvas();var l=u.width,c=u.height;if(!(l===0||c===0)){h.addToRenderList(u);var d=o.getTintAppendFloatAlpha,v=f.pipelines.set(u.pipeline,u),p=v.setTexture2D(u.fillPattern,u);v.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,l,c,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*l,u.originY*c,0,0,l,c,d(u.tintTopLeft,h.alpha*u._alphaTL),d(u.tintTopRight,h.alpha*u._alphaTR),d(u.tintBottomLeft,h.alpha*u._alphaBL),d(u.tintBottomRight,h.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,h,a,!1,p)}};r.exports=m},18471:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(31401),u=s(51708),h=s(8443),a=s(95643),l=s(36383),c=s(14463),d=s(45650),v=s(10247),p=new m({Extends:a,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,v],initialize:function(x,C,P,w){a.call(this,x,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=d(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var E=x.sys.game;this._device=E.device.video,this.setPosition(C,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(h.PAUSE,this.globalPause,this),E.events.on(h.RESUME,this.globalResume,this);var b=x.sys.sound;b&&b.on(c.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var x=this.scene.sys.cache.video.get(g);return x?(this.cacheKey=g,this.loadHandler(x.url,x.noAudio,x.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,x,C,P,w){x===void 0&&(x=!0),C===void 0&&(C=!1),this.cacheKey!==g&&(this.load(g),x&&this.play(C,P,w))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,x,C){x===void 0&&(x=!1);var P=this._device.getVideoURL(g);return P?(this.cacheKey="",this.loadHandler(P.url,x,C)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,x,C){return this.loadHandler(null,x,C,g)},loadHandler:function(g,x,C,P){x||(x=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),x?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),C?w.setAttribute("crossorigin",C):w.removeAttribute("crossorigin"),P)if("srcObject"in w)try{w.srcObject=P}catch(b){if(b.name!=="TypeError")throw b;w.src=URL.createObjectURL(P)}else w.src=URL.createObjectURL(P);else w.src=g;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var E=this.scene.sys.textures.get(this._key);return this.setTexture(E),this},requestVideoFrame:function(g,x){var C=this.video;if(C){var P=x.width,w=x.height,E=this.videoTexture,b=this.videoTextureSource,O=!E||b.source!==C;O?(this._codePaused=C.paused,this._codeMuted=C.muted,E?(b.source=C,b.width=P,b.height=w,E.get().setSize(P,w)):(E=this.scene.sys.textures.create(this._key,C,P,w),E.add("__BASE",0,0,0,P,w),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):b.update(),this.isStalled=!1,this.metadata=x;var M=x.mediaTime;O&&(this._lastUpdate=M,this.emit(u.VIDEO_CREATED,this,P,w),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?M>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):M<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=M,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,x,C){x===void 0&&(x=-1),C===void 0&&(C=l.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(g===void 0&&(g=P.loop),P.loop=g,this._markerIn=x,this._markerOut=C,this._playingMarker=x>-1&&C>x&&C<l.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler),g.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var x=this._callbacks;for(var C in x)g.addEventListener(C,x[C])}},removeEventHandlers:function(){var g=this.video;if(g){var x=this._callbacks;for(var C in x)g.removeEventListener(C,x[C])}},createPlayPromise:function(g){g===void 0&&(g=!0);var x=this.video,C=x.play();if(C!==void 0){var P=this.playSuccess.bind(this),w=this.playError.bind(this);if(!g){var E=this;w=function(){E.failedPlayAttempts++}}C.then(P).catch(w)}else x.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,x,C){return!isNaN(x)&&x>=0&&!isNaN(C)&&C>x&&(this.markers[g]=[x,C]),this},playMarker:function(g,x){var C=this.markers[g];return C&&this.play(x,C[0],C[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,x){return g===void 0&&(g=this.width),x===void 0&&(x=this.height),this.snapshotArea(0,0,this.width,this.height,g,x)},snapshotArea:function(g,x,C,P,w,E){g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=this.width),P===void 0&&(P=this.height),w===void 0&&(w=C),E===void 0&&(E=P);var b=this.video,O=this.snapshotTexture;return O?(O.setSize(w,E),b&&O.context.drawImage(b,g,x,C,P,0,0,w,E)):(O=this.scene.sys.textures.createCanvas(d(),w,E),this.snapshotTexture=O,b&&O.context.drawImage(b,g,x,C,P,0,0,w,E)),O.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var x=g.name;x==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):x==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(u.VIDEO_ERROR,this,g)},metadataHandler:function(g){this.emit(u.VIDEO_METADATA,this,g)},setSizeToFrame:function(g){g||(g=this.frame),this.width=g.realWidth,this.height=g.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var x=this.input;return x&&!x.customHitArea&&(x.hitArea.width=this.width,x.hitArea.height=this.height),this},stalledHandler:function(g){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(g,x){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=x,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var x=this.video;if(x){var C=x.duration;if(C!==1/0&&!isNaN(C)){var P=C*g;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var x=this.video;if(x){if(typeof g=="string"){var C=g[0],P=parseFloat(g.substr(1));C==="+"?g=x.currentTime+P:C==="-"&&(g=x.currentTime-P)}x.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var x=g.duration;if(x!==1/0&&!isNaN(x))return g.currentTime/x}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var x=this.video;return x&&(x.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,x){this._systemMuted=x;var C=this.video;C&&(C.muted=this._codeMuted?!0:x)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var x=this.video;return this._codePaused=g,x&&!x.ended&&(g?x.paused||(this.removeEventHandlers(),x.pause()):g||(this._playCalled?x.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=o(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,x){return x===void 0&&(x=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(x)),this._key=g,this.flipY=x,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var x=this.video;return x&&(this.removeEventHandlers(),x.cancelVideoFrameCallback(this._rfvCallbackId),x.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(h.PAUSE,this.globalPause,this),g.off(h.RESUME,this.globalResume,this);var x=this.scene.sys.sound;x&&x.off(c.GLOBAL_MUTE,this.globalMute,this)}});r.exports=p},58352:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o.videoTexture&&(m.addToRenderList(o),s.batchSprite(o,o.frame,m,f))};r.exports=T},11511:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25305),m=s(44603),f=s(23568),u=s(18471);m.register("video",function(h,a){h===void 0&&(h={});var l=f(h,"key",null),c=new u(this.scene,0,0,l);return a!==void 0&&(h.add=a),o(this.scene,c,h),c})},89025:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18471),m=s(39429);m.register("video",function(f,u,h){return this.displayList.add(new o(this.scene,f,u,h))})},10247:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(29849),f=s(58352),r.exports={renderWebGL:m,renderCanvas:f}},29849:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o.videoTexture&&(m.addToRenderList(o),o.pipeline.batchSprite(o,m,f))};r.exports=T},41481:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(96503),f=s(87902),u=s(83419),h=s(31401),a=s(95643),l=s(87841),c=s(37303),d=new u({Extends:a,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(p,g,x,C,P){C===void 0&&(C=1),P===void 0&&(P=C),a.call(this,p,"Zone"),this.setPosition(g,x),this.width=C,this.height=P,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,p,g){g===void 0&&(g=!0),this.width=v,this.height=p,this.updateDisplayOrigin();var x=this.input;return g&&x&&!x.customHitArea&&(x.hitArea.width=v,x.hitArea.height=p),this},setDisplaySize:function(v,p){return this.displayWidth=v,this.displayHeight=p,this},setCircleDropZone:function(v){return this.setDropZone(new m(0,0,v),f)},setRectangleDropZone:function(v,p){return this.setDropZone(new l(0,0,v,p),c)},setDropZone:function(v,p){return this.input||this.setInteractive(v,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,p,g){g.addToRenderList(p)},renderWebGL:function(v,p,g){g.addToRenderList(p)}});r.exports=d},95261:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),m=s(23568),f=s(41481);o.register("zone",function(u){var h=m(u,"x",0),a=m(u,"y",0),l=m(u,"width",1),c=m(u,"height",l);return new f(this.scene,h,a,l,c)})},84175:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41481),m=s(39429);m.register("zone",function(f,u,h,a){return this.displayList.add(new o(this.scene,f,u,h,a))})},95166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};r.exports=T},96503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(87902),f=s(26241),u=s(79124),h=s(23777),a=s(28176),l=new o({initialize:function(d,v,p){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=h.CIRCLE,this.x=d,this.y=v,this._radius=p,this._diameter=p*2},contains:function(c,d){return m(this,c,d)},getPoint:function(c,d){return f(this,c,d)},getPoints:function(c,d,v){return u(this,c,d,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,d,v){return this.x=c,this.y=d,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,d){return d===void 0&&(d=c),this.x=c,this.y=d,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});r.exports=l},71562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 2*(Math.PI*s.radius)};r.exports=T},92110:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h){return h===void 0&&(h=new o),h.x=f.x+f.radius*Math.cos(u),h.y=f.y+f.radius*Math.sin(u),h};r.exports=m},42250:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),m=function(f){return new o(f.x,f.y,f.radius)};r.exports=m},87902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(s.radius>0&&o>=s.left&&o<=s.right&&m>=s.top&&m<=s.bottom){var f=(s.x-o)*(s.x-o),u=(s.y-m)*(s.y-m);return f+u<=s.radius*s.radius}else return!1};r.exports=T},5698:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),m=function(f,u){return o(f,u.x,u.y)};r.exports=m},70588:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),m=function(f,u){return o(f,u.x,u.y)&&o(f,u.right,u.y)&&o(f,u.x,u.bottom)&&o(f,u.right,u.bottom)};r.exports=m},26394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x,s.y,s.radius)};r.exports=T},76278:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x===o.x&&s.y===o.y&&s.radius===o.radius};r.exports=T},2074:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u){return u===void 0&&(u=new o),u.x=f.left,u.y=f.top,u.width=f.diameter,u.height=f.diameter,u};r.exports=m},26241:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92110),m=s(62945),f=s(36383),u=s(2141),h=function(a,l,c){c===void 0&&(c=new u);var d=m(l,0,f.PI2);return o(a,d,c)};r.exports=h},79124:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71562),m=s(92110),f=s(62945),u=s(36383),h=function(a,l,c,d){d===void 0&&(d=[]),!l&&c>0&&(l=o(a)/c);for(var v=0;v<l;v++){var p=f(v/l,0,u.PI2);d.push(m(a,p))}return d};r.exports=h},50884:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x+=o,s.y+=m,s};r.exports=T},39212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x+=o.x,s.y+=o.y,s};r.exports=T},28176:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){u===void 0&&(u=new o);var h=2*Math.PI*Math.random(),a=Math.random()+Math.random(),l=a>1?2-a:a,c=l*Math.cos(h),d=l*Math.sin(h);return u.x=f.x+c*f.radius,u.y=f.y+d*f.radius,u};r.exports=m},88911:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503);o.Area=s(95166),o.Circumference=s(71562),o.CircumferencePoint=s(92110),o.Clone=s(42250),o.Contains=s(87902),o.ContainsPoint=s(5698),o.ContainsRect=s(70588),o.CopyFrom=s(26394),o.Equals=s(76278),o.GetBounds=s(2074),o.GetPoint=s(26241),o.GetPoints=s(79124),o.Offset=s(50884),o.OffsetPoint=s(39212),o.Random=s(28176),r.exports=o},23777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=T},78874:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};r.exports=T},92990:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=s.width/2,m=s.height/2,f=Math.pow(o-m,2)/Math.pow(o+m,2);return Math.PI*(o+m)*(1+3*f/(10+Math.sqrt(4-3*f)))};r.exports=T},79522:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h){h===void 0&&(h=new o);var a=f.width/2,l=f.height/2;return h.x=f.x+a*Math.cos(u),h.y=f.y+l*Math.sin(u),h};r.exports=m},58102:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497),m=function(f){return new o(f.x,f.y,f.width,f.height)};r.exports=m},81154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(s.width<=0||s.height<=0)return!1;var f=(o-s.x)/s.width,u=(m-s.y)/s.height;return f*=f,u*=u,f+u<.25};r.exports=T},46662:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),m=function(f,u){return o(f,u.x,u.y)};r.exports=m},1632:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81154),m=function(f,u){return o(f,u.x,u.y)&&o(f,u.right,u.y)&&o(f,u.x,u.bottom)&&o(f,u.right,u.bottom)};r.exports=m},65534:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};r.exports=T},8497:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(81154),f=s(90549),u=s(48320),h=s(23777),a=s(24820),l=new o({initialize:function(d,v,p,g){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=h.ELLIPSE,this.x=d,this.y=v,this.width=p,this.height=g},contains:function(c,d){return m(this,c,d)},getPoint:function(c,d){return f(this,c,d)},getPoints:function(c,d,v){return u(this,c,d,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,d,v,p){return this.x=c,this.y=d,this.width=v,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,d){return d===void 0&&(d=c),this.x=c,this.y=d,this},setSize:function(c,d){return d===void 0&&(d=c),this.width=c,this.height=d,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});r.exports=l},36146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};r.exports=T},23694:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u){return u===void 0&&(u=new o),u.x=f.left,u.y=f.top,u.width=f.width,u.height=f.height,u};r.exports=m},90549:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79522),m=s(62945),f=s(36383),u=s(2141),h=function(a,l,c){c===void 0&&(c=new u);var d=m(l,0,f.PI2);return o(a,d,c)};r.exports=h},48320:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(92990),m=s(79522),f=s(62945),u=s(36383),h=function(a,l,c,d){d===void 0&&(d=[]),!l&&c>0&&(l=o(a)/c);for(var v=0;v<l;v++){var p=f(v/l,0,u.PI2);d.push(m(a,p))}return d};r.exports=h},73424:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x+=o,s.y+=m,s};r.exports=T},44808:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x+=o.x,s.y+=o.y,s};r.exports=T},24820:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){u===void 0&&(u=new o);var h=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return u.x=f.x+a*Math.cos(h)*f.width/2,u.y=f.y+a*Math.sin(h)*f.height/2,u};r.exports=m},49203:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8497);o.Area=s(78874),o.Circumference=s(92990),o.CircumferencePoint=s(79522),o.Clone=s(58102),o.Contains=s(81154),o.ContainsPoint=s(46662),o.ContainsRect=s(1632),o.CopyFrom=s(65534),o.Equals=s(36146),o.GetBounds=s(23694),o.GetPoint=s(90549),o.GetPoints=s(48320),o.Offset=s(73424),o.OffsetPoint=s(44808),o.Random=s(24820),r.exports=o},55738:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23777),m=s(79291),f={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};f=m(!1,f,o),r.exports=f},2044:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20339),m=function(f,u){return o(f.x,f.y,u.x,u.y)<=f.radius+u.radius};r.exports=m},81491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=o.width/2,f=o.height/2,u=Math.abs(s.x-o.x-m),h=Math.abs(s.y-o.y-f),a=m+s.radius,l=f+s.radius;if(u>a||h>l)return!1;if(u<=m||h<=f)return!0;var c=u-m,d=h-f,v=c*c,p=d*d,g=s.radius*s.radius;return v+p<=g};r.exports=T},63376:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(2044),f=function(u,h,a){if(a===void 0&&(a=[]),m(u,h)){var l=u.x,c=u.y,d=u.radius,v=h.x,p=h.y,g=h.radius,x,C,P,w,E;if(c===p)E=(g*g-d*d-v*v+l*l)/(2*(l-v)),x=1,C=-2*p,P=v*v+E*E-2*v*E+p*p-g*g,w=C*C-4*x*P,w===0?a.push(new o(E,-C/(2*x))):w>0&&(a.push(new o(E,(-C+Math.sqrt(w))/(2*x))),a.push(new o(E,(-C-Math.sqrt(w))/(2*x))));else{var b=(l-v)/(c-p),O=(g*g-d*d-v*v+l*l-p*p+c*c)/(2*(c-p));x=b*b+1,C=2*c*b-2*O*b-2*l,P=l*l+c*c+O*O-d*d-2*c*O,w=C*C-4*x*P,w===0?(E=-C/(2*x),a.push(new o(E,O-E*b))):w>0&&(E=(-C+Math.sqrt(w))/(2*x),a.push(new o(E,O-E*b)),E=(-C-Math.sqrt(w))/(2*x),a.push(new o(E,O-E*b)))}}return a};r.exports=f},97439:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),m=s(81491),f=function(u,h,a){if(a===void 0&&(a=[]),m(u,h)){var l=h.getLineA(),c=h.getLineB(),d=h.getLineC(),v=h.getLineD();o(l,u,a),o(c,u,a),o(d,u,a),o(v,u,a)}return a};r.exports=f},4042:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(80462),f=function(u,h,a){if(a===void 0&&(a=[]),m(u,h)){var l=u.x1,c=u.y1,d=u.x2,v=u.y2,p=h.x,g=h.y,x=h.radius,C=d-l,P=v-c,w=l-p,E=c-g,b=C*C+P*P,O=2*(C*w+P*E),M=w*w+E*E-x*x,A=O*O-4*b*M,F,R;if(A===0){var L=-O/(2*b);F=l+L*C,R=c+L*P,L>=0&&L<=1&&a.push(new o(F,R))}else if(A>0){var D=(-O-Math.sqrt(A))/(2*b);F=l+D*C,R=c+D*P,D>=0&&D<=1&&a.push(new o(F,R));var I=(-O+Math.sqrt(A))/(2*b);F=l+I*C,R=c+I*P,I>=0&&I<=1&&a.push(new o(F,R))}}return a};r.exports=f},36100:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),m=function(f,u,h,a){h===void 0&&(h=!1);var l=f.x1,c=f.y1,d=f.x2,v=f.y2,p=u.x1,g=u.y1,x=u.x2,C=u.y2,P=d-l,w=v-c,E=x-p,b=C-g,O=P*b-w*E;if(O===0)return null;var M,A,F;if(h){if(M=(P*(g-c)+w*(l-p))/(E*w-b*P),P!==0)A=(p+E*M-l)/P;else if(w!==0)A=(g+b*M-c)/w;else return null;if(A<0||M<0||M>1)return null;F=A}else{if(M=((p-l)*b-(g-c)*E)/O,A=((c-g)*P-(l-p)*w)/O,M<0||M>1||A<0||A>1)return null;F=M}return a===void 0&&(a=new o),a.set(l+P*F,c+w*F,F)};r.exports=m},3073:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36100),m=s(23031),f=s(25836),u=new m,h=new f,a=function(l,c,d,v){d===void 0&&(d=!1),v===void 0&&(v=new f);var p=!1;v.set(),h.set();for(var g=c[c.length-1],x=0;x<c.length;x++){var C=c[x];u.setTo(g.x,g.y,C.x,C.y),g=C,o(l,u,d,h)&&(!p||h.z<v.z)&&(v.copy(h),p=!0)}return p?v:null};r.exports=a},56362:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),m=s(61369),f=s(3073),u=new o,h=function(a,l,c,d){d===void 0&&(d=new m),Array.isArray(l)||(l=[l]);var v=!1;d.set(),u.set();for(var p=0;p<l.length;p++)f(a,l[p].points,c,u)&&(!v||u.z<d.z)&&(d.set(u.x,u.y,u.z,p),v=!0);return v?d:null};r.exports=h},60646:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(76112),f=s(92773),u=function(h,a,l){if(l===void 0&&(l=[]),f(h,a))for(var c=a.getLineA(),d=a.getLineB(),v=a.getLineC(),p=a.getLineD(),g=[new o,new o,new o,new o],x=[m(c,h,g[0]),m(d,h,g[1]),m(v,h,g[2]),m(p,h,g[3])],C=0;C<4;C++)x[C]&&l.push(g[C]);return l};r.exports=u},71147:(r,T,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61369),m=s(56362),f=s(23031),u=new f;function h(c,d,v,p,g){var x=Math.cos(c),C=Math.sin(c);u.setTo(d,v,d+x,v+C);var P=m(u,p,!0);P&&g.push(new o(P.x,P.y,c,P.w))}function a(c,d){return c.z-d.z}var l=function(c,d,v){Array.isArray(v)||(v=[v]);for(var p=[],g=[],x=0;x<v.length;x++)for(var C=v[x].points,P=0;P<C.length;P++){var w=Math.atan2(C[P].y-d,C[P].x-c);g.indexOf(w)===-1&&(h(w,c,d,v,p),h(w-1e-5,c,d,v,p),h(w+1e-5,c,d,v,p),g.push(w))}return p.sort(a)};r.exports=l},68389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=s(59996),f=function(u,h,a){return a===void 0&&(a=new o),m(u,h)&&(a.x=Math.max(u.x,h.x),a.y=Math.max(u.y,h.y),a.width=Math.min(u.right,h.right)-a.x,a.height=Math.min(u.bottom,h.bottom)-a.y),a};r.exports=f},52784:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60646),m=s(59996),f=function(u,h,a){if(a===void 0&&(a=[]),m(u,h)){var l=u.getLineA(),c=u.getLineB(),d=u.getLineC(),v=u.getLineD();o(l,h,a),o(c,h,a),o(d,h,a),o(v,h,a)}return a};r.exports=f},26341:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89265),m=s(60646),f=function(u,h,a){if(a===void 0&&(a=[]),o(u,h)){var l=h.getLineA(),c=h.getLineB(),d=h.getLineC();m(l,u,a),m(c,u,a),m(d,u,a)}return a};r.exports=f},38720:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(4042),m=s(67636),f=function(u,h,a){if(a===void 0&&(a=[]),m(u,h)){var l=u.getLineA(),c=u.getLineB(),d=u.getLineC();o(l,h,a),o(c,h,a),o(d,h,a)}return a};r.exports=f},13882:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(2822),f=s(76112),u=function(h,a,l){if(l===void 0&&(l=[]),m(h,a))for(var c=h.getLineA(),d=h.getLineB(),v=h.getLineC(),p=[new o,new o,new o],g=[f(c,a,p[0]),f(d,a,p[1]),f(v,a,p[2])],x=0;x<3;x++)g[x]&&l.push(p[x]);return l};r.exports=u},75636:(r,T,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82944),m=s(13882),f=function(u,h,a){if(a===void 0&&(a=[]),o(u,h)){var l=h.getLineA(),c=h.getLineB(),d=h.getLineC();m(u,l,a),m(u,c,a),m(u,d,a)}return a};r.exports=f},80462:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),m=s(2141),f=new m,u=function(h,a,l){if(l===void 0&&(l=f),o(a,h.x1,h.y1))return l.x=h.x1,l.y=h.y1,!0;if(o(a,h.x2,h.y2))return l.x=h.x2,l.y=h.y2,!0;var c=h.x2-h.x1,d=h.y2-h.y1,v=a.x-h.x1,p=a.y-h.y1,g=c*c+d*d,x=c,C=d;if(g>0){var P=(v*c+p*d)/g;x*=P,C*=P}l.x=h.x1+x,l.y=h.y1+C;var w=x*x+C*C;return w<=g&&x*c+C*d>=0&&o(a,l.x,l.y)};r.exports=u},76112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=s.x1,u=s.y1,h=s.x2,a=s.y2,l=o.x1,c=o.y1,d=o.x2,v=o.y2;if(f===h&&u===a||l===d&&c===v)return!1;var p=(v-c)*(h-f)-(d-l)*(a-u);if(p===0)return!1;var g=((d-l)*(u-c)-(v-c)*(f-l))/p,x=((h-f)*(u-c)-(a-u)*(f-l))/p;return g<0||g>1||x<0||x>1?!1:(m&&(m.x=f+g*(h-f),m.y=u+g*(a-u)),!0)};r.exports=T},92773:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.x1,f=s.y1,u=s.x2,h=s.y2,a=o.x,l=o.y,c=o.right,d=o.bottom,v=0;if(m>=a&&m<=c&&f>=l&&f<=d||u>=a&&u<=c&&h>=l&&h<=d)return!0;if(m<a&&u>=a){if(v=f+(h-f)*(a-m)/(u-m),v>l&&v<=d)return!0}else if(m>c&&u<=c&&(v=f+(h-f)*(c-m)/(u-m),v>=l&&v<=d))return!0;if(f<l&&h>=l){if(v=m+(u-m)*(l-f)/(h-f),v>=a&&v<=c)return!0}else if(f>d&&h<=d&&(v=m+(u-m)*(d-f)/(h-f),v>=a&&v<=c))return!0;return!1};r.exports=T},16204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){m===void 0&&(m=1);var f=o.x1,u=o.y1,h=o.x2,a=o.y2,l=s.x,c=s.y,d=(h-f)*(h-f)+(a-u)*(a-u);if(d===0)return!1;var v=((l-f)*(h-f)+(c-u)*(a-u))/d;if(v<0)return Math.sqrt((f-l)*(f-l)+(u-c)*(u-c))<=m;if(v>=0&&v<=1){var p=((u-c)*(h-f)-(f-l)*(a-u))/d;return Math.abs(p)*Math.sqrt(d)<=m}else return Math.sqrt((h-l)*(h-l)+(a-c)*(a-c))<=m};r.exports=T},14199:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16204),m=function(f,u){if(!o(f,u))return!1;var h=Math.min(u.x1,u.x2),a=Math.max(u.x1,u.x2),l=Math.min(u.y1,u.y2),c=Math.max(u.y1,u.y2);return f.x>=h&&f.x<=a&&f.y>=l&&f.y<=c};r.exports=m},59996:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.width<=0||s.height<=0||o.width<=0||o.height<=0?!1:!(s.right<o.x||s.bottom<o.y||s.x>o.right||s.y>o.bottom)};r.exports=T},89265:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),m=s(37303),f=s(48653),u=s(77493),h=function(a,l){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var c=l.getLineA(),d=l.getLineB(),v=l.getLineC();if(m(a,c.x1,c.y1)||m(a,c.x2,c.y2)||m(a,d.x1,d.y1)||m(a,d.x2,d.y2)||m(a,v.x1,v.y1)||m(a,v.x2,v.y2))return!0;var p=a.getLineA(),g=a.getLineB(),x=a.getLineC(),C=a.getLineD();if(o(c,p)||o(c,g)||o(c,x)||o(c,C)||o(d,p)||o(d,g)||o(d,x)||o(d,C)||o(v,p)||o(v,g)||o(v,x)||o(v,C))return!0;var P=u(a),w=f(l,P,!0);return w.length>0};r.exports=h},84411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h){return h===void 0&&(h=0),!(o>s.right+h||m<s.left-h||f>s.bottom+h||u<s.top-h)};r.exports=T},67636:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80462),m=s(10690),f=function(u,h){return u.left>h.right||u.right<h.left||u.top>h.bottom||u.bottom<h.top?!1:!!(m(u,h.x,h.y)||o(u.getLineA(),h)||o(u.getLineB(),h)||o(u.getLineC(),h))};r.exports=f},2822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(76112),m=function(f,u){return!!(f.contains(u.x1,u.y1)||f.contains(u.x2,u.y2)||o(f.getLineA(),u)||o(f.getLineB(),u)||o(f.getLineC(),u))};r.exports=m},82944:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(48653),m=s(71694),f=s(76112),u=function(h,a){if(h.left>a.right||h.right<a.left||h.top>a.bottom||h.bottom<a.top)return!1;var l=h.getLineA(),c=h.getLineB(),d=h.getLineC(),v=a.getLineA(),p=a.getLineB(),g=a.getLineC();if(f(l,v)||f(l,p)||f(l,g)||f(c,v)||f(c,p)||f(c,g)||f(d,v)||f(d,p)||f(d,g))return!0;var x=m(h),C=o(a,x,!0);return C.length>0||(x=m(a),C=o(h,x,!0),C.length>0)};r.exports=u},91865:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};r.exports=T},84993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){o===void 0&&(o=1),m===void 0&&(m=[]);var f=Math.round(s.x1),u=Math.round(s.y1),h=Math.round(s.x2),a=Math.round(s.y2),l=Math.abs(h-f),c=Math.abs(a-u),d=f<h?1:-1,v=u<a?1:-1,p=l-c;m.push({x:f,y:u});for(var g=1;!(f===h&&u===a);){var x=p<<1;x>-c&&(p-=c,f+=d),x<l&&(p+=l,u+=v),g%o===0&&m.push({x:f,y:u}),g++}return m};r.exports=T},36469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=o-(s.x1+s.x2)/2,u=m-(s.y1+s.y2)/2;return s.x1+=f,s.y1+=u,s.x2+=f,s.y2+=u,s};r.exports=T},31116:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031),m=function(f){return new o(f.x1,f.y1,f.x2,f.y2)};r.exports=m},59944:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2)};r.exports=T},59220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2};r.exports=T},78177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=function(f,u,h){h===void 0&&(h=u);var a=o(f),l=f.x2-f.x1,c=f.y2-f.y1;return u&&(f.x1=f.x1-l/a*u,f.y1=f.y1-c/a*u),h&&(f.x2=f.x2+l/a*h,f.y2=f.y2+c/a*h),f};r.exports=m},26708:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(52816),m=s(6113),f=s(2141),u=function(h,a,l,c,d){c===void 0&&(c=0),d===void 0&&(d=[]);var v=[],p=h.x1,g=h.y1,x=h.x2-p,C=h.y2-g,P=m(a,d),w,E,b=l-1;for(w=0;w<b;w++)E=P(w/b),v.push(new f(p+x*E,g+C*E));if(E=P(1),v.push(new f(p+x*E,g+C*E)),c>0){var O=v[0],M=[O];for(w=1;w<v.length-1;w++){var A=v[w];o(O,A)>=c&&(M.push(A),O=A)}var F=v[v.length-1];return o(O,F)<c&&M.pop(),M.push(F),M}else return v};r.exports=u},32125:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.x=(f.x1+f.x2)/2,u.y=(f.y1+f.y2)/2,u};r.exports=m},99569:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h){h===void 0&&(h=new o);var a=f.x1,l=f.y1,c=f.x2,d=f.y2,v=(c-a)*(c-a)+(d-l)*(d-l);if(v===0)return h;var p=((u.x-a)*(c-a)+(u.y-l)*(d-l))/v;return h.x=a+p*(c-a),h.y=l+p*(d-l),h};r.exports=m},34638:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(91938),f=s(2141),u=function(h,a){a===void 0&&(a=new f);var l=m(h)-o.TAU;return a.x=Math.cos(l),a.y=Math.sin(l),a};r.exports=u},13151:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h){return h===void 0&&(h=new o),h.x=f.x1+(f.x2-f.x1)*u,h.y=f.y1+(f.y2-f.y1)*u,h};r.exports=m},15258:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=s(2141),f=function(u,h,a,l){l===void 0&&(l=[]),!h&&a>0&&(h=o(u)/a);for(var c=u.x1,d=u.y1,v=u.x2,p=u.y2,g=0;g<h;g++){var x=g/h,C=c+(v-c)*x,P=d+(p-d)*x;l.push(new m(C,P))}return l};r.exports=f},26408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.x1,f=s.y1,u=s.x2,h=s.y2,a=(u-m)*(u-m)+(h-f)*(h-f);if(a===0)return!1;var l=((f-o.y)*(u-m)-(m-o.x)*(h-f))/a;return Math.abs(l)*Math.sqrt(a)};r.exports=T},98770:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.abs(s.y1-s.y2)};r.exports=T},35001:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};r.exports=T},23031:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(13151),f=s(15258),u=s(23777),h=s(65822),a=s(26099),l=new o({initialize:function(d,v,p,g){d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=u.LINE,this.x1=d,this.y1=v,this.x2=p,this.y2=g},getPoint:function(c,d){return m(this,c,d)},getPoints:function(c,d,v){return f(this,c,d,v)},getRandomPoint:function(c){return h(this,c)},setTo:function(c,d,v,p){return c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=c,this.y1=d,this.x2=v,this.y2=p,this},setFromObjects:function(c,d){return this.x1=c.x,this.y1=c.y,this.x2=d.x,this.y2=d.y,this},getPointA:function(c){return c===void 0&&(c=new a),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new a),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});r.exports=l},64795:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(15994),f=s(91938),u=function(h){var a=f(h)-o.TAU;return m(a,-Math.PI,Math.PI)};r.exports=u},52616:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(91938),f=function(u){return Math.cos(m(u)-o.TAU)};r.exports=f},87231:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(91938),f=function(u){return Math.sin(m(u)-o.TAU)};r.exports=f},89662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x1+=o,s.y1+=m,s.x2+=o,s.y2+=m,s};r.exports=T},71165:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};r.exports=T},65822:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){u===void 0&&(u=new o);var h=Math.random();return u.x=f.x1+h*(f.x2-f.x1),u.y=f.y1+h*(f.y2-f.y1),u};r.exports=m},69777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91938),m=s(64795),f=function(u,h){return 2*m(h)-Math.PI-o(u)};r.exports=f},39706:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),m=function(f,u){var h=(f.x1+f.x2)/2,a=(f.y1+f.y2)/2;return o(f,h,a,u)};r.exports=m},82585:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64400),m=function(f,u,h){return o(f,u.x,u.y,h)};r.exports=m},64400:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=Math.cos(f),h=Math.sin(f),a=s.x1-o,l=s.y1-m;return s.x1=a*u-l*h+o,s.y1=a*h+l*u+m,a=s.x2-o,l=s.y2-m,s.x2=a*u-l*h+o,s.y2=a*h+l*u+m,s};r.exports=T},62377:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){return s.x1=o,s.y1=m,s.x2=o+Math.cos(f)*u,s.y2=m+Math.sin(f)*u,s};r.exports=T},71366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};r.exports=T},10809:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.abs(s.x1-s.x2)};r.exports=T},2529:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23031);o.Angle=s(91938),o.BresenhamPoints=s(84993),o.CenterOn=s(36469),o.Clone=s(31116),o.CopyFrom=s(59944),o.Equals=s(59220),o.Extend=s(78177),o.GetEasedPoints=s(26708),o.GetMidPoint=s(32125),o.GetNearestPoint=s(99569),o.GetNormal=s(34638),o.GetPoint=s(13151),o.GetPoints=s(15258),o.GetShortestDistance=s(26408),o.Height=s(98770),o.Length=s(35001),o.NormalAngle=s(64795),o.NormalX=s(52616),o.NormalY=s(87231),o.Offset=s(89662),o.PerpSlope=s(71165),o.Random=s(65822),o.ReflectAngle=s(69777),o.Rotate=s(39706),o.RotateAroundPoint=s(82585),o.RotateAroundXY=s(64400),o.SetToAngle=s(62377),o.Slope=s(71366),o.Width=s(10809),r.exports=o},83997:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(87841),f=s(26099);function u(a,l,c,d){var v=a-c,p=l-d,g=v*v+p*p;return Math.sqrt(g)}var h=new o({initialize:function(l,c,d){this.vertex1=l,this.vertex2=c,this.vertex3=d,this.bounds=new m,this._inCenter=new f},getInCenter:function(a){a===void 0&&(a=!0);var l=this.vertex1,c=this.vertex2,d=this.vertex3,v,p,g,x,C,P;a?(v=l.x,p=l.y,g=c.x,x=c.y,C=d.x,P=d.y):(v=l.vx,p=l.vy,g=c.vx,x=c.vy,C=d.vx,P=d.vy);var w=u(C,P,g,x),E=u(v,p,C,P),b=u(g,x,v,p),O=w+E+b;return this._inCenter.set((v*w+g*E+C*b)/O,(p*w+x*E+P*b)/O)},contains:function(a,l,c){var d=this.vertex1,v=this.vertex2,p=this.vertex3,g=d.vx,x=d.vy,C=v.vx,P=v.vy,w=p.vx,E=p.vy;if(c){var b=c.a,O=c.b,M=c.c,A=c.d,F=c.e,R=c.f;g=d.vx*b+d.vy*M+F,x=d.vx*O+d.vy*A+R,C=v.vx*b+v.vy*M+F,P=v.vx*O+v.vy*A+R,w=p.vx*b+p.vy*M+F,E=p.vx*O+p.vy*A+R}var L=w-g,D=E-x,I=C-g,z=P-x,U=a-g,H=l-x,W=L*L+D*D,N=L*I+D*z,X=L*U+D*H,B=I*I+z*z,V=I*U+z*H,k=W*B-N*N,j=k===0?0:1/k,$=(B*X-N*V)*j,J=(W*V-N*X)*j;return $>=0&&J>=0&&$+J<1},isCounterClockwise:function(a){var l=this.vertex1,c=this.vertex2,d=this.vertex3,v=(c.vx-l.vx)*(d.vy-l.vy)-(c.vy-l.vy)*(d.vx-l.vx);return a<=0?v>=0:v<0},load:function(a,l,c,d,v){return c=this.vertex1.load(a,l,c,d,v),c=this.vertex2.load(a,l,c,d,v),c=this.vertex3.load(a,l,c,d,v),c},transformCoordinatesLocal:function(a,l,c,d){return this.vertex1.transformCoordinatesLocal(a,l,c,d),this.vertex2.transformCoordinatesLocal(a,l,c,d),this.vertex3.transformCoordinatesLocal(a,l,c,d),this},updateBounds:function(){var a=this.vertex1,l=this.vertex2,c=this.vertex3,d=this.bounds;return d.x=Math.min(a.vx,l.vx,c.vx),d.y=Math.min(a.vy,l.vy,c.vy),d.width=Math.max(a.vx,l.vx,c.vx)-d.x,d.height=Math.max(a.vy,l.vy,c.vy)-d.y,this},isInView:function(a,l,c,d,v,p,g,x,C,P,w){this.update(d,v,p,g,x,C,P,w);var E=this.vertex1,b=this.vertex2,O=this.vertex3;if(E.ta<=0&&b.ta<=0&&O.ta<=0||l&&!this.isCounterClockwise(c))return!1;var M=this.bounds;M.x=Math.min(E.tx,b.tx,O.tx),M.y=Math.min(E.ty,b.ty,O.ty),M.width=Math.max(E.tx,b.tx,O.tx)-M.x,M.height=Math.max(E.ty,b.ty,O.ty)-M.y;var A=a.x+a.width,F=a.y+a.height;return M.width<=0||M.height<=0||a.width<=0||a.height<=0?!1:!(M.right<a.x||M.bottom<a.y||M.x>A||M.y>F)},scrollUV:function(a,l){return this.vertex1.scrollUV(a,l),this.vertex2.scrollUV(a,l),this.vertex3.scrollUV(a,l),this},scaleUV:function(a,l){return this.vertex1.scaleUV(a,l),this.vertex2.scaleUV(a,l),this.vertex3.scaleUV(a,l),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,l,c,d,v,p,g,x){return this.vertex1.update(l,c,d,v,p,g,x,a),this.vertex2.update(l,c,d,v,p,g,x,a),this.vertex3.update(l,c,d,v,p,g,x,a),this},translate:function(a,l){l===void 0&&(l=0);var c=this.vertex1,d=this.vertex2,v=this.vertex3;return c.x+=a,c.y+=l,d.x+=a,d.y+=l,v.x+=a,v.y+=l,this},x:{get:function(){return this.getInCenter().x},set:function(a){var l=this.getInCenter();this.translate(a-l.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var l=this.getInCenter();this.translate(0,a-l.y)}},alpha:{get:function(){var a=this.vertex1,l=this.vertex2,c=this.vertex3;return(a.alpha+l.alpha+c.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,l=this.vertex2,c=this.vertex3;return(a.vz+l.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=h},48803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),m=s(95540),f=s(37867),u=s(25836),h=s(39318),a=new u,l=new u,c=new f,d=function(v){var p=m(v,"mesh"),g=m(v,"texture",null),x=m(v,"frame"),C=m(v,"width",1),P=m(v,"height",C),w=m(v,"widthSegments",1),E=m(v,"heightSegments",w),b=m(v,"x",0),O=m(v,"y",0),M=m(v,"z",0),A=m(v,"rotateX",0),F=m(v,"rotateY",0),R=m(v,"rotateZ",0),L=m(v,"zIsUp",!0),D=m(v,"isOrtho",p?p.dirtyCache[11]:!1),I=m(v,"colors",[16777215]),z=m(v,"alphas",[1]),U=m(v,"tile",!1),H=m(v,"flipY",!1),W=m(v,"width",null),N={faces:[],verts:[]};a.set(b,O,M),l.set(A,F,R),c.fromRotationXYTranslation(l,a,L);var X;if(!g&&p)g=p.texture,x||(X=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return N;X||(X=g.get(x)),!W&&D&&g&&p&&(C=X.width/p.height,P=X.height/p.height);var B=C/2,V=P/2,k=Math.floor(w),j=Math.floor(E),$=k+1,J=j+1,Z=C/k,_=P/j,it=[],at=[],st,ft,ct=0,ut=1,Et=0,Mt=1;X&&(ct=X.u0,ut=X.u1,H?(Et=X.v1,Mt=X.v0):(Et=X.v0,Mt=X.v1));var At=ut-ct,vt=Mt-Et;for(ft=0;ft<J;ft++){var Ct=ft*_-V;for(st=0;st<$;st++){var St=st*Z-B;at.push(St,-Ct);var kt=ct+At*(st/k),Ht=Et+vt*(ft/j);it.push(kt,Ht)}}Array.isArray(I)||(I=[I]),Array.isArray(z)||(z=[z]);var re=0,Xt=0;for(ft=0;ft<j;ft++)for(st=0;st<k;st++){var Bt=(st+$*ft)*2,he=(st+$*(ft+1))*2,Ae=(st+1+$*(ft+1))*2,jt=(st+1+$*ft)*2,ae=I[Xt],pe=z[re],Ne=new h(at[Bt],at[Bt+1],0,it[Bt],it[Bt+1],ae,pe).transformMat4(c),ai=new h(at[he],at[he+1],0,it[he],it[he+1],ae,pe).transformMat4(c),Es=new h(at[jt],at[jt+1],0,it[jt],it[jt+1],ae,pe).transformMat4(c),de=new h(at[he],at[he+1],0,it[he],it[he+1],ae,pe).transformMat4(c),Vi=new h(at[Ae],at[Ae+1],0,it[Ae],it[Ae+1],ae,pe).transformMat4(c),Re=new h(at[jt],at[jt+1],0,it[jt],it[jt+1],ae,pe).transformMat4(c);U&&(Ne.setUVs(ct,Mt),ai.setUVs(ct,Et),Es.setUVs(ut,Mt),de.setUVs(ct,Et),Vi.setUVs(ut,Et),Re.setUVs(ut,Mt)),Xt++,Xt===I.length&&(Xt=0),re++,re===z.length&&(re=0),N.verts.push(Ne,ai,Es,de,Vi,Re),N.faces.push(new o(Ne,ai,Es),new o(de,Vi,Re))}return p&&(p.faces=p.faces.concat(N.faces),p.vertices=p.vertices.concat(N.verts)),N};r.exports=d},34684:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),m=s(37867),f=s(25836),u=s(39318),h=new f,a=new f,l=new m,c=function(d,v,p,g,x,C,P,w,E,b){p===void 0&&(p=1),g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=0),E===void 0&&(E=0),b===void 0&&(b=!0);var O={faces:[],verts:[]},M=d.materials;h.set(g,x,C),a.set(P,w,E),l.fromRotationXYTranslation(a,h,b);for(var A=0;A<d.models.length;A++)for(var F=d.models[A],R=F.vertices,L=F.textureCoords,D=F.faces,I=0;I<D.length;I++){var z=D[I],U=z.vertices[0],H=z.vertices[1],W=z.vertices[2],N=R[U.vertexIndex],X=R[H.vertexIndex],B=R[W.vertexIndex],V=U.textureCoordsIndex,k=H.textureCoordsIndex,j=W.textureCoordsIndex,$=V===-1?{u:0,v:1}:L[V],J=k===-1?{u:0,v:0}:L[k],Z=j===-1?{u:1,v:1}:L[j],_=16777215;z.material!==""&&M[z.material]&&(_=M[z.material]);var it=new u(N.x*p,N.y*p,N.z*p,$.u,$.v,_).transformMat4(l),at=new u(X.x*p,X.y*p,X.z*p,J.u,J.v,_).transformMat4(l),st=new u(B.x*p,B.y*p,B.z*p,Z.u,Z.v,_).transformMat4(l);O.verts.push(it,at,st),O.faces.push(new o(it,at,st))}return v&&(v.faces=v.faces.concat(O.faces),v.vertices=v.vertices.concat(O.verts)),O};r.exports=c},92515:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83997),m=s(39318),f=function(u,h,a,l,c,d,v,p){if(l===void 0&&(l=!1),d===void 0&&(d=16777215),v===void 0&&(v=1),p===void 0&&(p=!1),u.length!==h.length&&!l){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},x,C,P,w,E,b,O,M,A,F,R,L=l?3:2,D=Array.isArray(d),I=Array.isArray(v);if(Array.isArray(a)&&a.length>0)for(x=0;x<a.length;x++){var z=a[x],U=a[x]*2,H=a[x]*L;C=u[H],P=u[H+1],w=l?u[H+2]:0,E=h[U],b=h[U+1],p&&(b=1-b),O=D?d[z]:d,M=I?v[z]:v,A=0,F=0,R=0,c&&(A=c[H],F=c[H+1],R=l?c[H+2]:0),g.vertices.push(new m(C,P,w,E,b,O,M,A,F,R))}else{var W=0,N=0;for(x=0;x<u.length;x+=L)C=u[x],P=u[x+1],w=l?u[x+2]:0,E=h[W],b=h[W+1],O=D?d[N]:d,M=I?v[N]:v,A=0,F=0,R=0,c&&(A=c[x],F=c[x+1],R=l?c[x+2]:0),g.vertices.push(new m(C,P,w,E,b,O,M,A,F,R)),W+=2,N++}for(x=0;x<g.vertices.length;x+=3){var X=g.vertices[x],B=g.vertices[x+1],V=g.vertices[x+2];g.faces.push(new o(X,B,V))}return g};r.exports=f},85048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,s="untitled",o="",m="";function f(C){var P=C.indexOf("#");return P>-1?C.substring(0,P):C}function u(C){return C.models.length===0&&C.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),o="",C.models[C.models.length-1]}function h(C,P){var w=C.length>=2?C[1]:s;P.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(C){C.length===2&&(o=C[1])}function l(C,P){var w=C.length,E=w>=2?parseFloat(C[1]):0,b=w>=3?parseFloat(C[2]):0,O=w>=4?parseFloat(C[3]):0;u(P).vertices.push({x:E,y:b,z:O})}function c(C,P){var w=C.length,E=w>=2?parseFloat(C[1]):0,b=w>=3?parseFloat(C[2]):0,O=w>=4?parseFloat(C[3]):0;isNaN(E)&&(E=0),isNaN(b)&&(b=0),isNaN(O)&&(O=0),T&&(b=1-b),u(P).textureCoords.push({u:E,v:b,w:O})}function d(C,P){var w=C.length,E=w>=2?parseFloat(C[1]):0,b=w>=3?parseFloat(C[2]):0,O=w>=4?parseFloat(C[3]):0;u(P).vertexNormals.push({x:E,y:b,z:O})}function v(C,P){var w=C.length-1;if(!(w<3)){for(var E={group:o,material:m,vertices:[]},b=0;b<w;b++){var O=C[b+1],M=O.split("/"),A=M.length;if(!(A<1||A>3)){var F=0,R=0,L=0;F=parseInt(M[0],10),A>1&&M[1]!==""&&(R=parseInt(M[1],10)),A>2&&(L=parseInt(M[2],10)),F!==0&&(F<0&&(F=u(P).vertices.length+1+F),R-=1,F-=1,L-=1,E.vertices.push({textureCoordsIndex:R,vertexIndex:F,vertexNormalIndex:L}))}}u(P).faces.push(E)}}function p(C,P){C.length>=2&&P.materialLibraries.push(C[1])}function g(C){C.length>=2&&(m=C[1])}var x=function(C,P){P===void 0&&(P=!0),T=P;var w={materials:{},materialLibraries:[],models:[]};o="",m="";for(var E=C.split(`
`),b=0;b<E.length;b++){var O=f(E[b]),M=O.replace(/\s\s+/g," ").trim().split(" ");switch(M[0].toLowerCase()){case"o":h(M,w);break;case"g":a(M);break;case"v":l(M,w);break;case"vt":c(M,w);break;case"vn":d(M,w);break;case"f":v(M,w);break;case"mtllib":p(M,w);break;case"usemtl":g(M);break}}return w};r.exports=x},61485:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37589),m=function(f){for(var u={},h=f.split(`
`),a="",l=0;l<h.length;l++){var c=h[l].trim();if(!(c.indexOf("#")===0||c==="")){var d=c.replace(/\s\s+/g," ").trim().split(" ");switch(d[0].toLowerCase()){case"newmtl":{a=d[1];break}case"kd":{var v=Math.floor(d[1]*255),p=d.length>=2?Math.floor(d[2]*255):v,g=d.length>=3?Math.floor(d[3]*255):v;u[a]=o(v,p,g);break}}}}return u};r.exports=m},92570:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u,h;if(m===void 0&&f===void 0){var a=s.getInCenter();u=a.x,h=a.y}var l=Math.cos(o),c=Math.sin(o),d=s.vertex1,v=s.vertex2,p=s.vertex3,g=d.x-u,x=d.y-h;d.set(g*l-x*c+u,g*c+x*l+h),g=v.x-u,x=v.y-h,v.set(g*l-x*c+u,g*c+x*l+h),g=p.x-u,x=p.y-h,p.set(g*l-x*c+u,g*c+x*l+h)};r.exports=T},39318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(70554),f=s(25836),u=new o({Extends:f,initialize:function(a,l,c,d,v,p,g,x,C,P){p===void 0&&(p=16777215),g===void 0&&(g=1),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),f.call(this,a,l,c),this.vx=0,this.vy=0,this.vz=0,this.nx=x,this.ny=C,this.nz=P,this.u=d,this.v=v,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=d,this.tv=v},setUVs:function(h,a){return this.u=h,this.v=a,this.tu=h,this.tv=a,this},scrollUV:function(h,a){return this.tu+=h,this.tv+=a,this},scaleUV:function(h,a){return this.tu=this.u*h,this.tv=this.v*a,this},transformCoordinatesLocal:function(h,a,l,c){var d=this.x,v=this.y,p=this.z,g=h.val,x=d*g[0]+v*g[4]+p*g[8]+g[12],C=d*g[1]+v*g[5]+p*g[9]+g[13],P=d*g[2]+v*g[6]+p*g[10]+g[14],w=d*g[3]+v*g[7]+p*g[11]+g[15];this.vx=x/w*a,this.vy=-(C/w)*l,c<=0?this.vz=P/w:this.vz=-(P/w)},resize:function(h,a,l,c,d,v){return this.x=h,this.y=a,this.vx=this.x*l,this.vy=-this.y*c,this.vz=0,d<.5?this.vx+=l*(.5-d):d>.5&&(this.vx-=l*(d-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(h,a,l,c,d,v,p,g){var x=this.vx*h+this.vy*l+d,C=this.vx*a+this.vy*c+v;return p&&(x=Math.round(x),C=Math.round(C)),this.tx=x,this.ty=C,this.ta=this.alpha*g,this},load:function(h,a,l,c,d){return h[++l]=this.tx,h[++l]=this.ty,h[++l]=this.tu,h[++l]=this.tv,h[++l]=c,h[++l]=d,a[++l]=m.getTintAppendFloatAlpha(this.color,this.ta),l}});r.exports=u},73090:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};r.exports=o},96550:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};r.exports=T},99706:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f){return new o(f.x,f.y)};r.exports=m},68010:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x,s.y)};r.exports=T},27814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x===o.x&&s.y===o.y};r.exports=T},73565:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};r.exports=T},87555:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){if(u===void 0&&(u=new o),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var h=f.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)u.x=f[0].x,u.y=f[0].y;else{for(var a=0;a<h;a++)u.x+=f[a].x,u.y+=f[a].y;u.x/=h,u.y/=h}return u};r.exports=m},28793:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};r.exports=T},44405:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x*s.x+s.y*s.y};r.exports=T},20873:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u){u===void 0&&(u=new o);for(var h=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,d=0;d<f.length;d++){var v=f[d];v.x>h&&(h=v.x),v.x<a&&(a=v.x),v.y>l&&(l=v.y),v.y<c&&(c=v.y)}return u.x=a,u.y=c,u.width=h-a,u.height=l-c,u};r.exports=m},26152:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h,a){return h===void 0&&(h=0),a===void 0&&(a=new o),a.x=f.x+(u.x-f.x)*h,a.y=f.y+(u.y-f.y)*h,a};r.exports=m},55767:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.setTo(s.y,s.x)};r.exports=T},79432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.setTo(-f.x,-f.y)};r.exports=m},2141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23777),f=new o({initialize:function(h,a){h===void 0&&(h=0),a===void 0&&(a=h),this.type=m.POINT,this.x=h,this.y=a},setTo:function(u,h){return u===void 0&&(u=0),h===void 0&&(h=u),this.x=u,this.y=h,this}});r.exports=f},72930:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(44405),f=function(u,h,a){a===void 0&&(a=new o);var l=u.x*h.x+u.y*h.y,c=l/m(h);return c!==0&&(a.x=c*h.x,a.y=c*h.y),a};r.exports=f},62880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u,h){h===void 0&&(h=new o);var a=f.x*u.x+f.y*u.y;return a!==0&&(h.x=a*u.x,h.y=a*u.y),h};r.exports=m},15093:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28793),m=function(f,u){if(f.x!==0||f.y!==0){var h=o(f);f.x/=h,f.y/=h}return f.x*=u,f.y*=u,f};r.exports=m},43711:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);o.Ceil=s(96550),o.Clone=s(99706),o.CopyFrom=s(68010),o.Equals=s(27814),o.Floor=s(73565),o.GetCentroid=s(87555),o.GetMagnitude=s(28793),o.GetMagnitudeSq=s(44405),o.GetRectangleFromPoints=s(20873),o.Interpolate=s(26152),o.Invert=s(55767),o.Negative=s(79432),o.Project=s(72930),o.ProjectUnit=s(62880),o.SetMagnitude=s(15093),r.exports=o},12306:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717),m=function(f){return new o(f.points)};r.exports=m},63814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){for(var f=!1,u=-1,h=s.points.length-1;++u<s.points.length;h=u){var a=s.points[u].x,l=s.points[u].y,c=s.points[h].x,d=s.points[h].y;(l<=m&&m<d||d<=m&&m<l)&&o<(c-a)*(m-l)/(d-l)+a&&(f=!f)}return f};r.exports=T},99338:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63814),m=function(f,u){return o(f,u.x,u.y)};r.exports=m},94811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(N,X,B){B=B||2;var V=X&&X.length,k=V?X[0]*B:N.length,j=s(N,0,k,B,!0),$=[];if(!j||j.next===j.prev)return $;var J,Z,_,it,at,st,ft;if(V&&(j=l(N,X,j,B)),N.length>80*B){J=_=N[0],Z=it=N[1];for(var ct=B;ct<k;ct+=B)at=N[ct],st=N[ct+1],at<J&&(J=at),st<Z&&(Z=st),at>_&&(_=at),st>it&&(it=st);ft=Math.max(_-J,it-Z),ft=ft!==0?32767/ft:0}return m(j,$,B,J,Z,ft,0),$}function s(N,X,B,V,k){var j,$;if(k===W(N,X,B,V)>0)for(j=X;j<B;j+=V)$=z(j,N[j],N[j+1],$);else for(j=B-V;j>=X;j-=V)$=z(j,N[j],N[j+1],$);return $&&O($,$.next)&&(U($),$=$.next),$}function o(N,X){if(!N)return N;X||(X=N);var B=N,V;do if(V=!1,!B.steiner&&(O(B,B.next)||b(B.prev,B,B.next)===0)){if(U(B),B=X=B.prev,B===B.next)break;V=!0}else B=B.next;while(V||B!==X);return X}function m(N,X,B,V,k,j,$){if(N){!$&&j&&g(N,V,k,j);for(var J=N,Z,_;N.prev!==N.next;){if(Z=N.prev,_=N.next,j?u(N,V,k,j):f(N)){X.push(Z.i/B|0),X.push(N.i/B|0),X.push(_.i/B|0),U(N),N=_.next,J=_.next;continue}if(N=_,N===J){$?$===1?(N=h(o(N),X,B),m(N,X,B,V,k,j,2)):$===2&&a(N,X,B,V,k,j):m(o(N),X,B,V,k,j,1);break}}}}function f(N){var X=N.prev,B=N,V=N.next;if(b(X,B,V)>=0)return!1;for(var k=X.x,j=B.x,$=V.x,J=X.y,Z=B.y,_=V.y,it=k<j?k<$?k:$:j<$?j:$,at=J<Z?J<_?J:_:Z<_?Z:_,st=k>j?k>$?k:$:j>$?j:$,ft=J>Z?J>_?J:_:Z>_?Z:_,ct=V.next;ct!==X;){if(ct.x>=it&&ct.x<=st&&ct.y>=at&&ct.y<=ft&&w(k,J,j,Z,$,_,ct.x,ct.y)&&b(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function u(N,X,B,V){var k=N.prev,j=N,$=N.next;if(b(k,j,$)>=0)return!1;for(var J=k.x,Z=j.x,_=$.x,it=k.y,at=j.y,st=$.y,ft=J<Z?J<_?J:_:Z<_?Z:_,ct=it<at?it<st?it:st:at<st?at:st,ut=J>Z?J>_?J:_:Z>_?Z:_,Et=it>at?it>st?it:st:at>st?at:st,Mt=C(ft,ct,X,B,V),At=C(ut,Et,X,B,V),vt=N.prevZ,Ct=N.nextZ;vt&&vt.z>=Mt&&Ct&&Ct.z<=At;){if(vt.x>=ft&&vt.x<=ut&&vt.y>=ct&&vt.y<=Et&&vt!==k&&vt!==$&&w(J,it,Z,at,_,st,vt.x,vt.y)&&b(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,Ct.x>=ft&&Ct.x<=ut&&Ct.y>=ct&&Ct.y<=Et&&Ct!==k&&Ct!==$&&w(J,it,Z,at,_,st,Ct.x,Ct.y)&&b(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;vt&&vt.z>=Mt;){if(vt.x>=ft&&vt.x<=ut&&vt.y>=ct&&vt.y<=Et&&vt!==k&&vt!==$&&w(J,it,Z,at,_,st,vt.x,vt.y)&&b(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;Ct&&Ct.z<=At;){if(Ct.x>=ft&&Ct.x<=ut&&Ct.y>=ct&&Ct.y<=Et&&Ct!==k&&Ct!==$&&w(J,it,Z,at,_,st,Ct.x,Ct.y)&&b(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function h(N,X,B){var V=N;do{var k=V.prev,j=V.next.next;!O(k,j)&&M(k,V,V.next,j)&&L(k,j)&&L(j,k)&&(X.push(k.i/B|0),X.push(V.i/B|0),X.push(j.i/B|0),U(V),U(V.next),V=N=j),V=V.next}while(V!==N);return o(V)}function a(N,X,B,V,k,j){var $=N;do{for(var J=$.next.next;J!==$.prev;){if($.i!==J.i&&E($,J)){var Z=I($,J);$=o($,$.next),Z=o(Z,Z.next),m($,X,B,V,k,j,0),m(Z,X,B,V,k,j,0);return}J=J.next}$=$.next}while($!==N)}function l(N,X,B,V){var k=[],j,$,J,Z,_;for(j=0,$=X.length;j<$;j++)J=X[j]*V,Z=j<$-1?X[j+1]*V:N.length,_=s(N,J,Z,V,!1),_===_.next&&(_.steiner=!0),k.push(P(_));for(k.sort(c),j=0;j<k.length;j++)B=d(k[j],B);return B}function c(N,X){return N.x-X.x}function d(N,X){var B=v(N,X);if(!B)return X;var V=I(B,N);return o(V,V.next),o(B,B.next)}function v(N,X){var B=X,V=N.x,k=N.y,j=-1/0,$;do{if(k<=B.y&&k>=B.next.y&&B.next.y!==B.y){var J=B.x+(k-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(J<=V&&J>j&&(j=J,$=B.x<B.next.x?B:B.next,J===V))return $}B=B.next}while(B!==X);if(!$)return null;var Z=$,_=$.x,it=$.y,at=1/0,st;B=$;do V>=B.x&&B.x>=_&&V!==B.x&&w(k<it?V:j,k,_,it,k<it?j:V,k,B.x,B.y)&&(st=Math.abs(k-B.y)/(V-B.x),L(B,N)&&(st<at||st===at&&(B.x>$.x||B.x===$.x&&p($,B)))&&($=B,at=st)),B=B.next;while(B!==Z);return $}function p(N,X){return b(N.prev,N,X.prev)<0&&b(X.next,N,N.next)<0}function g(N,X,B,V){var k=N;do k.z===0&&(k.z=C(k.x,k.y,X,B,V)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==N);k.prevZ.nextZ=null,k.prevZ=null,x(k)}function x(N){var X,B,V,k,j,$,J,Z,_=1;do{for(B=N,N=null,j=null,$=0;B;){for($++,V=B,J=0,X=0;X<_&&(J++,V=V.nextZ,!!V);X++);for(Z=_;J>0||Z>0&&V;)J!==0&&(Z===0||!V||B.z<=V.z)?(k=B,B=B.nextZ,J--):(k=V,V=V.nextZ,Z--),j?j.nextZ=k:N=k,k.prevZ=j,j=k;B=V}j.nextZ=null,_*=2}while($>1);return N}function C(N,X,B,V,k){return N=(N-B)*k|0,X=(X-V)*k|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,N|X<<1}function P(N){var X=N,B=N;do(X.x<B.x||X.x===B.x&&X.y<B.y)&&(B=X),X=X.next;while(X!==N);return B}function w(N,X,B,V,k,j,$,J){return(k-$)*(X-J)>=(N-$)*(j-J)&&(N-$)*(V-J)>=(B-$)*(X-J)&&(B-$)*(j-J)>=(k-$)*(V-J)}function E(N,X){return N.next.i!==X.i&&N.prev.i!==X.i&&!R(N,X)&&(L(N,X)&&L(X,N)&&D(N,X)&&(b(N.prev,N,X.prev)||b(N,X.prev,X))||O(N,X)&&b(N.prev,N,N.next)>0&&b(X.prev,X,X.next)>0)}function b(N,X,B){return(X.y-N.y)*(B.x-X.x)-(X.x-N.x)*(B.y-X.y)}function O(N,X){return N.x===X.x&&N.y===X.y}function M(N,X,B,V){var k=F(b(N,X,B)),j=F(b(N,X,V)),$=F(b(B,V,N)),J=F(b(B,V,X));return!!(k!==j&&$!==J||k===0&&A(N,B,X)||j===0&&A(N,V,X)||$===0&&A(B,N,V)||J===0&&A(B,X,V))}function A(N,X,B){return X.x<=Math.max(N.x,B.x)&&X.x>=Math.min(N.x,B.x)&&X.y<=Math.max(N.y,B.y)&&X.y>=Math.min(N.y,B.y)}function F(N){return N>0?1:N<0?-1:0}function R(N,X){var B=N;do{if(B.i!==N.i&&B.next.i!==N.i&&B.i!==X.i&&B.next.i!==X.i&&M(B,B.next,N,X))return!0;B=B.next}while(B!==N);return!1}function L(N,X){return b(N.prev,N,N.next)<0?b(N,X,N.next)>=0&&b(N,N.prev,X)>=0:b(N,X,N.prev)<0||b(N,N.next,X)<0}function D(N,X){var B=N,V=!1,k=(N.x+X.x)/2,j=(N.y+X.y)/2;do B.y>j!=B.next.y>j&&B.next.y!==B.y&&k<(B.next.x-B.x)*(j-B.y)/(B.next.y-B.y)+B.x&&(V=!V),B=B.next;while(B!==N);return V}function I(N,X){var B=new H(N.i,N.x,N.y),V=new H(X.i,X.x,X.y),k=N.next,j=X.prev;return N.next=X,X.prev=N,B.next=k,k.prev=B,V.next=B,B.prev=V,j.next=V,V.prev=j,V}function z(N,X,B,V){var k=new H(N,X,B);return V?(k.next=V.next,k.prev=V,V.next.prev=k,V.next=k):(k.prev=k,k.next=k),k}function U(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function H(N,X,B){this.i=N,this.x=X,this.y=B,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(N,X,B,V){var k=X&&X.length,j=k?X[0]*B:N.length,$=Math.abs(W(N,0,j,B));if(k)for(var J=0,Z=X.length;J<Z;J++){var _=X[J]*B,it=J<Z-1?X[J+1]*B:N.length;$-=Math.abs(W(N,_,it,B))}var at=0;for(J=0;J<V.length;J+=3){var st=V[J]*B,ft=V[J+1]*B,ct=V[J+2]*B;at+=Math.abs((N[st]-N[ct])*(N[ft+1]-N[st+1])-(N[st]-N[ft])*(N[ct+1]-N[st+1]))}return $===0&&at===0?0:Math.abs((at-$)/$)};function W(N,X,B,V){for(var k=0,j=X,$=B-V;j<B;j+=V)k+=(N[$]-N[j])*(N[j+1]+N[$+1]),$=j;return k}T.flatten=function(N){for(var X=N[0][0].length,B={vertices:[],holes:[],dimensions:X},V=0,k=0;k<N.length;k++){for(var j=0;j<N[k].length;j++)for(var $=0;$<X;$++)B.vertices.push(N[k][j][$]);k>0&&(V+=N[k-1].length,B.holes.push(V))}return B},r.exports=T},13829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u){u===void 0&&(u=new o);for(var h=1/0,a=1/0,l=-h,c=-a,d,v=0;v<f.points.length;v++)d=f.points[v],h=Math.min(h,d.x),a=Math.min(a,d.y),l=Math.max(l,d.x),c=Math.max(c,d.y);return u.x=h,u.y=a,u.width=l-h,u.height=c-a,u};r.exports=m},26173:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=[]);for(var m=0;m<s.points.length;m++)o.push(s.points[m].x),o.push(s.points[m].y);return o};r.exports=T},9564:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=s(23031),f=s(30052),u=function(h,a,l,c){c===void 0&&(c=[]);var d=h.points,v=f(h);!a&&l>0&&(a=v/l);for(var p=0;p<a;p++)for(var g=v*(p/a),x=0,C=0;C<d.length;C++){var P=d[C],w=d[(C+1)%d.length],E=new m(P.x,P.y,w.x,w.y),b=o(E);if(g<x||g>x+b){x+=b;continue}var O=E.getPoint((g-x)/b);c.push(O);break}return c};r.exports=u},30052:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=s(23031),f=function(u){for(var h=u.points,a=0,l=0;l<h.length;l++){var c=h[l],d=h[(l+1)%h.length],v=new m(c.x,c.y,d.x,d.y);a+=o(v)}return a};r.exports=f},25717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(63814),f=s(9564),u=s(23777),h=new o({initialize:function(l){this.type=u.POLYGON,this.area=0,this.points=[],l&&this.setTo(l)},contains:function(a,l){return m(this,a,l)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var l,c=0;c<a.length;c++)l={x:0,y:0},typeof a[c]=="number"||typeof a[c]=="string"?(l.x=parseFloat(a[c]),l.y=parseFloat(a[c+1]),c++):Array.isArray(a[c])?(l.x=a[c][0],l.y=a[c][1]):(l.x=a[c].x,l.y=a[c].y),this.points.push(l);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,l,c,d=0;d<this.points.length-1;d++)l=this.points[d],c=this.points[d+1],a+=(c.x-l.x)*(l.y+c.y);return l=this.points[0],c=this.points[this.points.length-1],a+=(l.x-c.x)*(c.y+l.y),this.area=-a*.5,this.area},getPoints:function(a,l,c){return f(this,a,l,c)}});r.exports=h},8133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.points.reverse(),s};r.exports=T},29524:r=>{function T(h,a){var l=h.x-a.x,c=h.y-a.y;return l*l+c*c}function s(h,a,l){var c=a.x,d=a.y,v=l.x-c,p=l.y-d;if(v!==0||p!==0){var g=((h.x-c)*v+(h.y-d)*p)/(v*v+p*p);g>1?(c=l.x,d=l.y):g>0&&(c+=v*g,d+=p*g)}return v=h.x-c,p=h.y-d,v*v+p*p}function o(h,a){for(var l=h[0],c=[l],d,v=1,p=h.length;v<p;v++)d=h[v],T(d,l)>a&&(c.push(d),l=d);return l!==d&&c.push(d),c}function m(h,a,l,c,d){for(var v=c,p,g=a+1;g<l;g++){var x=s(h[g],h[a],h[l]);x>v&&(p=g,v=x)}v>c&&(p-a>1&&m(h,a,p,c,d),d.push(h[p]),l-p>1&&m(h,p,l,c,d))}function f(h,a){var l=h.length-1,c=[h[0]];return m(h,0,l,a,c),c.push(h[l]),c}var u=function(h,a,l){a===void 0&&(a=1),l===void 0&&(l=!1);var c=h.points;if(c.length>2){var d=a*a;l||(c=o(c,d)),h.setTo(f(c,d))}return h};r.exports=u},5469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(o,m){return o[0]=m[0],o[1]=m[1],o},s=function(o){var m,f=[],u=o.points;for(m=0;m<u.length;m++)f.push([u[m].x,u[m].y]);var h=[];for(f.length>0&&h.push(T([0,0],f[0])),m=0;m<f.length-1;m++){var a=f[m],l=f[m+1],c=a[0],d=a[1],v=l[0],p=l[1];h.push([.85*c+.15*v,.85*d+.15*p]),h.push([.15*c+.85*v,.15*d+.85*p])}return f.length>1&&h.push(T([0,0],f[f.length-1])),o.setTo(h)};r.exports=s},24709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){for(var f=s.points,u=0;u<f.length;u++)f[u].x+=o,f[u].y+=m;return s};r.exports=T},58423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25717);o.Clone=s(12306),o.Contains=s(63814),o.ContainsPoint=s(99338),o.Earcut=s(94811),o.GetAABB=s(13829),o.GetNumberArray=s(26173),o.GetPoints=s(9564),o.Perimeter=s(30052),o.Reverse=s(8133),o.Simplify=s(29524),o.Smooth=s(5469),o.Translate=s(24709),r.exports=o},62224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.width*s.height};r.exports=T},98615:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};r.exports=T},31688:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};r.exports=T},67502:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x=o-s.width/2,s.y=m-s.height/2,s};r.exports=T},65085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f){return new o(f.x,f.y,f.width,f.height)};r.exports=m},37303:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.width<=0||s.height<=0?!1:s.x<=o&&s.x+s.width>=o&&s.y<=m&&s.y+s.height>=m};r.exports=T},96553:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37303),m=function(f,u){return o(f,u.x,u.y)};r.exports=m},70273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.width*o.height>s.width*s.height?!1:o.x>s.x&&o.x<s.right&&o.right>s.x&&o.right<s.right&&o.y>s.y&&o.y<s.bottom&&o.bottom>s.y&&o.bottom<s.bottom};r.exports=T},43459:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x,s.y,s.width,s.height)};r.exports=T},77493:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x,y:s.y}),o.push({x:s.right,y:s.y}),o.push({x:s.right,y:s.bottom}),o.push({x:s.x,y:s.bottom}),o};r.exports=T},9219:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x===o.x&&s.y===o.y&&s.width===o.width&&s.height===o.height};r.exports=T},53751:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),m=function(f,u){var h=o(f);return h<o(u)?f.setSize(u.height*h,u.height):f.setSize(u.width,u.width/h),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};r.exports=m},16088:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(8249),m=function(f,u){var h=o(f);return h>o(u)?f.setSize(u.height*h,u.height):f.setSize(u.width,u.width/h),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};r.exports=m},80774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};r.exports=T},83859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};r.exports=T},19217:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=s(36383),f=function(u,h){if(h===void 0&&(h=new o),u.length===0)return h;for(var a=Number.MAX_VALUE,l=Number.MAX_VALUE,c=m.MIN_SAFE_INTEGER,d=m.MIN_SAFE_INTEGER,v,p,g,x=0;x<u.length;x++)v=u[x],Array.isArray(v)?(p=v[0],g=v[1]):(p=v.x,g=v.y),a=Math.min(a,p),l=Math.min(l,g),c=Math.max(c,p),d=Math.max(d,g);return h.x=a,h.y=l,h.width=c-a,h.height=d-l,h};r.exports=f},9477:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u,h,a,l){return l===void 0&&(l=new o),l.setTo(Math.min(f,h),Math.min(u,a),Math.abs(f-h),Math.abs(u-a))};r.exports=m},8249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.height===0?NaN:s.width/s.height};r.exports=T},27165:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.x=f.centerX,u.y=f.centerY,u};r.exports=m},20812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),m=s(2141),f=function(u,h,a){if(a===void 0&&(a=new m),h<=0||h>=1)return a.x=u.x,a.y=u.y,a;var l=o(u)*h;return h>.5?(l-=u.width+u.height,l<=u.width?(a.x=u.right-l,a.y=u.bottom):(a.x=u.x,a.y=u.bottom-(l-u.width))):l<=u.width?(a.x=u.x+l,a.y=u.y):(a.x=u.right,a.y=u.y+(l-u.width)),a};r.exports=f},34819:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20812),m=s(13019),f=function(u,h,a,l){l===void 0&&(l=[]),!h&&a>0&&(h=m(u)/a);for(var c=0;c<h;c++){var d=c/h;l.push(o(u,d))}return l};r.exports=f},51313:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.x=f.width,u.y=f.height,u};r.exports=m},86091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67502),m=function(f,u,h){var a=f.centerX,l=f.centerY;return f.setSize(f.width+u*2,f.height+h*2),o(f,a,l)};r.exports=m},53951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=s(59996),f=function(u,h,a){return a===void 0&&(a=new o),m(u,h)?(a.x=Math.max(u.x,h.x),a.y=Math.max(u.y,h.y),a.width=Math.min(u.right,h.right)-a.x,a.height=Math.min(u.bottom,h.bottom)-a.y):a.setEmpty(),a};r.exports=f},14649:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13019),m=s(2141),f=function(u,h,a,l){if(l===void 0&&(l=[]),!h&&!a)return l;h?a=Math.round(o(u)/h):h=o(u)/a;for(var c=u.x,d=u.y,v=0,p=0;p<a;p++)switch(l.push(new m(c,d)),v){case 0:c+=h,c>=u.right&&(v=1,d+=c-u.right,c=u.right);break;case 1:d+=h,d>=u.bottom&&(v=2,c-=d-u.bottom,d=u.bottom);break;case 2:c-=h,c<=u.left&&(v=3,d-=u.left-c,c=u.left);break;case 3:d-=h,d<=u.top&&(v=0,d=u.top);break}return l};r.exports=f},33595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){for(var m=s.x,f=s.right,u=s.y,h=s.bottom,a=0;a<o.length;a++)m=Math.min(m,o[a].x),f=Math.max(f,o[a].x),u=Math.min(u,o[a].y),h=Math.max(h,o[a].y);return s.x=m,s.y=u,s.width=f-m,s.height=h-u,s};r.exports=T},20074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=Math.min(s.x,o.x),f=Math.max(s.right,o.right);s.x=m,s.width=f-m;var u=Math.min(s.y,o.y),h=Math.max(s.bottom,o.bottom);return s.y=u,s.height=h-u,s};r.exports=T},92171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=Math.min(s.x,o),u=Math.max(s.right,o);s.x=f,s.width=u-f;var h=Math.min(s.y,m),a=Math.max(s.bottom,m);return s.y=h,s.height=a-h,s};r.exports=T},42981:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x+=o,s.y+=m,s};r.exports=T},46907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x+=o.x,s.y+=o.y,s};r.exports=T},60170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x<o.right&&s.right>o.x&&s.y<o.bottom&&s.bottom>o.y};r.exports=T},13019:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 2*(s.width+s.height)};r.exports=T},85133:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(39506),f=function(u,h,a){a===void 0&&(a=new o),h=m(h);var l=Math.sin(h),c=Math.cos(h),d=c>0?u.width/2:u.width/-2,v=l>0?u.height/2:u.height/-2;return Math.abs(d*l)<Math.abs(v*c)?v=d*l/c:d=v*c/l,a.x=d+u.centerX,a.y=v+u.centerY,a};r.exports=f},26597:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.x=f.x+Math.random()*f.width,u.y=f.y+Math.random()*f.height,u};r.exports=m},86470:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),m=s(70273),f=s(2141),u=function(h,a,l){if(l===void 0&&(l=new f),m(h,a))switch(o(0,3)){case 0:l.x=h.x+Math.random()*(a.right-h.x),l.y=h.y+Math.random()*(a.top-h.y);break;case 1:l.x=a.x+Math.random()*(h.right-a.x),l.y=a.bottom+Math.random()*(h.bottom-a.bottom);break;case 2:l.x=h.x+Math.random()*(a.x-h.x),l.y=a.y+Math.random()*(h.bottom-a.y);break;case 3:l.x=a.right+Math.random()*(h.right-a.right),l.y=h.y+Math.random()*(a.bottom-h.y);break}return l};r.exports=u},87841:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(37303),f=s(20812),u=s(34819),h=s(23777),a=s(23031),l=s(26597),c=new o({initialize:function(v,p,g,x){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),this.type=h.RECTANGLE,this.x=v,this.y=p,this.width=g,this.height=x},contains:function(d,v){return m(this,d,v)},getPoint:function(d,v){return f(this,d,v)},getPoints:function(d,v,p){return u(this,d,v,p)},getRandomPoint:function(d){return l(this,d)},setTo:function(d,v,p,g){return this.x=d,this.y=v,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(d,v){return v===void 0&&(v=d),this.x=d,this.y=v,this},setSize:function(d,v){return v===void 0&&(v=d),this.width=d,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(d){return d===void 0&&(d=new a),d.setTo(this.x,this.y,this.right,this.y),d},getLineB:function(d){return d===void 0&&(d=new a),d.setTo(this.right,this.y,this.right,this.bottom),d},getLineC:function(d){return d===void 0&&(d=new a),d.setTo(this.right,this.bottom,this.x,this.bottom),d},getLineD:function(d){return d===void 0&&(d=new a),d.setTo(this.x,this.bottom,this.x,this.y),d},left:{get:function(){return this.x},set:function(d){d>=this.right?this.width=0:this.width=this.right-d,this.x=d}},right:{get:function(){return this.x+this.width},set:function(d){d<=this.x?this.width=0:this.width=d-this.x}},top:{get:function(){return this.y},set:function(d){d>=this.bottom?this.height=0:this.height=this.bottom-d,this.y=d}},bottom:{get:function(){return this.y+this.height},set:function(d){d<=this.y?this.height=0:this.height=d-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(d){this.x=d-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(d){this.y=d-this.height/2}}});r.exports=c},94845:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.width===o.width&&s.height===o.height};r.exports=T},31730:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m===void 0&&(m=o),s.width*=o,s.height*=m,s};r.exports=T},36899:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=function(f,u,h){h===void 0&&(h=new o);var a=Math.min(f.x,u.x),l=Math.min(f.y,u.y),c=Math.max(f.right,u.right)-a,d=Math.max(f.bottom,u.bottom)-l;return h.setTo(a,l,c,d)};r.exports=m},93232:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841);o.Area=s(62224),o.Ceil=s(98615),o.CeilAll=s(31688),o.CenterOn=s(67502),o.Clone=s(65085),o.Contains=s(37303),o.ContainsPoint=s(96553),o.ContainsRect=s(70273),o.CopyFrom=s(43459),o.Decompose=s(77493),o.Equals=s(9219),o.FitInside=s(53751),o.FitOutside=s(16088),o.Floor=s(80774),o.FloorAll=s(83859),o.FromPoints=s(19217),o.FromXY=s(9477),o.GetAspectRatio=s(8249),o.GetCenter=s(27165),o.GetPoint=s(20812),o.GetPoints=s(34819),o.GetSize=s(51313),o.Inflate=s(86091),o.Intersection=s(53951),o.MarchingAnts=s(14649),o.MergePoints=s(33595),o.MergeRect=s(20074),o.MergeXY=s(92171),o.Offset=s(42981),o.OffsetPoint=s(46907),o.Overlaps=s(60170),o.Perimeter=s(13019),o.PerimeterPoint=s(85133),o.Random=s(26597),o.RandomOutside=s(86470),o.SameDimensions=s(94845),o.Scale=s(31730),o.Union=s(36899),r.exports=o},41658:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=s.x1,m=s.y1,f=s.x2,u=s.y2,h=s.x3,a=s.y3;return Math.abs(((h-o)*(u-m)-(f-o)*(a-m))/2)};r.exports=T},39208:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),m=function(f,u,h){var a=h*(Math.sqrt(3)/2),l=f,c=u,d=f+h/2,v=u+a,p=f-h/2,g=u+a;return new o(l,c,d,v,p,g)};r.exports=m},39545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(94811),m=s(16483),f=function(u,h,a,l,c){h===void 0&&(h=null),a===void 0&&(a=1),l===void 0&&(l=1),c===void 0&&(c=[]);for(var d=o(u,h),v,p,g,x,C,P,w,E,b,O=0;O<d.length;O+=3)v=d[O],p=d[O+1],g=d[O+2],x=u[v*2]*a,C=u[v*2+1]*l,P=u[p*2]*a,w=u[p*2+1]*l,E=u[g*2]*a,b=u[g*2+1]*l,c.push(new m(x,C,P,w,E,b));return c};r.exports=f},90301:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),m=function(f,u,h,a){a===void 0&&(a=h);var l=f,c=u,d=f,v=u-a,p=f+h,g=u;return new o(l,c,d,v,p,g)};r.exports=m},23707:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97523),m=s(13584),f=function(u,h,a,l){l===void 0&&(l=o);var c=l(u),d=h-c.x,v=a-c.y;return m(u,d,v)};r.exports=f},97523:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){return u===void 0&&(u=new o),u.x=(f.x1+f.x2+f.x3)/3,u.y=(f.y1+f.y2+f.y3)/3,u};r.exports=m},24951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099);function m(u,h,a,l){return u*l-h*a}var f=function(u,h){h===void 0&&(h=new o);var a=u.x3,l=u.y3,c=u.x1-a,d=u.y1-l,v=u.x2-a,p=u.y2-l,g=2*m(c,d,v,p),x=m(d,c*c+d*d,p,v*v+p*p),C=m(c,c*c+d*d,v,v*v+p*p);return h.x=a-x/g,h.y=l+C/g,h};r.exports=f},85614:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),m=function(f,u){u===void 0&&(u=new o);var h=f.x1,a=f.y1,l=f.x2,c=f.y2,d=f.x3,v=f.y3,p=l-h,g=c-a,x=d-h,C=v-a,P=p*(h+l)+g*(a+c),w=x*(h+d)+C*(a+v),E=2*(p*(v-c)-g*(d-l)),b,O;if(Math.abs(E)<1e-6){var M=Math.min(h,l,d),A=Math.min(a,c,v);b=(Math.max(h,l,d)-M)*.5,O=(Math.max(a,c,v)-A)*.5,u.x=M+b,u.y=A+O,u.radius=Math.sqrt(b*b+O*O)}else u.x=(C*P-g*w)/E,u.y=(p*w-x*P)/E,b=u.x-h,O=u.y-a,u.radius=Math.sqrt(b*b+O*O);return u};r.exports=m},74422:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483),m=function(f){return new o(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};r.exports=m},10690:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=s.x3-s.x1,u=s.y3-s.y1,h=s.x2-s.x1,a=s.y2-s.y1,l=o-s.x1,c=m-s.y1,d=f*f+u*u,v=f*h+u*a,p=f*l+u*c,g=h*h+a*a,x=h*l+a*c,C=d*g-v*v,P=C===0?0:1/C,w=(g*p-v*x)*P,E=(d*x-v*p)*P;return w>=0&&E>=0&&w+E<1};r.exports=T},48653:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m===void 0&&(m=!1),f===void 0&&(f=[]);for(var u=s.x3-s.x1,h=s.y3-s.y1,a=s.x2-s.x1,l=s.y2-s.y1,c=u*u+h*h,d=u*a+h*l,v=a*a+l*l,p=c*v-d*d,g=p===0?0:1/p,x,C,P,w,E,b,O=s.x1,M=s.y1,A=0;A<o.length&&(P=o[A].x-O,w=o[A].y-M,E=u*P+h*w,b=a*P+l*w,x=(v*E-d*b)*g,C=(c*b-d*E)*g,!(x>=0&&C>=0&&x+C<1&&(f.push({x:o[A].x,y:o[A].y}),m)));A++);return f};r.exports=T},96006:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10690),m=function(f,u){return o(f,u.x,u.y)};r.exports=m},71326:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};r.exports=T},71694:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=[]),o.push({x:s.x1,y:s.y1}),o.push({x:s.x2,y:s.y2}),o.push({x:s.x3,y:s.y3}),o};r.exports=T},33522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.x1===o.x1&&s.y1===o.y1&&s.x2===o.x2&&s.y2===o.y2&&s.x3===o.x3&&s.y3===o.y3};r.exports=T},20437:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=s(35001),f=function(u,h,a){a===void 0&&(a=new o);var l=u.getLineA(),c=u.getLineB(),d=u.getLineC();if(h<=0||h>=1)return a.x=l.x1,a.y=l.y1,a;var v=m(l),p=m(c),g=m(d),x=v+p+g,C=x*h,P=0;return C<v?(P=C/v,a.x=l.x1+(l.x2-l.x1)*P,a.y=l.y1+(l.y2-l.y1)*P):C>v+p?(C-=v+p,P=C/g,a.x=d.x1+(d.x2-d.x1)*P,a.y=d.y1+(d.y2-d.y1)*P):(C-=v,P=C/p,a.x=c.x1+(c.x2-c.x1)*P,a.y=c.y1+(c.y2-c.y1)*P),a};r.exports=f},80672:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=s(2141),f=function(u,h,a,l){l===void 0&&(l=[]);var c=u.getLineA(),d=u.getLineB(),v=u.getLineC(),p=o(c),g=o(d),x=o(v),C=p+g+x;!h&&a>0&&(h=C/a);for(var P=0;P<h;P++){var w=C*(P/h),E=0,b=new m;w<p?(E=w/p,b.x=c.x1+(c.x2-c.x1)*E,b.y=c.y1+(c.y2-c.y1)*E):w>p+g?(w-=p+g,E=w/x,b.x=v.x1+(v.x2-v.x1)*E,b.y=v.y1+(v.y2-v.y1)*E):(w-=p,E=w/g,b.x=d.x1+(d.x2-d.x1)*E,b.y=d.y1+(d.y2-d.y1)*E),l.push(b)}return l};r.exports=f},39757:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141);function m(u,h,a,l){var c=u-a,d=h-l,v=c*c+d*d;return Math.sqrt(v)}var f=function(u,h){h===void 0&&(h=new o);var a=u.x1,l=u.y1,c=u.x2,d=u.y2,v=u.x3,p=u.y3,g=m(v,p,c,d),x=m(a,l,v,p),C=m(c,d,a,l),P=g+x+C;return h.x=(a*g+c*x+v*C)/P,h.y=(l*g+d*x+p*C)/P,h};r.exports=f},13584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s.x1+=o,s.y1+=m,s.x2+=o,s.y2+=m,s.x3+=o,s.y3+=m,s};r.exports=T},1376:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35001),m=function(f){var u=f.getLineA(),h=f.getLineB(),a=f.getLineC();return o(u)+o(h)+o(a)};r.exports=m},90260:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2141),m=function(f,u){u===void 0&&(u=new o);var h=f.x2-f.x1,a=f.y2-f.y1,l=f.x3-f.x1,c=f.y3-f.y1,d=Math.random(),v=Math.random();return d+v>=1&&(d=1-d,v=1-v),u.x=f.x1+(h*d+l*v),u.y=f.y1+(a*d+c*v),u};r.exports=m},52172:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),m=s(39757),f=function(u,h){var a=m(u);return o(u,a.x,a.y,h)};r.exports=f},49907:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99614),m=function(f,u,h){return o(f,u.x,u.y,h)};r.exports=m},99614:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=Math.cos(f),h=Math.sin(f),a=s.x1-o,l=s.y1-m;return s.x1=a*u-l*h+o,s.y1=a*h+l*u+m,a=s.x2-o,l=s.y2-m,s.x2=a*u-l*h+o,s.y2=a*h+l*u+m,a=s.x3-o,l=s.y3-m,s.x3=a*u-l*h+o,s.y3=a*h+l*u+m,s};r.exports=T},16483:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(10690),f=s(20437),u=s(80672),h=s(23777),a=s(23031),l=s(90260),c=new o({initialize:function(v,p,g,x,C,P){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=0),P===void 0&&(P=0),this.type=h.TRIANGLE,this.x1=v,this.y1=p,this.x2=g,this.y2=x,this.x3=C,this.y3=P},contains:function(d,v){return m(this,d,v)},getPoint:function(d,v){return f(this,d,v)},getPoints:function(d,v,p){return u(this,d,v,p)},getRandomPoint:function(d){return l(this,d)},setTo:function(d,v,p,g,x,C){return d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),C===void 0&&(C=0),this.x1=d,this.y1=v,this.x2=p,this.y2=g,this.x3=x,this.y3=C,this},getLineA:function(d){return d===void 0&&(d=new a),d.setTo(this.x1,this.y1,this.x2,this.y2),d},getLineB:function(d){return d===void 0&&(d=new a),d.setTo(this.x2,this.y2,this.x3,this.y3),d},getLineC:function(d){return d===void 0&&(d=new a),d.setTo(this.x3,this.y3,this.x1,this.y1),d},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(d){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-d:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-d:v=this.x3-d,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(d){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-d:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-d:v=this.x3-d,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(d){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-d:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-d:v=this.y3-d,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(d){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-d:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-d:v=this.y3-d,this.y1-=v,this.y2-=v,this.y3-=v}}});r.exports=c},84435:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(16483);o.Area=s(41658),o.BuildEquilateral=s(39208),o.BuildFromPolygon=s(39545),o.BuildRight=s(90301),o.CenterOn=s(23707),o.Centroid=s(97523),o.CircumCenter=s(24951),o.CircumCircle=s(85614),o.Clone=s(74422),o.Contains=s(10690),o.ContainsArray=s(48653),o.ContainsPoint=s(96006),o.CopyFrom=s(71326),o.Decompose=s(71694),o.Equals=s(33522),o.GetPoint=s(20437),o.GetPoints=s(80672),o.InCenter=s(39757),o.Perimeter=s(1376),o.Offset=s(13584),o.Random=s(90260),o.Rotate=s(52172),o.RotateAroundPoint=s(49907),o.RotateAroundXY=s(99614),r.exports=o},74457:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};r.exports=T},84409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return function(m,f,u,h){var a=s.getPixelAlpha(f,u,h.texture.key,h.frame.name);return a&&a>=o}};r.exports=T},7003:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(93301),f=s(50792),u=s(8214),h=s(8443),a=s(78970),l=s(85098),c=s(42515),d=s(36210),v=s(61340),p=s(85955),g=new o({initialize:function(C,P){this.game=C,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new a(this):null,this.mouse=P.inputMouse?new l(this):null,this.touch=P.inputTouch?new d(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers;for(var w=0;w<=this.pointersTotal;w++){var E=new c(this,w);E.smoothFactor=P.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(h.BOOT,this.boot,this)},boot:function(){var x=this.game,C=x.events;this.canvas=x.canvas,this.scaleManager=x.scale,this.events.emit(u.MANAGER_BOOT),C.on(h.PRE_RENDER,this.preRender,this),C.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(x){this.isOver=!0,this.events.emit(u.GAME_OVER,x)},setCanvasOut:function(x){this.isOver=!1,this.events.emit(u.GAME_OUT,x)},preRender:function(){var x=this.game.loop.now,C=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=x,this.events.emit(u.MANAGER_UPDATE);for(var w=0;w<P.length;w++){var E=P[w];if(E.sys.input&&E.sys.input.updatePoll(x,C)&&this.globalTopOnly)return}},setDefaultCursor:function(x){this.defaultCursor=x,this.canvas.style.cursor!==x&&(this.canvas.style.cursor=x)},setCursor:function(x){x.cursor&&(this.canvas.style.cursor=x.cursor)},resetCursor:function(x,C){(C||x&&x.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(x){x===void 0&&(x=1);var C=[];this.pointersTotal+x>10&&(x=10-this.pointersTotal);for(var P=0;P<x;P++){var w=this.pointers.length,E=new c(this,w);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,C.push(E)}return C},updateInputPlugins:function(x,C){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<P.length;w++){var E=P[w];if(E.sys.input){var b=E.sys.input.update(x,C);if(b&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var E=x.changedTouches[w],b=1;b<C.length;b++){var O=C[b];if(!O.active){O.touchstart(E,x),this.activePointer=O,P.push(O);break}}this.updateInputPlugins(m.TOUCH_START,P)},onTouchMove:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var E=x.changedTouches[w],b=1;b<C.length;b++){var O=C[b];if(O.active&&O.identifier===E.identifier){var M=document.elementFromPoint(E.clientX,E.clientY),A=M===this.canvas;!this.isOver&&A?this.setCanvasOver(x):this.isOver&&!A&&this.setCanvasOut(x),this.isOver&&(O.touchmove(E,x),this.activePointer=O,P.push(O));break}}this.updateInputPlugins(m.TOUCH_MOVE,P)},onTouchEnd:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var E=x.changedTouches[w],b=1;b<C.length;b++){var O=C[b];if(O.active&&O.identifier===E.identifier){O.touchend(E,x),P.push(O);break}}this.updateInputPlugins(m.TOUCH_END,P)},onTouchCancel:function(x){for(var C=this.pointers,P=[],w=0;w<x.changedTouches.length;w++)for(var E=x.changedTouches[w],b=1;b<C.length;b++){var O=C[b];if(O.active&&O.identifier===E.identifier){O.touchcancel(E,x),P.push(O);break}}this.updateInputPlugins(m.TOUCH_CANCEL,P)},onMouseDown:function(x){var C=this.mousePointer;C.down(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(x){var C=this.mousePointer;C.move(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(x){var C=this.mousePointer;C.up(x),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(x){var C=this.mousePointer;C.wheel(x),this.activePointer=C,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(x){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(u.POINTERLOCK_CHANGE,x,C)},inputCandidate:function(x,C){var P=x.input;if(!P||!P.enabled||!x.willRender(C))return!1;var w=!0,E=x.parentContainer;if(E)do{if(!E.willRender(C)){w=!1;break}E=E.parentContainer}while(E);return w},hitTest:function(x,C,P,w){w===void 0&&(w=this._tempHitTest);var E=this._tempPoint,b=P.scrollX,O=P.scrollY;w.length=0;var M=x.x,A=x.y;P.getWorldPoint(M,A,E),x.worldX=E.x,x.worldY=E.y;for(var F={x:0,y:0},R=this._tempMatrix,L=this._tempMatrix2,D=0;D<C.length;D++){var I=C[D];if(this.inputCandidate(I,P)){var z=E.x+b*I.scrollFactorX-b,U=E.y+O*I.scrollFactorY-O;I.parentContainer?(I.getWorldTransformMatrix(R,L),R.applyInverse(z,U,F)):p(z,U,I.x,I.y,I.rotation,I.scaleX,I.scaleY,F),this.pointWithinHitArea(I,F.x,F.y)&&w.push(I)}}return w},pointWithinHitArea:function(x,C,P){C+=x.displayOriginX,P+=x.displayOriginY;var w=x.input;return w&&w.hitAreaCallback(w.hitArea,C,P,x)?(w.localX=C,w.localY=P,!0):!1},pointWithinInteractiveObject:function(x,C,P){return x.hitArea?(C+=x.gameObject.displayOriginX,P+=x.gameObject.displayOriginY,x.localX=C,x.localY=P,x.hitAreaCallback(x.hitArea,C,P,x)):!1},transformPointer:function(x,C,P,w){var E=x.position,b=x.prevPosition;b.x=E.x,b.y=E.y;var O=this.scaleManager.transformX(C),M=this.scaleManager.transformY(P),A=x.smoothFactor;!w||A===0?(E.x=O,E.y=M):(E.x=O*A+b.x*(1-A),E.y=M*A+b.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var x=0;x<this.pointers.length;x++)this.pointers[x].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=g},48205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(96503),m=s(87902),f=s(83419),u=s(93301),h=s(74457),a=s(84409),l=s(20339),c=s(8497),d=s(81154),v=s(8214),p=s(50792),g=s(95540),x=s(23777),C=s(89639),P=s(41212),w=s(37277),E=s(87841),b=s(37303),O=s(44594),M=s(16483),A=s(10690),F=new f({Extends:p,initialize:function(L){p.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(O.BOOT,this.boot,this),L.sys.events.on(O.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(O.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var R=this.systems.events;R.on(O.TRANSITION_START,this.transitionIn,this),R.on(O.TRANSITION_OUT,this.transitionOut,this),R.on(O.TRANSITION_COMPLETE,this.transitionComplete,this),R.on(O.PRE_UPDATE,this.preUpdate,this),R.once(O.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(R){this.isActive()&&this.emit(v.GAME_OVER,R.timeStamp,R)},onGameOut:function(R){this.isActive()&&this.emit(v.GAME_OUT,R.timeStamp,R)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var R=this._pendingRemoval,L=this._pendingInsertion,D=R.length,I=L.length;if(!(D===0&&I===0)){for(var z=this._list,U=0;U<D;U++){var H=R[U],W=z.indexOf(H);W>-1&&(z.splice(W,1),this.clear(H,!0))}this._pendingRemoval.length=0,this._list=z.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(R){this.manager&&this.manager.setCursor(R)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(R,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,R,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,I=this.manager,z=I.pointers;for(D=0;D<z.length;D++)z[D].updateMotion();if(this._list.length===0)return!1;var U=this.pollRate;if(U===-1)return!1;if(U>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(D=0;D<z.length;D++){var W=0,N=z[D];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),W+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,R),W>0&&(H=!0)}return H},update:function(R,L){if(!this.isActive())return!1;for(var D=!1,I=0;I<L.length;I++){var z=0,U=L[I];switch(this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),R){case u.MOUSE_DOWN:z+=this.processDragDownEvent(U),z+=this.processDownEvents(U),z+=this.processOverOutEvents(U);break;case u.MOUSE_UP:z+=this.processDragUpEvent(U),z+=this.processUpEvents(U),z+=this.processOverOutEvents(U);break;case u.TOUCH_START:z+=this.processDragDownEvent(U),z+=this.processDownEvents(U),z+=this.processOverEvents(U);break;case u.TOUCH_END:case u.TOUCH_CANCEL:z+=this.processDragUpEvent(U),z+=this.processUpEvents(U),z+=this.processOutEvents(U);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:z+=this.processDragMoveEvent(U),z+=this.processMoveEvents(U),z+=this.processOverOutEvents(U);break;case u.MOUSE_WHEEL:z+=this.processWheelEvent(U);break}z>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(R,L){L===void 0&&(L=!1),this.disable(R);var D=R.input;D&&(this.removeDebug(R),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,R.input=null),L||this.queueForRemoval(R);var I=this._draggable.indexOf(R);return I>-1&&this._draggable.splice(I,1),R},disable:function(R,L){L===void 0&&(L=!1);var D=R.input;D&&(D.enabled=!1,D.dragState=0);for(var I=this._drag,z=this._over,U=this.manager,H=0,W;H<U.pointers.length;H++)W=I[H].indexOf(R),W>-1&&I[H].splice(W,1),W=z[H].indexOf(R),W>-1&&z[H].splice(W,1);return L&&this.resetCursor(),this},enable:function(R,L,D,I){return I===void 0&&(I=!1),R.input?R.input.enabled=!0:this.setHitArea(R,L,D),R.input&&I&&!R.input.dropZone&&(R.input.dropZone=I),this},hitTestPointer:function(R){for(var L=this.cameras.getCamerasBelowPointer(R),D=0;D<L.length;D++){for(var I=L[D],z=this.manager.hitTest(R,this._list,I),U=0;U<z.length;U++){var H=z[U];H.input.dropZone&&this._tempZones.push(H)}if(z.length>0)return R.camera=I,z}return R.camera=L[0],[]},processDownEvents:function(R){var L=0,D=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var U=0;U<D.length;U++){var H=D[U];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(v.GAMEOBJECT_POINTER_DOWN,R,H.input.localX,H.input.localY,z),I.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,R,H,z),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&(R.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,R,D):this.emit(v.POINTER_DOWN_OUTSIDE,R)),L},getDragState:function(R){return this._dragState[R.id]},setDragState:function(R,L){this._dragState[R.id]=L},processDragThresholdEvent:function(R,L){var D=!1,I=this.dragTimeThreshold,z=this.dragDistanceThreshold;if((z>0&&l(R.x,R.y,R.downX,R.downY)>=z||I>0&&L>=R.downTime+I)&&(D=!0),D)return this.setDragState(R,3),this.processDragStartList(R)},processDragStartList:function(R){if(this.getDragState(R)!==3)return 0;var L=this._drag[R.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var I=L[D],z=I.input;z.dragState=2,z.dragStartX=I.x,z.dragStartY=I.y,z.dragStartXGlobal=R.worldX,z.dragStartYGlobal=R.worldY,z.dragStartCamera=R.camera,z.dragX=z.dragStartXGlobal-z.dragStartX,z.dragY=z.dragStartYGlobal-z.dragStartY,I.emit(v.GAMEOBJECT_DRAG_START,R,z.dragX,z.dragY),this.emit(v.DRAG_START,R,I)}return this.setDragState(R,4),L.length},processDragDownEvent:function(R){var L=this._temp;if(this._draggable.length===0||L.length===0||!R.primaryDown||this.getDragState(R)!==0)return 0;this.setDragState(R,1);for(var D=[],I=0;I<L.length;I++){var z=L[I];z.input.draggable&&z.input.dragState===0&&D.push(z)}return D.length===0?(this.setDragState(R,0),0):(D.length>1&&(this.sortGameObjects(D,R),this.topOnly&&D.splice(1)),this._drag[R.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(R,3),this.processDragStartList(R)):(this.setDragState(R,2),0))},processDragMoveEvent:function(R){if(this.getDragState(R)===2&&this.processDragThresholdEvent(R,this.manager.game.loop.now),this.getDragState(R)!==4)return 0;var L=this._tempZones,D=this._drag[R.id];D.length>1&&(D=D.slice(0));for(var I=0;I<D.length;I++){var z=D[I],U=z.input,H=U.target;if(H){var W=L.indexOf(H);W===0?(z.emit(v.GAMEOBJECT_DRAG_OVER,R,H),this.emit(v.DRAG_OVER,R,z,H)):W>0?(z.emit(v.GAMEOBJECT_DRAG_LEAVE,R,H),this.emit(v.DRAG_LEAVE,R,z,H),U.target=L[0],H=U.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,R,H),this.emit(v.DRAG_ENTER,R,z,H)):(z.emit(v.GAMEOBJECT_DRAG_LEAVE,R,H),this.emit(v.DRAG_LEAVE,R,z,H),L[0]?(U.target=L[0],H=U.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,R,H),this.emit(v.DRAG_ENTER,R,z,H)):U.target=null)}else!H&&L[0]&&(U.target=L[0],H=U.target,z.emit(v.GAMEOBJECT_DRAG_ENTER,R,H),this.emit(v.DRAG_ENTER,R,z,H));var N,X,B=R.positionToCamera(U.dragStartCamera);if(!z.parentContainer)N=B.x-U.dragX,X=B.y-U.dragY;else{var V=B.x-U.dragStartXGlobal,k=B.y-U.dragStartYGlobal,j=z.getParentRotation(),$=V*Math.cos(j)+k*Math.sin(j),J=k*Math.cos(j)-V*Math.sin(j);$*=1/z.parentContainer.scaleX,J*=1/z.parentContainer.scaleY,N=$+U.dragStartX,X=J+U.dragStartY}z.emit(v.GAMEOBJECT_DRAG,R,N,X),this.emit(v.DRAG,R,z,N,X)}return D.length},processDragUpEvent:function(R){var L=this._drag[R.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var I=L[D],z=I.input;if(z&&z.dragState===2){z.dragState=0,z.dragX=z.localX-I.displayOriginX,z.dragY=z.localY-I.displayOriginY,z.dragStartCamera=null;var U=!1,H=z.target;H&&(I.emit(v.GAMEOBJECT_DROP,R,H),this.emit(v.DROP,R,I,H),z.target=null,U=!0),I.input&&I.input.enabled&&(I.emit(v.GAMEOBJECT_DRAG_END,R,z.dragX,z.dragY,U),this.emit(v.DRAG_END,R,I,U))}}return this.setDragState(R,0),L.splice(0),0},processMoveEvents:function(R){var L=0,D=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var U=0;U<D.length;U++){var H=D[U];if(!(!H.input||!H.input.enabled)&&(L++,H.emit(v.GAMEOBJECT_POINTER_MOVE,R,H.input.localX,H.input.localY,z),I.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,R,H,z),I.cancelled||!this.isActive()||this.topOnly)))break}return!I.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,R,D),L},processWheelEvent:function(R){var L=0,D=this._temp,I=this._eventData,z=this._eventContainer;I.cancelled=!1;for(var U=R.deltaX,H=R.deltaY,W=R.deltaZ,N=0;N<D.length;N++){var X=D[N];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(v.GAMEOBJECT_POINTER_WHEEL,R,U,H,W,z),I.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,R,X,U,H,W,z),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,R,D,U,H,W),L},processOverEvents:function(R){var L=this._temp,D=0,I=L.length,z=[];if(I>0){var U=this.manager,H=this._eventData,W=this._eventContainer;H.cancelled=!1;for(var N=0;N<I;N++){var X=L[N];if(!(!X.input||!X.input.enabled)&&(z.push(X),U.setCursor(X.input),X.emit(v.GAMEOBJECT_POINTER_OVER,R,X.input.localX,X.input.localY,W),D++,H.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,R,X,W),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,R,z)}return this._over[R.id]=z,D},processOutEvents:function(R){var L=this._over[R.id],D=0,I=L.length;if(I>0){var z=this.manager,U=this._eventData,H=this._eventContainer;U.cancelled=!1,this.sortGameObjects(L,R);for(var W=0;W<I;W++){var N=L[W];if(N=L[W],!(!N.input||!N.input.enabled)&&(z.resetCursor(N.input),N.emit(v.GAMEOBJECT_POINTER_OUT,R,H),D++,U.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,R,N,H),U.cancelled||!this.isActive())))break}!U.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,R,L),this._over[R.id]=[]}return D},processOverOutEvents:function(R){var L=this._temp,D,I,z=[],U=[],H=[],W=this._over[R.id],N=this._drag[R.id],X=this.manager;for(D=0;D<W.length;D++)I=W[D],L.indexOf(I)===-1&&N.indexOf(I)===-1?z.push(I):H.push(I);for(D=0;D<L.length;D++)I=L[D],W.indexOf(I)===-1&&U.push(I);var B=z.length,V=0,k=this._eventData,j=this._eventContainer;if(k.cancelled=!1,B>0){for(this.sortGameObjects(z,R),D=0;D<B&&(I=z[D],!(!(!I.input||!I.input.enabled)&&(X.resetCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OUT,R,j),V++,k.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,R,I,j),k.cancelled||!this.isActive()))));D++);(!k.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,R,z)}if(B=U.length,k.cancelled=!1,B>0){for(this.sortGameObjects(U,R),D=0;D<B&&(I=U[D],!(!(!I.input||!I.input.enabled)&&(X.setCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OVER,R,I.input.localX,I.input.localY,j),V++,k.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,R,I,j),k.cancelled||!this.isActive()))));D++);!k.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,R,U)}return W=H.concat(U),this._over[R.id]=this.sortGameObjects(W,R),V},processUpEvents:function(R){var L=this._temp,D=this._eventData,I=this._eventContainer;D.cancelled=!1;for(var z=0;z<L.length;z++){var U=L[z];if(!(!U.input||!U.input.enabled)&&(U.emit(v.GAMEOBJECT_POINTER_UP,R,U.input.localX,U.input.localY,I),D.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_UP,R,U,I),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(R.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,R,L):this.emit(v.POINTER_UP_OUTSIDE,R)),L.length},forceDownState:function(R,L){this.forceState(R,L,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(R,L){this.forceState(R,L,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(R,L){this.forceState(R,L,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(R,L){this.forceState(R,L,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(R,L,D,I,z){var U=this._eventData,H=this._eventContainer;U.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,R,L.input.localX,L.input.localY,H),z&&this.setCursor(L.input),!U.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(I,R,L,H))},queueForInsertion:function(R){return this._pendingInsertion.indexOf(R)===-1&&this._list.indexOf(R)===-1&&this._pendingInsertion.push(R),this},queueForRemoval:function(R){return this._pendingRemoval.push(R),this},setDraggable:function(R,L){L===void 0&&(L=!0),Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var I=R[D];I.input.draggable=L;var z=this._draggable.indexOf(I);L&&z===-1?this._draggable.push(I):!L&&z>-1&&this._draggable.splice(z,1)}return this},makePixelPerfect:function(R){R===void 0&&(R=1);var L=this.systems.textures;return a(L,R)},setHitArea:function(R,L,D){if(L===void 0)return this.setHitAreaFromTexture(R);Array.isArray(R)||(R=[R]);var I=!1,z=!1,U=!1,H=!1,W=!1,N=!0;if(P(L)&&Object.keys(L).length){var X=L,B=R.some(function(J){return J.hasOwnProperty("faces")});if(!B){L=g(X,"hitArea",null),D=g(X,"hitAreaCallback",null),W=g(X,"pixelPerfect",!1);var V=g(X,"alphaTolerance",1);W&&(L={},D=this.makePixelPerfect(V))}I=g(X,"draggable",!1),z=g(X,"dropZone",!1),U=g(X,"cursor",!1),H=g(X,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(R),N=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var k=0;k<R.length;k++){var j=R[k];if(W&&j.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=j.input?j.input:h(j,L,D);$.customHitArea=N,$.dropZone=z,$.cursor=H?"pointer":U,j.input=$,I&&this.setDraggable(j),this.queueForInsertion(j)}return this},setHitAreaCircle:function(R,L,D,I,z){z===void 0&&(z=m);var U=new o(L,D,I);return this.setHitArea(R,U,z)},setHitAreaEllipse:function(R,L,D,I,z,U){U===void 0&&(U=d);var H=new c(L,D,I,z);return this.setHitArea(R,H,U)},setHitAreaFromTexture:function(R,L){L===void 0&&(L=b),Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var I=R[D],z=I.frame,U=0,H=0;if(I.width?(U=I.width,H=I.height):z&&(U=z.realWidth,H=z.realHeight),I.type==="Container"&&(U===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}U!==0&&H!==0&&(I.input=h(I,new E(0,0,U,H),L),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(R,L,D,I,z,U){U===void 0&&(U=b);var H=new E(L,D,I,z);return this.setHitArea(R,H,U)},setHitAreaTriangle:function(R,L,D,I,z,U,H,W){W===void 0&&(W=A);var N=new M(L,D,I,z,U,H);return this.setHitArea(R,N,W)},enableDebug:function(R,L){L===void 0&&(L=65280);var D=R.input;if(!D||!D.hitArea)return this;var I=D.hitArea,z=I.type,U=D.hitAreaDebug,H=this.systems.add,W=this.systems.updateList;U&&(W.remove(U),U.destroy(),U=null);var N=0,X=0;switch(z){case x.CIRCLE:U=H.arc(0,0,I.radius),N=I.x-I.radius,X=I.y-I.radius;break;case x.ELLIPSE:U=H.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,X=I.y-I.height/2;break;case x.LINE:U=H.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case x.POLYGON:U=H.polygon(0,0,I.points);break;case x.RECTANGLE:U=H.rectangle(0,0,I.width,I.height),N=I.x,X=I.y;break;case x.TRIANGLE:U=H.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return U&&(U.isFilled=!1,U.strokeColor=L,U.preUpdate=function(){U.setVisible(R.visible),U.setStrokeStyle(1/R.scale,U.strokeColor),U.setDisplayOrigin(R.displayOriginX,R.displayOriginY);var B=R.x,V=R.y,k=R.rotation,j=R.scaleX,$=R.scaleY;if(R.parentContainer){var J=R.getWorldTransformMatrix();B=J.tx,V=J.ty,k=J.rotation,j=J.scaleX,$=J.scaleY}U.setRotation(k),U.setScale(j,$),U.setPosition(B+N*j,V+X*$),U.setScrollFactor(R.scrollFactorX,R.scrollFactorY),U.setDepth(R.depth)},W.add(U),D.hitAreaDebug=U),this},removeDebug:function(R){var L=R.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(R){return this.pollRate=R,this._pollTimer=0,this},setGlobalTopOnly:function(R){return this.manager.globalTopOnly=R,this},setTopOnly:function(R){return this.topOnly=R,this},sortGameObjects:function(R,L){if(R.length<2||!L.camera)return R;var D=L.camera.renderList;return R.sort(function(I,z){var U=Math.max(D.indexOf(I),0),H=Math.max(D.indexOf(z),0);return H-U})},sortDropZones:function(R){return R.length<2?R:(this.scene.sys.depthSort(),R.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(R,L){if(!R.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(R);if(R.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-R.parentContainer.getIndex(R);if(R.parentContainer===L)return-1;if(L.parentContainer===R)return 1;for(var D=R.getIndexList(),I=L.getIndexList(),z=Math.min(D.length,I.length),U=0;U<z;U++){var H=D[U],W=I[U];if(H!==W)return W-H}return I.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(R){return this.manager.addPointer(R)},setDefaultCursor:function(R){return this.manager.setDefaultCursor(R),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var R=0;R<10;R++)this._drag[R]=[],this._over[R]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(O.TRANSITION_START,this.transitionIn,this),D.off(O.TRANSITION_OUT,this.transitionOut,this),D.off(O.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(O.PRE_UPDATE,this.preUpdate,this),L.events.off(v.GAME_OUT,this.onGameOut,this),L.events.off(v.GAME_OVER,this.onGameOver,this),D.off(O.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var R=this.manager.pointers,L=0;L<R.length;L++)R[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});w.register("InputPlugin",F,"input"),r.exports=F},89639:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),m={},f={};f.register=function(u,h,a,l,c){m[u]={plugin:h,mapping:a,settingsKey:l,configKey:c}},f.getPlugin=function(u){return m[u]},f.install=function(u){var h=u.scene.sys,a=h.settings.input,l=h.game.config;for(var c in m){var d=m[c].plugin,v=m[c].mapping,p=m[c].settingsKey,g=m[c].configKey;o(a,p,l[g])&&(u[v]=new d(u))}},f.remove=function(u){m.hasOwnProperty(u)&&delete m[u]},r.exports=f},42515:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31040),m=s(83419),f=s(20339),u=s(43855),h=s(47235),a=s(26099),l=s(25892),c=new m({initialize:function(v,p){this.manager=v,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(d){var v=d.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(d,v){return d.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var d=this.position.x,v=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(d===p&&v===g)){var x=h(this.motionFactor,p,d),C=h(this.motionFactor,g,v);u(x,d,.1)&&(x=d),u(C,v,.1)&&(C=v),this.midPoint.set(x,C);var P=d-x,w=v-C;this.velocity.set(P,w),this.angle=o(x,C,d,v),this.distance=Math.sqrt(P*P+w*w)}},up:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=d.timeStamp,this.wasTouch=!1)},down:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.button=d.button,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),d.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&d.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=d.timeStamp),this.wasTouch=!1},move:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.locked&&(this.movementX=d.movementX||d.mozMovementX||d.webkitMovementX||0,this.movementY=d.movementY||d.mozMovementY||d.webkitMovementY||0),this.moveTime=d.timeStamp,this.wasTouch=!1},wheel:function(d){"buttons"in d&&(this.buttons=d.buttons),this.event=d,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.deltaX=d.deltaX,this.deltaY=d.deltaY,this.deltaZ=d.deltaZ,this.wasTouch=!1},touchstart:function(d,v){d.pointerId&&(this.pointerId=d.pointerId),this.identifier=d.identifier,this.target=d.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(d,v){this.event=v,this.manager.transformPointer(this,d.pageX,d.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(d,v){this.buttons=0,this.event=v,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(d,v){this.buttons=0,this.event=v,this.upElement=d.target,this.manager.transformPointer(this,d.pageX,d.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(d,v){d===void 0&&(d=10),v===void 0&&(v=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,x=this.position.x,C=this.position.y,P=0;P<d;P++){var w=1/d*P;v[P]={x:h(w,p,x),y:h(w,g,C)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(d){this.position.x=d}},y:{get:function(){return this.position.y},set:function(d){this.position.y=d}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=c},93301:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=T},7179:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},85375:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},39843:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},23388:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},16133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},27829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},53904:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},56058:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},2642:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},88171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"},36147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},71692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},96149:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},81285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},74048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},21322:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},49378:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},86754:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"},86433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"},60709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"},24081:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},11172:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},18907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},95579:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},35368:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},26972:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},47078:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"},73802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"},56718:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"},25936:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"},27503:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},50852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"},96438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},59152:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"},47777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},27957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"},19444:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},54251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},18667:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},27192:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},24652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"},45132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},44512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},15757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},41637:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},93802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},8214:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h){this.pad=u,this.events=u.events,this.index=h,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=m},28884:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(92734),f=new o({initialize:function(h,a){this.pad=h,this.events=h.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var h=this.pad,a=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,h,this,u),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,a,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,h,this,u),this.pad.emit(m.GAMEPAD_BUTTON_UP,a,u,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=f},99125:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97421),m=s(28884),f=s(83419),u=s(50792),h=s(26099),a=new f({Extends:u,initialize:function(c,d){u.call(this),this.manager=c,this.pad=d,this.id=d.id,this.index=d.index;for(var v=[],p=0;p<d.buttons.length;p++)v.push(new m(this,p));this.buttons=v;var g=[];for(p=0;p<d.axes.length;p++)g.push(new o(this,p));this.axes=g,this.vibration=d.vibrationActuator;var x={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:x,this._LCRight=v[15]?v[15]:x,this._LCTop=v[12]?v[12]:x,this._LCBottom=v[13]?v[13]:x,this._RCLeft=v[2]?v[2]:x,this._RCRight=v[1]?v[1]:x,this._RCTop=v[3]?v[3]:x,this._RCBottom=v[0]?v[0]:x,this._FBLeftTop=v[4]?v[4]:x,this._FBLeftBottom=v[6]?v[6]:x,this._FBRightTop=v[5]?v[5]:x,this._FBRightBottom=v[7]?v[7]:x;var C={value:0};this._HAxisLeft=g[0]?g[0]:C,this._VAxisLeft=g[1]?g[1]:C,this._HAxisRight=g[2]?g[2]:C,this._VAxisRight=g[3]?g[3]:C,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(l){return this.axes[l].getValue()},setAxisThreshold:function(l){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=l},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(l){return this.buttons[l].value},isButtonDown:function(l){return this.buttons[l].pressed},update:function(l){if(!(l.timestamp<this._created)){var c,d=this.buttons,v=l.buttons,p=d.length;for(c=0;c<p;c++)d[c].update(v[c].value);var g=this.axes,x=l.axes;for(p=g.length,c=0;c<p;c++)g[c].update(x[c]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var l;for(l=0;l<this.buttons.length;l++)this.buttons[l].destroy();for(l=0;l<this.axes.length;l++)this.axes[l].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=a},56654:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(92734),u=s(99125),h=s(35154),a=s(89639),l=s(8214),c=new o({Extends:m,initialize:function(v){m.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(l.BOOT,this.boot,this),v.pluginEvents.on(l.START,this.start,this)},boot:function(){var d=this.scene.sys.game,v=this.settings.input,p=d.config;this.enabled=h(v,"gamepad",p.inputGamepad)&&d.device.input.gamepads,this.target=h(v,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var d=this,v=this.target,p=function(g){g.defaultPrevented||!d.isActive()||(d.refreshPads(),d.queue.push(g))};this.onGamepadHandler=p,v.addEventListener("gamepadconnected",p,!1),v.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].removeAllListeners()},disconnectAll:function(){for(var d=0;d<this.gamepads.length;d++)this.gamepads[d].pad.connected=!1},refreshPads:function(){var d=navigator.getGamepads();if(!d)this.disconnectAll();else for(var v=this.gamepads,p=0;p<d.length;p++){var g=d[p];if(g){var x=g.id,C=g.index,P=v[C];if(P)P.id!==x?(P.destroy(),v[C]=new u(this,g)):P.update(g);else{var w=new u(this,g);v[C]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},getAll:function(){for(var d=[],v=this.gamepads,p=0;p<v.length;p++)v[p]&&d.push(v[p]);return d},getPad:function(d){for(var v=this.gamepads,p=0;p<v.length;p++)if(v[p]&&v[p].index===d)return v[p]},update:function(){if(this.enabled){this.refreshPads();var d=this.queue.length;if(d!==0)for(var v=this.queue.splice(0,d),p=0;p<d;p++){var g=v[p],x=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(f.CONNECTED,x,g):g.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,x,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var d=0;d<this.gamepads.length;d++)this.gamepads[d]&&this.gamepads[d].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),r.exports=c},89651:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},7629:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},42206:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"},86544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"},94784:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},14325:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},92734:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(93301),m=s(79291),f={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};f=m(!1,f,o),r.exports=f},78970:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),m=s(83419),f=s(8443),u=s(8214),h=s(46032),a=s(29747),l=new m({initialize:function(d){this.manager=d,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,d.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(u.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(u.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var d=this.target;d&&(d.addEventListener("keydown",this.onKeyDown,!1),d.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var d=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=h[p.trim().toUpperCase()]),d.indexOf(p)===-1&&d.push(p)}this.preventDefault=d.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var d=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=h[p.toUpperCase()]),o(d,p)}this.preventDefault=d.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=l},28846:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(95922),u=s(8443),h=s(35154),a=s(8214),l=s(89639),c=s(30472),d=s(46032),v=s(87960),p=s(74600),g=s(44594),x=s(56583),C=new o({Extends:m,initialize:function(w){m.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(a.BOOT,this.boot,this),w.pluginEvents.on(a.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=h(P,"keyboard",!0);var w=h(P,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:d.UP,down:d.DOWN,left:d.LEFT,right:d.RIGHT,space:d.SPACE,shift:d.SHIFT})},addKeys:function(P,w,E){w===void 0&&(w=!0),E===void 0&&(E=!1);var b={};if(typeof P=="string"){P=P.split(",");for(var O=0;O<P.length;O++){var M=P[O].trim();M&&(b[M]=this.addKey(M,w,E))}}else for(var A in P)b[A]=this.addKey(P[A],w,E);return b},addKey:function(P,w,E){w===void 0&&(w=!0),E===void 0&&(E=!1);var b=this.keys;if(P instanceof c){var O=b.indexOf(P);return O>-1?b[O]=P:b[P.keyCode]=P,w&&this.addCapture(P.keyCode),P.setEmitOnRepeat(E),P}return typeof P=="string"&&(P=d[P.toUpperCase()]),b[P]||(b[P]=new c(this,P),w&&this.addCapture(P),b[P].setEmitOnRepeat(E)),b[P]},removeKey:function(P,w,E){w===void 0&&(w=!1),E===void 0&&(E=!1);var b=this.keys,O;if(P instanceof c){var M=b.indexOf(P);M>-1&&(O=this.keys[M],this.keys[M]=void 0)}else typeof P=="string"&&(P=d[P.toUpperCase()]);return b[P]&&(O=b[P],b[P]=void 0),O&&(O.plugin=null,E&&this.removeCapture(O.keyCode),w&&O.destroy()),this},removeAllKeys:function(P,w){P===void 0&&(P=!1),w===void 0&&(w=!1);for(var E=this.keys,b=0;b<E.length;b++){var O=E[b];O&&(E[b]=void 0,w&&this.removeCapture(O.keyCode),P&&O.destroy())}return this},createCombo:function(P,w){return new v(this,P,w)},checkDown:function(P,w){if(w===void 0&&(w=0),this.enabled&&P.isDown){var E=x(this.time-P.timeDown,w);if(E>P._tick)return P._tick=E,!0}return!1},update:function(){var P=this.manager.queue,w=P.length;if(!(!this.isActive()||w===0))for(var E=this.keys,b=0;b<w;b++){var O=P[b],M=O.keyCode,A=E[M],F=!1;O.cancelled===void 0&&(O.cancelled=0,O.stopImmediatePropagation=function(){O.cancelled=1},O.stopPropagation=function(){O.cancelled=-1}),O.cancelled!==-1&&(M===this.prevCode&&O.timeStamp===this.prevTime&&O.type===this.prevType||(this.prevCode=M,this.prevTime=O.timeStamp,this.prevType=O.type,O.type==="keydown"?(A&&(F=A.isDown,A.onDown(O)),!O.cancelled&&(!A||!F)&&(p[M]&&this.emit(f.KEY_DOWN+p[M],O),O.cancelled||this.emit(f.ANY_KEY_DOWN,O))):(A&&A.onUp(O),O.cancelled||(p[M]&&this.emit(f.KEY_UP+p[M],O),O.cancelled||this.emit(f.ANY_KEY_UP,O))),O.cancelled===1&&(O.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,w=0;w<P.length;w++)P[w]&&P[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),r.exports=C},66970:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o.timeLastMatched=s.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};r.exports=T},87960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95922),f=s(95540),u=s(68769),h=s(92803),a=new o({initialize:function(c,d,v){if(v===void 0&&(v={}),d.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var p=0;p<d.length;p++){var g=d[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(v,"resetOnWrongKey",!0),this.maxKeyDelay=f(v,"maxKeyDelay",0),this.resetOnMatch=f(v,"resetOnMatch",!1),this.deleteOnMatch=f(v,"deleteOnMatch",!1);var x=this,C=function(P){if(!(x.matched||!x.enabled)){var w=u(P,x);w&&(x.manager.emit(m.COMBO_MATCH,x,P),x.resetOnMatch?h(x):x.deleteOnMatch&&x.destroy())}};this.onKeyDown=C,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=a},68769:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66970),m=function(f,u){if(u.matched)return!0;var h=!1,a=!1;if(f.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var l=u.timeLastMatched+u.maxKeyDelay;f.timeStamp<=l&&(a=!0,h=o(f,u))}else a=!0,h=o(f,u);return!a&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),h&&(u.timeLastMatched=f.timeStamp,u.matched=!0,u.timeMatched=f.timeStamp),h};r.exports=m},92803:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};r.exports=T},92612:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"},23345:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"},21957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"},44743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},3771:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"},46358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"},75674:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},95922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=50);var m=s.plugin.game.loop.time-s.timeDown;return s.isDown&&m<o};r.exports=T},90229:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s._justDown?(s._justDown=!1,!0):!1};r.exports=T},38796:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s._justUp?(s._justUp=!1,!0):!1};r.exports=T},30472:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(95922),u=new o({Extends:m,initialize:function(a,l){m.call(this),this.plugin=a,this.keyCode=l,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=u},46032:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=T},74600:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(46032),m={};for(var f in o)m[o[f]]=f;r.exports=m},41170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=50);var m=s.plugin.game.loop.time-s.timeUp;return s.isUp&&m<o};r.exports=T},85098:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(89357),f=s(8214),u=s(29747),h=new o({initialize:function(l){this.manager=l,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,l.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var l=this,c=this.manager,d=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&l.enabled&&c&&c.enabled&&(c.onMouseMove(g),l.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){v&&window.focus(),!g.defaultPrevented&&l.enabled&&c&&c.enabled&&(c.onMouseDown(g),l.preventDefaultDown&&g.target===d&&g.preventDefault())},this.onMouseDownWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&l.enabled&&c&&c.enabled&&g.target!==d&&c.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&l.enabled&&c&&c.enabled&&(c.onMouseUp(g),l.preventDefaultUp&&g.target===d&&g.preventDefault())},this.onMouseUpWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&l.enabled&&c&&c.enabled&&g.target!==d&&c.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&l.enabled&&c&&c.enabled&&c.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&l.enabled&&c&&c.enabled&&c.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&l.enabled&&c&&c.enabled&&c.onMouseWheel(g),l.preventDefaultWheel&&g.target===d&&g.preventDefault()};var p={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,p),a.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,p),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(g){var x=l.target;l.locked=document.pointerLockElement===x||document.mozPointerLockElement===x||document.webkitPointerLockElement===x,c.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=h},87078:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:s(85098)}},36210:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(8214),f=s(29747),u=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,a.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var a=this,l=this.manager,c=l.canvas,d=window&&window.focus&&l.game.config.autoFocus;this.onTouchMove=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onTouchMove(x),a.capture&&x.cancelable&&x.preventDefault())},this.onTouchStart=function(x){d&&window.focus(),!x.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onTouchStart(x),a.capture&&x.cancelable&&x.target===c&&x.preventDefault())},this.onTouchStartWindow=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&x.target!==c&&l.onTouchStart(x)},this.onTouchEnd=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onTouchEnd(x),a.capture&&x.cancelable&&x.target===c&&x.preventDefault())},this.onTouchEndWindow=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&x.target!==c&&l.onTouchEnd(x)},this.onTouchCancel=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&(l.onTouchCancel(x),a.capture&&x.preventDefault())},this.onTouchCancelWindow=function(x){!x.defaultPrevented&&a.enabled&&l&&l.enabled&&l.onTouchCancel(x)};var v=this.capture,p={passive:!0},g={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,v?g:p),h.addEventListener("touchmove",this.onTouchMove,v?g:p),h.addEventListener("touchend",this.onTouchEnd,v?g:p),h.addEventListener("touchcancel",this.onTouchCancel,v?g:p),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u},95618:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:s(36210)}},41299:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(54899),u=s(95540),h=s(98356),a=s(3374),l=s(84376),c=s(92638),d=new o({initialize:function(p,g){if(this.loader=p,this.cache=u(g,"cache",!1),this.type=u(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(g,"key",!1);var x=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+x),!this.key)throw new Error("Invalid File key: "+this.key);var C=u(g,"url");C===void 0?C=p.path+x+"."+u(g,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=p.path+C),this.url=C,this.src="",this.xhrSettings=c(u(g,"responseType",void 0)),u(g,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,u(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(g,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=u(g,"maxRetries",p.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===m.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=m.FILE_LOADING,this.src=h(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=l(this,this.loader.xhr)}},onLoad:function(v,p){var g=v.responseURL&&this.loader.localSchemes.some(function(P){return v.responseURL.indexOf(P)===0}),x=g&&p.target.status===0,C=!(p.target&&p.target.status!==200)||x;v.readyState===4&&v.status>=400&&v.status<=599&&(C=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(v){this.xhrLoader=v,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==m.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var p=this.key,g=this.type;this.loader.emit(f.FILE_COMPLETE,p,g,v),this.loader.emit(f.FILE_KEY_COMPLETE+g+"-"+p,p,g,v),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});d.createObjectURL=function(v,p,g){if(typeof URL=="function")v.src=URL.createObjectURL(p);else{var x=new FileReader;x.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(p.type||g)+";base64,"+x.result.split(",")[1]},x.onerror=v.onerror,x.readAsDataURL(p)}},d.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},r.exports=d},74099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},s={install:function(o){for(var m in T)o[m]=T[m]},register:function(o,m){T[o]=m},destroy:function(){T={}}};r.exports=s},98356:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:o+s.url:!1};r.exports=T},74261:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(35072),u=s(50792),h=s(54899),a=s(74099),l=s(95540),c=s(35154),d=s(41212),v=s(37277),p=s(44594),g=s(92638),x=new o({Extends:u,initialize:function(P){u.call(this);var w=P.sys.game.config,E=P.sys.settings.loader;this.scene=P,this.systems=P.sys,this.cacheManager=P.sys.cache,this.textureManager=P.sys.textures,this.sceneManager=P.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(E,"baseURL",w.loaderBaseURL)),this.setPath(l(E,"path",w.loaderPath)),this.setPrefix(l(E,"prefix",w.loaderPrefix)),this.maxParallelDownloads=l(E,"maxParallelDownloads",w.loaderMaxParallelDownloads),this.xhr=g(l(E,"responseType",w.loaderResponseType),l(E,"async",w.loaderAsync),l(E,"user",w.loaderUser),l(E,"password",w.loaderPassword),l(E,"timeout",w.loaderTimeout),l(E,"withCredentials",w.loaderWithCredentials)),this.crossOrigin=l(E,"crossOrigin",w.loaderCrossOrigin),this.imageLoadType=l(E,"imageLoadType",w.loaderImageLoadType),this.localSchemes=l(E,"localScheme",w.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=l(E,"maxRetries",w.loaderMaxRetries),P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var P=0;P<C.length;P++){var w=C[P];this.keyExists(w)||(this.list.set(w),this.emit(h.ADD,w.key,w.type,this,w),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var P=C.hasCacheConflict();return P||this.list.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),!P&&this.isLoading()&&(this.inflight.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1}),this.queue.iterate(function(w){if(w.type===C.type&&w.key===C.key)return P=!0,!1})),P},addPack:function(C,P){if(typeof P=="string"){var w=c(C,P);w&&(C={packKey:w})}var E=0,b=this.baseURL,O=this.path,M=this.prefix;for(var A in C)if(Object.prototype.hasOwnProperty.call(C,A)){var F=C[A],R=l(F,"baseURL",b),L=l(F,"path",O),D=l(F,"prefix",M),I=l(F,"files",null),z=l(F,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(R),this.setPath(L),this.setPrefix(D);for(var U=0;U<I.length;U++){var H=I[U],W=H.hasOwnProperty("type")?H.type:z;this[W]&&(this[W](H),E++)}}}return this.setBaseURL(b),this.setPath(O),this.setPrefix(M),E>0},removePack:function(C,P){var w=this.systems.anims,E=this.cacheManager,b=this.textureManager,O={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},M;if(d(C))M=C;else if(M=E.json.get(C),!M){console.warn("Asset Pack not found in JSON cache:",C);return}P&&(M={_:M[P]});for(var A in M){var F=M[A],R=l(F,"prefix",""),L=l(F,"files"),D=l(F,"defaultType");if(Array.isArray(L))for(var I=0;I<L.length;I++){var z=L[I],U=z.hasOwnProperty("type")?z.type:D;if(!U){console.warn("No type:",z);continue}var H=R+z.key;if(U==="animation"&&w.remove(H),!((U==="aseprite"||U==="atlas"||U==="atlasXML"||U==="htmlTexture"||U==="image"||U==="multiatlas"||U==="spritesheet"||U==="svg"||U==="texture"||U==="unityAtlas")&&(b.remove(H),!O[U]))){if(U==="pack"){this.removePack(H,z.dataKey);continue}if(U==="spine"){var W=E.custom.spine.get(H);if(!W)continue;var N=W.prefix===void 0?"":W.prefix;E.custom.spine.remove(H);var X=E.custom.spineTextures.get(H);if(!X)continue;E.custom.spineTextures.remove(H);for(var B=0;B<X.pages.length;B++){var V=X.pages[B],k=N+V.name,j=H+":"+k;b.exists(j)?b.remove(j):b.remove(k)}}var $=O[U];if($!==null){if(!$){console.warn("Unknown type:",U);continue}var J=E[$];J.remove(H)}}}}},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===m.FILE_POPULATED||C.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,P){this.inflight&&(this.inflight.delete(C),this.updateProgress(),P?(this.totalComplete++,this.queue.set(C),this.emit(h.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(h.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===m.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===m.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,P){return this.save(JSON.stringify(C),P)},save:function(C,P,w){P===void 0&&(P="file.json"),w===void 0&&(w="application/json");var E=new Blob([C],{type:w}),b=URL.createObjectURL(E),O=document.createElement("a");return O.download=P,O.textContent="Download "+P,O.href=b,O.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,P=this.systems.settings.loader;this.setBaseURL(l(P,"baseURL",C.loaderBaseURL)),this.setPath(l(P,"path",C.loaderPath)),this.setPrefix(l(P,"prefix",C.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",x,"load"),r.exports=x},3374:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=s(92638),f=function(u,h){var a=u===void 0?m():o({},u);if(h)for(var l in h)h[l]!==void 0&&(a[l]=h[l]);return a};r.exports=f},26430:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(54899),u=new o({initialize:function(a,l,c,d){var v=[];d.forEach(function(x){x&&v.push(x)}),this.loader=a,this.type=l,this.key=c;var p=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+p),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=m.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var g=0;g<v.length;g++)v[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var a=this.files.indexOf(h);a!==-1&&this.pending--},onFileFailed:function(h){var a=this.files.indexOf(h);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var h=this.key,a=this.type;this.loader.emit(f.FILE_COMPLETE,h,a),this.loader.emit(f.FILE_KEY_COMPLETE+a+"-"+h,h,a),this.loader.flagForRemoval(this);for(var l=0;l<this.files.length;l++)this.files[l].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=u},84376:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(3374),m=function(f,u){var h=o(u,f.xhrSettings);if(f.base64){var a=f.url.split(";base64,").pop()||f.url.split(",").pop(),l;f.xhrSettings.responseType==="arraybuffer"?l={response:Uint8Array.from(atob(a),function(v){return v.charCodeAt(0)}).buffer}:l={responseText:atob(a)},f.onBase64Load(l);return}var c=new XMLHttpRequest;if(c.open("GET",f.src,h.async,h.user,h.password),c.responseType=f.xhrSettings.responseType,c.timeout=h.timeout,h.headers)for(var d in h.headers)c.setRequestHeader(d,h.headers[d]);return h.header&&h.headerValue&&c.setRequestHeader(h.header,h.headerValue),h.requestedWith&&c.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&c.overrideMimeType(h.overrideMimeType),h.withCredentials&&(c.withCredentials=!0),c.onload=f.onLoad.bind(f,c),c.onerror=f.onError.bind(f,c),c.onprogress=f.onProgress.bind(f),c.ontimeout=f.onError.bind(f,c),c.send(),c};r.exports=m},92638:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h){return s===void 0&&(s=""),o===void 0&&(o=!0),m===void 0&&(m=""),f===void 0&&(f=""),u===void 0&&(u=0),h===void 0&&(h=!1),{responseType:s,async:o,user:m,password:f,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};r.exports=T},23906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=T},42155:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"},38991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},27540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"},87464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"},94486:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"},13035:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"},38144:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"},97520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"},85595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"},55680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},54899:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(518),u=s(54899),h=new o({Extends:f,initialize:function(l,c,d,v,p){f.call(this,l,c,d,v,p),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(a,l,c,d){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,l,d,c));return this}),r.exports=h},76272:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(518),l=s(26430),c=new o({Extends:l,initialize:function(v,p,g,x,C,P){var w,E;if(h(p)){var b=p;p=f(b,"key"),w=new u(v,{key:p,url:f(b,"textureURL"),extension:f(b,"textureExtension","png"),normalMap:f(b,"normalMap"),xhrSettings:f(b,"textureXhrSettings")}),E=new a(v,{key:p,url:f(b,"atlasURL"),extension:f(b,"atlasExtension","json"),xhrSettings:f(b,"atlasXhrSettings")})}else w=new u(v,p,g,C),E=new a(v,p,x,P);w.linkFile?l.call(this,v,"atlasjson",p,[w,E,w.linkFile]):l.call(this,v,"atlasjson",p,[w,E])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,v.data,p),v.addToCache(),this.complete=!0}}});m.register("aseprite",function(d,v,p,g,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new c(this,d[P]),this.addFile(C.files);else C=new c(this,d,v,p,g,x),this.addFile(C.files);return this}),r.exports=c},38734:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(518),l=s(26430),c=new o({Extends:l,initialize:function(v,p,g,x,C,P){var w,E;if(h(p)){var b=p;p=f(b,"key"),w=new u(v,{key:p,url:f(b,"textureURL"),extension:f(b,"textureExtension","png"),normalMap:f(b,"normalMap"),xhrSettings:f(b,"textureXhrSettings")}),E=new a(v,{key:p,url:f(b,"atlasURL"),extension:f(b,"atlasExtension","json"),xhrSettings:f(b,"atlasXhrSettings")})}else w=new u(v,p,g,C),E=new a(v,p,x,P);w.linkFile?l.call(this,v,"atlasjson",p,[w,E,w.linkFile]):l.call(this,v,"atlasjson",p,[w,E])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(d.key,d.data,v.data,p),this.complete=!0}}});m.register("atlas",function(d,v,p,g,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new c(this,d[P]),this.addFile(C.files);else C=new c(this,d,v,p,g,x),this.addFile(C.files);return this}),r.exports=c},74599:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(26430),l=s(57318),c=new o({Extends:a,initialize:function(v,p,g,x,C,P){var w,E;if(h(p)){var b=p;p=f(b,"key"),w=new u(v,{key:p,url:f(b,"textureURL"),extension:f(b,"textureExtension","png"),normalMap:f(b,"normalMap"),xhrSettings:f(b,"textureXhrSettings")}),E=new l(v,{key:p,url:f(b,"atlasURL"),extension:f(b,"atlasExtension","xml"),xhrSettings:f(b,"atlasXhrSettings")})}else w=new u(v,p,g,C),E=new l(v,p,x,P);w.linkFile?a.call(this,v,"atlasxml",p,[w,E,w.linkFile]):a.call(this,v,"atlasxml",p,[w,E])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(d.key,d.data,v.data,p),this.complete=!0}}});m.register("atlasXML",function(d,v,p,g,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new c(this,d[P]),this.addFile(C.files);else C=new c(this,d,v,p,g,x),this.addFile(C.files);return this}),r.exports=c},21097:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(89749),l=s(41212),c=new o({Extends:f,initialize:function(v,p,g,x,C){if(l(p)){var P=p;p=h(P,"key"),x=h(P,"xhrSettings"),C=h(P,"context",C)}var w={type:"audio",cache:v.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:x,config:{context:C}};f.call(this,v,w)},onProcess:function(){this.state=m.FILE_PROCESSING;var d=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){d.data=v,d.onProcessComplete()},function(v){console.error("Error decoding audio: "+d.key+" - ",v?v.message:null),d.onProcessError()}),this.config.context=null}});c.create=function(d,v,p,g,x){var C=d.systems.game,P=C.config.audio,w=C.device.audio;l(v)&&(p=h(v,"url",[]),g=h(v,"config",{}));var E=c.getAudioURL(C,p);return E?w.webAudio&&!P.disableWebAudio?new c(d,v,E,x,C.sound.context):new a(d,v,E,g):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(d,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var g=h(v[p],"url",v[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var x=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(x=h(v[p],"type",x?x[1]:"").toLowerCase(),d.device.audio[x])return{url:g,type:x}}return null},u.register("audio",function(d,v,p,g){var x=this.systems.game,C=x.config.audio,P=x.device.audio;if(C.noAudio||!P.webAudio&&!P.audioData)return this;var w;if(Array.isArray(d))for(var E=0;E<d.length;E++)w=c.create(this,d[E]),w&&this.addFile(w);else w=c.create(this,d,v,p,g),w&&this.addFile(w);return this}),r.exports=c},89524:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21097),m=s(83419),f=s(74099),u=s(95540),h=s(41212),a=s(518),l=s(26430),c=new m({Extends:l,initialize:function(v,p,g,x,C,P,w){if(h(p)){var E=p;p=u(E,"key"),g=u(E,"jsonURL"),x=u(E,"audioURL"),C=u(E,"audioConfig"),P=u(E,"audioXhrSettings"),w=u(E,"jsonXhrSettings")}var b;if(!x)b=new a(v,p,g,w),l.call(this,v,"audiosprite",p,[b]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=P;else{var O=o.create(v,p,x,C,P);O&&(b=new a(v,p,g,w),l.call(this,v,"audiosprite",p,[O,b]),this.config.resourceLoad=!1)}},onFileComplete:function(d){var v=this.files.indexOf(d);if(v!==-1&&(this.pending--,this.config.resourceLoad&&d.type==="json"&&d.data.hasOwnProperty("resources"))){var p=d.data.resources,g=u(this.config,"audioConfig"),x=u(this.config,"audioXhrSettings"),C=o.create(this.loader,d.key,p,g,x);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1];d.addToCache(),v.addToCache(),this.complete=!0}}});f.register("audioSprite",function(d,v,p,g,x,C){var P=this.systems.game,w=P.config.audio,E=P.device.audio;if(w&&w.noAudio||!E.webAudio&&!E.audioData)return this;var b;if(Array.isArray(d))for(var O=0;O<d.length;O++)b=new c(this,d[O]),b.files&&this.addFile(b.files);else b=new c(this,d,v,p,g,x,C),b.files&&this.addFile(b.files);return this})},85722:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x){var C="bin";if(a(v)){var P=v;v=h(P,"key"),p=h(P,"url"),g=h(P,"xhrSettings"),C=h(P,"extension",C),x=h(P,"dataType",x)}var w={type:"binary",cache:d.cacheManager.binary,extension:C,responseType:"arraybuffer",key:v,url:p,xhrSettings:g,config:{dataType:x}};f.call(this,d,w)},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(c,d,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new l(this,c[g]));else this.addFile(new l(this,c,d,p,v));return this}),r.exports=l},97025:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(26430),l=s(21859),c=s(57318),d=new o({Extends:a,initialize:function(p,g,x,C,P,w){var E,b;if(h(g)){var O=g;g=f(O,"key"),E=new u(p,{key:g,url:f(O,"textureURL"),extension:f(O,"textureExtension","png"),normalMap:f(O,"normalMap"),xhrSettings:f(O,"textureXhrSettings")}),b=new c(p,{key:g,url:f(O,"fontDataURL"),extension:f(O,"fontDataExtension","xml"),xhrSettings:f(O,"fontDataXhrSettings")})}else E=new u(p,g,x,P),b=new c(p,g,C,w);E.linkFile?a.call(this,p,"bitmapfont",g,[E,b,E.linkFile]):a.call(this,p,"bitmapfont",g,[E,b])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1];v.addToCache();var g=v.cache.get(v.key),x=l(p.data,v.cache.getFrame(v.key),0,0,g);this.loader.cacheManager.bitmapFont.add(v.key,{data:x,texture:v.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(v,p,g,x,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new d(this,v[w]),this.addFile(P.files);else P=new d(this,v,p,g,x,C),this.addFile(P.files);return this}),r.exports=d},16024:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g){var x="css";if(a(v)){var C=v;v=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),x=h(C,"extension",x)}var P={type:"script",cache:!1,extension:x,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,d,P)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(c,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new l(this,c[p]));else this.addFile(new l(this,c,d,v));return this}),r.exports=l},69559:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(38734),m=s(85722),f=s(83419),u=s(74099),h=s(95540),a=s(19550),l=s(41212),c=s(518),d=s(31403),v=s(46975),p=s(59327),g=s(26430),x=s(82038),C=s(55222),P=new f({Extends:g,initialize:function(E,b,O,M){if(O.multiAtlasURL){var A=new c(E,{key:b,url:O.multiAtlasURL,xhrSettings:M,config:O});g.call(this,E,"texture",b,[A])}else{var F=O.textureURL.substr(O.textureURL.length-3);O.type||(O.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var R=new m(E,{key:b,url:O.textureURL,extension:F,xhrSettings:M,config:O});if(O.atlasURL){var L=new c(E,{key:b,url:O.atlasURL,xhrSettings:M,config:O});g.call(this,E,"texture",b,[R,L])}else g.call(this,E,"texture",b,[R])}this.config=O},onFileComplete:function(w){var E=this.files.indexOf(w);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var b=w.data.textures,O=this.config,M=this.loader,A=M.baseURL,F=M.path,R=M.prefix,L=h(O,"multiBaseURL",this.baseURL),D=h(O,"multiPath",this.path),I=h(O,"prefix",this.prefix),z=h(O,"textureXhrSettings");L&&M.setBaseURL(L),D&&M.setPath(D),I&&M.setPrefix(I);for(var U=0;U<b.length;U++){var H=b[U].image,W="CMA"+this.multiKeyIndex+"_"+H,N=new m(M,W,H,z);if(this.addToMultiFile(N),M.addFile(N),b[U].normalMap){var X=new m(M,W,b[U].normalMap,z);X.type="normalMap",N.setLink(X),this.addToMultiFile(X),M.addFile(X)}}M.setBaseURL(A),M.setPath(F),M.setPrefix(R)}}},addToCache:function(){function w(L){console.warn('Compressed Texture Invalid: "'+A.key+'". '+L)}if(this.isReadyToProcess()){var E=this.config;if(E.multiAtlasURL)this.addMultiToCache();else{var b=this.loader.systems.renderer,O=this.loader.textureManager,M,A=this.files[0],F=this.files[1];if(E.type==="PVR"?M=x(A.data):E.type==="KTX"&&(M=d(A.data),M||w("KTX file contains unsupported format.")),M&&!C(M)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+E.format+" 0x"+M.internalFormat.toString(16)+"."),M=null),M&&!b.supportsCompressedTexture(E.format,M.internalFormat)&&(w("Texture format "+E.format+" with internal format "+M.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),M=null),M){M.format=b.getCompressedTextureName(E.format,M.internalFormat);var R=F&&F.data?F.data:null;O.addCompressedTexture(A.key,M,R)}}this.complete=!0}},addMultiToCache:function(){for(var w=this.config,E=this.files[0],b=[],O=[],M=[],A=this.loader.systems.renderer,F=this.loader.textureManager,R,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var I=D.key.indexOf("_"),z=D.key.substr(I+1),U=D.data,H=0;H<E.data.textures.length;H++){var W=E.data.textures[H];if(W.image===z){w.type==="PVR"?R=x(U):w.type==="KTX"&&(R=d(U)),R&&A.supportsCompressedTexture(w.format,R.internalFormat)&&(R.format=A.getCompressedTextureName(w.format,R.internalFormat),O.push(R),b.push(W),D.linkFile&&M.push(D.linkFile.data));break}}}M.length===0&&(M=void 0),F.addAtlasJSONArray(this.key,O,b,M),this.complete=!0}});u.register("texture",function(w,E,b){var O=this.systems.renderer,M=function(F,R,L,D){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(l(R)){var z=R;R=h(z,"key"),L=h(z,"url"),D=h(z,"xhrSettings")}var U=!1;for(var H in L)if(O.supportsCompressedTexture(H)){var W=L[H];typeof W=="string"?I.textureURL=W:I=v(W,I),I.format=H.toUpperCase(),U=!0;break}if(!U)console.warn("No supported compressed texture format or IMG fallback",R);else if(I.format==="IMG"){var N,X;I.multiAtlasURL?(X=new p(F,R,I.multiAtlasURL,I.multiPath,I.multiBaseURL,D),N=X.files):I.atlasURL?(X=new o(F,R,I.textureURL,I.atlasURL,D),N=X.files):N=new a(F,R,I.textureURL,D),F.addFile(N)}else{var B=new P(F,R,I,D);F.addFile(B.files)}};if(Array.isArray(w))for(var A=0;A<w.length;A++)M(this,w[A]);else M(this,w,E,b);return this}),r.exports=P},87674:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(98356),l=s(41212),c=new o({Extends:f,initialize:function(v,p,g,x,C,P){var w="ttf";if(l(p)){var E=p;p=h(E,"key"),g=h(E,"url"),x=h(E,"format","truetype"),C=h(E,"descriptors",null),P=h(E,"xhrSettings"),w=h(E,"extension",w)}else x===void 0&&(x="truetype");var b={type:"font",cache:!1,extension:w,responseType:"text",key:p,url:g,xhrSettings:P};f.call(this,v,b),this.data={format:x,descriptors:C},this.state=m.FILE_POPULATED},onProcess:function(){this.state=m.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var d,v=this.key,p="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?d=new FontFace(v,p,this.data.descriptors):d=new FontFace(v,p);var g=this;d.load().then(function(){document.fonts.add(d),document.body.classList.add("fonts-loaded"),g.onProcessComplete()}).catch(function(){console.warn("Font failed to load",p),g.onProcessComplete()})}});u.register("font",function(d,v,p,g,x){if(Array.isArray(d))for(var C=0;C<d.length;C++)this.addFile(new c(this,d[C]));else this.addFile(new c(this,d,v,p,g,x));return this}),r.exports=c},47931:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=s(73894),c=new o({Extends:f,initialize:function(v,p,g,x,C){var P="glsl";if(a(p)){var w=p;p=h(w,"key"),g=h(w,"url"),x=h(w,"shaderType","fragment"),C=h(w,"xhrSettings"),P=h(w,"extension",P)}else x===void 0&&(x="fragment");var E={type:"glsl",cache:v.cacheManager.shader,extension:P,responseType:"text",key:p,url:g,config:{shaderType:x},xhrSettings:C};f.call(this,v,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d=this.data.split(`
`),v=this.extractBlock(d,0);if(v)for(;v;){var p=this.getShaderName(v.header),g=this.getShaderType(v.header),x=this.getShaderUniforms(v.header),C=v.shader;if(this.cache.has(p)){var P=this.cache.get(p);g==="fragment"?P.fragmentSrc=C:P.vertexSrc=C,P.uniforms||(P.uniforms=x)}else g==="fragment"?this.cache.add(p,new l(p,C,"",x)):this.cache.add(p,new l(p,"",C,x));v=this.extractBlock(d,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data))},getShaderName:function(d){for(var v=0;v<d.length;v++){var p=d[v].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(d){for(var v=0;v<d.length;v++){var p=d[v].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(d){for(var v={},p=0;p<d.length;p++){var g=d[p].trim();if(g.substring(0,8)==="uniform."){var x=g.indexOf(":");if(x){var C=g.substring(8,x);try{v[C]=JSON.parse(g.substring(x+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return v},extractBlock:function(d,v){for(var p=-1,g=-1,x=-1,C=!1,P=!1,w=[],E=[],b=v;b<d.length;b++){var O=d[b].trim();if(O==="---")if(p===-1)p=b,C=!0;else if(C)g=b,C=!1,P=!0;else{P=!1;break}else C?w.push(O):P&&(E.push(O),x=b)}return!C&&g!==-1?{header:w,shader:E.join(`
`),offset:x}:null}});u.register("glsl",function(d,v,p,g){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new c(this,d[x]));else this.addFile(new c(this,d,v,p,g));return this}),r.exports=c},89749:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(54899),f=s(41299),u=s(95540),h=s(98356),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g){if(a(v)){var x=v;v=u(x,"key"),g=u(x,"config",g)}var C={type:"audio",cache:d.cacheManager.audio,extension:p.type,key:v,url:p.url,config:g};f.call(this,d,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var d=this.data[c];d.oncanplaythrough=null,d.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var d=c.target;d.oncanplaythrough=null,d.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var d=0;d<c;d++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+d).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(d=0;d<this.data.length;d++)v=this.data[d],v.src=h(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=l},88470:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g){var x="html";if(a(v)){var C=v;v=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),x=h(C,"extension",x)}var P={type:"text",cache:d.cacheManager.html,extension:x,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,d,P)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(c,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new l(this,c[p]));else this.addFile(new l(this,c,d,v));return this}),r.exports=l},14643:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x,C){g===void 0&&(g=512),x===void 0&&(x=512);var P="html";if(a(v)){var w=v;v=h(w,"key"),p=h(w,"url"),C=h(w,"xhrSettings"),P=h(w,"extension",P),g=h(w,"width",g),x=h(w,"height",x)}var E={type:"html",cache:d.textureManager,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{width:g,height:x}};f.call(this,d,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.config.width,d=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+d+'px" viewBox="0 0 '+c+" "+d+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var p=[v.join(`
`)],g=this;try{var x=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=m.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(g.data),g.onProcessError()},f.createObjectURL(this.data,x,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(c,d,v,p,g){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new l(this,c[x]));else this.addFile(new l(this,c,d,v,p,g));return this}),r.exports=l},19550:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=s(98356),c=new o({Extends:f,initialize:function d(v,p,g,x,C){var P="png",w;if(a(p)){var E=p;p=h(E,"key"),g=h(E,"url"),w=h(E,"normalMap"),x=h(E,"xhrSettings"),P=h(E,"extension",P),C=h(E,"frameConfig")}Array.isArray(g)&&(w=g[1],g=g[0]);var b={type:"image",cache:v.textureManager,extension:P,responseType:"blob",key:p,url:g,xhrSettings:x,config:C};if(f.call(this,v,b),w){var O=new d(v,this.key,w,x,C);O.type="normalMap",this.setLink(O),v.addFile(O)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){f.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(d.data),d.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var d=this.state;this.state=m.FILE_PROCESSING,d===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this;this.data.onload=function(){d.state=m.FILE_LOADED,d.loader.nextFile(d,!0)},this.data.onerror=function(){d.loader.nextFile(d,!1)},this.data.src=this.src},addToCache:function(){var d=this.linkFile;d?d.state>=m.FILE_COMPLETE&&(d.type==="spritesheet"?d.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,d.data,this.data):this.cache.addImage(this.key,this.data,d.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(d,v,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new c(this,d[g]));else this.addFile(new c(this,d,v,p));return this}),r.exports=c},518:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(35154),l=s(41212),c=new o({Extends:f,initialize:function(v,p,g,x,C){var P="json";if(l(p)){var w=p;p=h(w,"key"),g=h(w,"url"),x=h(w,"xhrSettings"),P=h(w,"extension",P),C=h(w,"dataKey",C)}var E={type:"json",cache:v.cacheManager.json,extension:P,responseType:"text",key:p,url:g,xhrSettings:x,config:C};f.call(this,v,E),l(g)&&(C?this.data=a(g,C):this.data=g,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var d=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var v=this.config;typeof v=="string"?this.data=a(d,v,d):this.data=d}this.onProcessComplete()}});u.register("json",function(d,v,p,g){if(Array.isArray(d))for(var x=0;x<d.length;x++)this.addFile(new c(this,d[x]));else this.addFile(new c(this,d,v,g,p));return this}),r.exports=c},59327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(518),l=s(26430),c=new o({Extends:l,initialize:function(v,p,g,x,C,P,w){if(h(p)){var E=p;p=f(E,"key"),f(E,"url",!1)?g=f(E,"url"):g=f(E,"atlasURL"),P=f(E,"xhrSettings"),x=f(E,"path"),C=f(E,"baseURL"),w=f(E,"textureXhrSettings")}var b=new a(v,p,g,P);l.call(this,v,"multiatlas",p,[b]),this.config.path=x,this.config.baseURL=C,this.config.textureXhrSettings=w},onFileComplete:function(d){var v=this.files.indexOf(d);if(v!==-1&&(this.pending--,d.type==="json"&&d.data.hasOwnProperty("textures"))){var p=d.data.textures,g=this.config,x=this.loader,C=x.baseURL,P=x.path,w=x.prefix,E=f(g,"baseURL",this.baseURL),b=f(g,"path",this.path),O=f(g,"prefix",this.prefix),M=f(g,"textureXhrSettings");x.setBaseURL(E),x.setPath(b),x.setPrefix(O);for(var A=0;A<p.length;A++){var F=p[A].image,R="MA"+this.multiKeyIndex+"_"+F,L=new u(x,R,F,M);if(this.addToMultiFile(L),x.addFile(L),p[A].normalMap){var D=new u(x,R,p[A].normalMap,M);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),x.addFile(D)}}x.setBaseURL(C),x.setPath(P),x.setPrefix(w)}},addToCache:function(){if(this.isReadyToProcess()){for(var d=this.files[0],v=[],p=[],g=[],x=1;x<this.files.length;x++){var C=this.files[x];if(C.type!=="normalMap")for(var P=C.key.indexOf("_"),w=C.key.substr(P+1),E=C.data,b=0;b<d.data.textures.length;b++){var O=d.data.textures[b];if(O.image===w){p.push(E),v.push(O),C.linkFile&&g.push(C.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,v,g),this.complete=!0}}});m.register("multiatlas",function(d,v,p,g,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new c(this,d[P]),this.addFile(C.files);else C=new c(this,d,v,p,g,x),this.addFile(C.files);return this}),r.exports=c},99297:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(41212),h=s(26430),a=s(34328),l=new o({Extends:h,initialize:function(d,v,p,g){var x="js",C=[];if(u(v)){var P=v;v=f(P,"key"),p=f(P,"url"),g=f(P,"xhrSettings"),x=f(P,"extension",x)}Array.isArray(p)||(p=[p]);for(var w=0;w<p.length;w++){var E=new a(d,{key:v+"_"+w.toString(),url:p[w],extension:x,xhrSettings:g});E.onProcess=function(){this.onProcessComplete()},C.push(E)}h.call(this,d,"scripts",v,C)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var d=this.files[c];d.data=document.createElement("script"),d.data.language="javascript",d.data.type="text/javascript",d.data.defer=!1,d.data.text=d.xhrLoader.responseText,document.head.appendChild(d.data)}this.complete=!0}}});m.register("scripts",function(c,d,v){var p;if(Array.isArray(c))for(var g=0;g<c.length;g++)p=new l(this,c[g]),this.addFile(p.files);else p=new l(this,c,d,v),this.addFile(p.files);return this}),r.exports=l},41846:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(41212),h=s(26430),a=s(85048),l=s(61485),c=s(78776),d=new o({Extends:h,initialize:function(p,g,x,C,P,w){var E,b,O=p.cacheManager.obj;if(u(g)){var M=g;g=f(M,"key"),E=new c(p,{key:g,type:"obj",cache:O,url:f(M,"url"),extension:f(M,"extension","obj"),xhrSettings:f(M,"xhrSettings"),config:{flipUV:f(M,"flipUV",P)}}),C=f(M,"matURL"),C&&(b=new c(p,{key:g,type:"mat",cache:O,url:C,extension:f(M,"matExtension","mat"),xhrSettings:f(M,"xhrSettings")}))}else E=new c(p,{key:g,url:x,type:"obj",cache:O,extension:"obj",xhrSettings:w,config:{flipUV:P}}),C&&(b=new c(p,{key:g,url:C,type:"mat",cache:O,extension:"mat",xhrSettings:w}));h.call(this,p,"obj",g,[E,b])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1],g=a(v.data,v.config.flipUV);p&&(g.materials=l(p.data)),v.cache.add(v.key,g),this.complete=!0}}});m.register("obj",function(v,p,g,x,C){var P;if(Array.isArray(v))for(var w=0;w<v.length;w++)P=new d(this,v[w]),this.addFile(P.files);else P=new d(this,v,p,g,x,C),this.addFile(P.files);return this}),r.exports=d},58610:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(74099),u=s(518),h=new o({Extends:u,initialize:function(l,c,d,v,p){u.call(this,l,c,d,v,p),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(a,l,c,d){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,l,d,c));return this}),r.exports=h},48988:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x,C){var P="js";if(a(v)){var w=v;v=h(w,"key"),p=h(w,"url"),C=h(w,"xhrSettings"),P=h(w,"extension",P),g=h(w,"start"),x=h(w,"mapping")}var E={type:"plugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{start:g,mapping:x}};f.call(this,d,E),typeof p=="function"&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,d=this.config,v=h(d,"start",!1),p=h(d,"mapping",null);if(this.state===m.FILE_POPULATED)c.install(this.key,this.data,v,p);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=c.install(this.key,window[this.key],v,p);(v||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});u.register("plugin",function(c,d,v,p,g){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new l(this,c[x]));else this.addFile(new l(this,c,d,v,p,g));return this}),r.exports=l},67397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x){var C="svg";if(a(v)){var P=v;v=h(P,"key"),p=h(P,"url"),g=h(P,"svgConfig",{}),x=h(P,"xhrSettings"),C=h(P,"extension",C)}var w={type:"svg",cache:d.textureManager,extension:C,responseType:"text",key:v,url:p,xhrSettings:x,config:{width:h(g,"width"),height:h(g,"height"),scale:h(g,"scale")}};f.call(this,d,w)},onProcess:function(){this.state=m.FILE_PROCESSING;var c=this.xhrLoader.responseText,d=[c],v=this.config.width,p=this.config.height,g=this.config.scale;t:if(v&&p||g){var x=null,C=new DOMParser;x=C.parseFromString(c,"text/xml");var P=x.getElementsByTagName("svg")[0],w=P.hasAttribute("viewBox"),E=parseFloat(P.getAttribute("width")),b=parseFloat(P.getAttribute("height"));if(!w&&E&&b)P.setAttribute("viewBox","0  0 "+E+" "+b);else if(w&&!E&&!b){var O=P.getAttribute("viewBox").split(/\s+|,/);E=O[2],b=O[3]}if(g)if(E&&b)v=E*g,p=b*g;else break t;P.setAttribute("width",v.toString()+"px"),P.setAttribute("height",p.toString()+"px"),d=[new XMLSerializer().serializeToString(P)]}try{var M=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,F=!1;this.data.onload=function(){F||f.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){F?A.onProcessError():(F=!0,f.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(d.join("")))},f.createObjectURL(this.data,M,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(c,d,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new l(this,c[g]));else this.addFile(new l(this,c,d,v,p));return this}),r.exports=l},88423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g){var x="js";if(a(v)){var C=v;v=h(C,"key"),p=h(C,"url"),g=h(C,"xhrSettings"),x=h(C,"extension",x)}var P={type:"text",extension:x,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,d,P)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),d=eval;this.loader.sceneManager.add(this.key,d(c)),this.complete=!0}});u.register("sceneFile",function(c,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new l(this,c[p]));else this.addFile(new l(this,c,d,v));return this}),r.exports=l},56812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x,C){var P="js";if(a(v)){var w=v;v=h(w,"key"),p=h(w,"url"),C=h(w,"xhrSettings"),P=h(w,"extension",P),g=h(w,"systemKey"),x=h(w,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:C,config:{systemKey:g,sceneKey:x}};f.call(this,d,E),typeof p=="function"&&(this.data=p,this.state=m.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,d=this.config,v=this.key,p=h(d,"systemKey",v),g=h(d,"sceneKey",v);this.state===m.FILE_POPULATED?c.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(c,d,v,p,g){if(Array.isArray(c))for(var x=0;x<c.length;x++)this.addFile(new l(this,c[x]));else this.addFile(new l(this,c,d,v,p,g));return this}),r.exports=l},34328:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g,x){var C="js";if(a(v)){var P=v;v=h(P,"key"),p=h(P,"url"),g=h(P,"type","script"),x=h(P,"xhrSettings"),C=h(P,"extension",C)}else g===void 0&&(g="script");var w={type:g,cache:!1,extension:C,responseType:"text",key:v,url:p,xhrSettings:x};f.call(this,d,w)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(c,d,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new l(this,c[g]));else this.addFile(new l(this,c,d,v,p));return this}),r.exports=l},85035:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(74099),u=s(19550),h=new o({Extends:u,initialize:function(l,c,d,v,p){u.call(this,l,c,d,p,v),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(a,l,c,d){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,l,c,d));return this}),r.exports=h},78776:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=new o({Extends:f,initialize:function(d,v,p,g){var x="text",C="txt",P=d.cacheManager.text;if(a(v)){var w=v;v=h(w,"key"),p=h(w,"url"),g=h(w,"xhrSettings"),C=h(w,"extension",C),x=h(w,"type",x),P=h(w,"cache",P)}var E={type:x,cache:P,extension:C,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,d,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(c,d,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new l(this,c[p]));else this.addFile(new l(this,c,d,v));return this}),r.exports=l},49477:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=s(80341),c=new o({Extends:f,initialize:function(v,p,g,x){var C="csv";if(a(p)){var P=p;p=h(P,"key"),g=h(P,"url"),x=h(P,"xhrSettings"),C=h(P,"extension",C)}var w={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:C,responseType:"text",key:p,url:g,xhrSettings:x};f.call(this,v,w),this.tilemapFormat=l.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var d={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,d)}});u.register("tilemapCSV",function(d,v,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new c(this,d[g]));else this.addFile(new c(this,d,v,p));return this}),r.exports=c},40807:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(518),u=s(80341),h=new o({Extends:f,initialize:function(l,c,d,v){f.call(this,l,c,d,v),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var a={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});m.register("tilemapImpact",function(a,l,c){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new h(this,a[d]));else this.addFile(new h(this,a,l,c));return this}),r.exports=h},56775:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(518),u=s(80341),h=new o({Extends:f,initialize:function(l,c,d,v){f.call(this,l,c,d,v),this.type="tilemapJSON",this.cache=l.cacheManager.tilemap},addToCache:function(){var a={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});m.register("tilemapTiledJSON",function(a,l,c){if(Array.isArray(a))for(var d=0;d<a.length;d++)this.addFile(new h(this,a[d]));else this.addFile(new h(this,a,l,c));return this}),r.exports=h},25771:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(74099),f=s(95540),u=s(19550),h=s(41212),a=s(26430),l=s(78776),c=new o({Extends:a,initialize:function(v,p,g,x,C,P){var w,E;if(h(p)){var b=p;p=f(b,"key"),w=new u(v,{key:p,url:f(b,"textureURL"),extension:f(b,"textureExtension","png"),normalMap:f(b,"normalMap"),xhrSettings:f(b,"textureXhrSettings")}),E=new l(v,{key:p,url:f(b,"atlasURL"),extension:f(b,"atlasExtension","txt"),xhrSettings:f(b,"atlasXhrSettings")})}else w=new u(v,p,g,C),E=new l(v,p,x,P);w.linkFile?a.call(this,v,"unityatlas",p,[w,E,w.linkFile]):a.call(this,v,"unityatlas",p,[w,E])},addToCache:function(){if(this.isReadyToProcess()){var d=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(d.key,d.data,v.data,p),this.complete=!0}}});m.register("unityAtlas",function(d,v,p,g,x){var C;if(Array.isArray(d))for(var P=0;P<d.length;P++)C=new c(this,d[P]),this.addFile(C.files);else C=new c(this,d,v,p,g,x),this.addFile(C.files);return this}),r.exports=c},33720:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(98356),a=s(95540),l=s(41212),c=new o({Extends:f,initialize:function(v,p,g,x){if(x===void 0&&(x=!1),l(p)){var C=p;p=a(C,"key"),g=a(C,"url",[]),x=a(C,"noAudio",!1)}var P=v.systems.game.device.video.getVideoURL(g);P||console.warn("VideoFile: No supported format for "+p);var w={type:"video",cache:v.cacheManager.video,extension:P.type,key:p,url:P.url,config:{noAudio:x}};f.call(this,v,w)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(d,v,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new c(this,d[g]));else this.addFile(new c(this,d,v,p));return this}),r.exports=c},57318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(23906),f=s(41299),u=s(74099),h=s(95540),a=s(41212),l=s(56836),c=new o({Extends:f,initialize:function(v,p,g,x){var C="xml";if(a(p)){var P=p;p=h(P,"key"),g=h(P,"url"),x=h(P,"xhrSettings"),C=h(P,"extension",C)}var w={type:"xml",cache:v.cacheManager.xml,extension:C,responseType:"text",key:p,url:g,xhrSettings:x};f.call(this,v,w)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(d,v,p){if(Array.isArray(d))for(var g=0;g<d.length;g++)this.addFile(new c(this,d[g]));else this.addFile(new c(this,d,v,p));return this}),r.exports=c},64589:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23906),m=s(79291),f={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};f=m(!1,f,o),r.exports=f},53307:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=0,m=0;m<s.length;m++)o+=+s[m];return o/s.length};r.exports=T},85710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6411),m=function(f,u){return o(f)/o(u)/o(f-u)};r.exports=m},30976:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return Math.floor(Math.random()*(o-s+1)+s)};r.exports=T},87842:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){var h=(f-o)*.5,a=(u-m)*.5,l=s*s,c=s*l;return(2*m-2*f+h+a)*c+(-3*m+3*f-2*h-a)*l+h*s+m};r.exports=T},26302:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var f=Math.pow(m,-o);return Math.ceil(s*f)/f};r.exports=T},45319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return Math.max(o,Math.min(m,s))};r.exports=T},39506:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=function(f){return f*o.DEG_TO_RAD};r.exports=m},61241:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return Math.abs(s-o)};r.exports=T},38857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(37867),u=s(29747),h=new f,a=new m({initialize:function l(c,d,v,p){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p=l.DefaultOrder),this._x=c,this._y=d,this._z=v,this._order=p,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(l){this._x=l,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(l){this._y=l,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(l){this._z=l,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(l){this._order=l,this.onChangeCallback(this)}},set:function(l,c,d,v){return v===void 0&&(v=this._order),this._x=l,this._y=c,this._z=d,this._order=v,this.onChangeCallback(this),this},copy:function(l){return this.set(l.x,l.y,l.z,l.order)},setFromQuaternion:function(l,c,d){return c===void 0&&(c=this._order),d===void 0&&(d=!1),h.fromQuat(l),this.setFromRotationMatrix(h,c,d)},setFromRotationMatrix:function(l,c,d){c===void 0&&(c=this._order),d===void 0&&(d=!1);var v=l.val,p=v[0],g=v[4],x=v[8],C=v[1],P=v[5],w=v[9],E=v[2],b=v[6],O=v[10],M=0,A=0,F=0,R=.99999;switch(c){case"XYZ":{A=Math.asin(o(x,-1,1)),Math.abs(x)<R?(M=Math.atan2(-w,O),F=Math.atan2(-g,p)):M=Math.atan2(b,P);break}case"YXZ":{M=Math.asin(-o(w,-1,1)),Math.abs(w)<R?(A=Math.atan2(x,O),F=Math.atan2(C,P)):A=Math.atan2(-E,p);break}case"ZXY":{M=Math.asin(o(b,-1,1)),Math.abs(b)<R?(A=Math.atan2(-E,O),F=Math.atan2(-g,P)):F=Math.atan2(C,p);break}case"ZYX":{A=Math.asin(-o(E,-1,1)),Math.abs(E)<R?(M=Math.atan2(b,O),F=Math.atan2(C,p)):F=Math.atan2(-g,P);break}case"YZX":{F=Math.asin(o(C,-1,1)),Math.abs(C)<R?(M=Math.atan2(-w,P),A=Math.atan2(-E,p)):A=Math.atan2(x,O);break}case"XZY":{F=Math.asin(-o(g,-1,1)),Math.abs(g)<R?(M=Math.atan2(b,P),A=Math.atan2(x,p)):M=Math.atan2(-w,O);break}}return this._x=M,this._y=A,this._z=F,this._order=c,d&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",r.exports=a},6411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(s===0)return 1;for(var o=s;--s;)o*=s;return o};r.exports=T},99472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return Math.random()*(o-s)+s};r.exports=T},77623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var f=Math.pow(m,-o);return Math.floor(s*f)/f};r.exports=T},62945:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=function(f,u,h){return f=o(f,0,1),(h-u)*f+u};r.exports=m},38265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s/o/1e3};r.exports=T},78702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s==parseFloat(s)?!(s%2):void 0};r.exports=T},94883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===parseFloat(s)?!(s%2):void 0};r.exports=T},28915:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return(o-s)*m+s};r.exports=T},94908:r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m===void 0&&(m=0),s.clone().lerp(o,m)};r.exports=T},94434:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new m(this)},set:function(f){return this.copy(f)},copy:function(f){var u=this.val,h=f.val;return u[0]=h[0],u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=h[6],u[7]=h[7],u[8]=h[8],this},fromMat4:function(f){var u=f.val,h=this.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[4],h[4]=u[5],h[5]=u[6],h[6]=u[8],h[7]=u[9],h[8]=u[10],this},fromArray:function(f){var u=this.val;return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,u=f[1],h=f[2],a=f[5];return f[1]=f[3],f[2]=f[6],f[3]=u,f[5]=f[7],f[6]=h,f[7]=a,this},invert:function(){var f=this.val,u=f[0],h=f[1],a=f[2],l=f[3],c=f[4],d=f[5],v=f[6],p=f[7],g=f[8],x=g*c-d*p,C=-g*l+d*v,P=p*l-c*v,w=u*x+h*C+a*P;return w?(w=1/w,f[0]=x*w,f[1]=(-g*h+a*p)*w,f[2]=(d*h-a*c)*w,f[3]=C*w,f[4]=(g*u-a*v)*w,f[5]=(-d*u+a*l)*w,f[6]=P*w,f[7]=(-p*u+h*v)*w,f[8]=(c*u-h*l)*w,this):null},adjoint:function(){var f=this.val,u=f[0],h=f[1],a=f[2],l=f[3],c=f[4],d=f[5],v=f[6],p=f[7],g=f[8];return f[0]=c*g-d*p,f[1]=a*p-h*g,f[2]=h*d-a*c,f[3]=d*v-l*g,f[4]=u*g-a*v,f[5]=a*l-u*d,f[6]=l*p-c*v,f[7]=h*v-u*p,f[8]=u*c-h*l,this},determinant:function(){var f=this.val,u=f[0],h=f[1],a=f[2],l=f[3],c=f[4],d=f[5],v=f[6],p=f[7],g=f[8];return u*(g*c-d*p)+h*(-g*l+d*v)+a*(p*l-c*v)},multiply:function(f){var u=this.val,h=u[0],a=u[1],l=u[2],c=u[3],d=u[4],v=u[5],p=u[6],g=u[7],x=u[8],C=f.val,P=C[0],w=C[1],E=C[2],b=C[3],O=C[4],M=C[5],A=C[6],F=C[7],R=C[8];return u[0]=P*h+w*c+E*p,u[1]=P*a+w*d+E*g,u[2]=P*l+w*v+E*x,u[3]=b*h+O*c+M*p,u[4]=b*a+O*d+M*g,u[5]=b*l+O*v+M*x,u[6]=A*h+F*c+R*p,u[7]=A*a+F*d+R*g,u[8]=A*l+F*v+R*x,this},translate:function(f){var u=this.val,h=f.x,a=f.y;return u[6]=h*u[0]+a*u[3]+u[6],u[7]=h*u[1]+a*u[4]+u[7],u[8]=h*u[2]+a*u[5]+u[8],this},rotate:function(f){var u=this.val,h=u[0],a=u[1],l=u[2],c=u[3],d=u[4],v=u[5],p=Math.sin(f),g=Math.cos(f);return u[0]=g*h+p*c,u[1]=g*a+p*d,u[2]=g*l+p*v,u[3]=g*c-p*h,u[4]=g*d-p*a,u[5]=g*v-p*l,this},scale:function(f){var u=this.val,h=f.x,a=f.y;return u[0]=h*u[0],u[1]=h*u[1],u[2]=h*u[2],u[3]=a*u[3],u[4]=a*u[4],u[5]=a*u[5],this},fromQuat:function(f){var u=f.x,h=f.y,a=f.z,l=f.w,c=u+u,d=h+h,v=a+a,p=u*c,g=u*d,x=u*v,C=h*d,P=h*v,w=a*v,E=l*c,b=l*d,O=l*v,M=this.val;return M[0]=1-(C+w),M[3]=g+O,M[6]=x-b,M[1]=g-O,M[4]=1-(p+w),M[7]=P+E,M[2]=x+b,M[5]=P-E,M[8]=1-(p+C),this},normalFromMat4:function(f){var u=f.val,h=this.val,a=u[0],l=u[1],c=u[2],d=u[3],v=u[4],p=u[5],g=u[6],x=u[7],C=u[8],P=u[9],w=u[10],E=u[11],b=u[12],O=u[13],M=u[14],A=u[15],F=a*p-l*v,R=a*g-c*v,L=a*x-d*v,D=l*g-c*p,I=l*x-d*p,z=c*x-d*g,U=C*O-P*b,H=C*M-w*b,W=C*A-E*b,N=P*M-w*O,X=P*A-E*O,B=w*A-E*M,V=F*B-R*X+L*N+D*W-I*H+z*U;return V?(V=1/V,h[0]=(p*B-g*X+x*N)*V,h[1]=(g*W-v*B-x*H)*V,h[2]=(v*X-p*W+x*U)*V,h[3]=(c*X-l*B-d*N)*V,h[4]=(a*B-c*W+d*H)*V,h[5]=(l*W-a*X-d*U)*V,h[6]=(O*z-M*I+A*D)*V,h[7]=(M*L-b*z-A*R)*V,h[8]=(b*I-O*L+A*F)*V,this):null}});r.exports=m},37867:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(25836),f=1e-6,u=new o({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new u(this)},set:function(v){return this.copy(v)},setValues:function(v,p,g,x,C,P,w,E,b,O,M,A,F,R,L,D){var I=this.val;return I[0]=v,I[1]=p,I[2]=g,I[3]=x,I[4]=C,I[5]=P,I[6]=w,I[7]=E,I[8]=b,I[9]=O,I[10]=M,I[11]=A,I[12]=F,I[13]=R,I[14]=L,I[15]=D,this},copy:function(v){var p=v.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,p,g){var x=h.fromQuat(g),C=x.val,P=p.x,w=p.y,E=p.z;return this.setValues(C[0]*P,C[1]*P,C[2]*P,0,C[4]*w,C[5]*w,C[6]*w,0,C[8]*E,C[9]*E,C[10]*E,0,v.x,v.y,v.z,1)},xyz:function(v,p,g){this.identity();var x=this.val;return x[12]=v,x[13]=p,x[14]=g,this},scaling:function(v,p,g){this.zero();var x=this.val;return x[0]=v,x[5]=p,x[10]=g,x[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,p=v[1],g=v[2],x=v[3],C=v[6],P=v[7],w=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=p,v[6]=v[9],v[7]=v[13],v[8]=g,v[9]=C,v[11]=v[14],v[12]=x,v[13]=P,v[14]=w,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,p=v[0],g=v[1],x=v[2],C=v[3],P=v[4],w=v[5],E=v[6],b=v[7],O=v[8],M=v[9],A=v[10],F=v[11],R=v[12],L=v[13],D=v[14],I=v[15],z=p*w-g*P,U=p*E-x*P,H=p*b-C*P,W=g*E-x*w,N=g*b-C*w,X=x*b-C*E,B=O*L-M*R,V=O*D-A*R,k=O*I-F*R,j=M*D-A*L,$=M*I-F*L,J=A*I-F*D,Z=z*J-U*$+H*j+W*k-N*V+X*B;return Z?(Z=1/Z,this.setValues((w*J-E*$+b*j)*Z,(x*$-g*J-C*j)*Z,(L*X-D*N+I*W)*Z,(A*N-M*X-F*W)*Z,(E*k-P*J-b*V)*Z,(p*J-x*k+C*V)*Z,(D*H-R*X-I*U)*Z,(O*X-A*H+F*U)*Z,(P*$-w*k+b*B)*Z,(g*k-p*$-C*B)*Z,(R*N-L*H+I*z)*Z,(M*H-O*N-F*z)*Z,(w*V-P*j-E*B)*Z,(p*j-g*V+x*B)*Z,(L*U-R*W-D*z)*Z,(O*W-M*U+A*z)*Z)):this},adjoint:function(){var v=this.val,p=v[0],g=v[1],x=v[2],C=v[3],P=v[4],w=v[5],E=v[6],b=v[7],O=v[8],M=v[9],A=v[10],F=v[11],R=v[12],L=v[13],D=v[14],I=v[15];return this.setValues(w*(A*I-F*D)-M*(E*I-b*D)+L*(E*F-b*A),-(g*(A*I-F*D)-M*(x*I-C*D)+L*(x*F-C*A)),g*(E*I-b*D)-w*(x*I-C*D)+L*(x*b-C*E),-(g*(E*F-b*A)-w*(x*F-C*A)+M*(x*b-C*E)),-(P*(A*I-F*D)-O*(E*I-b*D)+R*(E*F-b*A)),p*(A*I-F*D)-O*(x*I-C*D)+R*(x*F-C*A),-(p*(E*I-b*D)-P*(x*I-C*D)+R*(x*b-C*E)),p*(E*F-b*A)-P*(x*F-C*A)+O*(x*b-C*E),P*(M*I-F*L)-O*(w*I-b*L)+R*(w*F-b*M),-(p*(M*I-F*L)-O*(g*I-C*L)+R*(g*F-C*M)),p*(w*I-b*L)-P*(g*I-C*L)+R*(g*b-C*w),-(p*(w*F-b*M)-P*(g*F-C*M)+O*(g*b-C*w)),-(P*(M*D-A*L)-O*(w*D-E*L)+R*(w*A-E*M)),p*(M*D-A*L)-O*(g*D-x*L)+R*(g*A-x*M),-(p*(w*D-E*L)-P*(g*D-x*L)+R*(g*E-x*w)),p*(w*A-E*M)-P*(g*A-x*M)+O*(g*E-x*w))},determinant:function(){var v=this.val,p=v[0],g=v[1],x=v[2],C=v[3],P=v[4],w=v[5],E=v[6],b=v[7],O=v[8],M=v[9],A=v[10],F=v[11],R=v[12],L=v[13],D=v[14],I=v[15],z=p*w-g*P,U=p*E-x*P,H=p*b-C*P,W=g*E-x*w,N=g*b-C*w,X=x*b-C*E,B=O*L-M*R,V=O*D-A*R,k=O*I-F*R,j=M*D-A*L,$=M*I-F*L,J=A*I-F*D;return z*J-U*$+H*j+W*k-N*V+X*B},multiply:function(v){var p=this.val,g=p[0],x=p[1],C=p[2],P=p[3],w=p[4],E=p[5],b=p[6],O=p[7],M=p[8],A=p[9],F=p[10],R=p[11],L=p[12],D=p[13],I=p[14],z=p[15],U=v.val,H=U[0],W=U[1],N=U[2],X=U[3];return p[0]=H*g+W*w+N*M+X*L,p[1]=H*x+W*E+N*A+X*D,p[2]=H*C+W*b+N*F+X*I,p[3]=H*P+W*O+N*R+X*z,H=U[4],W=U[5],N=U[6],X=U[7],p[4]=H*g+W*w+N*M+X*L,p[5]=H*x+W*E+N*A+X*D,p[6]=H*C+W*b+N*F+X*I,p[7]=H*P+W*O+N*R+X*z,H=U[8],W=U[9],N=U[10],X=U[11],p[8]=H*g+W*w+N*M+X*L,p[9]=H*x+W*E+N*A+X*D,p[10]=H*C+W*b+N*F+X*I,p[11]=H*P+W*O+N*R+X*z,H=U[12],W=U[13],N=U[14],X=U[15],p[12]=H*g+W*w+N*M+X*L,p[13]=H*x+W*E+N*A+X*D,p[14]=H*C+W*b+N*F+X*I,p[15]=H*P+W*O+N*R+X*z,this},multiplyLocal:function(v){var p=this.val,g=v.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,p){var g=v.val,x=p.val,C=g[0],P=g[4],w=g[8],E=g[12],b=g[1],O=g[5],M=g[9],A=g[13],F=g[2],R=g[6],L=g[10],D=g[14],I=g[3],z=g[7],U=g[11],H=g[15],W=x[0],N=x[4],X=x[8],B=x[12],V=x[1],k=x[5],j=x[9],$=x[13],J=x[2],Z=x[6],_=x[10],it=x[14],at=x[3],st=x[7],ft=x[11],ct=x[15];return this.setValues(C*W+P*V+w*J+E*at,b*W+O*V+M*J+A*at,F*W+R*V+L*J+D*at,I*W+z*V+U*J+H*at,C*N+P*k+w*Z+E*st,b*N+O*k+M*Z+A*st,F*N+R*k+L*Z+D*st,I*N+z*k+U*Z+H*st,C*X+P*j+w*_+E*ft,b*X+O*j+M*_+A*ft,F*X+R*j+L*_+D*ft,I*X+z*j+U*_+H*ft,C*B+P*$+w*it+E*ct,b*B+O*$+M*it+A*ct,F*B+R*$+L*it+D*ct,I*B+z*$+U*it+H*ct)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,p,g){var x=this.val;return x[12]=x[0]*v+x[4]*p+x[8]*g+x[12],x[13]=x[1]*v+x[5]*p+x[9]*g+x[13],x[14]=x[2]*v+x[6]*p+x[10]*g+x[14],x[15]=x[3]*v+x[7]*p+x[11]*g+x[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,p,g){var x=this.val;return x[0]=x[0]*v,x[1]=x[1]*v,x[2]=x[2]*v,x[3]=x[3]*v,x[4]=x[4]*p,x[5]=x[5]*p,x[6]=x[6]*p,x[7]=x[7]*p,x[8]=x[8]*g,x[9]=x[9]*g,x[10]=x[10]*g,x[11]=x[11]*g,this},makeRotationAxis:function(v,p){var g=Math.cos(p),x=Math.sin(p),C=1-g,P=v.x,w=v.y,E=v.z,b=C*P,O=C*w;return this.setValues(b*P+g,b*w-x*E,b*E+x*w,0,b*w+x*E,O*w+g,O*E-x*P,0,b*E-x*w,O*E+x*P,C*E*E+g,0,0,0,0,1)},rotate:function(v,p){var g=this.val,x=p.x,C=p.y,P=p.z,w=Math.sqrt(x*x+C*C+P*P);if(Math.abs(w)<f)return this;w=1/w,x*=w,C*=w,P*=w;var E=Math.sin(v),b=Math.cos(v),O=1-b,M=g[0],A=g[1],F=g[2],R=g[3],L=g[4],D=g[5],I=g[6],z=g[7],U=g[8],H=g[9],W=g[10],N=g[11],X=g[12],B=g[13],V=g[14],k=g[15],j=x*x*O+b,$=C*x*O+P*E,J=P*x*O-C*E,Z=x*C*O-P*E,_=C*C*O+b,it=P*C*O+x*E,at=x*P*O+C*E,st=C*P*O-x*E,ft=P*P*O+b;return this.setValues(M*j+L*$+U*J,A*j+D*$+H*J,F*j+I*$+W*J,R*j+z*$+N*J,M*Z+L*_+U*it,A*Z+D*_+H*it,F*Z+I*_+W*it,R*Z+z*_+N*it,M*at+L*st+U*ft,A*at+D*st+H*ft,F*at+I*st+W*ft,R*at+z*st+N*ft,X,B,V,k)},rotateX:function(v){var p=this.val,g=Math.sin(v),x=Math.cos(v),C=p[4],P=p[5],w=p[6],E=p[7],b=p[8],O=p[9],M=p[10],A=p[11];return p[4]=C*x+b*g,p[5]=P*x+O*g,p[6]=w*x+M*g,p[7]=E*x+A*g,p[8]=b*x-C*g,p[9]=O*x-P*g,p[10]=M*x-w*g,p[11]=A*x-E*g,this},rotateY:function(v){var p=this.val,g=Math.sin(v),x=Math.cos(v),C=p[0],P=p[1],w=p[2],E=p[3],b=p[8],O=p[9],M=p[10],A=p[11];return p[0]=C*x-b*g,p[1]=P*x-O*g,p[2]=w*x-M*g,p[3]=E*x-A*g,p[8]=C*g+b*x,p[9]=P*g+O*x,p[10]=w*g+M*x,p[11]=E*g+A*x,this},rotateZ:function(v){var p=this.val,g=Math.sin(v),x=Math.cos(v),C=p[0],P=p[1],w=p[2],E=p[3],b=p[4],O=p[5],M=p[6],A=p[7];return p[0]=C*x+b*g,p[1]=P*x+O*g,p[2]=w*x+M*g,p[3]=E*x+A*g,p[4]=b*x-C*g,p[5]=O*x-P*g,p[6]=M*x-w*g,p[7]=A*x-E*g,this},fromRotationTranslation:function(v,p){var g=v.x,x=v.y,C=v.z,P=v.w,w=g+g,E=x+x,b=C+C,O=g*w,M=g*E,A=g*b,F=x*E,R=x*b,L=C*b,D=P*w,I=P*E,z=P*b;return this.setValues(1-(F+L),M+z,A-I,0,M-z,1-(O+L),R+D,0,A+I,R-D,1-(O+F),0,p.x,p.y,p.z,1)},fromQuat:function(v){var p=v.x,g=v.y,x=v.z,C=v.w,P=p+p,w=g+g,E=x+x,b=p*P,O=p*w,M=p*E,A=g*w,F=g*E,R=x*E,L=C*P,D=C*w,I=C*E;return this.setValues(1-(A+R),O+I,M-D,0,O-I,1-(b+R),F+L,0,M+D,F-L,1-(b+A),0,0,0,0,1)},frustum:function(v,p,g,x,C,P){var w=1/(p-v),E=1/(x-g),b=1/(C-P);return this.setValues(C*2*w,0,0,0,0,C*2*E,0,0,(p+v)*w,(x+g)*E,(P+C)*b,-1,0,0,P*C*2*b,0)},perspective:function(v,p,g,x){var C=1/Math.tan(v/2),P=1/(g-x);return this.setValues(C/p,0,0,0,0,C,0,0,0,0,(x+g)*P,-1,0,0,2*x*g*P,0)},perspectiveLH:function(v,p,g,x){return this.setValues(2*g/v,0,0,0,0,2*g/p,0,0,0,0,-x/(g-x),1,0,0,g*x/(g-x),0)},ortho:function(v,p,g,x,C,P){var w=v-p,E=g-x,b=C-P;return w=w===0?w:1/w,E=E===0?E:1/E,b=b===0?b:1/b,this.setValues(-2*w,0,0,0,0,-2*E,0,0,0,0,2*b,0,(v+p)*w,(x+g)*E,(P+C)*b,1)},lookAtRH:function(v,p,g){var x=this.val;return d.subVectors(v,p),d.lengthSq()===0&&(d.z=1),d.normalize(),l.crossVectors(g,d),l.lengthSq()===0&&(Math.abs(g.z)===1?d.x+=1e-4:d.z+=1e-4,d.normalize(),l.crossVectors(g,d)),l.normalize(),c.crossVectors(d,l),x[0]=l.x,x[1]=l.y,x[2]=l.z,x[4]=c.x,x[5]=c.y,x[6]=c.z,x[8]=d.x,x[9]=d.y,x[10]=d.z,this},lookAt:function(v,p,g){var x=v.x,C=v.y,P=v.z,w=g.x,E=g.y,b=g.z,O=p.x,M=p.y,A=p.z;if(Math.abs(x-O)<f&&Math.abs(C-M)<f&&Math.abs(P-A)<f)return this.identity();var F=x-O,R=C-M,L=P-A,D=1/Math.sqrt(F*F+R*R+L*L);F*=D,R*=D,L*=D;var I=E*L-b*R,z=b*F-w*L,U=w*R-E*F;D=Math.sqrt(I*I+z*z+U*U),D?(D=1/D,I*=D,z*=D,U*=D):(I=0,z=0,U=0);var H=R*U-L*z,W=L*I-F*U,N=F*z-R*I;return D=Math.sqrt(H*H+W*W+N*N),D?(D=1/D,H*=D,W*=D,N*=D):(H=0,W=0,N=0),this.setValues(I,H,F,0,z,W,R,0,U,N,L,0,-(I*x+z*C+U*P),-(H*x+W*C+N*P),-(F*x+R*C+L*P),1)},yawPitchRoll:function(v,p,g){this.zero(),h.zero(),a.zero();var x=this.val,C=h.val,P=a.val,w=Math.sin(g),E=Math.cos(g);return x[10]=1,x[15]=1,x[0]=E,x[1]=w,x[4]=-w,x[5]=E,w=Math.sin(p),E=Math.cos(p),C[0]=1,C[15]=1,C[5]=E,C[10]=E,C[9]=-w,C[6]=w,w=Math.sin(v),E=Math.cos(v),P[5]=1,P[15]=1,P[0]=E,P[2]=-w,P[8]=w,P[10]=E,this.multiplyLocal(h),this.multiplyLocal(a),this},setWorldMatrix:function(v,p,g,x,C){return this.yawPitchRoll(v.y,v.x,v.z),h.scaling(g.x,g.y,g.z),a.xyz(p.x,p.y,p.z),this.multiplyLocal(h),this.multiplyLocal(a),x&&this.multiplyLocal(x),C&&this.multiplyLocal(C),this},multiplyToMat4:function(v,p){var g=this.val,x=v.val,C=g[0],P=g[1],w=g[2],E=g[3],b=g[4],O=g[5],M=g[6],A=g[7],F=g[8],R=g[9],L=g[10],D=g[11],I=g[12],z=g[13],U=g[14],H=g[15],W=x[0],N=x[1],X=x[2],B=x[3],V=x[4],k=x[5],j=x[6],$=x[7],J=x[8],Z=x[9],_=x[10],it=x[11],at=x[12],st=x[13],ft=x[14],ct=x[15];return p.setValues(W*C+N*b+X*F+B*I,N*P+N*O+X*R+B*z,X*w+N*M+X*L+B*U,B*E+N*A+X*D+B*H,V*C+k*b+j*F+$*I,V*P+k*O+j*R+$*z,V*w+k*M+j*L+$*U,V*E+k*A+j*D+$*H,J*C+Z*b+_*F+it*I,J*P+Z*O+_*R+it*z,J*w+Z*M+_*L+it*U,J*E+Z*A+_*D+it*H,at*C+st*b+ft*F+ct*I,at*P+st*O+ft*R+ct*z,at*w+st*M+ft*L+ct*U,at*E+st*A+ft*D+ct*H)},fromRotationXYTranslation:function(v,p,g){var x=p.x,C=p.y,P=p.z,w=Math.sin(v.x),E=Math.cos(v.x),b=Math.sin(v.y),O=Math.cos(v.y),M=x,A=C,F=P,R=-w,L=0-R*b,D=0-E*b,I=R*O,z=E*O;return g||(M=O*x+b*P,A=L*x+E*C+I*P,F=D*x+w*C+z*P),this.setValues(O,L,D,0,0,E,w,0,b,I,z,0,M,A,F,1)},getMaxScaleOnAxis:function(){var v=this.val,p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],g=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],x=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(p,g,x))}}),h=new u,a=new u,l=new m,c=new m,d=new m;r.exports=u},86883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return Math.min(s+o,m)};r.exports=T},50040:r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=s.length;if(o===0)return 0;s.sort(function(f,u){return f-u});var m=Math.floor(o/2);return o%2===0?(s[m]+s[m-1])/2:s[m]};r.exports=T},37204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return Math.max(s-o,m)};r.exports=T},65201:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){m===void 0&&(m=o+1);var u=(s-o)/(m-o);return u>1?f!==void 0?(u=(f-s)/(f-m),u<0&&(u=0)):u=1:u<0&&(u=0),u};r.exports=T},15746:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(94434),f=s(29747),u=s(25836),h=1e-6,a=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),c=new u(1,0,0),d=new u(0,1,0),v=new u,p=new m,g=new o({initialize:function(C,P,w,E){this.onChangeCallback=f,this.set(C,P,w,E)},x:{get:function(){return this._x},set:function(x){this._x=x,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(x){this._y=x,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(x){this._z=x,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(x){this._w=x,this.onChangeCallback(this)}},copy:function(x){return this.set(x)},set:function(x,C,P,w,E){return E===void 0&&(E=!0),typeof x=="object"?(this._x=x.x||0,this._y=x.y||0,this._z=x.z||0,this._w=x.w||0):(this._x=x||0,this._y=C||0,this._z=P||0,this._w=w||0),E&&this.onChangeCallback(this),this},add:function(x){return this._x+=x.x,this._y+=x.y,this._z+=x.z,this._w+=x.w,this.onChangeCallback(this),this},subtract:function(x){return this._x-=x.x,this._y-=x.y,this._z-=x.z,this._w-=x.w,this.onChangeCallback(this),this},scale:function(x){return this._x*=x,this._y*=x,this._z*=x,this._w*=x,this.onChangeCallback(this),this},length:function(){var x=this.x,C=this.y,P=this.z,w=this.w;return Math.sqrt(x*x+C*C+P*P+w*w)},lengthSq:function(){var x=this.x,C=this.y,P=this.z,w=this.w;return x*x+C*C+P*P+w*w},normalize:function(){var x=this.x,C=this.y,P=this.z,w=this.w,E=x*x+C*C+P*P+w*w;return E>0&&(E=1/Math.sqrt(E),this._x=x*E,this._y=C*E,this._z=P*E,this._w=w*E),this.onChangeCallback(this),this},dot:function(x){return this.x*x.x+this.y*x.y+this.z*x.z+this.w*x.w},lerp:function(x,C){C===void 0&&(C=0);var P=this.x,w=this.y,E=this.z,b=this.w;return this.set(P+C*(x.x-P),w+C*(x.y-w),E+C*(x.z-E),b+C*(x.w-b))},rotationTo:function(x,C){var P=x.x*C.x+x.y*C.y+x.z*C.z;return P<-.999999?(v.copy(c).cross(x).length()<h&&v.copy(d).cross(x),v.normalize(),this.setAxisAngle(v,Math.PI)):P>.999999?this.set(0,0,0,1):(v.copy(x).cross(C),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+P,this.normalize())},setAxes:function(x,C,P){var w=p.val;return w[0]=C.x,w[3]=C.y,w[6]=C.z,w[1]=P.x,w[4]=P.y,w[7]=P.z,w[2]=-x.x,w[5]=-x.y,w[8]=-x.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(x,C){C=C*.5;var P=Math.sin(C);return this.set(P*x.x,P*x.y,P*x.z,Math.cos(C))},multiply:function(x){var C=this.x,P=this.y,w=this.z,E=this.w,b=x.x,O=x.y,M=x.z,A=x.w;return this.set(C*A+E*b+P*M-w*O,P*A+E*O+w*b-C*M,w*A+E*M+C*O-P*b,E*A-C*b-P*O-w*M)},slerp:function(x,C){var P=this.x,w=this.y,E=this.z,b=this.w,O=x.x,M=x.y,A=x.z,F=x.w,R=P*O+w*M+E*A+b*F;R<0&&(R=-R,O=-O,M=-M,A=-A,F=-F);var L=1-C,D=C;if(1-R>h){var I=Math.acos(R),z=Math.sin(I);L=Math.sin((1-C)*I)/z,D=Math.sin(C*I)/z}return this.set(L*P+D*O,L*w+D*M,L*E+D*A,L*b+D*F)},invert:function(){var x=this.x,C=this.y,P=this.z,w=this.w,E=x*x+C*C+P*P+w*w,b=E?1/E:0;return this.set(-x*b,-C*b,-P*b,w*b)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,E=this.w,b=Math.sin(x),O=Math.cos(x);return this.set(C*O+E*b,P*O+w*b,w*O-P*b,E*O-C*b)},rotateY:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,E=this.w,b=Math.sin(x),O=Math.cos(x);return this.set(C*O-w*b,P*O+E*b,w*O+C*b,E*O-P*b)},rotateZ:function(x){x*=.5;var C=this.x,P=this.y,w=this.z,E=this.w,b=Math.sin(x),O=Math.cos(x);return this.set(C*O+P*b,P*O-C*b,w*O+E*b,E*O-w*b)},calculateW:function(){var x=this.x,C=this.y,P=this.z;return this.w=-Math.sqrt(1-x*x-C*C-P*P),this},setFromEuler:function(x,C){var P=x.x/2,w=x.y/2,E=x.z/2,b=Math.cos(P),O=Math.cos(w),M=Math.cos(E),A=Math.sin(P),F=Math.sin(w),R=Math.sin(E);switch(x.order){case"XYZ":{this.set(A*O*M+b*F*R,b*F*M-A*O*R,b*O*R+A*F*M,b*O*M-A*F*R,C);break}case"YXZ":{this.set(A*O*M+b*F*R,b*F*M-A*O*R,b*O*R-A*F*M,b*O*M+A*F*R,C);break}case"ZXY":{this.set(A*O*M-b*F*R,b*F*M+A*O*R,b*O*R+A*F*M,b*O*M-A*F*R,C);break}case"ZYX":{this.set(A*O*M-b*F*R,b*F*M+A*O*R,b*O*R-A*F*M,b*O*M+A*F*R,C);break}case"YZX":{this.set(A*O*M+b*F*R,b*F*M+A*O*R,b*O*R-A*F*M,b*O*M-A*F*R,C);break}case"XZY":{this.set(A*O*M-b*F*R,b*F*M-A*O*R,b*O*R+A*F*M,b*O*M+A*F*R,C);break}}return this},setFromRotationMatrix:function(x){var C=x.val,P=C[0],w=C[4],E=C[8],b=C[1],O=C[5],M=C[9],A=C[2],F=C[6],R=C[10],L=P+O+R,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((F-M)*D,(E-A)*D,(b-w)*D,.25/D)):P>O&&P>R?(D=2*Math.sqrt(1+P-O-R),this.set(.25*D,(w+b)/D,(E+A)/D,(F-M)/D)):O>R?(D=2*Math.sqrt(1+O-P-R),this.set((w+b)/D,.25*D,(M+F)/D,(E-A)/D)):(D=2*Math.sqrt(1+R-P-O),this.set((E+A)/D,(M+F)/D,.25*D,(b-w)/D)),this},fromMat3:function(x){var C=x.val,P=C[0]+C[4]+C[8],w;if(P>0)w=Math.sqrt(P+1),this.w=.5*w,w=.5/w,this._x=(C[7]-C[5])*w,this._y=(C[2]-C[6])*w,this._z=(C[3]-C[1])*w;else{var E=0;C[4]>C[0]&&(E=1),C[8]>C[E*3+E]&&(E=2);var b=a[E],O=a[b];w=Math.sqrt(C[E*3+E]-C[b*3+b]-C[O*3+O]+1),l[E]=.5*w,w=.5/w,l[b]=(C[b*3+E]+C[E*3+b])*w,l[O]=(C[O*3+E]+C[E*3+O])*w,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(C[O*3+b]-C[b*3+O])*w}return this.onChangeCallback(this),this}});r.exports=g},43396:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=function(f){return f*o.RAD_TO_DEG};r.exports=m},74362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI;return s.x=Math.cos(m)*o,s.y=Math.sin(m)*o,s};r.exports=T},60706:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI,f=Math.random()*2-1,u=Math.sqrt(1-f*f)*o;return s.x=Math.cos(m)*u,s.y=Math.sin(m)*u,s.z=f*o,s};r.exports=T},67421:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1),s.x=(Math.random()*2-1)*o,s.y=(Math.random()*2-1)*o,s.z=(Math.random()*2-1)*o,s.w=(Math.random()*2-1)*o,s};r.exports=T},36305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.x,f=s.y;return s.x=m*Math.cos(o)-f*Math.sin(o),s.y=m*Math.sin(o)+f*Math.cos(o),s};r.exports=T},11520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=Math.cos(f),h=Math.sin(f),a=s.x-o,l=s.y-m;return s.x=a*u-l*h+o,s.y=a*h+l*u+m,s};r.exports=T},1163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){var h=f+Math.atan2(s.y-m,s.x-o);return s.x=o+u*Math.cos(h),s.y=m+u*Math.sin(h),s};r.exports=T},70336:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){return s.x=o+u*Math.cos(f),s.y=m+u*Math.sin(f),s};r.exports=T},72678:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(25836),m=s(37867),f=s(15746),u=new m,h=new f,a=new o,l=function(c,d,v){return h.setAxisAngle(d,v),u.fromRotationTranslation(h,a.set(0,0,0)),c.transformMat4(u)};r.exports=l},2284:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>0?Math.ceil(s):Math.floor(s)};r.exports=T},41013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var f=Math.pow(m,-o);return Math.round(s*f)/f};r.exports=T},16922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o===void 0&&(o=1),m===void 0&&(m=1),f===void 0&&(f=1),f*=Math.PI/s;for(var u=[],h=[],a=0;a<s;a++)m-=o*f,o+=m*f,u[a]=m,h[a]=o;return{sin:h,cos:u,length:s}};r.exports=T},7602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s<=o?0:s>=m?1:(s=(s-o)/(m-o),s*s*(3-2*s))};r.exports=T},54261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s=Math.max(0,Math.min(1,(s-o)/(m-o))),s*s*s*(s*(s*6-15)+10)};r.exports=T},44408:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a){a===void 0&&(a=new o);var l=0,c=0,d=u*h;return f>0&&f<=d&&(f>u-1?(c=Math.floor(f/u),l=f-c*u):l=f),a.set(l,c)};r.exports=m},85955:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l,c,d,v){v===void 0&&(v=new o);var p=Math.sin(l),g=Math.cos(l),x=g*c,C=p*c,P=-p*d,w=g*d,E=1/(x*w+P*-C);return v.x=w*E*f+-P*E*u+(a*P-h*w)*E,v.y=x*E*u+-C*E*f+(-a*x+h*C)*E,v};r.exports=m},26099:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(43855),f=new o({initialize:function(h,a){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(a===void 0&&(a=h),this.x=h||0,this.y=a||0)},clone:function(){return new f(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,h){return h===void 0&&(h=u),this.x=u,this.y=h,this},setTo:function(u,h){return this.set(u,h)},setToPolar:function(u,h){return h==null&&(h=1),this.x=Math.cos(u)*h,this.y=Math.sin(u)*h,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,h){return m(this.x,u.x,h)&&m(this.y,u.y,h)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var h=u.x-this.x,a=u.y-this.y;return Math.sqrt(h*h+a*a)},distanceSq:function(u){var h=u.x-this.x,a=u.y-this.y;return h*h+a*a},length:function(){var u=this.x,h=this.y;return Math.sqrt(u*u+h*h)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,h=this.y;return u*u+h*h},normalize:function(){var u=this.x,h=this.y,a=u*u+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=u*a,this.y=h*a),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,h){h===void 0&&(h=0);var a=this.x,l=this.y;return this.x=a+h*(u.x-a),this.y=l+h*(u.y-l),this},transformMat3:function(u){var h=this.x,a=this.y,l=u.val;return this.x=l[0]*h+l[3]*a+l[6],this.y=l[1]*h+l[4]*a+l[7],this},transformMat4:function(u){var h=this.x,a=this.y,l=u.val;return this.x=l[0]*h+l[4]*a+l[12],this.y=l[1]*h+l[5]*a+l[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var h=this.length();return h&&h>u&&this.scale(u/h),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var h=Math.cos(u),a=Math.sin(u);return this.set(h*this.x-a*this.y,a*this.x+h*this.y)},project:function(u){var h=this.dot(u)/u.dot(u);return this.copy(u).scale(h)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),r.exports=f},25836:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=h||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(f,u){return this.x=f.x+u.x,this.y=f.y+u.y,this.z=f.z+u.z,this},subVectors:function(f,u){return this.x=f.x-u.x,this.y=f.y-u.y,this.z=f.z-u.z,this},crossVectors:function(f,u){var h=f.x,a=f.y,l=f.z,c=u.x,d=u.y,v=u.z;return this.x=a*v-l*d,this.y=l*c-h*v,this.z=h*d-a*c,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,u,h){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=u||0,this.z=h||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,u){return this.fromArray(f.val,u*4)},fromArray:function(f,u){return u===void 0&&(u=0),this.x=f[u],this.y=f[u+1],this.z=f[u+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,u){return this.x+=f.x*u,this.y+=f.y*u,this.z+=f.z*u||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var u=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0;return Math.sqrt(u*u+h*h+a*a)},distanceSq:function(f){var u=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0;return u*u+h*h+a*a},length:function(){var f=this.x,u=this.y,h=this.z;return Math.sqrt(f*f+u*u+h*h)},lengthSq:function(){var f=this.x,u=this.y,h=this.z;return f*f+u*u+h*h},normalize:function(){var f=this.x,u=this.y,h=this.z,a=f*f+u*u+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=f*a,this.y=u*a,this.z=h*a),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var u=this.x,h=this.y,a=this.z,l=f.x,c=f.y,d=f.z;return this.x=h*d-a*c,this.y=a*l-u*d,this.z=u*c-h*l,this},lerp:function(f,u){u===void 0&&(u=0);var h=this.x,a=this.y,l=this.z;return this.x=h+u*(f.x-h),this.y=a+u*(f.y-a),this.z=l+u*(f.z-l),this},applyMatrix3:function(f){var u=this.x,h=this.y,a=this.z,l=f.val;return this.x=l[0]*u+l[3]*h+l[6]*a,this.y=l[1]*u+l[4]*h+l[7]*a,this.z=l[2]*u+l[5]*h+l[8]*a,this},applyMatrix4:function(f){var u=this.x,h=this.y,a=this.z,l=f.val,c=1/(l[3]*u+l[7]*h+l[11]*a+l[15]);return this.x=(l[0]*u+l[4]*h+l[8]*a+l[12])*c,this.y=(l[1]*u+l[5]*h+l[9]*a+l[13])*c,this.z=(l[2]*u+l[6]*h+l[10]*a+l[14])*c,this},transformMat3:function(f){var u=this.x,h=this.y,a=this.z,l=f.val;return this.x=u*l[0]+h*l[3]+a*l[6],this.y=u*l[1]+h*l[4]+a*l[7],this.z=u*l[2]+h*l[5]+a*l[8],this},transformMat4:function(f){var u=this.x,h=this.y,a=this.z,l=f.val;return this.x=l[0]*u+l[4]*h+l[8]*a+l[12],this.y=l[1]*u+l[5]*h+l[9]*a+l[13],this.z=l[2]*u+l[6]*h+l[10]*a+l[14],this},transformCoordinates:function(f){var u=this.x,h=this.y,a=this.z,l=f.val,c=u*l[0]+h*l[4]+a*l[8]+l[12],d=u*l[1]+h*l[5]+a*l[9]+l[13],v=u*l[2]+h*l[6]+a*l[10]+l[14],p=u*l[3]+h*l[7]+a*l[11]+l[15];return this.x=c/p,this.y=d/p,this.z=v/p,this},transformQuat:function(f){var u=this.x,h=this.y,a=this.z,l=f.x,c=f.y,d=f.z,v=f.w,p=v*u+c*a-d*h,g=v*h+d*u-l*a,x=v*a+l*h-c*u,C=-l*u-c*h-d*a;return this.x=p*v+C*-l+g*-d-x*-c,this.y=g*v+C*-c+x*-l-p*-d,this.z=x*v+C*-d+p*-c-g*-l,this},project:function(f){var u=this.x,h=this.y,a=this.z,l=f.val,c=l[0],d=l[1],v=l[2],p=l[3],g=l[4],x=l[5],C=l[6],P=l[7],w=l[8],E=l[9],b=l[10],O=l[11],M=l[12],A=l[13],F=l[14],R=l[15],L=1/(u*p+h*P+a*O+R);return this.x=(u*c+h*g+a*w+M)*L,this.y=(u*d+h*x+a*E+A)*L,this.z=(u*v+h*C+a*b+F)*L,this},projectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unprojectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unproject:function(f,u){var h=f.x,a=f.y,l=f.z,c=f.w,d=this.x-h,v=c-this.y-1-a,p=this.z;return this.x=2*d/l-1,this.y=2*v/c-1,this.z=2*p-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),r.exports=m},61369:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=h||0,this.z=a||0,this.w=l||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,u,h,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=u||0,this.z=h||0,this.w=a||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,u=this.y,h=this.z,a=this.w;return Math.sqrt(f*f+u*u+h*h+a*a)},lengthSq:function(){var f=this.x,u=this.y,h=this.z,a=this.w;return f*f+u*u+h*h+a*a},normalize:function(){var f=this.x,u=this.y,h=this.z,a=this.w,l=f*f+u*u+h*h+a*a;return l>0&&(l=1/Math.sqrt(l),this.x=f*l,this.y=u*l,this.z=h*l,this.w=a*l),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,u){u===void 0&&(u=0);var h=this.x,a=this.y,l=this.z,c=this.w;return this.x=h+u*(f.x-h),this.y=a+u*(f.y-a),this.z=l+u*(f.z-l),this.w=c+u*(f.w-c),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var u=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0,l=f.w-this.w||0;return Math.sqrt(u*u+h*h+a*a+l*l)},distanceSq:function(f){var u=f.x-this.x,h=f.y-this.y,a=f.z-this.z||0,l=f.w-this.w||0;return u*u+h*h+a*a+l*l},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var u=this.x,h=this.y,a=this.z,l=this.w,c=f.val;return this.x=c[0]*u+c[4]*h+c[8]*a+c[12]*l,this.y=c[1]*u+c[5]*h+c[9]*a+c[13]*l,this.z=c[2]*u+c[6]*h+c[10]*a+c[14]*l,this.w=c[3]*u+c[7]*h+c[11]*a+c[15]*l,this},transformQuat:function(f){var u=this.x,h=this.y,a=this.z,l=f.x,c=f.y,d=f.z,v=f.w,p=v*u+c*a-d*h,g=v*h+d*u-l*a,x=v*a+l*h-c*u,C=-l*u-c*h-d*a;return this.x=p*v+C*-l+g*-d-x*-c,this.y=g*v+C*-c+x*-l-p*-d,this.z=x*v+C*-d+p*-c-g*-l,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,r.exports=m},60417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return Math.abs(s-o)<=m};r.exports=T},15994:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=m-o;return o+((s-o)%f+f)%f};r.exports=T},31040:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return Math.atan2(f-o,m-s)};r.exports=T},55495:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)};r.exports=T},128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return Math.atan2(o.x-s.x,o.y-s.y)};r.exports=T},41273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return Math.atan2(m-s,f-o)};r.exports=T},1432:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=function(f){return f>Math.PI&&(f-=o.PI2),Math.abs(((f+o.TAU)%o.PI2-o.PI2)%o.PI2)};r.exports=m},49127:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),m=function(f,u){return o(u-f)};r.exports=m},52285:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),m=2*Math.PI,f=function(u,h){var a=o(h-u);return a>0&&(a-=m),a};r.exports=f},67317:(r,T,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86554),m=function(f,u){return o(u-f)};r.exports=m},12407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};r.exports=T},53993:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),m=function(){return o(-Math.PI,Math.PI)};r.exports=m},86564:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(99472),m=function(){return o(-180,180)};r.exports=m},90154:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(12407),m=function(f){return o(f+Math.PI)};r.exports=m},48736:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=function(f,u,h){return h===void 0&&(h=.05),f===u||(Math.abs(u-f)<=h||Math.abs(u-f)>=o.PI2-h?f=u:(Math.abs(u-f)>Math.PI&&(u<f?u+=o.PI2:u-=o.PI2),u>f?f+=h:u<f&&(f-=h))),f};r.exports=m},61430:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=o-s;if(m===0)return 0;var f=Math.floor((m- -180)/360);return m-f*360};r.exports=T},86554:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),m=function(f){return o(f,-Math.PI,Math.PI)};r.exports=m},30954:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15994),m=function(f){return o(f,-180,180)};r.exports=m},25588:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=T},20339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=s-m,h=o-f;return Math.sqrt(u*u+h*h)};r.exports=T},52816:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.x-o.x,f=s.y-o.y;return Math.sqrt(m*m+f*f)};r.exports=T},64559:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.x-o.x,f=s.y-o.y;return m*m+f*f};r.exports=T},82340:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return Math.max(Math.abs(s-m),Math.abs(o-f))};r.exports=T},14390:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(m-s,u)+Math.pow(f-o,u))};r.exports=T},2243:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return Math.abs(s-m)+Math.abs(o-f)};r.exports=T},89774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=s-m,h=o-f;return u*u+h*h};r.exports=T},50994:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54178),m=s(41521),f=s(79980),u=s(85433),h=s(99140),a=s(48857),l=s(81596),c=s(59133),d=s(98516),v=s(35248),p=s(82500),g=s(49752);r.exports={Power0:l,Power1:c.Out,Power2:u.Out,Power3:d.Out,Power4:v.Out,Linear:l,Quad:c.Out,Cubic:u.Out,Quart:d.Out,Quint:v.Out,Sine:p.Out,Expo:a.Out,Circ:f.Out,Elastic:h.Out,Back:o.Out,Bounce:m.Out,Stepped:g,"Quad.easeIn":c.In,"Cubic.easeIn":u.In,"Quart.easeIn":d.In,"Quint.easeIn":v.In,"Sine.easeIn":p.In,"Expo.easeIn":a.In,"Circ.easeIn":f.In,"Elastic.easeIn":h.In,"Back.easeIn":o.In,"Bounce.easeIn":m.In,"Quad.easeOut":c.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":d.Out,"Quint.easeOut":v.Out,"Sine.easeOut":p.Out,"Expo.easeOut":a.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":h.Out,"Back.easeOut":o.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":d.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":m.InOut}},1639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1.70158),s*s*((o+1)*s-o)};r.exports=T},50099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=1.70158);var m=o*1.525;return(s*=2)<1?.5*(s*s*((m+1)*s-m)):.5*((s-=2)*s*((m+1)*s+m)+2)};r.exports=T},41286:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1.70158),--s*s*((o+1)*s+o)+1};r.exports=T},54178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};r.exports=T},41788:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=!1;return s<.5?(s=1-s*2,o=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,o?(1-s)*.5:s*.5+.5};r.exports=T},69905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};r.exports=T},41521:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1-Math.sqrt(1-s*s)};r.exports=T},4177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};r.exports=T},57512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.sqrt(1- --s*s)};r.exports=T},79980:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s};r.exports=T},82820:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};r.exports=T},35033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return--s*s*s+1};r.exports=T},85433:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),s===0)return 0;if(s===1)return 1;var f=m/4;return o<1?o=1:f=m*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/m))};r.exports=T},50665:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),s===0)return 0;if(s===1)return 1;var f=m/4;return o<1?o=1:f=m*Math.asin(1/o)/(2*Math.PI),(s*=2)<1?-.5*(o*Math.pow(2,10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/m)):o*Math.pow(2,-10*(s-=1))*Math.sin((s-f)*(2*Math.PI)/m)*.5+1};r.exports=T},7744:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),s===0)return 0;if(s===1)return 1;var f=m/4;return o<1?o=1:f=m*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*s)*Math.sin((s-f)*(2*Math.PI)/m)+1};r.exports=T},99140:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return Math.pow(2,10*(s-1))-.001};r.exports=T},87844:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};r.exports=T},89433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1-Math.pow(2,-10*s)};r.exports=T},48857:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s};r.exports=T},81596:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(7147)},34826:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s};r.exports=T},20544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};r.exports=T},92029:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*(2-s)};r.exports=T},59133:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s*s};r.exports=T},78137:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};r.exports=T},45840:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return 1- --s*s*s*s};r.exports=T},98516:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s*s*s*s*s};r.exports=T},16509:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};r.exports=T},17868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return--s*s*s*s*s+1};r.exports=T},35248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};r.exports=T},34025:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};r.exports=T},52768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};r.exports=T},82500:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1),s<=0?0:s>=1?1:((o*s|0)+1)*(1/o)};r.exports=T},49752:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(72251)},75698:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1e-4),Math.ceil(s-o)};r.exports=T},43855:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m===void 0&&(m=1e-4),Math.abs(s-o)<m};r.exports=T},25777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o=1e-4),Math.floor(s+o)};r.exports=T},5470:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m===void 0&&(m=1e-4),s>o-m};r.exports=T},94977:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return m===void 0&&(m=1e-4),s<o+m};r.exports=T},48379:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36383),m=s(79291),f={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};f=m(!1,f,o),r.exports=f},89318:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85710),m=function(f,u){for(var h=0,a=f.length-1,l=0;l<=a;l++)h+=Math.pow(1-u,a-l)*Math.pow(u,l)*f[l]*o(a,l);return h};r.exports=m},77259:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87842),m=function(f,u){var h=f.length-1,a=h*u,l=Math.floor(a);return f[0]===f[h]?(u<0&&(l=Math.floor(a=h*(1+u))),o(a-l,f[(l-1+h)%h],f[l],f[(l+1)%h],f[(l+2)%h])):u<0?f[0]-(o(-a,f[0],f[0],f[1],f[1])-f[0]):u>1?f[h]-(o(a-h,f[h],f[h],f[h-1],f[h-1])-f[h]):o(a-l,f[l?l-1:0],f[l],f[h<l+1?h:l+1],f[h<l+2?h:l+2])};r.exports=m},36316:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,h){var a=1-u;return a*a*a*h}function s(u,h){var a=1-u;return 3*a*a*u*h}function o(u,h){return 3*(1-u)*u*u*h}function m(u,h){return u*u*u*h}var f=function(u,h,a,l,c){return T(u,h)+s(u,a)+o(u,l)+m(u,c)};r.exports=f},28392:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(28915),m=function(f,u){var h=f.length-1,a=h*u,l=Math.floor(a);return u<0?o(f[0],f[1],a):u>1?o(f[h],f[h-1],h-a):o(f[l],f[l+1>h?h:l+1],a-l)};r.exports=m},32112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(f,u){var h=1-f;return h*h*u}function s(f,u){return 2*(1-f)*f*u}function o(f,u){return f*f*u}var m=function(f,u,h,a){return T(f,u)+s(f,h)+o(f,a)};r.exports=m},47235:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7602),m=function(f,u,h){return u+(h-u)*o(f,0,1)};r.exports=m},50178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(54261),m=function(f,u,h){return u+(h-u)*o(f,0,1)};r.exports=m},38289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=Math.log(s)/.6931471805599453;return 1<<Math.ceil(o)};r.exports=T},50030:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s>0&&(s&s-1)===0&&o>0&&(o&o-1)===0};r.exports=T},81230:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s>0&&(s&s-1)===0};r.exports=T},49001:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var u,h=this.n;f=f.toString();for(var a=0;a<f.length;a++)h+=f.charCodeAt(a),u=.02519603282416938*h,h=u>>>0,u-=h,u*=h,h=u>>>0,u-=h,h+=u*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var u=0;u<f.length&&f[u]!=null;u++){var h=f[u];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},between:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},realInRange:function(f,u){return this.frac()*(u-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",u="";for(u=f="";f++<36;u+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return u},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,u){return this.realInRange(f||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var u=f.length-1,h=u;h>0;h--){var a=Math.floor(this.frac()*(h+1)),l=f[a];f[a]=f[h],f[h]=l}return f}});r.exports=m},63448:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return m===void 0&&(m=0),o===0?s:(s-=m,s=o*Math.ceil(s/o),f?(m+s)/o:m+s)};r.exports=T},56583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return m===void 0&&(m=0),o===0?s:(s-=m,s=o*Math.floor(s/o),f?(m+s)/o:m+s)};r.exports=T},77720:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){return m===void 0&&(m=0),o===0?s:(s-=m,s=o*Math.round(s/o),f?(m+s)/o:m+s)};r.exports=T},73697:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var o=s(8054),m=s(79291),f={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};f.Sound=s(23717),f=m(!1,f,o),r.exports=f,s.g.Phaser=f},71289:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(92209),f=s(88571),u=new o({Extends:f,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(a,l,c,d,v){f.call(this,a,l,c,d,v),this.body=null}});r.exports=u},86689:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(39506),f=s(20339),u=s(89774),h=s(66022),a=s(95540),l=s(46975),c=s(72441),d=s(47956),v=s(37277),p=s(44594),g=s(26099),x=s(82248),C=new o({initialize:function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(p.BOOT,this.boot,this),w.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new x(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new x(this.scene,this.config),this.add=new h(this.world));var P=this.systems.events;a(this.config,"customUpdate",!1)||P.on(p.UPDATE,this.world.update,this.world),P.on(p.POST_UPDATE,this.world.postUpdate,this.world),P.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,w=this.systems.settings.physics,E=l(a(w,"arcade",{}),a(P,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,w,E,b,O){return E===void 0&&(E=null),b===void 0&&(b=null),O===void 0&&(O=E),this.world.collideObjects(P,w,E,b,O,!0)},collide:function(P,w,E,b,O){return E===void 0&&(E=null),b===void 0&&(b=null),O===void 0&&(O=E),this.world.collideObjects(P,w,E,b,O,!1)},collideTiles:function(P,w,E,b,O){return this.world.collideTiles(P,w,E,b,O)},overlapTiles:function(P,w,E,b,O){return this.world.overlapTiles(P,w,E,b,O)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,w,E,b,O,M){b===void 0&&(b=60);var A=Math.atan2(E-P.y,w-P.x);return P.body.acceleration.setToPolar(A,b),O!==void 0&&M!==void 0&&P.body.maxVelocity.set(O,M),A},accelerateToObject:function(P,w,E,b,O){return this.accelerateTo(P,w.x,w.y,E,b,O)},closest:function(P,w){w||(w=this.world.bodies.entries);for(var E=Number.MAX_VALUE,b=null,O=P.x,M=P.y,A=w.length,F=0;F<A;F++){var R=w[F],L=R.body||R;if(!(P===R||P===L||P===L.gameObject||P===L.center)){var D=u(O,M,L.center.x,L.center.y);D<E&&(b=R,E=D)}}return b},furthest:function(P,w){w||(w=this.world.bodies.entries);for(var E=-1,b=null,O=P.x,M=P.y,A=w.length,F=0;F<A;F++){var R=w[F],L=R.body||R;if(!(P===R||P===L||P===L.gameObject||P===L.center)){var D=u(O,M,L.center.x,L.center.y);D>E&&(b=R,E=D)}}return b},moveTo:function(P,w,E,b,O){b===void 0&&(b=60),O===void 0&&(O=0);var M=Math.atan2(E-P.y,w-P.x);return O>0&&(b=f(P.x,P.y,w,E)/(O/1e3)),P.body.velocity.setToPolar(M,b),M},moveToObject:function(P,w,E,b){return this.moveTo(P,w.x,w.y,E,b)},velocityFromAngle:function(P,w,E){return w===void 0&&(w=60),E===void 0&&(E=new g),E.setToPolar(m(P),w)},velocityFromRotation:function(P,w,E){return w===void 0&&(w=60),E===void 0&&(E=new g),E.setToPolar(P,w)},overlapRect:function(P,w,E,b,O,M){return d(this.world,P,w,E,b,O,M)},overlapCirc:function(P,w,E,b,O){return c(this.world,P,w,E,b,O)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(p.UPDATE,this.world.update,this.world),P.off(p.POST_UPDATE,this.world.postUpdate,this.world),P.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",C,"arcadePhysics"),r.exports=C},13759:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(92209),f=s(68287),u=new o({Extends:f,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(a,l,c,d,v){f.call(this,a,l,c,d,v),this.body=null}});r.exports=u},37742:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(78389),f=s(37747),u=s(63012),h=s(43396),a=s(87841),l=s(37303),c=s(95829),d=s(26099),v=new o({Mixins:[m],initialize:function(g,x){var C=64,P=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=x!==void 0;E&&x.displayWidth&&(C=x.displayWidth,P=x.displayHeight),E||(x=w),this.world=g,this.gameObject=E?x:void 0,this.isBody=!0,this.transform={x:x.x,y:x.y,rotation:x.angle,scaleX:x.scaleX,scaleY:x.scaleY,displayOriginX:x.displayOriginX,displayOriginY:x.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(x.x-x.scaleX*x.displayOriginX,x.y-x.scaleY*x.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=x.angle,this.preRotation=x.angle,this.width=C,this.height=P,this.sourceWidth=C,this.sourceHeight=P,x.frame&&(this.sourceWidth=x.frame.realWidth,this.sourceHeight=x.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(P/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new d,this.newVelocity=new d,this.deltaMax=new d,this.acceleration=new d,this.allowDrag=!0,this.drag=new d,this.allowGravity=!0,this.gravity=new d,this.bounce=new d,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new d(1e4,1e4),this.maxSpeed=-1,this.friction=new d(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new d(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=x.scaleX,this._sy=x.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,g=this.transform;if(p.parentContainer){var x=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=x.tx,g.y=x.ty,g.rotation=h(x.rotation),g.scaleX=x.scaleX,g.scaleY=x.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY}else g.x=p.x,g.y=p.y,g.rotation=p.angle,g.scaleX=p.scaleX,g.scaleY=p.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY;var C=!1;if(this.syncBounds){var P=p.getBounds(this._bounds);this.width=P.width,this.height=P.height,C=!0}else{var w=Math.abs(g.scaleX),E=Math.abs(g.scaleY);(this._sx!==w||this._sy!==E)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*E,this._sx=w,this._sy=E,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var g=this.wasTouching,x=this.touching,C=this.blocked;p?c(!0,g):(g.none=x.none,g.up=x.up,g.down=x.down,g.left=x.left,g.right=x.right),c(!0,x),c(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,g){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var x=this.position;this.prev.x=x.x,this.prev.y=x.y,this.prevFrame.x=x.x,this.prevFrame.y=x.y}p&&this.update(g)},update:function(p){var g=this.prev,x=this.position,C=this.velocity;if(g.set(x.x,x.y),!this.moves){this._dx=x.x-g.x,this._dy=x.y-g.y;return}if(this.directControl){var P=this.autoFrame;C.set((x.x-P.x)/p,(x.y-P.y)/p),this.world.updateMotion(this,p),this._dx=x.x-P.x,this._dy=x.y-P.y}else this.world.updateMotion(this,p),this.newVelocity.set(C.x*p,C.y*p),x.add(this.newVelocity),this._dx=x.x-g.x,this._dy=x.y-g.y;var w=C.x,E=C.y;if(this.updateCenter(),this.angle=Math.atan2(E,w),this.speed=Math.sqrt(w*w+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var b=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,b.up,b.down,b.left,b.right)}},postUpdate:function(){var p=this.position,g=p.x-this.prevFrame.x,x=p.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var P=this.deltaMax.x,w=this.deltaMax.y;P!==0&&g!==0&&(g<0&&g<-P?g=-P:g>0&&g>P&&(g=P)),w!==0&&x!==0&&(x<0&&x<-w?x=-w:x>0&&x>w&&(x=w)),C&&(C.x+=g,C.y+=x)}g<0?this.facing=f.FACING_LEFT:g>0&&(this.facing=f.FACING_RIGHT),x<0?this.facing=f.FACING_UP:x>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=g,this._ty=x,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,g=this.velocity,x=this.blocked,C=this.customBoundsRectangle,P=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,b=!1;return p.x<C.x&&P.left?(p.x=C.x,g.x*=w,x.left=!0,b=!0):this.right>C.right&&P.right&&(p.x=C.right-this.width,g.x*=w,x.right=!0,b=!0),p.y<C.y&&P.up?(p.y=C.y,g.y*=E,x.up=!0,b=!0):this.bottom>C.bottom&&P.down&&(p.y=C.bottom-this.height,g.y*=E,x.down=!0,b=!0),b&&(this.blocked.none=!1,this.updateCenter()),b},setOffset:function(p,g){return g===void 0&&(g=p),this.offset.set(p,g),this},setGameObject:function(p,g){if(g===void 0&&(g=!0),!p||!p.hasTransformComponent)return this;var x=this.world;return this.gameObject&&this.gameObject.body&&(x.disable(this.gameObject),this.gameObject.body=null),p.body&&x.disable(p),this.gameObject=p,p.body=this,this.setSize(),this.enable=g,this},setSize:function(p,g,x){x===void 0&&(x=!0);var C=this.gameObject;if(C&&(!p&&C.frame&&(p=C.frame.realWidth),!g&&C.frame&&(g=C.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),x&&C&&C.getCenter){var P=(C.width-p)/2,w=(C.height-g)/2;this.offset.set(P,w)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,g,x){return g===void 0&&(g=this.offset.x),x===void 0&&(x=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,x),this.updateCenter()):this.isCircle=!1,this},reset:function(p,g){this.stop();var x=this.gameObject;x&&(x.setPosition(p,g),this.rotation=x.angle,this.preRotation=x.angle);var C=this.position;x&&x.getTopLeft?x.getTopLeft(C):C.set(p,g),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),x&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){if(!this.isCircle)return l(this,p,g);if(this.radius>0&&p>=this.left&&p<=this.right&&g>=this.top&&g<=this.bottom){var x=(this.center.x-p)*(this.center.x-p),C=(this.center.y-g)*(this.center.y-g);return x+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,x=g.x+this.halfWidth,C=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(x,C,this.width/2):(this.checkCollision.up&&p.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&p.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&p.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&p.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(x,C,x+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,g,x,C){p===void 0&&(p=!0),this.collideWorldBounds=p;var P=g!==void 0,w=x!==void 0;return(P||w)&&(this.worldBounce||(this.worldBounce=new d),P&&(this.worldBounce.x=g),w&&(this.worldBounce.y=x)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(p,g){return this.velocity.set(p,g),p=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(p*p+g*g),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,g){return this.maxVelocity.set(p,g),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,g){return this.slideFactor.set(p,g),this},setBounce:function(p,g){return this.bounce.set(p,g),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,g){return this.acceleration.set(p,g),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,g){return this.drag.set(p,g),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,g){return this.gravity.set(p,g),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,g){return this.friction.set(p,g),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,g,x,C){this.x+=p,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var P=this.blocked;x&&(P.left=!0,P.none=!1),C&&(P.right=!0,P.none=!1)},processY:function(p,g,x,C){this.y+=p,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var P=this.blocked;x&&(P.up=!0,P.none=!1),C&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=v},79342:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l,c,d,v){this.world=u,this.name="",this.active=!0,this.overlapOnly=h,this.object1=a,this.object2=l,this.collideCallback=c,this.processCallback=d,this.callbackContext=v},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=m},66022:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71289),m=s(13759),f=s(37742),u=s(83419),h=s(37747),a=s(60758),l=s(72624),c=s(71464),d=new u({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(v,p,g,x,C){return this.world.addCollider(v,p,g,x,C)},overlap:function(v,p,g,x,C){return this.world.addOverlap(v,p,g,x,C)},existing:function(v,p){var g=p?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(v,g),v},staticImage:function(v,p,g,x){var C=new o(this.scene,v,p,g,x);return this.sys.displayList.add(C),this.world.enableBody(C,h.STATIC_BODY),C},image:function(v,p,g,x){var C=new o(this.scene,v,p,g,x);return this.sys.displayList.add(C),this.world.enableBody(C,h.DYNAMIC_BODY),C},staticSprite:function(v,p,g,x){var C=new m(this.scene,v,p,g,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,h.STATIC_BODY),C},sprite:function(v,p,g,x){var C=new m(this.scene,v,p,g,x);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,h.DYNAMIC_BODY),C},staticGroup:function(v,p){return this.sys.updateList.add(new c(this.world,this.world.scene,v,p))},group:function(v,p){return this.sys.updateList.add(new a(this.world,this.world.scene,v,p))},body:function(v,p,g,x){var C=new f(this.world);return C.position.set(v,p),g&&x&&C.setSize(g,x),this.world.add(C,h.DYNAMIC_BODY),C},staticBody:function(v,p,g,x){var C=new l(this.world);return C.position.set(v,p),g&&x&&C.setSize(g,x),this.world.add(C,h.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=d},79599:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=0;if(!Array.isArray(s))o=s;else for(var m=0;m<s.length;m++)o|=s[m];return o};r.exports=T},64897:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),m=function(f,u,h,a){var l=0,c=f.deltaAbsX()+u.deltaAbsX()+a;return f._dx===0&&u._dx===0?(f.embedded=!0,u.embedded=!0):f._dx>u._dx?(l=f.right-u.x,l>c&&!h||f.checkCollision.right===!1||u.checkCollision.left===!1?l=0:(f.touching.none=!1,f.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===o.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===o.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.left=!0))):f._dx<u._dx&&(l=f.x-u.width-u.x,-l>c&&!h||f.checkCollision.left===!1||u.checkCollision.right===!1?l=0:(f.touching.none=!1,f.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===o.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===o.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.right=!0))),f.overlapX=l,u.overlapX=l,l};r.exports=m},45170:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),m=function(f,u,h,a){var l=0,c=f.deltaAbsY()+u.deltaAbsY()+a;return f._dy===0&&u._dy===0?(f.embedded=!0,u.embedded=!0):f._dy>u._dy?(l=f.bottom-u.y,l>c&&!h||f.checkCollision.down===!1||u.checkCollision.up===!1?l=0:(f.touching.none=!1,f.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===o.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===o.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.up=!0))):f._dy<u._dy&&(l=f.y-u.bottom,-l>c&&!h||f.checkCollision.up===!1||u.checkCollision.down===!1?l=0:(f.touching.none=!1,f.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===o.STATIC_BODY&&!h&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===o.STATIC_BODY&&!h&&(u.blocked.none=!1,u.blocked.down=!0))),f.overlapY=l,u.overlapY=l,l};r.exports=m},60758:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),m=s(83419),f=s(78389),u=s(37747),h=s(95540),a=s(26479),l=s(41212),c=new m({Extends:a,Mixins:[f],initialize:function(v,p,g,x){if(!g&&!x)x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(l(g))x=g,g=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&l(g[0])){var C=this;g.forEach(function(P){P.internalCreateCallback=C.createCallbackHandler,P.internalRemoveCallback=C.removeCallbackHandler,P.classType=h(P,"classType",o)}),x=null}else x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,x&&(x.classType=h(x,"classType",o)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:h(x,"collideWorldBounds",!1),setBoundsRectangle:h(x,"customBoundsRectangle",null),setAccelerationX:h(x,"accelerationX",0),setAccelerationY:h(x,"accelerationY",0),setAllowDrag:h(x,"allowDrag",!0),setAllowGravity:h(x,"allowGravity",!0),setAllowRotation:h(x,"allowRotation",!0),setDamping:h(x,"useDamping",!1),setBounceX:h(x,"bounceX",0),setBounceY:h(x,"bounceY",0),setDragX:h(x,"dragX",0),setDragY:h(x,"dragY",0),setEnable:h(x,"enable",!0),setGravityX:h(x,"gravityX",0),setGravityY:h(x,"gravityY",0),setFrictionX:h(x,"frictionX",0),setFrictionY:h(x,"frictionY",0),setMaxSpeed:h(x,"maxSpeed",-1),setMaxVelocityX:h(x,"maxVelocityX",1e4),setMaxVelocityY:h(x,"maxVelocityY",1e4),setVelocityX:h(x,"velocityX",0),setVelocityY:h(x,"velocityY",0),setAngularVelocity:h(x,"angularVelocity",0),setAngularAcceleration:h(x,"angularAcceleration",0),setAngularDrag:h(x,"angularDrag",0),setMass:h(x,"mass",1),setImmovable:h(x,"immovable",!1)},a.call(this,p,g,x),this.type="PhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,u.DYNAMIC_BODY);var v=d.body;for(var p in this.defaults)v[p](this.defaults[p])},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},setVelocity:function(d,v,p){p===void 0&&(p=0);for(var g=this.getChildren(),x=0;x<g.length;x++)g[x].body.velocity.set(d+x*p,v+x*p);return this},setVelocityX:function(d,v){v===void 0&&(v=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.x=d+g*v;return this},setVelocityY:function(d,v){v===void 0&&(v=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.y=d+g*v;return this}});r.exports=c},3017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,s,o,m,f,u,h,a,l,c,d,v,p,g,x,C,P,w=function(F,R,L){T=F,s=R;var D=T.velocity.x,I=s.velocity.x;return o=T.pushable,l=T._dx<0,c=T._dx>0,d=T._dx===0,x=Math.abs(T.right-s.x)<=Math.abs(s.right-T.x),h=I-D*T.bounce.x,m=s.pushable,v=s._dx<0,p=s._dx>0,g=s._dx===0,C=!x,a=D-I*s.bounce.x,P=Math.abs(L),E()},E=function(){return c&&x&&s.blocked.right?(T.processX(-P,h,!1,!0),1):l&&C&&s.blocked.left?(T.processX(P,h,!0),1):p&&C&&T.blocked.right?(s.processX(-P,a,!1,!0),2):v&&x&&T.blocked.left?(s.processX(P,a,!0),2):0},b=function(){var F=T.velocity.x,R=s.velocity.x,L=Math.sqrt(R*R*s.mass/T.mass)*(R>0?1:-1),D=Math.sqrt(F*F*T.mass/s.mass)*(F>0?1:-1),I=(L+D)*.5;return L-=I,D-=I,f=I+L*T.bounce.x,u=I+D*s.bounce.x,l&&C?O(0):v&&x?O(1):c&&x?O(2):p&&C?O(3):!1},O=function(F){if(o&&m)P*=.5,F===0||F===3?(T.processX(P,f),s.processX(-P,u)):(T.processX(-P,f),s.processX(P,u));else if(o&&!m)F===0||F===3?T.processX(P,h,!0):T.processX(-P,h,!1,!0);else if(!o&&m)F===0||F===3?s.processX(-P,a,!1,!0):s.processX(P,a,!0);else{var R=P*.5;F===0?g?(T.processX(P,0,!0),s.processX(0,null,!1,!0)):p?(T.processX(R,0,!0),s.processX(-R,0,!1,!0)):(T.processX(R,s.velocity.x,!0),s.processX(-R,null,!1,!0)):F===1?d?(T.processX(0,null,!1,!0),s.processX(P,0,!0)):c?(T.processX(-R,0,!1,!0),s.processX(R,0,!0)):(T.processX(-R,null,!1,!0),s.processX(R,T.velocity.x,!0)):F===2?g?(T.processX(-P,0,!1,!0),s.processX(0,null,!0)):v?(T.processX(-R,0,!1,!0),s.processX(R,0,!0)):(T.processX(-R,s.velocity.x,!1,!0),s.processX(R,null,!0)):F===3&&(d?(T.processX(0,null,!0),s.processX(-P,0,!1,!0)):l?(T.processX(R,0,!0),s.processX(-R,0,!1,!0)):(T.processX(R,s.velocity.y,!0),s.processX(-R,null,!1,!0)))}return!0},M=function(F){if(F===1?s.velocity.x=0:x?s.processX(P,a,!0):s.processX(-P,a,!1,!0),T.moves){var R=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;s.y+=R*T.friction.y,s._dy=s.y-s.prev.y}},A=function(F){if(F===2?T.velocity.x=0:C?T.processX(P,h,!0):T.processX(-P,h,!1,!0),s.moves){var R=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;T.y+=R*s.friction.y,T._dy=T.y-T.prev.y}};r.exports={BlockCheck:E,Check:b,Set:w,Run:O,RunImmovableBody1:M,RunImmovableBody2:A}},47962:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,s,o,m,f,u,h,a,l,c,d,v,p,g,x,C,P,w=function(F,R,L){T=F,s=R;var D=T.velocity.y,I=s.velocity.y;return o=T.pushable,l=T._dy<0,c=T._dy>0,d=T._dy===0,x=Math.abs(T.bottom-s.y)<=Math.abs(s.bottom-T.y),h=I-D*T.bounce.y,m=s.pushable,v=s._dy<0,p=s._dy>0,g=s._dy===0,C=!x,a=D-I*s.bounce.y,P=Math.abs(L),E()},E=function(){return c&&x&&s.blocked.down?(T.processY(-P,h,!1,!0),1):l&&C&&s.blocked.up?(T.processY(P,h,!0),1):p&&C&&T.blocked.down?(s.processY(-P,a,!1,!0),2):v&&x&&T.blocked.up?(s.processY(P,a,!0),2):0},b=function(){var F=T.velocity.y,R=s.velocity.y,L=Math.sqrt(R*R*s.mass/T.mass)*(R>0?1:-1),D=Math.sqrt(F*F*T.mass/s.mass)*(F>0?1:-1),I=(L+D)*.5;return L-=I,D-=I,f=I+L*T.bounce.y,u=I+D*s.bounce.y,l&&C?O(0):v&&x?O(1):c&&x?O(2):p&&C?O(3):!1},O=function(F){if(o&&m)P*=.5,F===0||F===3?(T.processY(P,f),s.processY(-P,u)):(T.processY(-P,f),s.processY(P,u));else if(o&&!m)F===0||F===3?T.processY(P,h,!0):T.processY(-P,h,!1,!0);else if(!o&&m)F===0||F===3?s.processY(-P,a,!1,!0):s.processY(P,a,!0);else{var R=P*.5;F===0?g?(T.processY(P,0,!0),s.processY(0,null,!1,!0)):p?(T.processY(R,0,!0),s.processY(-R,0,!1,!0)):(T.processY(R,s.velocity.y,!0),s.processY(-R,null,!1,!0)):F===1?d?(T.processY(0,null,!1,!0),s.processY(P,0,!0)):c?(T.processY(-R,0,!1,!0),s.processY(R,0,!0)):(T.processY(-R,null,!1,!0),s.processY(R,T.velocity.y,!0)):F===2?g?(T.processY(-P,0,!1,!0),s.processY(0,null,!0)):v?(T.processY(-R,0,!1,!0),s.processY(R,0,!0)):(T.processY(-R,s.velocity.y,!1,!0),s.processY(R,null,!0)):F===3&&(d?(T.processY(0,null,!0),s.processY(-P,0,!1,!0)):l?(T.processY(R,0,!0),s.processY(-R,0,!1,!0)):(T.processY(R,s.velocity.y,!0),s.processY(-R,null,!1,!0)))}return!0},M=function(F){if(F===1?s.velocity.y=0:x?s.processY(P,a,!0):s.processY(-P,a,!1,!0),T.moves){var R=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;s.x+=R*T.friction.x,s._dx=s.x-s.prev.x}},A=function(F){if(F===2?T.velocity.y=0:C?T.processY(P,h,!0):T.processY(-P,h,!1,!0),s.moves){var R=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;T.x+=R*s.friction.x,T._dx=T.x-T.prev.x}};r.exports={BlockCheck:E,Check:b,Set:w,Run:O,RunImmovableBody1:M,RunImmovableBody2:A}},14087:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(64897),m=s(3017),f=function(u,h,a,l,c){c===void 0&&(c=o(u,h,a,l));var d=u.immovable,v=h.immovable;if(a||c===0||d&&v||u.customSeparateX||h.customSeparateX)return c!==0||u.embedded&&h.embedded;var p=m.Set(u,h,c);return!d&&!v?p>0?!0:m.Check():(d?m.RunImmovableBody1(p):v&&m.RunImmovableBody2(p),!0)};r.exports=f},89936:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45170),m=s(47962),f=function(u,h,a,l,c){c===void 0&&(c=o(u,h,a,l));var d=u.immovable,v=h.immovable;if(a||c===0||d&&v||u.customSeparateY||h.customSeparateY)return c!==0||u.embedded&&h.embedded;var p=m.Set(u,h,c);return!d&&!v?p>0?!0:m.Check():(d?m.RunImmovableBody1(p):v&&m.RunImmovableBody2(p),!0)};r.exports=f},95829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===void 0&&(o={}),o.none=s,o.up=!1,o.down=!1,o.left=!1,o.right=!1,s||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};r.exports=T},72624:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87902),m=s(83419),f=s(78389),u=s(37747),h=s(37303),a=s(95829),l=s(26099),c=new m({Mixins:[f],initialize:function(v,p){var g=64,x=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=p!==void 0;P&&p.displayWidth&&(g=p.displayWidth,x=p.displayHeight),P||(p=C),this.world=v,this.gameObject=P?p:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(p.x-g*p.originX,p.y-x*p.originY),this.width=g,this.height=x,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=l.ZERO,this.allowGravity=!1,this.gravity=l.ZERO,this.bounce=l.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(d,v,p){if(v===void 0&&(v=!0),p===void 0&&(p=!0),!d||!d.hasTransformComponent)return this;var g=this.world;return this.gameObject&&this.gameObject.body&&(g.disable(this.gameObject),this.gameObject.body=null),d.body&&g.disable(d),this.gameObject=d,d.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=p,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var d=this.gameObject;return d.getTopLeft(this.position),this.width=d.displayWidth,this.height=d.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(d,v){return v===void 0&&(v=d),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(d,v,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&g.frame&&(d||(d=g.frame.realWidth),v||(v=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=d,this.height=v,this.halfWidth=Math.floor(d/2),this.halfHeight=Math.floor(v/2),p&&g&&g.getCenter){var x=g.displayWidth/2,C=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(x-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(d,v,p){return v===void 0&&(v=this.offset.x),p===void 0&&(p=this.offset.y),d>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=d,this.width=d*2,this.height=d*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(d,v){var p=this.gameObject;d===void 0&&(d=p.x),v===void 0&&(v=p.y),this.world.staticTree.remove(this),p.setPosition(d,v),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(d){return d.x=this.x,d.y=this.y,d.right=this.right,d.bottom=this.bottom,d},hitTest:function(d,v){return this.isCircle?o(this,d,v):h(this,d,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(d){var v=this.position,p=v.x+this.halfWidth,g=v.y+this.halfHeight;this.debugShowBody&&(d.lineStyle(d.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?d.strokeCircle(p,g,this.width/2):d.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(d){return d<=0&&(d=.1),this.mass=d,this},x:{get:function(){return this.position.x},set:function(d){this.world.staticTree.remove(this),this.position.x=d,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(d){this.world.staticTree.remove(this),this.position.y=d,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=c},71464:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13759),m=s(83419),f=s(78389),u=s(37747),h=s(95540),a=s(26479),l=s(41212),c=new m({Extends:a,Mixins:[f],initialize:function(v,p,g,x){!g&&!x?x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:l(g)?(x=g,g=null,x.internalCreateCallback=this.createCallbackHandler,x.internalRemoveCallback=this.removeCallbackHandler,x.createMultipleCallback=this.createMultipleCallbackHandler,x.classType=h(x,"classType",o)):Array.isArray(g)&&l(g[0])?(x=g,g=null,x.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=h(C,"classType",o)})):x={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,p,g,x),this.type="StaticPhysicsGroup"},createCallbackHandler:function(d){d.body||this.world.enableBody(d,u.STATIC_BODY)},removeCallbackHandler:function(d){d.body&&this.world.disableBody(d)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var d=this.children.entries,v=0;v<d.length;v++)d[v].body.reset();return this}});r.exports=c},82248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55495),m=s(37742),f=s(45319),u=s(83419),h=s(79342),a=s(37747),l=s(20339),c=s(52816),d=s(50792),v=s(63012),p=s(43855),g=s(5470),x=s(94977),C=s(64897),P=s(45170),w=s(96523),E=s(35154),b=s(36383),O=s(25774),M=s(96602),A=s(87841),F=s(59542),R=s(40012),L=s(14087),D=s(89936),I=s(35072),z=s(72624),U=s(2483),H=s(61340),W=s(26099),N=s(15994),X=new u({Extends:d,initialize:function(V,k){d.call(this),this.scene=V,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new O,this.gravity=new W(E(k,"gravity.x",0),E(k,"gravity.y",0)),this.bounds=new A(E(k,"x",0),E(k,"y",0),E(k,"width",V.sys.scale.width),E(k,"height",V.sys.scale.height)),this.checkCollision={up:E(k,"checkCollision.up",!0),down:E(k,"checkCollision.down",!0),left:E(k,"checkCollision.left",!0),right:E(k,"checkCollision.right",!0)},this.fps=E(k,"fps",60),this.fixedStep=E(k,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(k,"timeScale",1),this.OVERLAP_BIAS=E(k,"overlapBias",4),this.TILE_BIAS=E(k,"tileBias",16),this.forceX=E(k,"forceX",!1),this.isPaused=E(k,"isPaused",!1),this._total=0,this.drawDebug=E(k,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(k,"debugShowBody",!0),debugShowStaticBody:E(k,"debugShowStaticBody",!0),debugShowVelocity:E(k,"debugShowVelocity",!0),bodyDebugColor:E(k,"debugBodyColor",16711935),staticBodyDebugColor:E(k,"debugStaticBodyColor",255),velocityDebugColor:E(k,"debugVelocityColor",65280)},this.maxEntries=E(k,"maxEntries",16),this.useTree=E(k,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new H,this._tempMatrix2=new H,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(B,V){V===void 0&&(V=a.DYNAMIC_BODY),Array.isArray(B)||(B=[B]);for(var k=0;k<B.length;k++){var j=B[k];if(j.isParent)for(var $=j.getChildren(),J=0;J<$.length;J++){var Z=$[J];Z.isParent?this.enable(Z,V):this.enableBody(Z,V)}else this.enableBody(j,V)}},enableBody:function(B,V){return V===void 0&&(V=a.DYNAMIC_BODY),B.hasTransformComponent&&(B.body||(V===a.DYNAMIC_BODY?B.body=new m(this,B):V===a.STATIC_BODY&&(B.body=new z(this,B))),this.add(B.body)),B},add:function(B){return B.physicsType===a.DYNAMIC_BODY?this.bodies.set(B):B.physicsType===a.STATIC_BODY&&(this.staticBodies.set(B),this.staticTree.insert(B)),B.enable=!0,B},disable:function(B){Array.isArray(B)||(B=[B]);for(var V=0;V<B.length;V++){var k=B[V];if(k.isParent)for(var j=k.getChildren(),$=0;$<j.length;$++){var J=j[$];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(k.body)}},disableBody:function(B){this.remove(B),B.enable=!1},remove:function(B){B.physicsType===a.DYNAMIC_BODY?(this.tree.remove(B),this.bodies.delete(B)):B.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(B),this.staticTree.remove(B))},createDebugGraphic:function(){var B=this.scene.sys.add.graphics({x:0,y:0});return B.setDepth(Number.MAX_VALUE),this.debugGraphic=B,this.drawDebug=!0,B},setBounds:function(B,V,k,j,$,J,Z,_){return this.bounds.setTo(B,V,k,j),$!==void 0&&this.setBoundsCollision($,J,Z,_),this},setBoundsCollision:function(B,V,k,j){return B===void 0&&(B=!0),V===void 0&&(V=!0),k===void 0&&(k=!0),j===void 0&&(j=!0),this.checkCollision.left=B,this.checkCollision.right=V,this.checkCollision.up=k,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(B,V,k,j,$){k===void 0&&(k=null),j===void 0&&(j=null),$===void 0&&($=k);var J=new h(this,!1,B,V,k,j,$);return this.colliders.add(J),J},addOverlap:function(B,V,k,j,$){k===void 0&&(k=null),j===void 0&&(j=null),$===void 0&&($=k);var J=new h(this,!0,B,V,k,j,$);return this.colliders.add(J),J},removeCollider:function(B){return this.colliders.remove(B),this},setFPS:function(B){return this.fps=B,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(B,V){if(!(this.isPaused||this.bodies.size===0)){var k,j=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=V;var J,Z=this.bodies.entries,_=this._elapsed>=$;for(this.fixedStep||(j=V*.001,_=!0,this._elapsed=0),k=0;k<Z.length;k++)J=Z[k],J.enable&&J.preUpdate(_,j);if(_){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var it=this.colliders.update();for(k=0;k<it.length;k++){var at=it[k];at.active&&at.update()}this.emit(v.WORLD_STEP,j)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(j)}},step:function(B){var V,k,j=this.bodies.entries,$=j.length;for(V=0;V<$;V++)k=j[V],k.enable&&k.update(B);this.useTree&&(this.tree.clear(),this.tree.load(j));var J=this.colliders.update();for(V=0;V<J.length;V++){var Z=J[V];Z.active&&Z.update()}this.emit(v.WORLD_STEP,B),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var B,V,k=this.bodies.entries,j=k.length,$=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,B=0;B<j;B++)V=k[B],V.enable&&V.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),B=0;B<j;B++)V=k[B],V.willDrawDebug()&&V.drawDebug(Z);for(k=J.entries,j=k.length,B=0;B<j;B++)V=k[B],V.willDrawDebug()&&V.drawDebug(Z)}var _=this.pendingDestroy;if(_.size>0){var it=this.tree,at=this.staticTree;for(k=_.entries,j=k.length,B=0;B<j;B++)V=k[B],V.physicsType===a.DYNAMIC_BODY?(it.remove(V),$.delete(V)):V.physicsType===a.STATIC_BODY&&(at.remove(V),J.delete(V)),V.world=void 0,V.gameObject=void 0;_.clear()}},updateMotion:function(B,V){B.allowRotation&&this.computeAngularVelocity(B,V),this.computeVelocity(B,V)},computeAngularVelocity:function(B,V){var k=B.angularVelocity,j=B.angularAcceleration,$=B.angularDrag,J=B.maxAngular;j?k+=j*V:B.allowDrag&&$&&($*=V,g(k-$,0,.1)?k-=$:x(k+$,0,.1)?k+=$:k=0),k=f(k,-J,J);var Z=k-B.angularVelocity;B.angularVelocity+=Z,B.rotation+=B.angularVelocity*V},computeVelocity:function(B,V){var k=B.velocity.x,j=B.acceleration.x,$=B.drag.x,J=B.maxVelocity.x,Z=B.velocity.y,_=B.acceleration.y,it=B.drag.y,at=B.maxVelocity.y,st=B.speed,ft=B.maxSpeed,ct=B.allowDrag,ut=B.useDamping;B.allowGravity&&(k+=(this.gravity.x+B.gravity.x)*V,Z+=(this.gravity.y+B.gravity.y)*V),j?k+=j*V:ct&&$&&(ut?($=Math.pow($,V),k*=$,st=Math.sqrt(k*k+Z*Z),p(st,0,.001)&&(k=0)):($*=V,g(k-$,0,.01)?k-=$:x(k+$,0,.01)?k+=$:k=0)),_?Z+=_*V:ct&&it&&(ut?(it=Math.pow(it,V),Z*=it,st=Math.sqrt(k*k+Z*Z),p(st,0,.001)&&(Z=0)):(it*=V,g(Z-it,0,.01)?Z-=it:x(Z+it,0,.01)?Z+=it:Z=0)),k=f(k,-J,J),Z=f(Z,-at,at),B.velocity.set(k,Z),ft>-1&&B.velocity.length()>ft&&(B.velocity.normalize().scale(ft),st=ft),B.speed=st},separate:function(B,V,k,j,$){var J,Z,_=!1,it=!0;if(!B.enable||!V.enable||B.checkCollision.none||V.checkCollision.none||!this.intersects(B,V)||(B.collisionMask&V.collisionCategory)===0||(V.collisionMask&B.collisionCategory)===0||k&&k.call(j,B.gameObject||B,V.gameObject||V)===!1)return _;if(B.isCircle||V.isCircle){var at=this.separateCircle(B,V,$);at.result?(_=!0,it=!1):(J=at.x,Z=at.y,it=!0)}if(it){var st=!1,ft=!1,ct=this.OVERLAP_BIAS;$?(st=L(B,V,$,ct,J),ft=D(B,V,$,ct,Z)):this.forceX||Math.abs(this.gravity.y+B.gravity.y)<Math.abs(this.gravity.x+B.gravity.x)?(st=L(B,V,$,ct,J),this.intersects(B,V)&&(ft=D(B,V,$,ct,Z))):(ft=D(B,V,$,ct,Z),this.intersects(B,V)&&(st=L(B,V,$,ct,J))),_=st||ft}return _&&($?(B.onOverlap||V.onOverlap)&&this.emit(v.OVERLAP,B.gameObject,V.gameObject,B,V):(B.onCollide||V.onCollide)&&this.emit(v.COLLIDE,B.gameObject,V.gameObject,B,V)),_},separateCircle:function(B,V,k){C(B,V,!1,0),P(B,V,!1,0);var j=B.isCircle,$=V.isCircle,J=B.center,Z=V.center,_=B.immovable,it=V.immovable,at=B.velocity,st=V.velocity,ft=0,ct=!0;if(j!==$){ct=!1;var ut=J.x,Et=J.y,Mt=B.halfWidth,At=V.position.x,vt=V.position.y,Ct=V.right,St=V.bottom;$&&(ut=Z.x,Et=Z.y,Mt=V.halfWidth,At=B.position.x,vt=B.position.y,Ct=B.right,St=B.bottom),Et<vt?ut<At?ft=l(ut,Et,At,vt)-Mt:ut>Ct&&(ft=l(ut,Et,Ct,vt)-Mt):Et>St&&(ut<At?ft=l(ut,Et,At,St)-Mt:ut>Ct&&(ft=l(ut,Et,Ct,St)-Mt)),ft*=-1}else ft=B.halfWidth+V.halfWidth-c(J,Z);B.overlapR=ft,V.overlapR=ft;var kt=o(J,Z),Ht=(ft+b.EPSILON)*Math.cos(kt),re=(ft+b.EPSILON)*Math.sin(kt),Xt={overlap:ft,result:!1,x:Ht,y:re};if(k&&(!ct||ct&&ft!==0))return Xt.result=!0,Xt;if(!ct&&ft===0||_&&it||B.customSeparateX||V.customSeparateX)return Xt.x=void 0,Xt.y=void 0,Xt;var Bt=!B.pushable&&!V.pushable;if(ct){var he=J.x-Z.x,Ae=J.y-Z.y,jt=Math.sqrt(Math.pow(he,2)+Math.pow(Ae,2)),ae=(Z.x-J.x)/jt||0,pe=(Z.y-J.y)/jt||0,Ne=2*(at.x*ae+at.y*pe-st.x*ae-st.y*pe)/(B.mass+V.mass);(_||it||!B.pushable||!V.pushable)&&(Ne*=2),!_&&B.pushable&&(at.x=at.x-Ne/B.mass*ae,at.y=at.y-Ne/B.mass*pe,at.multiply(B.bounce)),!it&&V.pushable&&(st.x=st.x+Ne/V.mass*ae,st.y=st.y+Ne/V.mass*pe,st.multiply(V.bounce)),!_&&!it&&(Ht*=.5,re*=.5),(!_||B.pushable||Bt)&&(B.x-=Ht,B.y-=re,B.updateCenter()),(!it||V.pushable||Bt)&&(V.x+=Ht,V.y+=re,V.updateCenter()),Xt.result=!0}else!_&&(B.pushable||Bt)&&(B.x-=Ht,B.y-=re,B.updateCenter()),!it&&(V.pushable||Bt)&&(V.x+=Ht,V.y+=re,V.updateCenter()),Xt.x=void 0,Xt.y=void 0;return Xt},intersects:function(B,V){return B===V?!1:!B.isCircle&&!V.isCircle?!(B.right<=V.left||B.bottom<=V.top||B.left>=V.right||B.top>=V.bottom):B.isCircle?V.isCircle?c(B.center,V.center)<=B.halfWidth+V.halfWidth:this.circleBodyIntersects(B,V):this.circleBodyIntersects(V,B)},circleBodyIntersects:function(B,V){var k=f(B.center.x,V.left,V.right),j=f(B.center.y,V.top,V.bottom),$=(B.center.x-k)*(B.center.x-k),J=(B.center.y-j)*(B.center.y-j);return $+J<=B.halfWidth*B.halfWidth},overlap:function(B,V,k,j,$){return k===void 0&&(k=null),j===void 0&&(j=null),$===void 0&&($=k),this.collideObjects(B,V,k,j,$,!0)},collide:function(B,V,k,j,$){return k===void 0&&(k=null),j===void 0&&(j=null),$===void 0&&($=k),this.collideObjects(B,V,k,j,$,!1)},collideObjects:function(B,V,k,j,$,J){var Z,_;B.isParent&&(B.physicsType===void 0||V===void 0||B===V)&&(B=B.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var it=Array.isArray(B),at=Array.isArray(V);if(this._total=0,!it&&!at)this.collideHandler(B,V,k,j,$,J);else if(!it&&at)for(Z=0;Z<V.length;Z++)this.collideHandler(B,V[Z],k,j,$,J);else if(it&&!at)if(V)for(Z=0;Z<B.length;Z++)this.collideHandler(B[Z],V,k,j,$,J);else for(Z=0;Z<B.length;Z++){var st=B[Z];for(_=Z+1;_<B.length;_++)Z!==_&&this.collideHandler(st,B[_],k,j,$,J)}else for(Z=0;Z<B.length;Z++)for(_=0;_<V.length;_++)this.collideHandler(B[Z],V[_],k,j,$,J);return this._total>0},collideHandler:function(B,V,k,j,$,J){if(V===void 0&&B.isParent)return this.collideGroupVsGroup(B,B,k,j,$,J);if(!B||!V)return!1;if(B.body||B.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(B,V,k,j,$,J);if(V.isParent)return this.collideSpriteVsGroup(B,V,k,j,$,J);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(B,V,k,j,$,J)}else if(B.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,B,k,j,$,J);if(V.isParent)return this.collideGroupVsGroup(B,V,k,j,$,J);if(V.isTilemap)return this.collideGroupVsTilemapLayer(B,V,k,j,$,J)}else if(B.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,B,k,j,$,J);if(V.isParent)return this.collideGroupVsTilemapLayer(V,B,k,j,$,J)}},canCollide:function(B,V){return B&&V&&(B.collisionMask&V.collisionCategory)!==0&&(V.collisionMask&B.collisionCategory)!==0},collideSpriteVsSprite:function(B,V,k,j,$,J){var Z=B.isBody?B:B.body,_=V.isBody?V:V.body;return this.canCollide(Z,_)?(this.separate(Z,_,j,$,J)&&(k&&k.call($,B,V),this._total++),!0):!1},collideSpriteVsGroup:function(B,V,k,j,$,J){var Z=B.isBody?B:B.body;if(!(V.getLength()===0||!Z||!Z.enable||Z.checkCollision.none||!this.canCollide(Z,V))){var _,it,at;if(this.useTree||V.physicsType===a.STATIC_BODY){var st=this.treeMinMax;st.minX=Z.left,st.minY=Z.top,st.maxX=Z.right,st.maxY=Z.bottom;var ft=V.physicsType===a.DYNAMIC_BODY?this.tree.search(st):this.staticTree.search(st);for(it=ft.length,_=0;_<it;_++)at=ft[_],!(Z===at||!at.enable||at.checkCollision.none||!V.contains(at.gameObject))&&this.separate(Z,at,j,$,J)&&(k&&k.call($,Z.gameObject,at.gameObject),this._total++)}else{var ct=V.getChildren(),ut=V.children.entries.indexOf(B);for(it=ct.length,_=0;_<it;_++)at=ct[_].body,!(!at||_===ut||!at.enable)&&this.separate(Z,at,j,$,J)&&(k&&k.call($,Z.gameObject,at.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(B,V,k,j,$,J){if(!this.canCollide(B,V))return!1;var Z=B.getChildren();if(Z.length===0)return!1;for(var _=!1,it=0;it<Z.length;it++)(Z[it].body||Z[it].isBody)&&this.collideSpriteVsTilemapLayer(Z[it],V,k,j,$,J)&&(_=!0);return _},collideTiles:function(B,V,k,j,$){return V.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,V,k,j,$,!1,!1)},overlapTiles:function(B,V,k,j,$){return V.length===0||B.body&&!B.body.enable||B.isBody&&!B.enable?!1:this.collideSpriteVsTilesHandler(B,V,k,j,$,!0,!1)},collideSpriteVsTilemapLayer:function(B,V,k,j,$,J){var Z=B.isBody?B:B.body;if(!Z.enable||Z.checkCollision.none||!this.canCollide(Z,V))return!1;var _=V.layer,it=Z.x-_.tileWidth*V.scaleX,at=Z.y-_.tileHeight*V.scaleY,st=Z.width+_.tileWidth*V.scaleX,ft=Z.height+_.tileHeight*V.scaleY,ct=J?null:this.tileFilterOptions,ut=w(it,at,st,ft,ct,V.scene.cameras.main,V.layer);return ut.length===0?!1:this.collideSpriteVsTilesHandler(B,ut,k,j,$,J,!0)},collideSpriteVsTilesHandler:function(B,V,k,j,$,J,Z){for(var _=B.isBody?B:B.body,it,at={left:0,right:0,top:0,bottom:0},st,ft=!1,ct=0;ct<V.length;ct++){it=V[ct],st=it.tilemapLayer;var ut=st.tileToWorldXY(it.x,it.y);at.left=ut.x,at.top=ut.y,at.right=at.left+it.width*st.scaleX,at.bottom=at.top+it.height*st.scaleY,U(at,_)&&(!j||j.call($,B,it))&&M(it,B)&&(J||R(ct,_,it,at,st,this.TILE_BIAS,Z))&&(this._total++,ft=!0,k&&k.call($,B,it),J&&_.onOverlap?this.emit(v.TILE_OVERLAP,B,it,_):_.onCollide&&this.emit(v.TILE_COLLIDE,B,it,_))}return ft},collideGroupVsGroup:function(B,V,k,j,$,J){if(!(B.getLength()===0||V.getLength()===0||!this.canCollide(B,V)))for(var Z=B.getChildren(),_=0;_<Z.length;_++)this.collideSpriteVsGroup(Z[_],V,k,j,$,J)},wrap:function(B,V){B.body?this.wrapObject(B,V):B.getChildren?this.wrapArray(B.getChildren(),V):Array.isArray(B)?this.wrapArray(B,V):this.wrapObject(B,V)},wrapArray:function(B,V){for(var k=0;k<B.length;k++)this.wrapObject(B[k],V)},wrapObject:function(B,V){V===void 0&&(V=0),B.x=N(B.x,this.bounds.left-V,this.bounds.right+V),B.y=N(B.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=X},1093:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(s,o){return this.body.acceleration.set(s,o),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};r.exports=T},59023:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};r.exports=T},62069:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(s,o){return this.body.bounce.set(s,o),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,o,m,f){return this.body.setCollideWorldBounds(s,o,m,f),this}};r.exports=T},78389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79599),m={setCollisionCategory:function(f){var u=this.body?this.body:this;return u.collisionCategory=f,this},willCollideWith:function(f){var u=this.body?this.body:this;return(u.collisionMask&f)!==0},addCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|f,this},removeCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~f,this},setCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=o(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};r.exports=m},87118:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(s,o,m){return this.debugShowBody=s,this.debugShowVelocity=o,this.debugBodyColor=m,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};r.exports=T},52819:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(s,o){return this.body.drag.set(s,o),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};r.exports=T},4074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,o,m,f,u){return s&&this.body.reset(o,m),f&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,o){return s===void 0&&(s=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=T},40831:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(s,o){return this.body.friction.set(s,o),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};r.exports=T},26775:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(s,o){return this.body.gravity.set(s,o),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};r.exports=T},9437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};r.exports=T},30621:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(s){return this.body.mass=s,this}};r.exports=T},72441:(r,T,s)=>{var o=s(47956),m=s(96503),f=s(2044),u=s(81491),h=function(a,l,c,d,v,p){var g=o(a,l-d,c-d,2*d,2*d,v,p);if(g.length===0)return g;for(var x=new m(l,c,d),C=new m,P=[],w=0;w<g.length;w++){var E=g[w];E.isCircle?(C.setTo(E.center.x,E.center.y,E.halfWidth),f(x,C)&&P.push(E)):u(x,E)&&P.push(E)}return P};r.exports=h},47956:r=>{var T=function(s,o,m,f,u,h,a){h===void 0&&(h=!0),a===void 0&&(a=!1);var l=[],c=[],d=s.treeMinMax;if(d.minX=o,d.minY=m,d.maxX=o+f,d.maxY=m+u,a&&(c=s.staticTree.search(d)),h&&s.useTree)l=s.tree.search(d);else if(h){var v=s.bodies,p={position:{x:o,y:m},left:o,top:m,right:o+f,bottom:m+u,isCircle:!1},g=s.intersects;v.iterate(function(x){g(x,p)&&l.push(x)})}return c.concat(l)};r.exports=T},62121:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};r.exports=T},29384:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(s,o){return this.body.setOffset(s,o),this},setSize:function(s,o,m){return this.body.setSize(s,o,m),this},setBodySize:function(s,o,m){return this.body.setSize(s,o,m),this},setCircle:function(s,o,m){return this.body.setCircle(s,o,m),this}};r.exports=T},15098:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(s,o){return this.body.setVelocity(s,o),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,o){return this.body.maxVelocity.set(s,o),this}};r.exports=T},92209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=T},20009:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"},36768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"},60473:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},89954:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},61804:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"},7161:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"},34689:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"},16006:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"},63012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37747),m=s(79291),f={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};f=m(!1,f,o),r.exports=f},96602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,o,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,o,s):!0};r.exports=T},36294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o<0?(s.blocked.none=!1,s.blocked.left=!0):o>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=o,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};r.exports=T},67013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o<0?(s.blocked.none=!1,s.blocked.up=!0):o>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=o,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};r.exports=T},40012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(21329),m=s(53442),f=s(2483),u=function(h,a,l,c,d,v,p){var g=c.left,x=c.top,C=c.right,P=c.bottom,w=l.faceLeft||l.faceRight,E=l.faceTop||l.faceBottom;if(p||(w=!0,E=!0),!w&&!E)return!1;var b=0,O=0,M=0,A=1;if(a.deltaAbsX()>a.deltaAbsY()?M=-1:a.deltaAbsX()<a.deltaAbsY()&&(A=-1),a.deltaX()!==0&&a.deltaY()!==0&&w&&E&&(M=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-g)),A=Math.min(Math.abs(a.position.y-P),Math.abs(a.bottom-x))),M<A){if(w&&(b=o(a,l,g,C,v,p),b!==0&&!f(c,a)))return!0;E&&(O=m(a,l,x,P,v,p))}else{if(E&&(O=m(a,l,x,P,v,p),O!==0&&!f(c,a)))return!0;w&&(b=o(a,l,g,C,v,p))}return b!==0||O!==0};r.exports=u},21329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36294),m=function(f,u,h,a,l,c){var d=0,v=u.faceLeft,p=u.faceRight,g=u.collideLeft,x=u.collideRight;return c||(v=!0,p=!0,g=!0,x=!0),f.deltaX()<0&&x&&f.checkCollision.left?p&&f.x<a&&(d=f.x-a,d<-l&&(d=0)):f.deltaX()>0&&g&&f.checkCollision.right&&v&&f.right>h&&(d=f.right-h,d>l&&(d=0)),d!==0&&(f.customSeparateX?f.overlapX=d:o(f,d)),d};r.exports=m},53442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(67013),m=function(f,u,h,a,l,c){var d=0,v=u.faceTop,p=u.faceBottom,g=u.collideUp,x=u.collideDown;return c||(v=!0,p=!0,g=!0,x=!0),f.deltaY()<0&&x&&f.checkCollision.up?p&&f.y<a&&(d=f.y-a,d<-l&&(d=0)):f.deltaY()>0&&g&&f.checkCollision.down&&v&&f.bottom>h&&(d=f.bottom-h,d>l&&(d=0)),d!==0&&(f.customSeparateY?f.overlapY=d:o(f,d)),d};r.exports=m},2483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return!(o.right<=s.left||o.bottom<=s.top||o.position.x>=s.right||o.position.y>=s.bottom)};r.exports=T},55173:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};r.exports=o},44563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:s(27064),Matter:s(3875)}},68174:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(26099),f=new o({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,a=this.centerDiff,l=u.bounds.max.x-u.bounds.min.x,c=u.bounds.max.y-u.bounds.min.y,d=l*u.centerOfMass.x,v=c*u.centerOfMass.y;return h.set(l/2,c/2),a.set(d-h.x,v-h.y),!0},getTopLeft:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h+l.x+c.x,a+l.y+c.y)}return!1},getTopCenter:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h+c.x,a+l.y+c.y)}return!1},getTopRight:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h-(l.x-c.x),a+l.y+c.y)}return!1},getLeftCenter:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h+l.x+c.x,a+c.y)}return!1},getCenter:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.centerDiff;return new m(h+l.x,a+l.y)}return!1},getRightCenter:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h-(l.x-c.x),a+c.y)}return!1},getBottomLeft:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h+l.x+c.x,a-(l.y-c.y))}return!1},getBottomCenter:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h+c.x,a-(l.y-c.y))}return!1},getBottomRight:function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(u)){var l=this.boundsCenter,c=this.centerDiff;return new m(h-(l.x-c.x),a-(l.y-c.y))}return!1}});r.exports=f},19933:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6790);o.Body=s(22562),o.Composite=s(69351),o.World=s(4372),o.Collision=s(52284),o.Detector=s(81388),o.Pairs=s(99561),o.Pair=s(4506),o.Query=s(73296),o.Resolver=s(66272),o.Constraint=s(48140),o.Common=s(53402),o.Engine=s(48413),o.Events=s(35810),o.Sleeping=s(53614),o.Plugin=s(73832),o.Bodies=s(66280),o.Composites=s(74116),o.Axes=s(66615),o.Bounds=s(15647),o.Svg=s(74058),o.Vector=s(31725),o.Vertices=s(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,r.exports=o},28137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(83419),f=s(74116),u=s(48140),h=s(74058),a=s(75803),l=s(23181),c=s(34803),d=s(73834),v=s(19496),p=s(85791),g=s(98713),x=s(41598),C=new m({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},rectangle:function(P,w,E,b,O){var M=o.rectangle(P,w,E,b,O);return this.world.add(M),M},trapezoid:function(P,w,E,b,O,M){var A=o.trapezoid(P,w,E,b,O,M);return this.world.add(A),A},circle:function(P,w,E,b,O){var M=o.circle(P,w,E,b,O);return this.world.add(M),M},polygon:function(P,w,E,b,O){var M=o.polygon(P,w,E,b,O);return this.world.add(M),M},fromVertices:function(P,w,E,b,O,M,A){typeof E=="string"&&(E=x.fromPath(E));var F=o.fromVertices(P,w,E,b,O,M,A);return this.world.add(F),F},fromPhysicsEditor:function(P,w,E,b,O){O===void 0&&(O=!0);var M=v.parseBody(P,w,E,b);return O&&!this.world.has(M)&&this.world.add(M),M},fromSVG:function(P,w,E,b,O,M){b===void 0&&(b=1),O===void 0&&(O={}),M===void 0&&(M=!0);for(var A=E.getElementsByTagName("path"),F=[],R=0;R<A.length;R++){var L=h.pathToVertices(A[R],30);b!==1&&x.scale(L,b,b),F.push(L)}var D=o.fromVertices(P,w,F,O);return M&&this.world.add(D),D},fromJSON:function(P,w,E,b,O){b===void 0&&(b={}),O===void 0&&(O=!0);var M=p.parseBody(P,w,E,b);return M&&O&&this.world.add(M),M},imageStack:function(P,w,E,b,O,M,A,F,R){A===void 0&&(A=0),F===void 0&&(F=0),R===void 0&&(R={});var L=this.world,D=this.sys.displayList;R.addToWorld=!1;var I=f.stack(E,b,O,M,A,F,function(z,U){var H=new l(L,z,U,P,w,R);return D.add(H),H.body});return L.add(I),I},stack:function(P,w,E,b,O,M,A){var F=f.stack(P,w,E,b,O,M,A);return this.world.add(F),F},pyramid:function(P,w,E,b,O,M,A){var F=f.pyramid(P,w,E,b,O,M,A);return this.world.add(F),F},chain:function(P,w,E,b,O,M){return f.chain(P,w,E,b,O,M)},mesh:function(P,w,E,b,O){return f.mesh(P,w,E,b,O)},newtonsCradle:function(P,w,E,b,O){var M=f.newtonsCradle(P,w,E,b,O);return this.world.add(M),M},car:function(P,w,E,b,O){var M=f.car(P,w,E,b,O);return this.world.add(M),M},softBody:function(P,w,E,b,O,M,A,F,R,L){var D=f.softBody(P,w,E,b,O,M,A,F,R,L);return this.world.add(D),D},joint:function(P,w,E,b,O){return this.constraint(P,w,E,b,O)},spring:function(P,w,E,b,O){return this.constraint(P,w,E,b,O)},constraint:function(P,w,E,b,O){b===void 0&&(b=1),O===void 0&&(O={}),O.bodyA=P.type==="body"?P:P.body,O.bodyB=w.type==="body"?w:w.body,isNaN(E)||(O.length=E),O.stiffness=b;var M=u.create(O);return this.world.add(M),M},worldConstraint:function(P,w,E,b){E===void 0&&(E=1),b===void 0&&(b={}),b.bodyB=P.type==="body"?P:P.body,isNaN(w)||(b.length=w),b.stiffness=E;var O=u.create(b);return this.world.add(O),O},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var w=new g(this.scene,this.world,P);return this.world.add(w.constraint),w},image:function(P,w,E,b,O){var M=new l(this.world,P,w,E,b,O);return this.sys.displayList.add(M),M},tileBody:function(P,w){return new d(this.world,P,w)},sprite:function(P,w,E,b,O){var M=new c(this.world,P,w,E,b,O);return this.sys.displayList.add(M),this.sys.updateList.add(M),M},gameObject:function(P,w,E){return a(this.world,P,w,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=C},75803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(31884),m=s(95540),f=s(26099);function u(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var h=function(a,l,c,d){c===void 0&&(c={}),d===void 0&&(d=!0);var v=l.x,p=l.y;l.body={temp:!0,position:{x:v,y:p}};var g=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(g.forEach(function(C){for(var P in C)u(C[P])?Object.defineProperty(l,P,{get:C[P].get,set:C[P].set}):Object.defineProperty(l,P,{value:C[P]})}),l.world=a,l._tempVec2=new f(v,p),c.hasOwnProperty("type")&&c.type==="body")l.setExistingBody(c,d);else{var x=m(c,"shape",null);x||(x="rectangle"),c.addToWorld=d,l.setBody(x,c)}return l};r.exports=h},23181:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31884),f=s(95643),u=s(95540),h=s(88571),a=s(72699),l=s(26099),c=new o({Extends:h,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,a],initialize:function(v,p,g,x,C,P){f.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(x,C),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new l(p,g);var w=u(P,"shape",null);w?this.setBody(w,P):this.setRectangle(this.width,this.height,P),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=c},42045:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(60461),m=s(66615),f=s(66280),u=s(22562),h=s(68174),a=s(15647),l=s(83419),c=s(52284),d=s(53402),v=s(69351),p=s(74116),g=s(48140),x=s(81388),C=s(20339),P=s(28137),w=s(95540),E=s(35154),b=s(46975),O=s(4506),M=s(99561),A=s(37277),F=s(73296),R=s(66272),L=s(44594),D=s(74058),I=s(31725),z=s(41598),U=s(68243);d.setDecomp(s(55973));var H=new l({initialize:function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=v,this.collision=c,this.detector=x,this.pair=O,this.pairs=M,this.query=F,this.resolver=R,this.constraint=g,this.bodies=f,this.composites=p,this.axes=m,this.bounds=a,this.svg=D,this.vector=I,this.vertices=z,this.verts=z,this._tempVec2=I.create(),R._restingThresh=E(this.config,"restingThresh",4),R._restingThreshTangent=E(this.config,"restingThreshTangent",6),R._positionDampen=E(this.config,"positionDampen",.9),R._positionWarming=E(this.config,"positionWarming",.8),R._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),N.sys.events.once(L.BOOT,this.boot,this),N.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new U(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new h,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new U(this.scene,this.config),this.add=new P(this.world));var W=this.systems.events;W.on(L.UPDATE,this.world.update,this.world),W.on(L.POST_UPDATE,this.world.postUpdate,this.world),W.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var W=this.systems.game.config.physics,N=this.systems.settings.physics,X=b(w(N,"matter",{}),w(W,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(W,N){this.world.step(W,N)},containsPoint:function(W,N,X){W=this.getMatterBodies(W);var B=I.create(N,X),V=F.point(W,B);return V.length>0},intersectPoint:function(W,N,X){X=this.getMatterBodies(X);var B=I.create(W,N),V=[],k=F.point(X,B);return k.forEach(function(j){V.indexOf(j)===-1&&V.push(j)}),V},intersectRect:function(W,N,X,B,V,k){V===void 0&&(V=!1),k=this.getMatterBodies(k);var j={min:{x:W,y:N},max:{x:W+X,y:N+B}},$=[],J=F.region(k,j,V);return J.forEach(function(Z){$.indexOf(Z)===-1&&$.push(Z)}),$},intersectRay:function(W,N,X,B,V,k){V===void 0&&(V=1),k=this.getMatterBodies(k);for(var j=[],$=F.ray(k,I.create(W,N),I.create(X,B),V),J=0;J<$.length;J++)j.push($[J].body);return j},intersectBody:function(W,N){N=this.getMatterBodies(N);for(var X=[],B=F.collides(W,N),V=0;V<B.length;V++){var k=B[V];k.bodyA===W?X.push(k.bodyB):X.push(k.bodyA)}return X},overlap:function(W,N,X,B,V){X===void 0&&(X=null),B===void 0&&(B=null),V===void 0&&(V=X),Array.isArray(W)||(W=[W]),W=this.getMatterBodies(W),N=this.getMatterBodies(N);for(var k=!1,j=0;j<W.length;j++)for(var $=W[j],J=F.collides($,N),Z=0;Z<J.length;Z++){var _=J[Z],it=_.bodyA.id===$.id?_.bodyB:_.bodyA;if(!B||B.call(V,$,it,_)){if(k=!0,X)X.call(V,$,it,_);else if(!B)return!0}}return k},setCollisionCategory:function(W,N){return W=this.getMatterBodies(W),W.forEach(function(X){X.collisionFilter.category=N}),this},setCollisionGroup:function(W,N){return W=this.getMatterBodies(W),W.forEach(function(X){X.collisionFilter.group=N}),this},setCollidesWith:function(W,N){W=this.getMatterBodies(W);var X=0;if(!Array.isArray(N))X=N;else for(var B=0;B<N.length;B++)X|=N[B];return W.forEach(function(V){V.collisionFilter.mask=X}),this},getMatterBodies:function(W){if(!W)return this.world.getAllBodies();Array.isArray(W)||(W=[W]);for(var N=[],X=0;X<W.length;X++){var B=W[X].hasOwnProperty("body")?W[X].body:W[X];N.push(B)}return N},setVelocity:function(W,N,X){W=this.getMatterBodies(W);var B=this._tempVec2;return B.x=N,B.y=X,W.forEach(function(V){u.setVelocity(V,B)}),this},setVelocityX:function(W,N){W=this.getMatterBodies(W);var X=this._tempVec2;return X.x=N,W.forEach(function(B){X.y=B.velocity.y,u.setVelocity(B,X)}),this},setVelocityY:function(W,N){W=this.getMatterBodies(W);var X=this._tempVec2;return X.y=N,W.forEach(function(B){X.x=B.velocity.x,u.setVelocity(B,X)}),this},setAngularVelocity:function(W,N){return W=this.getMatterBodies(W),W.forEach(function(X){u.setAngularVelocity(X,N)}),this},applyForce:function(W,N){W=this.getMatterBodies(W);var X=this._tempVec2;return W.forEach(function(B){X.x=B.position.x,X.y=B.position.y,u.applyForce(B,X,N)}),this},applyForceFromPosition:function(W,N,X,B){W=this.getMatterBodies(W);var V=this._tempVec2;return W.forEach(function(k){B===void 0&&(B=k.angle),V.x=X*Math.cos(B),V.y=X*Math.sin(B),u.applyForce(k,N,V)}),this},applyForceFromAngle:function(W,N,X){W=this.getMatterBodies(W);var B=this._tempVec2;return W.forEach(function(V){X===void 0&&(X=V.angle),B.x=N*Math.cos(X),B.y=N*Math.sin(X),u.applyForce(V,{x:V.position.x,y:V.position.y},B)}),this},getConstraintLength:function(W){var N=W.pointA.x,X=W.pointA.y,B=W.pointB.x,V=W.pointB.y;return W.bodyA&&(N+=W.bodyA.position.x,X+=W.bodyA.position.y),W.bodyB&&(B+=W.bodyB.position.x,V+=W.bodyB.position.y),C(N,X,B,V)},alignBody:function(W,N,X,B){W=W.hasOwnProperty("body")?W.body:W;var V;switch(B){case o.TOP_LEFT:case o.LEFT_TOP:V=this.bodyBounds.getTopLeft(W,N,X);break;case o.TOP_CENTER:V=this.bodyBounds.getTopCenter(W,N,X);break;case o.TOP_RIGHT:case o.RIGHT_TOP:V=this.bodyBounds.getTopRight(W,N,X);break;case o.LEFT_CENTER:V=this.bodyBounds.getLeftCenter(W,N,X);break;case o.CENTER:V=this.bodyBounds.getCenter(W,N,X);break;case o.RIGHT_CENTER:V=this.bodyBounds.getRightCenter(W,N,X);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:V=this.bodyBounds.getBottomLeft(W,N,X);break;case o.BOTTOM_CENTER:V=this.bodyBounds.getBottomCenter(W,N,X);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:V=this.bodyBounds.getBottomRight(W,N,X);break}return V&&u.setPosition(W,V),this},shutdown:function(){var W=this.systems.events;this.world&&(W.off(L.UPDATE,this.world.update,this.world),W.off(L.POST_UPDATE,this.world.postUpdate,this.world)),W.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});A.register("MatterPhysics",H,"matterPhysics"),r.exports=H},34803:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(9674),m=s(83419),f=s(31884),u=s(95643),h=s(95540),a=s(72699),l=s(68287),c=s(26099),d=new m({Extends:l,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,a],initialize:function(p,g,x,C,P,w){u.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(C,P),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new c(g,x);var E=h(w,"shape",null);E?this.setBody(E,w):this.setRectangle(this.width,this.height,w),this.setPosition(g,x),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=d},73834:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(22562),f=s(83419),u=s(31884),h=s(62644),a=s(50792),l=s(95540),c=s(97022),d=s(41598),v=new f({Extends:a,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(g,x,C){a.call(this),this.tile=x,this.world=g,x.physics.matterBody&&x.physics.matterBody.destroy(),x.physics.matterBody=this;var P=l(C,"body",null),w=l(C,"addToWorld",!0);if(P)this.setBody(P,w);else{var E=x.getCollisionGroup(),b=l(E,"objects",[]);b.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(x.flipX||x.flipY){var O={x:x.getCenterX(),y:x.getCenterY()},M=x.flipX?-1:1,A=x.flipY?-1:1;m.scale(P,M,A,O)}},setFromTileRectangle:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),x=g.x+g.width/2,C=g.y+g.height/2,P=o.rectangle(x,C,g.width,g.height,p);return this.setBody(P,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,x=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),P=this.tile.getTop(),w=this.tile.getCollisionGroup(),E=l(w,"objects",[]),b=[],O=0;O<E.length;O++){var M=E[O],A=C+M.x*g,F=P+M.y*x,R=M.width*g,L=M.height*x,D=null;if(M.rectangle)D=o.rectangle(A+R/2,F+L/2,R,L,p);else if(M.ellipse)D=o.circle(A+R/2,F+L/2,R/2,p);else if(M.polygon||M.polyline){var I=M.polygon?M.polygon:M.polyline,z=I.map(function(N){return{x:N.x*g,y:N.y*x}}),U=d.create(z),H=d.centre(U);A+=H.x,F+=H.y,D=o.fromVertices(A,F,U,p)}D&&b.push(D)}if(b.length===1)this.setBody(b[0],p.addToWorld);else if(b.length>1){var W=h(p);W.parts=b,this.setBody(m.create(W),W.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=v},19496:(r,T,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(22562),f=s(53402),u=s(95540),h=s(41598),a={parseBody:function(l,c,d,v){v===void 0&&(v={});for(var p=u(d,"fixtures",[]),g=[],x=0;x<p.length;x++)for(var C=this.parseFixture(p[x]),P=0;P<C.length;P++)g.push(C[P]);var w=f.clone(d,!0);f.extend(w,v,!0),delete w.fixtures,delete w.type;var E=m.create(w);return m.setParts(E,g),m.setPosition(E,{x:l,y:c}),E},parseFixture:function(l){var c=f.extend({},!1,l);delete c.circle,delete c.vertices;var d;if(l.circle){var v=u(l.circle,"x"),p=u(l.circle,"y"),g=u(l.circle,"radius");d=[o.circle(v,p,g,c)]}else l.vertices&&(d=this.parseVertices(l.vertices,c));return d},parseVertices:function(l,c){c===void 0&&(c={});for(var d=[],v=0;v<l.length;v++)h.clockwiseSort(l[v]),d.push(m.create(f.extend({position:h.centre(l[v]),vertices:l[v]},c)));return o.flagCoincidentParts(d)}};r.exports=a},85791:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(22562),f={parseBody:function(u,h,a,l){l===void 0&&(l={});var c,d=a.vertices;if(d.length===1)l.vertices=d[0],c=m.create(l),o.flagCoincidentParts(c.parts);else{for(var v=[],p=0;p<d.length;p++){var g=m.create({vertices:d[p]});v.push(g)}o.flagCoincidentParts(v),l.parts=v,c=m.create(l)}return c.label=a.label,m.setPosition(c,{x:u,y:h}),c}};r.exports=f},98713:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(15647),m=s(83419),f=s(69351),u=s(48140),h=s(81388),a=s(1121),l=s(8214),c=s(46975),d=s(53614),v=s(26099),p=s(41598),g=new m({initialize:function(C,P,w){w===void 0&&(w={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=u.create(c(w,E)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(l.POINTER_DOWN,this.onDown,this),C.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(x){this.pointer||(this.pointer=x,this.camera=x.camera)},onUp:function(x){x===this.pointer&&(this.pointer=null)},getBody:function(x){var C=this.position,P=this.constraint;this.camera.getWorldPoint(x.x,x.y,C);for(var w=f.allBodies(this.world.localWorld),E=0;E<w.length;E++){var b=w[E];if(!b.ignorePointer&&o.contains(b.bounds,C)&&h.canCollide(b.collisionFilter,P.collisionFilter)&&this.hitTestBody(b,C))return this.world.emit(a.DRAG_START,b,this.part,this),!0}return!1},hitTestBody:function(x,C){for(var P=this.constraint,w=x.parts.length,E=w>1?1:0,b=E;b<w;b++){var O=x.parts[b];if(p.contains(O.vertices,C))return P.pointA=C,P.pointB={x:C.x-x.position.x,y:C.y-x.position.y},P.bodyB=x,P.angleB=x.angle,d.set(x,!1),this.part=O,this.body=x,!0}return!1},update:function(){var x=this.pointer,C=this.body;if(!this.active||!x){C&&this.stopDrag();return}if(!x.isDown&&C){this.stopDrag();return}else if(x.isDown){if(!this.camera||!C&&!this.getBody(x))return;C=this.body;var P=this.position,w=this.constraint;this.camera.getWorldPoint(x.x,x.y,P),w.pointA.x=P.x,w.pointA.y=P.y,d.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var x=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,x&&this.world.emit(a.DRAG_END,x,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});r.exports=g},68243:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(22562),f=s(83419),u=s(53402),h=s(69351),a=s(48413),l=s(50792),c=s(1121),d=s(95540),v=s(35154),p=s(22562),g=s(35810),x=s(73834),C=s(4372),P=s(13037),w=s(31725),E=new f({Extends:l,initialize:function(O,M){l.call(this),this.scene=O,this.engine=a.create(M),this.localWorld=this.engine.world;var A=v(M,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(M,"enabled",!0),this.getDelta=v(M,"getDelta",this.update60Hz);var F=d(M,"runner",{}),R=d(F,"fps",!1);R&&(F.delta=1e3/d(F,"fps",60)),this.runner=P.create(F),this.autoUpdate=v(M,"autoUpdate",!0);var L=v(M,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:d(L,"showAxes",!1),showAngleIndicator:d(L,"showAngleIndicator",!1),angleColor:d(L,"angleColor",15208787),showBroadphase:d(L,"showBroadphase",!1),broadphaseColor:d(L,"broadphaseColor",16757760),showBounds:d(L,"showBounds",!1),boundsColor:d(L,"boundsColor",16777215),showVelocity:d(L,"showVelocity",!1),velocityColor:d(L,"velocityColor",44783),showCollisions:d(L,"showCollisions",!1),collisionColor:d(L,"collisionColor",16094476),showSeparations:d(L,"showSeparations",!1),separationColor:d(L,"separationColor",16753920),showBody:d(L,"showBody",!0),showStaticBody:d(L,"showStaticBody",!0),showInternalEdges:d(L,"showInternalEdges",!1),renderFill:d(L,"renderFill",!1),renderLine:d(L,"renderLine",!0),fillColor:d(L,"fillColor",1075465),fillOpacity:d(L,"fillOpacity",1),lineColor:d(L,"lineColor",2678297),lineOpacity:d(L,"lineOpacity",1),lineThickness:d(L,"lineThickness",1),staticFillColor:d(L,"staticFillColor",857979),staticLineColor:d(L,"staticLineColor",1255396),showSleeping:d(L,"showSleeping",!1),staticBodySleepOpacity:d(L,"staticBodySleepOpacity",.7),sleepFillColor:d(L,"sleepFillColor",4605510),sleepLineColor:d(L,"sleepLineColor",10066585),showSensors:d(L,"showSensors",!0),sensorFillColor:d(L,"sensorFillColor",857979),sensorLineColor:d(L,"sensorLineColor",1255396),showPositions:d(L,"showPositions",!0),positionSize:d(L,"positionSize",4),positionColor:d(L,"positionColor",14697178),showJoint:d(L,"showJoint",!0),jointColor:d(L,"jointColor",14737474),jointLineOpacity:d(L,"jointLineOpacity",1),jointLineThickness:d(L,"jointLineThickness",2),pinSize:d(L,"pinSize",4),pinColor:d(L,"pinColor",4382944),springColor:d(L,"springColor",14697184),anchorColor:d(L,"anchorColor",15724527),anchorSize:d(L,"anchorSize",4),showConvexHulls:d(L,"showConvexHulls",!1),hullColor:d(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(M,"setBounds",!1)){var D=M.setBounds;if(typeof D=="boolean")this.setBounds();else{var I=d(D,"x",0),z=d(D,"y",0),U=d(D,"width",O.sys.scale.width),H=d(D,"height",O.sys.scale.height),W=d(D,"thickness",64),N=d(D,"left",!0),X=d(D,"right",!0),B=d(D,"top",!0),V=d(D,"bottom",!0);this.setBounds(I,z,U,H,W,N,X,B,V)}}},setCompositeRenderStyle:function(b){var O=b.bodies,M=b.constraints,A=b.composites,F,R,L;for(F=0;F<O.length;F++)R=O[F],L=R.render,this.setBodyRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(F=0;F<M.length;F++)R=M[F],L=R.render,this.setConstraintRenderStyle(R,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(F=0;F<A.length;F++)R=A[F],this.setCompositeRenderStyle(R);return this},setBodyRenderStyle:function(b,O,M,A,F,R){var L=b.render,D=this.debugConfig;return L?(O==null&&(O=b.isStatic?D.staticLineColor:D.lineColor),M==null&&(M=D.lineOpacity),A==null&&(A=D.lineThickness),F==null&&(F=b.isStatic?D.staticFillColor:D.fillColor),R==null&&(R=D.fillOpacity),O!==!1&&(L.lineColor=O),M!==!1&&(L.lineOpacity=M),A!==!1&&(L.lineThickness=A),F!==!1&&(L.fillColor=F),R!==!1&&(L.fillOpacity=R),this):this},setConstraintRenderStyle:function(b,O,M,A,F,R,L){var D=b.render,I=this.debugConfig;if(!D)return this;if(O==null){var z=D.type;z==="line"?O=I.jointColor:z==="pin"?O=I.pinColor:z==="spring"&&(O=I.springColor)}return M==null&&(M=I.jointLineOpacity),A==null&&(A=I.jointLineThickness),F==null&&(F=I.pinSize),R==null&&(R=I.anchorColor),L==null&&(L=I.anchorSize),O!==!1&&(D.lineColor=O),M!==!1&&(D.lineOpacity=M),A!==!1&&(D.lineThickness=A),F!==!1&&(D.pinSize=F),R!==!1&&(D.anchorColor=R),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var b=this,O=this.engine,M=this.localWorld;this.drawDebug&&(g.on(M,"compositeModified",function(A){b.setCompositeRenderStyle(A)}),g.on(M,"beforeAdd",function(A){for(var F=[].concat(A.object),R=0;R<F.length;R++){var L=F[R],D=L.render;L.type==="body"?b.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?b.setCompositeRenderStyle(L):L.type==="constraint"&&b.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),g.on(M,"beforeAdd",function(A){b.emit(c.BEFORE_ADD,A)}),g.on(M,"afterAdd",function(A){b.emit(c.AFTER_ADD,A)}),g.on(M,"beforeRemove",function(A){b.emit(c.BEFORE_REMOVE,A)}),g.on(M,"afterRemove",function(A){b.emit(c.AFTER_REMOVE,A)}),g.on(O,"beforeUpdate",function(A){b.emit(c.BEFORE_UPDATE,A)}),g.on(O,"afterUpdate",function(A){b.emit(c.AFTER_UPDATE,A)}),g.on(O,"collisionStart",function(A){var F=A.pairs,R,L;F.length>0&&F.map(function(D){R=D.bodyA,L=D.bodyB,R.gameObject&&R.gameObject.emit("collide",R,L,D),L.gameObject&&L.gameObject.emit("collide",L,R,D),g.trigger(R,"onCollide",{pair:D}),g.trigger(L,"onCollide",{pair:D}),R.onCollideCallback&&R.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),R.onCollideWith[L.id]&&R.onCollideWith[L.id](L,D),L.onCollideWith[R.id]&&L.onCollideWith[R.id](R,D)}),b.emit(c.COLLISION_START,A,R,L)}),g.on(O,"collisionActive",function(A){var F=A.pairs,R,L;F.length>0&&F.map(function(D){R=D.bodyA,L=D.bodyB,R.gameObject&&R.gameObject.emit("collideActive",R,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,R,D),g.trigger(R,"onCollideActive",{pair:D}),g.trigger(L,"onCollideActive",{pair:D}),R.onCollideActiveCallback&&R.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),b.emit(c.COLLISION_ACTIVE,A,R,L)}),g.on(O,"collisionEnd",function(A){var F=A.pairs,R,L;F.length>0&&F.map(function(D){R=D.bodyA,L=D.bodyB,R.gameObject&&R.gameObject.emit("collideEnd",R,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,R,D),g.trigger(R,"onCollideEnd",{pair:D}),g.trigger(L,"onCollideEnd",{pair:D}),R.onCollideEndCallback&&R.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),b.emit(c.COLLISION_END,A,R,L)})},setBounds:function(b,O,M,A,F,R,L,D,I){return b===void 0&&(b=0),O===void 0&&(O=0),M===void 0&&(M=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),F===void 0&&(F=64),R===void 0&&(R=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),I===void 0&&(I=!0),this.updateWall(R,"left",b-F,O-F,F,A+F*2),this.updateWall(L,"right",b+M,O-F,F,A+F*2),this.updateWall(D,"top",b,O-F,M,F),this.updateWall(I,"bottom",b,O+A,M,F),this},updateWall:function(b,O,M,A,F,R){var L=this.walls[O];b?(L&&C.remove(this.localWorld,L),M+=F/2,A+=R/2,this.walls[O]=this.create(M,A,F,R,{isStatic:!0,friction:0,frictionStatic:0})):(L&&C.remove(this.localWorld,L),this.walls[O]=null)},createDebugGraphic:function(){var b=this.scene.sys.add.graphics({x:0,y:0});return b.setDepth(Number.MAX_VALUE),this.debugGraphic=b,this.drawDebug=!0,b},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(b,O,M){return b===void 0&&(b=0),O===void 0&&(O=1),M===void 0&&(M=.001),this.localWorld.gravity.x=b,this.localWorld.gravity.y=O,this.localWorld.gravity.scale=M,this},create:function(b,O,M,A,F){var R=o.rectangle(b,O,M,A,F);return C.add(this.localWorld,R),R},add:function(b){return C.add(this.localWorld,b),this},remove:function(b,O){Array.isArray(b)||(b=[b]);for(var M=0;M<b.length;M++){var A=b[M],F=A.body?A.body:A;h.remove(this.localWorld,F,O)}return this},removeConstraint:function(b,O){return h.remove(this.localWorld,b,O),this},convertTilemapLayer:function(b,O){var M=b.layer,A=b.getTilesWithin(0,0,M.width,M.height,{isColliding:!0});return this.convertTiles(A,O),this},convertTiles:function(b,O){if(b.length===0)return this;for(var M=0;M<b.length;M++)new x(this,b[M],O);return this},nextGroup:function(b){return p.nextGroup(b)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=u.now(),this.emit(c.RESUME),this},update:function(b){if(!(!this.enabled||!this.autoUpdate)){var O=this.engine,M=this.runner,A=u.now(),F=M.delta,R=0,L=b-M.timeLastTick;if((!L||!M.timeLastTick||L>Math.max(P._maxFrameDelta,M.maxFrameTime))&&(L=M.frameDelta||P._frameDeltaFallback),M.frameDeltaSmoothing){M.frameDeltaHistory.push(L),M.frameDeltaHistory=M.frameDeltaHistory.slice(-M.frameDeltaHistorySize);var D=M.frameDeltaHistory.slice(0).sort(),I=M.frameDeltaHistory.slice(D.length*P._smoothingLowerBound,D.length*P._smoothingUpperBound),z=P._mean(I);L=z||L}M.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),M.frameDelta=L,M.timeLastTick=b,M.timeBuffer+=M.frameDelta,M.timeBuffer=u.clamp(M.timeBuffer,0,M.frameDelta+F*P._timeBufferMargin),M.lastUpdatesDeferred=0;for(var U=M.maxUpdates||Math.ceil(M.maxFrameTime/F),H=u.now();F>0&&M.timeBuffer>=F*P._timeBufferMargin;){a.update(O,F),M.timeBuffer-=F,R+=1;var W=u.now()-A,N=u.now()-H,X=W+P._elapsedNextEstimate*N/R;if(R>=U||X>M.maxFrameTime){M.lastUpdatesDeferred=Math.round(Math.max(0,M.timeBuffer/F-P._timeBufferMargin));break}}}},step:function(b){a.update(this.engine,b)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(b){var O=b.hasOwnProperty("body")?b.body:b;return h.get(this.localWorld,O.id,O.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var b=this.debugConfig,O=this.engine,M=this.debugGraphic,A=h.allBodies(this.localWorld);this.debugGraphic.clear(),b.showBroadphase&&O.broadphase.controller&&this.renderGrid(O.broadphase,M,b.broadphaseColor,.5),b.showBounds&&this.renderBodyBounds(A,M,b.boundsColor,.5),(b.showBody||b.showStaticBody)&&this.renderBodies(A),b.showJoint&&this.renderJoints(),(b.showAxes||b.showAngleIndicator)&&this.renderBodyAxes(A,M,b.showAxes,b.angleColor,.5),b.showVelocity&&this.renderBodyVelocity(A,M,b.velocityColor,1,2),b.showSeparations&&this.renderSeparations(O.pairs.list,M,b.separationColor),b.showCollisions&&this.renderCollisions(O.pairs.list,M,b.collisionColor)}},renderGrid:function(b,O,M,A){O.lineStyle(1,M,A);for(var F=u.keys(b.buckets),R=0;R<F.length;R++){var L=F[R];if(!(b.buckets[L].length<2)){var D=L.split(/C|R/);O.strokeRect(parseInt(D[1],10)*b.bucketWidth,parseInt(D[2],10)*b.bucketHeight,b.bucketWidth,b.bucketHeight)}}return this},renderSeparations:function(b,O,M){O.lineStyle(1,M,1);for(var A=0;A<b.length;A++){var F=b[A];if(F.isActive){var R=F.collision,L=R.bodyA,D=R.bodyB,I=L.position,z=D.position,U=R.penetration,H=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(H=0),O.lineBetween(z.x,z.y,z.x-U.x*H,z.y-U.y*H),H=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(H=0),O.lineBetween(I.x,I.y,I.x-U.x*H,I.y-U.y*H)}}return this},renderCollisions:function(b,O,M){O.lineStyle(1,M,.5),O.fillStyle(M,1);var A,F;for(A=0;A<b.length;A++)if(F=b[A],!!F.isActive)for(var R=0;R<F.contactCount;R++){var L=F.contacts[R],D=L.vertex;D&&O.fillRect(D.x-2,D.y-2,5,5)}for(A=0;A<b.length;A++)if(F=b[A],!!F.isActive){var I=F.collision,z=F.contacts;if(F.contactCount>0){var U=z[0].vertex.x,H=z[0].vertex.y;F.contactCount===2&&(U=(z[0].vertex.x+z[1].vertex.x)/2,H=(z[0].vertex.y+z[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?O.lineBetween(U-I.normal.x*8,H-I.normal.y*8,U,H):O.lineBetween(U+I.normal.x*8,H+I.normal.y*8,U,H)}}return this},renderBodyBounds:function(b,O,M,A){O.lineStyle(1,M,A);for(var F=0;F<b.length;F++){var R=b[F];if(R.render.visible){var L=R.bounds;if(L)O.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=R.parts,I=D.length>1?1:0;I<D.length;I++){var z=D[I];O.strokeRect(z.bounds.min.x,z.bounds.min.y,z.bounds.max.x-z.bounds.min.x,z.bounds.max.y-z.bounds.min.y)}}}return this},renderBodyAxes:function(b,O,M,A,F){O.lineStyle(1,A,F);for(var R=0;R<b.length;R++){var L=b[R],D=L.parts;if(L.render.visible){var I,z,U;if(M)for(z=D.length>1?1:0;z<D.length;z++)for(I=D[z],U=0;U<I.axes.length;U++){var H=I.axes[U];O.lineBetween(I.position.x,I.position.y,I.position.x+H.x*20,I.position.y+H.y*20)}else for(z=D.length>1?1:0;z<D.length;z++)for(I=D[z],U=0;U<I.axes.length;U++)O.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(b,O,M,A,F){O.lineStyle(F,M,A);for(var R=0;R<b.length;R++){var L=b[R];L.render.visible&&O.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(b){for(var O=this.debugGraphic,M=this.debugConfig,A=M.showBody,F=M.showStaticBody,R=M.showSleeping,L=M.showInternalEdges,D=M.showConvexHulls,I=M.renderFill,z=M.renderLine,U=M.staticBodySleepOpacity,H=M.sleepFillColor,W=M.sleepLineColor,N=M.hullColor,X=0;X<b.length;X++){var B=b[X];if(B.render.visible&&!(!F&&B.isStatic||!A&&!B.isStatic)){var V=B.render.lineColor,k=B.render.lineOpacity,j=B.render.lineThickness,$=B.render.fillColor,J=B.render.fillOpacity;R&&B.isSleeping&&(B.isStatic?(k*=U,J*=U):(V=W,$=H)),I||($=null),z||(V=null),this.renderBody(B,O,L,V,k,j,$,J);var Z=B.parts.length;D&&Z>1&&this.renderConvexHull(B,O,N,j)}}},renderBody:function(b,O,M,A,F,R,L,D){A===void 0&&(A=null),F===void 0&&(F=null),R===void 0&&(R=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var I=this.debugConfig,z=I.sensorFillColor,U=I.sensorLineColor,H=b.parts,W=H.length,N=W>1?1:0;N<W;N++){var X=H[N],B=X.render,V=B.opacity;if(!(!B.visible||V===0||X.isSensor&&!I.showSensors)){var k=X.circleRadius;if(O.beginPath(),X.isSensor?(L!==null&&O.fillStyle(z,D*V),A!==null&&O.lineStyle(R,U,F*V)):(L!==null&&O.fillStyle(L,D*V),A!==null&&O.lineStyle(R,A,F*V)),k)O.arc(X.position.x,X.position.y,k,0,2*Math.PI);else{var j=X.vertices,$=j.length;O.moveTo(j[0].x,j[0].y);for(var J=1;J<$;J++){var Z=j[J];if(!j[J-1].isInternal||M?O.lineTo(Z.x,Z.y):O.moveTo(Z.x,Z.y),J<$&&Z.isInternal&&!M){var _=(J+1)%$;O.moveTo(j[_].x,j[_].y)}}O.closePath()}L!==null&&O.fillPath(),A!==null&&O.strokePath()}}if(I.showPositions&&!b.isStatic){var it=b.position.x,at=b.position.y,st=Math.ceil(I.positionSize/2);O.fillStyle(I.positionColor,1),O.fillRect(it-st,at-st,I.positionSize,I.positionSize)}return this},renderConvexHull:function(b,O,M,A){A===void 0&&(A=1);var F=b.parts,R=F.length;if(R>1){var L=b.vertices;O.lineStyle(A,M),O.beginPath(),O.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)O.lineTo(L[D].x,L[D].y);O.lineTo(L[0].x,L[0].y),O.strokePath()}return this},renderJoints:function(){for(var b=this.debugGraphic,O=h.allConstraints(this.localWorld),M=0;M<O.length;M++){var A=O[M].render,F=A.lineColor,R=A.lineOpacity,L=A.lineThickness,D=A.pinSize,I=A.anchorColor,z=A.anchorSize;this.renderConstraint(O[M],b,F,R,L,D,I,z)}},renderConstraint:function(b,O,M,A,F,R,L,D){var I=b.render;if(!I.visible||!b.pointA||!b.pointB)return this;O.lineStyle(F,M,A);var z=b.bodyA,U=b.bodyB,H,W;if(z?H=w.add(z.position,b.pointA):H=b.pointA,I.type==="pin")O.strokeCircle(H.x,H.y,R);else{if(U?W=w.add(U.position,b.pointB):W=b.pointB,O.beginPath(),O.moveTo(H.x,H.y),I.type==="spring")for(var N=w.sub(W,H),X=w.perp(w.normalise(N)),B=Math.ceil(u.clamp(b.length/5,12,20)),V,k=1;k<B;k+=1)V=k%2===0?1:-1,O.lineTo(H.x+N.x*(k/B)+X.x*V*4,H.y+N.y*(k/B)+X.y*V*4);O.lineTo(W.x,W.y)}return O.strokePath(),I.anchors&&D>0&&(O.fillStyle(L),O.fillCircle(H.x,H.y,D),O.fillCircle(W.x,W.y,D)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=E},70410:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(s){return this.body.restitution=s,this}};r.exports=T},66968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var o=0;if(!Array.isArray(s))o=s;else for(var m=0;m<s.length;m++)o|=s[m];return this.body.collisionFilter.mask=o,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,o){Array.isArray(s)||(s=[s]);for(var m=0;m<s.length;m++){var f=s[m].hasOwnProperty("body")?s[m].body:s[m];this.body.setOnCollideWith(f,o)}return this}};r.exports=T},51607:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),m={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,u){return o.applyForce(this.body,f,u),this},thrust:function(f){var u=this.body.angle;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var u=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=m},5436:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(s,o,m){return this.body.friction=s,o!==void 0&&(this.body.frictionAir=o),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};r.exports=T},39858:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};r.exports=T},37302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),m=s(26099),f={setMass:function(u){return o.setMass(this.body,u),this},setDensity:function(u){return o.setDensity(this.body,u),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=f},39132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};r.exports=T},57772:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(66280),m=s(22562),f=s(43855),u=s(95540),h=s(19496),a=s(85791),l=s(41598),c={setRectangle:function(d,v,p){return this.setBody({type:"rectangle",width:d,height:v},p)},setCircle:function(d,v){return this.setBody({type:"circle",radius:d},v)},setPolygon:function(d,v,p){return this.setBody({type:"polygon",sides:v,radius:d},p)},setTrapezoid:function(d,v,p,g){return this.setBody({type:"trapezoid",width:d,height:v,slope:p},g)},setExistingBody:function(d,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=d;for(var p=0;p<d.parts.length;p++)d.parts[p].gameObject=this;var g=this;if(d.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},v&&(this.world.has(d)&&this.world.remove(d,!0),this.world.add(d)),this._originComponent){var x=d.render.sprite.xOffset,C=d.render.sprite.yOffset,P=d.centerOfMass.x,w=d.centerOfMass.y;if(f(P,.5)&&f(w,.5))this.setOrigin(x+.5,C+.5);else{var E=d.centerOffset.x,b=d.centerOffset.y;this.setOrigin(x+E/this.displayWidth,C+b/this.displayHeight)}}return this},setBody:function(d,v){if(!d)return this;var p;typeof d=="string"&&(d={type:d});var g=u(d,"type","rectangle"),x=u(d,"x",this._tempVec2.x),C=u(d,"y",this._tempVec2.y),P=u(d,"width",this.width),w=u(d,"height",this.height);switch(g){case"rectangle":p=o.rectangle(x,C,P,w,v);break;case"circle":var E=u(d,"radius",Math.max(P,w)/2),b=u(d,"maxSides",25);p=o.circle(x,C,E,v,b);break;case"trapezoid":var O=u(d,"slope",.5);p=o.trapezoid(x,C,P,w,O,v);break;case"polygon":var M=u(d,"sides",5),A=u(d,"radius",Math.max(P,w)/2);p=o.polygon(x,C,M,A,v);break;case"fromVertices":case"fromVerts":var F=u(d,"verts",null);if(F)if(typeof F=="string"&&(F=l.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,F),p=this.body;else{var R=u(d,"flagInternal",!1),L=u(d,"removeCollinear",.01),D=u(d,"minimumArea",10);p=o.fromVertices(x,C,F,v,R,L,D)}break;case"fromPhysicsEditor":p=h.parseBody(x,C,d,v);break;case"fromPhysicsTracer":p=a.parseBody(x,C,d,v);break}return p&&this.setExistingBody(p,d.addToWorld),this}};r.exports=c},38083:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(1121),m=s(53614),f=s(35810),u={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,a){return this.setSleepStartEvent(h),this.setSleepEndEvent(a),this},setSleepStartEvent:function(h){if(h){var a=this.world;f.on(this.body,"sleepStart",function(l){a.emit(o.SLEEP_START,l,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var a=this.world;f.on(this.body,"sleepEnd",function(l){a.emit(o.SLEEP_END,l,this)})}else f.off(this.body,"sleepEnd");return this}};r.exports=u},90556:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),m={setStatic:function(f){return o.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};r.exports=m},85436:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),m=s(36383),f=s(86554),u=s(30954),h=4,a={x:{get:function(){return this.body.position.x},set:function(l){this._tempVec2.set(l,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(l){this._tempVec2.set(this.x,l),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this.setScale(l,l)}},scaleX:{get:function(){return this._scaleX},set:function(l){var c=1/this._scaleX,d=1/this._scaleY;this._scaleX=l,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,c,d),o.scale(this.body,l,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(l){var c=1/this._scaleX,d=1/this._scaleY;this._scaleY=l,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,c,d),o.scale(this.body,this._scaleX,l)}},angle:{get:function(){return u(this.body.angle*m.RAD_TO_DEG)},set:function(l){this.rotation=u(l)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(l){this._rotation=f(l),o.setAngle(this.body,this._rotation)}},setPosition:function(l,c){return l===void 0&&(l=0),c===void 0&&(c=l),this._tempVec2.set(l,c),o.setPosition(this.body,this._tempVec2),this},setRotation:function(l){return l===void 0&&(l=0),this._rotation=f(l),o.setAngle(this.body,l),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,o.setAngle(this.body,this.rotation),this},setScale:function(l,c,d){l===void 0&&(l=1),c===void 0&&(c=l);var v=1/this._scaleX,p=1/this._scaleY;return this._scaleX=l,this._scaleY=c,o.scale(this.body,v,p,d),o.scale(this.body,l,c,d),this}};r.exports=a},42081:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(22562),m={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,u){return this._tempVec2.set(f,u),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(f){return o.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(f){return o.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};r.exports=m},31884:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"},1213:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"},25968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"},67205:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"},39438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"},44823:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"},92593:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"},60128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"},76861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"},92362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},76408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},93971:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},5656:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},47861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},79099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"},35906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"},1121:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(r,T,s)=>{var o={};r.exports=o;var m=s(41598),f=s(31725),u=s(53614),h=s(53402),a=s(15647),l=s(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(d){var v={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:d.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!d.hasOwnProperty("position")&&d.hasOwnProperty("vertices")?d.position=m.centre(d.vertices):d.hasOwnProperty("vertices")||(v.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=h.extend(v,d);return c(p,d),p.setOnCollideWith=function(g,x){return x?this.onCollideWith[g.id]=x:delete this.onCollideWith[g.id],this},p},o.nextGroup=function(d){return d?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var c=function(d,v){if(v=v||{},o.set(d,{bounds:d.bounds||a.create(d.vertices),positionPrev:d.positionPrev||f.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),m.rotate(d.vertices,d.angle,d.position),l.rotate(d.axes,d.angle),a.update(d.bounds,d.vertices,d.velocity),o.set(d,{axes:v.axes||d.axes,area:v.area||d.area,mass:v.mass||d.mass,inertia:v.inertia||d.inertia}),d.parts.length===1){var p=d.bounds,g=d.centerOfMass,x=d.centerOffset,C=p.max.x-p.min.x,P=p.max.y-p.min.y;g.x=-(p.min.x-d.position.x)/C,g.y=-(p.min.y-d.position.y)/P,x.x=C*g.x,x.y=P*g.y}};o.set=function(d,v,p){var g;typeof v=="string"&&(g=v,v={},v[g]=p);for(g in v)if(Object.prototype.hasOwnProperty.call(v,g))switch(p=v[g],g){case"isStatic":o.setStatic(d,p);break;case"isSleeping":u.set(d,p);break;case"mass":o.setMass(d,p);break;case"density":o.setDensity(d,p);break;case"inertia":o.setInertia(d,p);break;case"vertices":o.setVertices(d,p);break;case"position":o.setPosition(d,p);break;case"angle":o.setAngle(d,p);break;case"velocity":o.setVelocity(d,p);break;case"angularVelocity":o.setAngularVelocity(d,p);break;case"speed":o.setSpeed(d,p);break;case"angularSpeed":o.setAngularSpeed(d,p);break;case"parts":o.setParts(d,p);break;case"centre":o.setCentre(d,p);break;default:d[g]=p}},o.setStatic=function(d,v){for(var p=0;p<d.parts.length;p++){var g=d.parts[p];v?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=v}},o.setMass=function(d,v){var p=d.inertia/(d.mass/6);d.inertia=p*(v/6),d.inverseInertia=1/d.inertia,d.mass=v,d.inverseMass=1/d.mass,d.density=d.mass/d.area},o.setDensity=function(d,v){o.setMass(d,v*d.area),d.density=v},o.setInertia=function(d,v){d.inertia=v,d.inverseInertia=1/d.inertia},o.setVertices=function(d,v){v[0].body===d?d.vertices=v:d.vertices=m.create(v,d),d.axes=l.fromVertices(d.vertices),d.area=m.area(d.vertices),o.setMass(d,d.density*d.area);var p=m.centre(d.vertices);m.translate(d.vertices,p,-1),o.setInertia(d,o._inertiaScale*m.inertia(d.vertices,d.mass)),m.translate(d.vertices,d.position),a.update(d.bounds,d.vertices,d.velocity)},o.setParts=function(d,v,p){var g;for(v=v.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,g=0;g<v.length;g++){var x=v[g];x!==d&&(x.parent=d,d.parts.push(x))}if(d.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var C=[];for(g=0;g<v.length;g++)C=C.concat(v[g].vertices);m.clockwiseSort(C);var P=m.hull(C),w=m.centre(P);o.setVertices(d,P),m.translate(d.vertices,w)}var E=o._totalProperties(d),b=E.centre.x,O=E.centre.y,M=d.bounds,A=d.centerOfMass,F=d.centerOffset;a.update(M,d.vertices,d.velocity),A.x=-(M.min.x-b)/(M.max.x-M.min.x),A.y=-(M.min.y-O)/(M.max.y-M.min.y),F.x=b,F.y=O,d.area=E.area,d.parent=d,d.position.x=b,d.position.y=O,d.positionPrev.x=b,d.positionPrev.y=O,o.setMass(d,E.mass),o.setInertia(d,E.inertia),o.setPosition(d,E.centre)}},o.setCentre=function(d,v,p){p?(d.positionPrev.x+=v.x,d.positionPrev.y+=v.y,d.position.x+=v.x,d.position.y+=v.y):(d.positionPrev.x=v.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=v.y-(d.position.y-d.positionPrev.y),d.position.x=v.x,d.position.y=v.y)},o.setPosition=function(d,v,p){var g=f.sub(v,d.position);p?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=g.x,d.velocity.y=g.y,d.speed=f.magnitude(g)):(d.positionPrev.x+=g.x,d.positionPrev.y+=g.y);for(var x=0;x<d.parts.length;x++){var C=d.parts[x];C.position.x+=g.x,C.position.y+=g.y,m.translate(C.vertices,g),a.update(C.bounds,C.vertices,d.velocity)}},o.setAngle=function(d,v,p){var g=v-d.angle;p?(d.anglePrev=d.angle,d.angularVelocity=g,d.angularSpeed=Math.abs(g)):d.anglePrev+=g;for(var x=0;x<d.parts.length;x++){var C=d.parts[x];C.angle+=g,m.rotate(C.vertices,g,d.position),l.rotate(C.axes,g),a.update(C.bounds,C.vertices,d.velocity),x>0&&f.rotateAbout(C.position,g,d.position,C.position)}},o.setVelocity=function(d,v){var p=d.deltaTime/o._baseDelta;d.positionPrev.x=d.position.x-v.x*p,d.positionPrev.y=d.position.y-v.y*p,d.velocity.x=(d.position.x-d.positionPrev.x)/p,d.velocity.y=(d.position.y-d.positionPrev.y)/p,d.speed=f.magnitude(d.velocity)},o.getVelocity=function(d){var v=o._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*v,y:(d.position.y-d.positionPrev.y)*v}},o.getSpeed=function(d){return f.magnitude(o.getVelocity(d))},o.setSpeed=function(d,v){o.setVelocity(d,f.mult(f.normalise(o.getVelocity(d)),v))},o.setAngularVelocity=function(d,v){var p=d.deltaTime/o._baseDelta;d.anglePrev=d.angle-v*p,d.angularVelocity=(d.angle-d.anglePrev)/p,d.angularSpeed=Math.abs(d.angularVelocity)},o.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*o._baseDelta/d.deltaTime},o.getAngularSpeed=function(d){return Math.abs(o.getAngularVelocity(d))},o.setAngularSpeed=function(d,v){o.setAngularVelocity(d,h.sign(o.getAngularVelocity(d))*v)},o.translate=function(d,v,p){o.setPosition(d,f.add(d.position,v),p)},o.rotate=function(d,v,p,g){if(!p)o.setAngle(d,d.angle+v,g);else{var x=Math.cos(v),C=Math.sin(v),P=d.position.x-p.x,w=d.position.y-p.y;o.setPosition(d,{x:p.x+(P*x-w*C),y:p.y+(P*C+w*x)},g),o.setAngle(d,d.angle+v,g)}},o.scale=function(d,v,p,g){var x=0,C=0;g=g||d.position;for(var P=d.inertia===1/0,w=0;w<d.parts.length;w++){var E=d.parts[w];E.scale.x=v,E.scale.y=p,m.scale(E.vertices,v,p,g),E.axes=l.fromVertices(E.vertices),E.area=m.area(E.vertices),o.setMass(E,d.density*E.area),m.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),o.setInertia(E,o._inertiaScale*m.inertia(E.vertices,E.mass)),m.translate(E.vertices,{x:E.position.x,y:E.position.y}),w>0&&(x+=E.area,C+=E.inertia),E.position.x=g.x+(E.position.x-g.x)*v,E.position.y=g.y+(E.position.y-g.y)*p,a.update(E.bounds,E.vertices,d.velocity)}d.parts.length>1&&(d.area=x,d.isStatic||(o.setMass(d,d.density*x),o.setInertia(d,C))),d.circleRadius&&(v===p?d.circleRadius*=v:d.circleRadius=null),P&&o.setInertia(d,1/0)},o.update=function(d,v){v=(typeof v<"u"?v:16.666666666666668)*d.timeScale;var p=v*v,g=o._timeCorrection?v/(d.deltaTime||v):1,x=1-d.frictionAir*(v/h._baseDelta),C=(d.position.x-d.positionPrev.x)*g,P=(d.position.y-d.positionPrev.y)*g;d.velocity.x=C*x+d.force.x/d.mass*p,d.velocity.y=P*x+d.force.y/d.mass*p,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=v,d.angularVelocity=(d.angle-d.anglePrev)*x*g+d.torque/d.inertia*p,d.anglePrev=d.angle,d.angle+=d.angularVelocity,d.speed=f.magnitude(d.velocity),d.angularSpeed=Math.abs(d.angularVelocity);for(var w=0;w<d.parts.length;w++){var E=d.parts[w];m.translate(E.vertices,d.velocity),w>0&&(E.position.x+=d.velocity.x,E.position.y+=d.velocity.y),d.angularVelocity!==0&&(m.rotate(E.vertices,d.angularVelocity,d.position),l.rotate(E.axes,d.angularVelocity),w>0&&f.rotateAbout(E.position,d.angularVelocity,d.position,E.position)),a.update(E.bounds,E.vertices,d.velocity)}},o.updateVelocities=function(d){var v=o._baseDelta/d.deltaTime,p=d.velocity;p.x=(d.position.x-d.positionPrev.x)*v,p.y=(d.position.y-d.positionPrev.y)*v,d.speed=Math.sqrt(p.x*p.x+p.y*p.y),d.angularVelocity=(d.angle-d.anglePrev)*v,d.angularSpeed=Math.abs(d.angularVelocity)},o.applyForce=function(d,v,p){var g={x:v.x-d.position.x,y:v.y-d.position.y};d.force.x+=p.x,d.force.y+=p.y,d.torque+=g.x*p.y-g.y*p.x},o._totalProperties=function(d){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=d.parts.length===1?0:1;p<d.parts.length;p++){var g=d.parts[p],x=g.mass!==1/0?g.mass:1;v.mass+=x,v.area+=g.area,v.inertia+=g.inertia,v.centre=f.add(v.centre,f.mult(g.position,x))}return v.centre=f.div(v.centre,v.mass),v},o.wrap=function(d,v){var p=a.wrap(d.bounds,v);return p&&o.translate(d,p),p}})()},69351:(r,T,s)=>{var o={};r.exports=o;var m=s(35810),f=s(53402),u=s(15647),h=s(22562);(function(){o.create=function(a){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,l,c,d){if(m.trigger(a,"compositeModified",a),a.isModified=l,l&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),c&&a.parent&&o.setModified(a.parent,l,c,d),d)for(var v=0;v<a.composites.length;v++){var p=a.composites[v];o.setModified(p,l,c,d)}},o.add=function(a,l){var c=[].concat(l);m.trigger(a,"beforeAdd",{object:l});for(var d=0;d<c.length;d++){var v=c[d];switch(v.type){case"body":if(v.parent!==v){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,v);break;case"constraint":o.addConstraint(a,v);break;case"composite":o.addComposite(a,v);break;case"mouseConstraint":o.addConstraint(a,v.constraint);break}}return m.trigger(a,"afterAdd",{object:l}),a},o.remove=function(a,l,c){var d=[].concat(l);m.trigger(a,"beforeRemove",{object:l});for(var v=0;v<d.length;v++){var p=d[v];switch(p.type){case"body":o.removeBody(a,p,c);break;case"constraint":o.removeConstraint(a,p,c);break;case"composite":o.removeComposite(a,p,c);break;case"mouseConstraint":o.removeConstraint(a,p.constraint);break}}return m.trigger(a,"afterRemove",{object:l}),a},o.addComposite=function(a,l){return a.composites.push(l),l.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,l,c){var d=f.indexOf(a.composites,l);if(d!==-1){var v=o.allBodies(l);o.removeCompositeAt(a,d);for(var p=0;p<v.length;p++)v[p].sleepCounter=0}if(c)for(var p=0;p<a.composites.length;p++)o.removeComposite(a.composites[p],l,!0);return a},o.removeCompositeAt=function(a,l){return a.composites.splice(l,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,l){return a.bodies.push(l),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,l,c){var d=f.indexOf(a.bodies,l);if(d!==-1&&(o.removeBodyAt(a,d),l.sleepCounter=0),c)for(var v=0;v<a.composites.length;v++)o.removeBody(a.composites[v],l,!0);return a},o.removeBodyAt=function(a,l){return a.bodies.splice(l,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,l){return a.constraints.push(l),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,l,c){var d=f.indexOf(a.constraints,l);if(d!==-1&&o.removeConstraintAt(a,d),c)for(var v=0;v<a.composites.length;v++)o.removeConstraint(a.composites[v],l,!0);return a},o.removeConstraintAt=function(a,l){return a.constraints.splice(l,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,l,c){if(c)for(var d=0;d<a.composites.length;d++)o.clear(a.composites[d],l,!0);return l?a.bodies=a.bodies.filter(function(v){return v.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var l=[].concat(a.bodies),c=0;c<a.composites.length;c++)l=l.concat(o.allBodies(a.composites[c]));return a.cache&&(a.cache.allBodies=l),l},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var l=[].concat(a.constraints),c=0;c<a.composites.length;c++)l=l.concat(o.allConstraints(a.composites[c]));return a.cache&&(a.cache.allConstraints=l),l},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var l=[].concat(a.composites),c=0;c<a.composites.length;c++)l=l.concat(o.allComposites(a.composites[c]));return a.cache&&(a.cache.allComposites=l),l},o.get=function(a,l,c){var d,v;switch(c){case"body":d=o.allBodies(a);break;case"constraint":d=o.allConstraints(a);break;case"composite":d=o.allComposites(a).concat(a);break}return d?(v=d.filter(function(p){return p.id.toString()===l.toString()}),v.length===0?null:v[0]):null},o.move=function(a,l,c){return o.remove(a,l),o.add(c,l),a},o.rebase=function(a){for(var l=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),c=0;c<l.length;c++)l[c].id=f.nextId();return a},o.translate=function(a,l,c){for(var d=c?o.allBodies(a):a.bodies,v=0;v<d.length;v++)h.translate(d[v],l);return a},o.rotate=function(a,l,c,d){for(var v=Math.cos(l),p=Math.sin(l),g=d?o.allBodies(a):a.bodies,x=0;x<g.length;x++){var C=g[x],P=C.position.x-c.x,w=C.position.y-c.y;h.setPosition(C,{x:c.x+(P*v-w*p),y:c.y+(P*p+w*v)}),h.rotate(C,l)}return a},o.scale=function(a,l,c,d,v){for(var p=v?o.allBodies(a):a.bodies,g=0;g<p.length;g++){var x=p[g],C=x.position.x-d.x,P=x.position.y-d.y;h.setPosition(x,{x:d.x+C*l,y:d.y+P*c}),h.scale(x,l,c)}return a},o.bounds=function(a){for(var l=o.allBodies(a),c=[],d=0;d<l.length;d+=1){var v=l[d];c.push(v.bounds.min,v.bounds.max)}return u.create(c)},o.wrap=function(a,l){var c=u.wrap(o.bounds(a),l);return c&&o.translate(a,c),c}})()},4372:(r,T,s)=>{var o={};r.exports=o;var m=s(69351);(function(){o.create=m.create,o.add=m.add,o.remove=m.remove,o.clear=m.clear,o.addComposite=m.addComposite,o.addBody=m.addBody,o.addConstraint=m.addConstraint})()},52284:(r,T,s)=>{var o={};r.exports=o;var m=s(41598),f=s(4506);(function(){var u=[],h={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(l,c){return{pair:null,collided:!1,bodyA:l,bodyB:c,parentA:l.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(l,c,d){if(o._overlapAxes(h,l.vertices,c.vertices,l.axes),h.overlap<=0||(o._overlapAxes(a,c.vertices,l.vertices,c.axes),a.overlap<=0))return null;var v=d&&d.table[f.id(l,c)],p;v?p=v.collision:(p=o.create(l,c),p.collided=!0,p.bodyA=l.id<c.id?l:c,p.bodyB=l.id<c.id?c:l,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),l=p.bodyA,c=p.bodyB;var g;h.overlap<a.overlap?g=h:g=a;var x=p.normal,C=p.tangent,P=p.penetration,w=p.supports,E=g.overlap,b=g.axis,O=b.x,M=b.y,A=c.position.x-l.position.x,F=c.position.y-l.position.y;O*A+M*F>=0&&(O=-O,M=-M),x.x=O,x.y=M,C.x=-M,C.y=O,P.x=O*E,P.y=M*E,p.depth=E;var R=o._findSupports(l,c,x,1),L=0;if(m.contains(l.vertices,R[0])&&(w[L++]=R[0]),m.contains(l.vertices,R[1])&&(w[L++]=R[1]),L<2){var D=o._findSupports(c,l,x,-1);m.contains(c.vertices,D[0])&&(w[L++]=D[0]),L<2&&m.contains(c.vertices,D[1])&&(w[L++]=D[1])}return L===0&&(w[L++]=R[0]),p.supportCount=L,p},o._overlapAxes=function(l,c,d,v){var p=c.length,g=d.length,x=c[0].x,C=c[0].y,P=d[0].x,w=d[0].y,E=v.length,b=Number.MAX_VALUE,O=0,M,A,F,R,L,D;for(L=0;L<E;L++){var I=v[L],z=I.x,U=I.y,H=x*z+C*U,W=P*z+w*U,N=H,X=W;for(D=1;D<p;D+=1)R=c[D].x*z+c[D].y*U,R>N?N=R:R<H&&(H=R);for(D=1;D<g;D+=1)R=d[D].x*z+d[D].y*U,R>X?X=R:R<W&&(W=R);if(A=N-W,F=X-H,M=A<F?A:F,M<b&&(b=M,O=L,M<=0))break}l.axis=v[O],l.overlap=b},o._findSupports=function(l,c,d,v){var p=c.vertices,g=p.length,x=l.position.x,C=l.position.y,P=d.x*v,w=d.y*v,E=p[0],b=E,O=P*(x-b.x)+w*(C-b.y),M,A,F;for(F=1;F<g;F+=1)b=p[F],A=P*(x-b.x)+w*(C-b.y),A<O&&(O=A,E=b);return M=p[(g+E.index-1)%g],O=P*(x-M.x)+w*(C-M.y),b=p[(E.index+1)%g],P*(x-b.x)+w*(C-b.y)<O?(u[0]=E,u[1]=b,u):(u[0]=E,u[1]=M,u)}})()},43424:r=>{var T={};r.exports=T,function(){T.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(r,T,s)=>{var o={};r.exports=o;var m=s(53402),f=s(52284);(function(){o.create=function(u){var h={bodies:[],collisions:[],pairs:null};return m.extend(h,u)},o.setBodies=function(u,h){u.bodies=h.slice(0)},o.clear=function(u){u.bodies=[],u.collisions=[]},o.collisions=function(u){var h=u.pairs,a=u.bodies,l=a.length,c=o.canCollide,d=f.collides,v=u.collisions,p=0,g,x;for(a.sort(o._compareBoundsX),g=0;g<l;g++){var C=a[g],P=C.bounds,w=C.bounds.max.x,E=C.bounds.max.y,b=C.bounds.min.y,O=C.isStatic||C.isSleeping,M=C.parts.length,A=M===1;for(x=g+1;x<l;x++){var F=a[x],R=F.bounds;if(R.min.x>w)break;if(!(E<R.min.y||b>R.max.y)&&!(O&&(F.isStatic||F.isSleeping))&&c(C.collisionFilter,F.collisionFilter)){var L=F.parts.length;if(A&&L===1){var D=d(C,F,h);D&&(v[p++]=D)}else for(var I=M>1?1:0,z=L>1?1:0,U=I;U<M;U++)for(var H=C.parts[U],P=H.bounds,W=z;W<L;W++){var N=F.parts[W],R=N.bounds;if(!(P.min.x>R.max.x||P.max.x<R.min.x||P.max.y<R.min.y||P.min.y>R.max.y)){var D=d(H,N,h);D&&(v[p++]=D)}}}}}return v.length!==p&&(v.length=p),v},o.canCollide=function(u,h){return u.group===h.group&&u.group!==0?u.group>0:(u.mask&h.category)!==0&&(h.mask&u.category)!==0},o._compareBoundsX=function(u,h){return u.bounds.min.x-h.bounds.min.x}})()},4506:(r,T,s)=>{var o={};r.exports=o;var m=s(43424);(function(){o.create=function(f,u){var h=f.bodyA,a=f.bodyB,l={id:o.id(h,a),bodyA:h,bodyB:a,collision:f,contacts:[m.create(),m.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||a.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(l,f,u),l},o.update=function(f,u,h){var a=u.supports,l=u.supportCount,c=f.contacts,d=u.parentA,v=u.parentB;f.isActive=!0,f.timeUpdated=h,f.collision=u,f.separation=u.depth,f.inverseMass=d.inverseMass+v.inverseMass,f.friction=d.friction<v.friction?d.friction:v.friction,f.frictionStatic=d.frictionStatic>v.frictionStatic?d.frictionStatic:v.frictionStatic,f.restitution=d.restitution>v.restitution?d.restitution:v.restitution,f.slop=d.slop>v.slop?d.slop:v.slop,f.contactCount=l,u.pair=f;var p=a[0],g=c[0],x=a[1],C=c[1];(C.vertex===p||g.vertex===x)&&(c[1]=g,c[0]=g=C,C=c[1]),g.vertex=p,C.vertex=x},o.setActive=function(f,u,h){u?(f.isActive=!0,f.timeUpdated=h):(f.isActive=!1,f.contactCount=0)},o.id=function(f,u){return f.id<u.id?f.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+f.id.toString(36)}})()},99561:(r,T,s)=>{var o={};r.exports=o;var m=s(4506),f=s(53402);(function(){o.create=function(u){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},o.update=function(u,h,a){var l=m.update,c=m.create,d=m.setActive,v=u.table,p=u.list,g=p.length,x=g,C=u.collisionStart,P=u.collisionEnd,w=u.collisionActive,E=h.length,b=0,O=0,M=0,A,F,R;for(R=0;R<E;R++)A=h[R],F=A.pair,F?(F.isActive&&(w[M++]=F),l(F,A,a)):(F=c(A,a),v[F.id]=F,C[b++]=F,p[x++]=F);for(x=0,g=p.length,R=0;R<g;R++)F=p[R],F.timeUpdated>=a?p[x++]=F:(d(F,!1,a),F.collision.bodyA.sleepCounter>0&&F.collision.bodyB.sleepCounter>0?p[x++]=F:(P[O++]=F,delete v[F.id]));p.length!==x&&(p.length=x),C.length!==b&&(C.length=b),P.length!==O&&(P.length=O),w.length!==M&&(w.length=M)},o.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},73296:(r,T,s)=>{var o={};r.exports=o;var m=s(31725),f=s(52284),u=s(15647),h=s(66280),a=s(41598);(function(){o.collides=function(l,c){for(var d=[],v=c.length,p=l.bounds,g=f.collides,x=u.overlaps,C=0;C<v;C++){var P=c[C],w=P.parts.length,E=w===1?0:1;if(l!==P&&x(P.bounds,p))for(var b=E;b<w;b++){var O=P.parts[b];if(x(O.bounds,p)){var M=g(O,l);if(M){d.push(M);break}}}}return d},o.ray=function(l,c,d,v){v=v||1e-100;for(var p=m.angle(c,d),g=m.magnitude(m.sub(c,d)),x=(d.x+c.x)*.5,C=(d.y+c.y)*.5,P=h.rectangle(x,C,g,v,{angle:p}),w=o.collides(P,l),E=0;E<w.length;E+=1){var b=w[E];b.body=b.bodyB=b.bodyA}return w},o.region=function(l,c,d){for(var v=[],p=0;p<l.length;p++){var g=l[p],x=u.overlaps(g.bounds,c);(x&&!d||!x&&d)&&v.push(g)}return v},o.point=function(l,c){for(var d=[],v=0;v<l.length;v++){var p=l[v];if(u.contains(p.bounds,c))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var x=p.parts[g];if(u.contains(x.bounds,c)&&a.contains(x.vertices,c)){d.push(p);break}}}return d}})()},66272:(r,T,s)=>{var o={};r.exports=o;var m=s(41598),f=s(53402),u=s(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(h){var a,l,c,d=h.length;for(a=0;a<d;a++)l=h[a],l.isActive&&(c=l.contactCount,l.collision.parentA.totalContacts+=c,l.collision.parentB.totalContacts+=c)},o.solvePosition=function(h,a,l){var c,d,v,p,g,x,C,P,w=o._positionDampen*(l||1),E=f.clamp(a/f._baseDelta,0,1),b=h.length;for(c=0;c<b;c++)d=h[c],!(!d.isActive||d.isSensor)&&(v=d.collision,p=v.parentA,g=v.parentB,x=v.normal,d.separation=v.depth+x.x*(g.positionImpulse.x-p.positionImpulse.x)+x.y*(g.positionImpulse.y-p.positionImpulse.y));for(c=0;c<b;c++)d=h[c],!(!d.isActive||d.isSensor)&&(v=d.collision,p=v.parentA,g=v.parentB,x=v.normal,P=d.separation-d.slop*E,(p.isStatic||g.isStatic)&&(P*=2),p.isStatic||p.isSleeping||(C=w/p.totalContacts,p.positionImpulse.x+=x.x*P*C,p.positionImpulse.y+=x.y*P*C),g.isStatic||g.isSleeping||(C=w/g.totalContacts,g.positionImpulse.x-=x.x*P*C,g.positionImpulse.y-=x.y*P*C))},o.postSolvePosition=function(h){for(var a=o._positionWarming,l=h.length,c=m.translate,d=u.update,v=0;v<l;v++){var p=h[v],g=p.positionImpulse,x=g.x,C=g.y,P=p.velocity;if(p.totalContacts=0,x!==0||C!==0){for(var w=0;w<p.parts.length;w++){var E=p.parts[w];c(E.vertices,g),d(E.bounds,E.vertices,P),E.position.x+=x,E.position.y+=C}p.positionPrev.x+=x,p.positionPrev.y+=C,x*P.x+C*P.y<0?(g.x=0,g.y=0):(g.x*=a,g.y*=a)}}},o.preSolveVelocity=function(h){var a=h.length,l,c;for(l=0;l<a;l++){var d=h[l];if(!(!d.isActive||d.isSensor)){var v=d.contacts,p=d.contactCount,g=d.collision,x=g.parentA,C=g.parentB,P=g.normal,w=g.tangent;for(c=0;c<p;c++){var E=v[c],b=E.vertex,O=E.normalImpulse,M=E.tangentImpulse;if(O!==0||M!==0){var A=P.x*O+w.x*M,F=P.y*O+w.y*M;x.isStatic||x.isSleeping||(x.positionPrev.x+=A*x.inverseMass,x.positionPrev.y+=F*x.inverseMass,x.anglePrev+=x.inverseInertia*((b.x-x.position.x)*F-(b.y-x.position.y)*A)),C.isStatic||C.isSleeping||(C.positionPrev.x-=A*C.inverseMass,C.positionPrev.y-=F*C.inverseMass,C.anglePrev-=C.inverseInertia*((b.x-C.position.x)*F-(b.y-C.position.y)*A))}}}}},o.solveVelocity=function(h,a){var l=a/f._baseDelta,c=l*l,d=c*l,v=-o._restingThresh*l,p=o._restingThreshTangent,g=o._frictionNormalMultiplier*l,x=o._frictionMaxStatic,C=h.length,P,w,E,b;for(E=0;E<C;E++){var O=h[E];if(!(!O.isActive||O.isSensor)){var M=O.collision,A=M.parentA,F=M.parentB,R=M.normal.x,L=M.normal.y,D=M.tangent.x,I=M.tangent.y,z=O.inverseMass,U=O.friction*O.frictionStatic*g,H=O.contacts,W=O.contactCount,N=1/W,X=A.position.x-A.positionPrev.x,B=A.position.y-A.positionPrev.y,V=A.angle-A.anglePrev,k=F.position.x-F.positionPrev.x,j=F.position.y-F.positionPrev.y,$=F.angle-F.anglePrev;for(b=0;b<W;b++){var J=H[b],Z=J.vertex,_=Z.x-A.position.x,it=Z.y-A.position.y,at=Z.x-F.position.x,st=Z.y-F.position.y,ft=X-it*V,ct=B+_*V,ut=k-st*$,Et=j+at*$,Mt=ft-ut,At=ct-Et,vt=R*Mt+L*At,Ct=D*Mt+I*At,St=O.separation+vt,kt=Math.min(St,1);kt=St<0?0:kt;var Ht=kt*U;Ct<-Ht||Ct>Ht?(w=Ct>0?Ct:-Ct,P=O.friction*(Ct>0?1:-1)*d,P<-w?P=-w:P>w&&(P=w)):(P=Ct,w=x);var re=_*L-it*R,Xt=at*L-st*R,Bt=N/(z+A.inverseInertia*re*re+F.inverseInertia*Xt*Xt),he=(1+O.restitution)*vt*Bt;if(P*=Bt,vt<v)J.normalImpulse=0;else{var Ae=J.normalImpulse;J.normalImpulse+=he,J.normalImpulse>0&&(J.normalImpulse=0),he=J.normalImpulse-Ae}if(Ct<-p||Ct>p)J.tangentImpulse=0;else{var jt=J.tangentImpulse;J.tangentImpulse+=P,J.tangentImpulse<-w&&(J.tangentImpulse=-w),J.tangentImpulse>w&&(J.tangentImpulse=w),P=J.tangentImpulse-jt}var ae=R*he+D*P,pe=L*he+I*P;A.isStatic||A.isSleeping||(A.positionPrev.x+=ae*A.inverseMass,A.positionPrev.y+=pe*A.inverseMass,A.anglePrev+=(_*pe-it*ae)*A.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=ae*F.inverseMass,F.positionPrev.y-=pe*F.inverseMass,F.anglePrev-=(at*pe-st*ae)*F.inverseInertia)}}}}})()},48140:(r,T,s)=>{var o={};r.exports=o;var m=s(41598),f=s(31725),u=s(53614),h=s(15647),a=s(66615),l=s(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(c){var d=c;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var v=d.bodyA?f.add(d.bodyA.position,d.pointA):d.pointA,p=d.bodyB?f.add(d.bodyB.position,d.pointB):d.pointB,g=f.magnitude(f.sub(v,p));d.length=typeof d.length<"u"?d.length:g,d.id=d.id||l.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var x={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return d.length===0&&d.stiffness>.1?(x.type="pin",x.anchors=!1):d.stiffness<.9&&(x.type="spring"),d.render=l.extend(x,d.render),d},o.preSolveAll=function(c){for(var d=0;d<c.length;d+=1){var v=c[d],p=v.constraintImpulse;v.isStatic||p.x===0&&p.y===0&&p.angle===0||(v.position.x+=p.x,v.position.y+=p.y,v.angle+=p.angle)}},o.solveAll=function(c,d){for(var v=l.clamp(d/l._baseDelta,0,1),p=0;p<c.length;p+=1){var g=c[p],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,C=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(x||C)&&o.solve(c[p],v)}for(p=0;p<c.length;p+=1)g=c[p],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,C=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!x&&!C&&o.solve(c[p],v)},o.solve=function(c,d){var v=c.bodyA,p=c.bodyB,g=c.pointA,x=c.pointB;if(!(!v&&!p)){v&&!v.isStatic&&(f.rotate(g,v.angle-c.angleA,g),c.angleA=v.angle),p&&!p.isStatic&&(f.rotate(x,p.angle-c.angleB,x),c.angleB=p.angle);var C=g,P=x;if(v&&(C=f.add(v.position,g)),p&&(P=f.add(p.position,x)),!(!C||!P)){var w=f.sub(C,P),E=f.magnitude(w);E<o._minLength&&(E=o._minLength);var b=(E-c.length)/E,O=c.stiffness>=1||c.length===0,M=O?c.stiffness*d:c.stiffness*d*d,A=c.damping*d,F=f.mult(w,b*M),R=(v?v.inverseMass:0)+(p?p.inverseMass:0),L=(v?v.inverseInertia:0)+(p?p.inverseInertia:0),D=R+L,I,z,U,H,W;if(A>0){var N=f.create();U=f.div(w,E),W=f.sub(p&&f.sub(p.position,p.positionPrev)||N,v&&f.sub(v.position,v.positionPrev)||N),H=f.dot(U,W)}v&&!v.isStatic&&(z=v.inverseMass/R,v.constraintImpulse.x-=F.x*z,v.constraintImpulse.y-=F.y*z,v.position.x-=F.x*z,v.position.y-=F.y*z,A>0&&(v.positionPrev.x-=A*U.x*H*z,v.positionPrev.y-=A*U.y*H*z),I=f.cross(g,F)/D*o._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=I,v.angle-=I),p&&!p.isStatic&&(z=p.inverseMass/R,p.constraintImpulse.x+=F.x*z,p.constraintImpulse.y+=F.y*z,p.position.x+=F.x*z,p.position.y+=F.y*z,A>0&&(p.positionPrev.x+=A*U.x*H*z,p.positionPrev.y+=A*U.y*H*z),I=f.cross(x,F)/D*o._torqueDampen*p.inverseInertia*(1-c.angularStiffness),p.constraintImpulse.angle+=I,p.angle+=I)}}},o.postSolveAll=function(c){for(var d=0;d<c.length;d++){var v=c[d],p=v.constraintImpulse;if(!(v.isStatic||p.x===0&&p.y===0&&p.angle===0)){u.set(v,!1);for(var g=0;g<v.parts.length;g++){var x=v.parts[g];m.translate(x.vertices,p),g>0&&(x.position.x+=p.x,x.position.y+=p.y),p.angle!==0&&(m.rotate(x.vertices,p.angle,v.position),a.rotate(x.axes,p.angle),g>0&&f.rotateAbout(x.position,p.angle,v.position,x.position)),h.update(x.bounds,x.vertices,v.velocity)}p.angle*=o._warming,p.x*=o._warming,p.y*=o._warming}}},o.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},o.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},o.currentLength=function(c){var d=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),p=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),g=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),x=d-p,C=v-g;return Math.sqrt(x*x+C*C)}})()},53402:(r,T,s)=>{var o={};r.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(f,u){var h,a;typeof u=="boolean"?(h=2,a=u):(h=1,a=!0);for(var l=h;l<arguments.length;l++){var c=arguments[l];if(c)for(var d in c)a&&c[d]&&c[d].constructor===Object&&(!f[d]||f[d].constructor===Object)?(f[d]=f[d]||{},o.extend(f[d],a,c[d])):f[d]=c[d]}return f},o.clone=function(f,u){return o.extend({},u,f)},o.keys=function(f){if(Object.keys)return Object.keys(f);var u=[];for(var h in f)u.push(h);return u},o.values=function(f){var u=[];if(Object.keys){for(var h=Object.keys(f),a=0;a<h.length;a++)u.push(f[h[a]]);return u}for(var l in f)u.push(f[l]);return u},o.get=function(f,u,h,a){u=u.split(".").slice(h,a);for(var l=0;l<u.length;l+=1)f=f[u[l]];return f},o.set=function(f,u,h,a,l){var c=u.split(".").slice(a,l);return o.get(f,u,0,-1)[c[c.length-1]]=h,h},o.shuffle=function(f){for(var u=f.length-1;u>0;u--){var h=Math.floor(o.random()*(u+1)),a=f[u];f[u]=f[h],f[h]=a}return f},o.choose=function(f){return f[Math.floor(o.random()*f.length)]},o.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},o.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},o.isFunction=function(f){return typeof f=="function"},o.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},o.isString=function(f){return toString.call(f)==="[object String]"},o.clamp=function(f,u,h){return f<u?u:f>h?h:f},o.sign=function(f){return f<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(f,u){return f=typeof f<"u"?f:0,u=typeof u<"u"?u:1,f+m()*(u-f)};var m=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[f]||(o.warn(f),o._warnedOnce[f]=!0)},o.deprecated=function(f,u,h){f[u]=o.chain(function(){o.warnOnce(" deprecated ",h)},f[u])},o.nextId=function(){return o._nextId++},o.indexOf=function(f,u){if(f.indexOf)return f.indexOf(u);for(var h=0;h<f.length;h++)if(f[h]===u)return h;return-1},o.map=function(f,u){if(f.map)return f.map(u);for(var h=[],a=0;a<f.length;a+=1)h.push(u(f[a]));return h},o.topologicalSort=function(f){var u=[],h=[],a=[];for(var l in f)!h[l]&&!a[l]&&o._topologicalSort(l,h,a,f,u);return u},o._topologicalSort=function(f,u,h,a,l){var c=a[f]||[];h[f]=!0;for(var d=0;d<c.length;d+=1){var v=c[d];h[v]||u[v]||o._topologicalSort(v,u,h,a,l)}h[f]=!1,u[f]=!0,l.push(f)},o.chain=function(){for(var f=[],u=0;u<arguments.length;u+=1){var h=arguments[u];h._chained?f.push.apply(f,h._chained):f.push(h)}var a=function(){for(var l,c=new Array(arguments.length),d=0,v=arguments.length;d<v;d++)c[d]=arguments[d];for(d=0;d<f.length;d+=1){var p=f[d].apply(l,c);typeof p<"u"&&(l=p)}return l};return a._chained=f,a},o.chainPathBefore=function(f,u,h){return o.set(f,u,o.chain(h,o.get(f,u)))},o.chainPathAfter=function(f,u,h){return o.set(f,u,o.chain(o.get(f,u),h))},o.setDecomp=function(f){o._decomp=f},o.getDecomp=function(){var f=o._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof s.g<"u"&&(f=s.g.decomp)}catch{f=null}return f}}()},48413:(r,T,s)=>{var o={};r.exports=o;var m=s(53614),f=s(66272),u=s(81388),h=s(99561),a=s(35810),l=s(69351),c=s(48140),d=s(53402),v=s(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=d.extend(g,p);return x.world=p.world||l.create({label:"World"}),x.pairs=p.pairs||h.create(),x.detector=p.detector||u.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},o.update=function(p,g){var x=d.now(),C=p.world,P=p.detector,w=p.pairs,E=p.timing,b=E.timestamp,O;g>o._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),g=typeof g<"u"?g:d._baseDelta,g*=E.timeScale,E.timestamp+=g,E.lastDelta=g;var M={timestamp:E.timestamp,delta:g};a.trigger(p,"beforeUpdate",M);var A=l.allBodies(C),F=l.allConstraints(C),R=l.allComposites(C);for(C.isModified&&(u.setBodies(P,A),l.setModified(C,!1,!1,!0)),p.enableSleeping&&m.update(A,g),o._bodiesApplyGravity(A,p.gravity),o.wrap(A,R),o.attractors(A),g>0&&o._bodiesUpdate(A,g),a.trigger(p,"beforeSolve",M),c.preSolveAll(A),O=0;O<p.constraintIterations;O++)c.solveAll(F,g);c.postSolveAll(A);var L=u.collisions(P);h.update(w,L,b),p.enableSleeping&&m.afterCollisions(w.list),w.collisionStart.length>0&&a.trigger(p,"collisionStart",{pairs:w.collisionStart,timestamp:E.timestamp,delta:g});var D=d.clamp(20/p.positionIterations,0,1);for(f.preSolvePosition(w.list),O=0;O<p.positionIterations;O++)f.solvePosition(w.list,g,D);for(f.postSolvePosition(A),c.preSolveAll(A),O=0;O<p.constraintIterations;O++)c.solveAll(F,g);for(c.postSolveAll(A),f.preSolveVelocity(w.list),O=0;O<p.velocityIterations;O++)f.solveVelocity(w.list,g);return o._bodiesUpdateVelocities(A),w.collisionActive.length>0&&a.trigger(p,"collisionActive",{pairs:w.collisionActive,timestamp:E.timestamp,delta:g}),w.collisionEnd.length>0&&a.trigger(p,"collisionEnd",{pairs:w.collisionEnd,timestamp:E.timestamp,delta:g}),o._bodiesClearForces(A),a.trigger(p,"afterUpdate",M),p.timing.lastElapsed=d.now()-x,p},o.merge=function(p,g){if(d.extend(p,g),g.world){p.world=g.world,o.clear(p);for(var x=l.allBodies(p.world),C=0;C<x.length;C++){var P=x[C];m.set(P,!1),P.id=d.nextId()}}},o.clear=function(p){h.clear(p.pairs),u.clear(p.detector)},o._bodiesClearForces=function(p){for(var g=p.length,x=0;x<g;x++){var C=p[x];C.force.x=0,C.force.y=0,C.torque=0}},o._bodiesApplyGravity=function(p,g){var x=typeof g.scale<"u"?g.scale:.001,C=p.length;if(!(g.x===0&&g.y===0||x===0))for(var P=0;P<C;P++){var w=p[P];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*g.y*x,w.force.x+=w.mass*g.x*x)}},o._bodiesUpdate=function(p,g){for(var x=p.length,C=0;C<x;C++){var P=p[C];P.isStatic||P.isSleeping||v.update(P,g)}},o._bodiesUpdateVelocities=function(p){for(var g=p.length,x=0;x<g;x++)v.updateVelocities(p[x])},o.wrap=function(p,g){for(var x=0;x<p.length;x+=1){var C=p[x];C.wrapBounds!==null&&v.wrap(C,C.wrapBounds)}for(x=0;x<g.length;x+=1){var P=g[x];P.wrapBounds!==null&&l.wrap(P,P.wrapBounds)}},o.attractors=function(p){for(var g=0;g<p.length;g++){var x=p[g],C=x.attractors;if(C&&C.length>0)for(var P=0;P<p.length;P++){var w=p[P];if(g!==P)for(var E=0;E<C.length;E++){var b=C[E],O=b;d.isFunction(b)&&(O=b(x,w)),O&&v.applyForce(w,w.position,O)}}}}})()},35810:(r,T,s)=>{var o={};r.exports=o;var m=s(53402);(function(){o.on=function(f,u,h){for(var a=u.split(" "),l,c=0;c<a.length;c++)l=a[c],f.events=f.events||{},f.events[l]=f.events[l]||[],f.events[l].push(h);return h},o.off=function(f,u,h){if(!u){f.events={};return}typeof u=="function"&&(h=u,u=m.keys(f.events).join(" "));for(var a=u.split(" "),l=0;l<a.length;l++){var c=f.events[a[l]],d=[];if(h&&c)for(var v=0;v<c.length;v++)c[v]!==h&&d.push(c[v]);f.events[a[l]]=d}},o.trigger=function(f,u,h){var a,l,c,d,v=f.events;if(v&&m.keys(v).length>0){h||(h={}),a=u.split(" ");for(var p=0;p<a.length;p++)if(l=a[p],c=v[l],c){d=m.clone(h,!1),d.name=l,d.source=f;for(var g=0;g<c.length;g++)c[g].apply(f,[d])}}}})()},6790:(r,T,s)=>{var o={};r.exports=o;var m=s(73832),f=s(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){m.use(o,Array.prototype.slice.call(arguments))},o.before=function(u,h){return u=u.replace(/^Matter./,""),f.chainPathBefore(o,u,h)},o.after=function(u,h){return u=u.replace(/^Matter./,""),f.chainPathAfter(o,u,h)}})()},73832:(r,T,s)=>{var o={};r.exports=o;var m=s(53402);(function(){o._registry={},o.register=function(f){if(o.isPlugin(f)||m.warn("Plugin.register:",o.toString(f),"does not implement all required fields."),f.name in o._registry){var u=o._registry[f.name],h=o.versionParse(f.version).number,a=o.versionParse(u.version).number;h>a?(m.warn("Plugin.register:",o.toString(u),"was upgraded to",o.toString(f)),o._registry[f.name]=f):h<a?m.warn("Plugin.register:",o.toString(u),"can not be downgraded to",o.toString(f)):f!==u&&m.warn("Plugin.register:",o.toString(f),"is already registered to different plugin object")}else o._registry[f.name]=f;return f},o.resolve=function(f){return o._registry[o.dependencyParse(f).name]},o.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},o.isPlugin=function(f){return f&&f.name&&f.version&&f.install},o.isUsed=function(f,u){return f.used.indexOf(u)>-1},o.isFor=function(f,u){var h=f.for&&o.dependencyParse(f.for);return!f.for||u.name===h.name&&o.versionSatisfies(u.version,h.range)},o.use=function(f,u){if(f.uses=(f.uses||[]).concat(u||[]),f.uses.length===0){m.warn("Plugin.use:",o.toString(f),"does not specify any dependencies to install.");return}for(var h=o.dependencies(f),a=m.topologicalSort(h),l=[],c=0;c<a.length;c+=1)if(a[c]!==f.name){var d=o.resolve(a[c]);if(!d){l.push(" "+a[c]);continue}o.isUsed(f,d.name)||(o.isFor(d,f)||(m.warn("Plugin.use:",o.toString(d),"is for",d.for,"but installed on",o.toString(f)+"."),d._warned=!0),d.install?d.install(f):(m.warn("Plugin.use:",o.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(l.push(" "+o.toString(d)),delete d._warned):l.push(" "+o.toString(d)),f.used.push(d.name))}l.length>0&&!d.silent&&m.info(l.join("  "))},o.dependencies=function(f,u){var h=o.dependencyParse(f),a=h.name;if(u=u||{},!(a in u)){f=o.resolve(f)||f,u[a]=m.map(f.uses||[],function(c){o.isPlugin(c)&&o.register(c);var d=o.dependencyParse(c),v=o.resolve(c);return v&&!o.versionSatisfies(v.version,d.range)?(m.warn("Plugin.dependencies:",o.toString(v),"does not satisfy",o.toString(d),"used by",o.toString(h)+"."),v._warned=!0,f._warned=!0):v||(m.warn("Plugin.dependencies:",o.toString(c),"used by",o.toString(h),"could not be resolved."),f._warned=!0),d.name});for(var l=0;l<u[a].length;l+=1)o.dependencies(u[a][l],u);return u}},o.dependencyParse=function(f){if(m.isString(f)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(f)||m.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},o.versionParse=function(f){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(f)||m.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=u.exec(f),a=Number(h[4]),l=Number(h[5]),c=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:f,operator:h[1]||h[2]||"",major:a,minor:l,patch:c,parts:[a,l,c],prerelease:h[7],number:a*1e8+l*1e4+c}},o.versionSatisfies=function(f,u){u=u||"*";var h=o.versionParse(u),a=o.versionParse(f);if(h.isRange){if(h.operator==="*"||f==="*")return!0;if(h.operator===">")return a.number>h.number;if(h.operator===">=")return a.number>=h.number;if(h.operator==="~")return a.major===h.major&&a.minor===h.minor&&a.patch>=h.patch;if(h.operator==="^")return h.major>0?a.major===h.major&&a.number>=h.number:h.minor>0?a.minor===h.minor&&a.patch>=h.patch:a.patch===h.patch}return f===u||f==="*"}})()},13037:(r,T,s)=>{var o={};r.exports=o;var m=s(35810),f=s(48413),u=s(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var l={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=u.extend(l,a);return c.fps=0,c},o.run=function(a,l){return a.timeBuffer=o._frameDeltaFallback,function c(d){a.frameRequestId=o._onNextFrame(a,c),d&&a.enabled&&o.tick(a,l,d)}(),a},o.tick=function(a,l,c){var d=u.now(),v=a.delta,p=0,g=c-a.timeLastTick;if((!g||!a.timeLastTick||g>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(g=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(g),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var x=a.frameDeltaHistory.slice(0).sort(),C=a.frameDeltaHistory.slice(x.length*o._smoothingLowerBound,x.length*o._smoothingUpperBound),P=h(C);g=P||g}a.frameDeltaSnapping&&(g=1e3/Math.round(1e3/g)),a.frameDelta=g,a.timeLastTick=c,a.timeBuffer+=a.frameDelta,a.timeBuffer=u.clamp(a.timeBuffer,0,a.frameDelta+v*o._timeBufferMargin),a.lastUpdatesDeferred=0;var w=a.maxUpdates||Math.ceil(a.maxFrameTime/v),E={timestamp:l.timing.timestamp};m.trigger(a,"beforeTick",E),m.trigger(a,"tick",E);for(var b=u.now();v>0&&a.timeBuffer>=v*o._timeBufferMargin;){m.trigger(a,"beforeUpdate",E),f.update(l,v),m.trigger(a,"afterUpdate",E),a.timeBuffer-=v,p+=1;var O=u.now()-d,M=u.now()-b,A=O+o._elapsedNextEstimate*M/p;if(p>=w||A>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/v-o._timeBufferMargin));break}}l.timing.lastUpdatesPerFrame=p,m.trigger(a,"afterTick",E),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/v)>w?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,l){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(l);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(a){for(var l=0,c=a.length,d=0;d<c;d+=1)l+=a[d];return l/c||0};o._mean=h})()},53614:(r,T,s)=>{var o={};r.exports=o;var m=s(22562),f=s(35810),u=s(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(h,a){for(var l=a/u._baseDelta,c=o._motionSleepThreshold,d=0;d<h.length;d++){var v=h[d],p=m.getSpeed(v),g=m.getAngularSpeed(v),x=p*p+g*g;if(v.force.x!==0||v.force.y!==0){o.set(v,!1);continue}var C=Math.min(v.motion,x),P=Math.max(v.motion,x);v.motion=o._minBias*C+(1-o._minBias)*P,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/l&&o.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},o.afterCollisions=function(h){for(var a=o._motionSleepThreshold,l=0;l<h.length;l++){var c=h[l];if(c.isActive){var d=c.collision,v=d.bodyA.parent,p=d.bodyB.parent;if(!(v.isSleeping&&p.isSleeping||v.isStatic||p.isStatic)&&(v.isSleeping||p.isSleeping)){var g=v.isSleeping&&!v.isStatic?v:p,x=g===v?p:v;!g.isStatic&&x.motion>a&&o.set(g,!1)}}}},o.set=function(h,a){var l=h.isSleeping;a?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,l||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,l&&f.trigger(h,"sleepEnd"))}})()},66280:(r,T,s)=>{var o={};r.exports=o;var m=s(41598),f=s(53402),u=s(22562),h=s(15647),a=s(31725);(function(){o.rectangle=function(l,c,d,v,p){p=p||{};var g={label:"Rectangle Body",position:{x:l,y:c},vertices:m.fromPath("L 0 0 L "+d+" 0 L "+d+" "+v+" L 0 "+v)};if(p.chamfer){var x=p.chamfer;g.vertices=m.chamfer(g.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete p.chamfer}return u.create(f.extend({},g,p))},o.trapezoid=function(l,c,d,v,p,g){g=g||{},p>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var x=(1-p*2)*d,C=d*p,P=C+x,w=P+C,E;p<.5?E="L 0 0 L "+C+" "+-v+" L "+P+" "+-v+" L "+w+" 0":E="L 0 0 L "+P+" "+-v+" L "+w+" 0";var b={label:"Trapezoid Body",position:{x:l,y:c},vertices:m.fromPath(E)};if(g.chamfer){var O=g.chamfer;b.vertices=m.chamfer(b.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete g.chamfer}return u.create(f.extend({},b,g))},o.circle=function(l,c,d,v,p){v=v||{};var g={label:"Circle Body",circleRadius:d};p=p||25;var x=Math.ceil(Math.max(10,Math.min(p,d)));return x%2===1&&(x+=1),o.polygon(l,c,x,d,f.extend({},g,v))},o.polygon=function(l,c,d,v,p){if(p=p||{},d<3)return o.circle(l,c,v,p);for(var g=2*Math.PI/d,x="",C=g*.5,P=0;P<d;P+=1){var w=C+P*g,E=Math.cos(w)*v,b=Math.sin(w)*v;x+="L "+E.toFixed(3)+" "+b.toFixed(3)+" "}var O={label:"Polygon Body",position:{x:l,y:c},vertices:m.fromPath(x)};if(p.chamfer){var M=p.chamfer;O.vertices=m.chamfer(O.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete p.chamfer}return u.create(f.extend({},O,p))},o.fromVertices=function(l,c,d,v,p,g,x,C){var P=f.getDecomp(),w,E,b,O,M,A,F,R,L,D,I;for(w=!!(P&&P.quickDecomp),v=v||{},b=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,x=typeof x<"u"?x:10,C=typeof C<"u"?C:.01,f.isArray(d[0])||(d=[d]),D=0;D<d.length;D+=1)if(A=d[D],O=m.isConvex(A),M=!O,M&&!w&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),O||!w)O?A=m.clockwiseSort(A):A=m.hull(A),b.push({position:{x:l,y:c},vertices:A});else{var z=A.map(function(J){return[J.x,J.y]});P.makeCCW(z),g!==!1&&P.removeCollinearPoints(z,g),C!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(z,C);var U=P.quickDecomp(z);for(F=0;F<U.length;F++){var H=U[F],W=H.map(function(J){return{x:J[0],y:J[1]}});x>0&&m.area(W)<x||b.push({position:m.centre(W),vertices:W})}}for(F=0;F<b.length;F++)b[F]=u.create(f.extend(b[F],v));if(p){var N=5;for(F=0;F<b.length;F++){var X=b[F];for(R=F+1;R<b.length;R++){var B=b[R];if(h.overlaps(X.bounds,B.bounds)){var V=X.vertices,k=B.vertices;for(L=0;L<X.vertices.length;L++)for(I=0;I<B.vertices.length;I++){var j=a.magnitudeSquared(a.sub(V[(L+1)%V.length],k[I])),$=a.magnitudeSquared(a.sub(V[L],k[(I+1)%k.length]));j<N&&$<N&&(V[L].isInternal=!0,k[I].isInternal=!0)}}}}}return b.length>1?(E=u.create(f.extend({parts:b.slice(0)},v)),u.setPosition(E,{x:l,y:c}),E):b[0]},o.flagCoincidentParts=function(l,c){c===void 0&&(c=5);for(var d=0;d<l.length;d++)for(var v=l[d],p=d+1;p<l.length;p++){var g=l[p];if(h.overlaps(v.bounds,g.bounds))for(var x=v.vertices,C=g.vertices,P=0;P<v.vertices.length;P++)for(var w=0;w<g.vertices.length;w++){var E=a.magnitudeSquared(a.sub(x[(P+1)%x.length],C[w])),b=a.magnitudeSquared(a.sub(x[P],C[(w+1)%C.length]));E<c&&b<c&&(x[P].isInternal=!0,C[w].isInternal=!0)}}return l}})()},74116:(r,T,s)=>{var o={};r.exports=o;var m=s(69351),f=s(48140),u=s(53402),h=s(22562),a=s(66280);(function(){o.stack=function(l,c,d,v,p,g,x){for(var C=m.create({label:"Stack"}),P=l,w=c,E,b=0,O=0;O<v;O++){for(var M=0,A=0;A<d;A++){var F=x(P,w,A,O,E,b);if(F){var R=F.bounds.max.y-F.bounds.min.y,L=F.bounds.max.x-F.bounds.min.x;R>M&&(M=R),h.translate(F,{x:L*.5,y:R*.5}),P=F.bounds.max.x+p,m.addBody(C,F),E=F,b+=1}else P+=p}w+=M+g,P=l}return C},o.chain=function(l,c,d,v,p,g){for(var x=l.bodies,C=1;C<x.length;C++){var P=x[C-1],w=x[C],E=P.bounds.max.y-P.bounds.min.y,b=P.bounds.max.x-P.bounds.min.x,O=w.bounds.max.y-w.bounds.min.y,M=w.bounds.max.x-w.bounds.min.x,A={bodyA:P,pointA:{x:b*c,y:E*d},bodyB:w,pointB:{x:M*v,y:O*p}},F=u.extend(A,g);m.addConstraint(l,f.create(F))}return l.label+=" Chain",l},o.mesh=function(l,c,d,v,p){var g=l.bodies,x,C,P,w,E;for(x=0;x<d;x++){for(C=1;C<c;C++)P=g[C-1+x*c],w=g[C+x*c],m.addConstraint(l,f.create(u.extend({bodyA:P,bodyB:w},p)));if(x>0)for(C=0;C<c;C++)P=g[C+(x-1)*c],w=g[C+x*c],m.addConstraint(l,f.create(u.extend({bodyA:P,bodyB:w},p))),v&&C>0&&(E=g[C-1+(x-1)*c],m.addConstraint(l,f.create(u.extend({bodyA:E,bodyB:w},p)))),v&&C<c-1&&(E=g[C+1+(x-1)*c],m.addConstraint(l,f.create(u.extend({bodyA:E,bodyB:w},p))))}return l.label+=" Mesh",l},o.pyramid=function(l,c,d,v,p,g,x){return o.stack(l,c,d,v,p,g,function(C,P,w,E,b,O){var M=Math.min(v,Math.ceil(d/2)),A=b?b.bounds.max.x-b.bounds.min.x:0;if(!(E>M)){E=M-E;var F=E,R=d-1-E;if(!(w<F||w>R)){O===1&&h.translate(b,{x:(w+(d%2===1?1:-1))*A,y:0});var L=b?w*A:0;return x(l+L+w*p,P,w,E,b,O)}}})},o.newtonsCradle=function(l,c,d,v,p){for(var g=m.create({label:"Newtons Cradle"}),x=0;x<d;x++){var C=1.9,P=a.circle(l+x*(v*C),c+p,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=f.create({pointA:{x:l+x*(v*C),y:c},bodyB:P});m.addBody(g,P),m.addConstraint(g,w)}return g},o.car=function(l,c,d,v,p){var g=h.nextGroup(!0),x=20,C=-d*.5+x,P=d*.5-x,w=0,E=m.create({label:"Car"}),b=a.rectangle(l,c,d,v,{collisionFilter:{group:g},chamfer:{radius:v*.5},density:2e-4}),O=a.circle(l+C,c+w,p,{collisionFilter:{group:g},friction:.8}),M=a.circle(l+P,c+w,p,{collisionFilter:{group:g},friction:.8}),A=f.create({bodyB:b,pointB:{x:C,y:w},bodyA:O,stiffness:1,length:0}),F=f.create({bodyB:b,pointB:{x:P,y:w},bodyA:M,stiffness:1,length:0});return m.addBody(E,b),m.addBody(E,O),m.addBody(E,M),m.addConstraint(E,A),m.addConstraint(E,F),E},o.softBody=function(l,c,d,v,p,g,x,C,P,w){P=u.extend({inertia:1/0},P),w=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var E=o.stack(l,c,d,v,p,g,function(b,O){return a.circle(b,O,C,P)});return o.mesh(E,d,v,x,w),E.label="Soft Body",E}})()},66615:(r,T,s)=>{var o={};r.exports=o;var m=s(31725),f=s(53402);(function(){o.fromVertices=function(u){for(var h={},a=0;a<u.length;a++){var l=(a+1)%u.length,c=m.normalise({x:u[l].y-u[a].y,y:u[a].x-u[l].x}),d=c.y===0?1/0:c.x/c.y;d=d.toFixed(3).toString(),h[d]=c}return f.values(h)},o.rotate=function(u,h){if(h!==0)for(var a=Math.cos(h),l=Math.sin(h),c=0;c<u.length;c++){var d=u[c],v;v=d.x*a-d.y*l,d.y=d.x*l+d.y*a,d.x=v}}})()},15647:r=>{var T={};r.exports=T,function(){T.create=function(s){var o={min:{x:0,y:0},max:{x:0,y:0}};return s&&T.update(o,s),o},T.update=function(s,o,m){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var f=0;f<o.length;f++){var u=o[f];u.x>s.max.x&&(s.max.x=u.x),u.x<s.min.x&&(s.min.x=u.x),u.y>s.max.y&&(s.max.y=u.y),u.y<s.min.y&&(s.min.y=u.y)}m&&(m.x>0?s.max.x+=m.x:s.min.x+=m.x,m.y>0?s.max.y+=m.y:s.min.y+=m.y)},T.contains=function(s,o){return o.x>=s.min.x&&o.x<=s.max.x&&o.y>=s.min.y&&o.y<=s.max.y},T.overlaps=function(s,o){return s.min.x<=o.max.x&&s.max.x>=o.min.x&&s.max.y>=o.min.y&&s.min.y<=o.max.y},T.translate=function(s,o){s.min.x+=o.x,s.max.x+=o.x,s.min.y+=o.y,s.max.y+=o.y},T.shift=function(s,o){var m=s.max.x-s.min.x,f=s.max.y-s.min.y;s.min.x=o.x,s.max.x=o.x+m,s.min.y=o.y,s.max.y=o.y+f},T.wrap=function(s,o,m){var f=null,u=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(s.min.x>o.max.x?f=o.min.x-s.max.x:s.max.x<o.min.x&&(f=o.max.x-s.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(s.min.y>o.max.y?u=o.min.y-s.max.y:s.max.y<o.min.y&&(u=o.max.y-s.min.y)),f!==null||u!==null)return{x:f||0,y:u||0}}}()},74058:(r,T,s)=>{var o={};r.exports=o,s(15647);var m=s(53402);(function(){o.pathToVertices=function(f,u){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,a,l,c,d,v,p,g,x,C,P=[],w,E,b=0,O=0,M=0;u=u||15;var A=function(R,L,D){var I=D%2===1&&D>1;if(!x||R!=x.x||L!=x.y){x&&I?(w=x.x,E=x.y):(w=0,E=0);var z={x:w+R,y:E+L};(I||!x)&&(x=z),P.push(z),O=w+R,M=E+L}},F=function(R){var L=R.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":O=R.x,M=R.y;break;case"H":O=R.x;break;case"V":M=R.y;break}A(O,M,R.pathSegType)}};for(o._svgPathToAbsolute(f),l=f.getTotalLength(),v=[],h=0;h<f.pathSegList.numberOfItems;h+=1)v.push(f.pathSegList.getItem(h));for(p=v.concat();b<l;){if(C=f.getPathSegAtLength(b),d=v[C],d!=g){for(;p.length&&p[0]!=d;)F(p.shift());g=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=f.getPointAtLength(b),A(c.x,c.y,0);break}b+=u}for(h=0,a=p.length;h<a;++h)F(p[h]);return P},o._svgPathToAbsolute=function(f){for(var u,h,a,l,c,d,v=f.pathSegList,p=0,g=0,x=v.numberOfItems,C=0;C<x;++C){var P=v.getItem(C),w=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in P&&(p=P.x),"y"in P&&(g=P.y);else switch("x1"in P&&(a=p+P.x1),"x2"in P&&(c=p+P.x2),"y1"in P&&(l=g+P.y1),"y2"in P&&(d=g+P.y2),"x"in P&&(p+=P.x),"y"in P&&(g+=P.y),w){case"m":v.replaceItem(f.createSVGPathSegMovetoAbs(p,g),C);break;case"l":v.replaceItem(f.createSVGPathSegLinetoAbs(p,g),C);break;case"h":v.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(p),C);break;case"v":v.replaceItem(f.createSVGPathSegLinetoVerticalAbs(g),C);break;case"c":v.replaceItem(f.createSVGPathSegCurvetoCubicAbs(p,g,a,l,c,d),C);break;case"s":v.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(p,g,c,d),C);break;case"q":v.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(p,g,a,l),C);break;case"t":v.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),C);break;case"a":v.replaceItem(f.createSVGPathSegArcAbs(p,g,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),C);break;case"z":case"Z":p=u,g=h;break}(w=="M"||w=="m")&&(u=p,h=g)}}})()},31725:r=>{var T={};r.exports=T,function(){T.create=function(s,o){return{x:s||0,y:o||0}},T.clone=function(s){return{x:s.x,y:s.y}},T.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},T.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},T.rotate=function(s,o,m){var f=Math.cos(o),u=Math.sin(o);m||(m={});var h=s.x*f-s.y*u;return m.y=s.x*u+s.y*f,m.x=h,m},T.rotateAbout=function(s,o,m,f){var u=Math.cos(o),h=Math.sin(o);f||(f={});var a=m.x+((s.x-m.x)*u-(s.y-m.y)*h);return f.y=m.y+((s.x-m.x)*h+(s.y-m.y)*u),f.x=a,f},T.normalise=function(s){var o=T.magnitude(s);return o===0?{x:0,y:0}:{x:s.x/o,y:s.y/o}},T.dot=function(s,o){return s.x*o.x+s.y*o.y},T.cross=function(s,o){return s.x*o.y-s.y*o.x},T.cross3=function(s,o,m){return(o.x-s.x)*(m.y-s.y)-(o.y-s.y)*(m.x-s.x)},T.add=function(s,o,m){return m||(m={}),m.x=s.x+o.x,m.y=s.y+o.y,m},T.sub=function(s,o,m){return m||(m={}),m.x=s.x-o.x,m.y=s.y-o.y,m},T.mult=function(s,o){return{x:s.x*o,y:s.y*o}},T.div=function(s,o){return{x:s.x/o,y:s.y/o}},T.perp=function(s,o){return o=o===!0?-1:1,{x:o*-s.y,y:o*s.x}},T.neg=function(s){return{x:-s.x,y:-s.y}},T.angle=function(s,o){return Math.atan2(o.y-s.y,o.x-s.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(r,T,s)=>{var o={};r.exports=o;var m=s(31725),f=s(53402);(function(){o.create=function(u,h){for(var a=[],l=0;l<u.length;l++){var c=u[l],d={x:c.x,y:c.y,index:l,body:h,isInternal:!1};a.push(d)}return a},o.fromPath=function(u,h){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,l=[];return u.replace(a,function(c,d,v){l.push({x:parseFloat(d),y:parseFloat(v)})}),o.create(l,h)},o.centre=function(u){for(var h=o.area(u,!0),a={x:0,y:0},l,c,d,v=0;v<u.length;v++)d=(v+1)%u.length,l=m.cross(u[v],u[d]),c=m.mult(m.add(u[v],u[d]),l),a=m.add(a,c);return m.div(a,6*h)},o.mean=function(u){for(var h={x:0,y:0},a=0;a<u.length;a++)h.x+=u[a].x,h.y+=u[a].y;return m.div(h,u.length)},o.area=function(u,h){for(var a=0,l=u.length-1,c=0;c<u.length;c++)a+=(u[l].x-u[c].x)*(u[l].y+u[c].y),l=c;return h?a/2:Math.abs(a)/2},o.inertia=function(u,h){for(var a=0,l=0,c=u,d,v,p=0;p<c.length;p++)v=(p+1)%c.length,d=Math.abs(m.cross(c[v],c[p])),a+=d*(m.dot(c[v],c[v])+m.dot(c[v],c[p])+m.dot(c[p],c[p])),l+=d;return h/6*(a/l)},o.translate=function(u,h,a){a=typeof a<"u"?a:1;var l=u.length,c=h.x*a,d=h.y*a,v;for(v=0;v<l;v++)u[v].x+=c,u[v].y+=d;return u},o.rotate=function(u,h,a){if(h!==0){var l=Math.cos(h),c=Math.sin(h),d=a.x,v=a.y,p=u.length,g,x,C,P;for(P=0;P<p;P++)g=u[P],x=g.x-d,C=g.y-v,g.x=d+(x*l-C*c),g.y=v+(x*c+C*l);return u}},o.contains=function(u,h){for(var a=h.x,l=h.y,c=u.length,d=u[c-1],v,p=0;p<c;p++){if(v=u[p],(a-d.x)*(v.y-d.y)+(l-d.y)*(d.x-v.x)>0)return!1;d=v}return!0},o.scale=function(u,h,a,l){if(h===1&&a===1)return u;l=l||o.centre(u);for(var c,d,v=0;v<u.length;v++)c=u[v],d=m.sub(c,l),u[v].x=l.x+d.x*h,u[v].y=l.y+d.y*a;return u},o.chamfer=function(u,h,a,l,c){typeof h=="number"?h=[h]:h=h||[8],a=typeof a<"u"?a:-1,l=l||2,c=c||14;for(var d=[],v=0;v<u.length;v++){var p=u[v-1>=0?v-1:u.length-1],g=u[v],x=u[(v+1)%u.length],C=h[v<h.length?v:h.length-1];if(C===0){d.push(g);continue}var P=m.normalise({x:g.y-p.y,y:p.x-g.x}),w=m.normalise({x:x.y-g.y,y:g.x-x.x}),E=Math.sqrt(2*Math.pow(C,2)),b=m.mult(f.clone(P),C),O=m.normalise(m.mult(m.add(P,w),.5)),M=m.sub(g,m.mult(O,E)),A=a;a===-1&&(A=Math.pow(C,.32)*1.75),A=f.clamp(A,l,c),A%2===1&&(A+=1);for(var F=Math.acos(m.dot(P,w)),R=F/A,L=0;L<A;L++)d.push(m.add(m.rotate(b,R*L),M))}return d},o.clockwiseSort=function(u){var h=o.mean(u);return u.sort(function(a,l){return m.angle(h,a)-m.angle(h,l)}),u},o.isConvex=function(u){var h=0,a=u.length,l,c,d,v;if(a<3)return null;for(l=0;l<a;l++)if(c=(l+1)%a,d=(l+2)%a,v=(u[c].x-u[l].x)*(u[d].y-u[c].y),v-=(u[c].y-u[l].y)*(u[d].x-u[c].x),v<0?h|=1:v>0&&(h|=2),h===3)return!1;return h!==0?!0:null},o.hull=function(u){var h=[],a=[],l,c;for(u=u.slice(0),u.sort(function(d,v){var p=d.x-v.x;return p!==0?p:d.y-v.y}),c=0;c<u.length;c+=1){for(l=u[c];a.length>=2&&m.cross3(a[a.length-2],a[a.length-1],l)<=0;)a.pop();a.push(l)}for(c=u.length-1;c>=0;c-=1){for(l=u[c];h.length>=2&&m.cross3(h[h.length-2],h[h.length-1],l)<=0;)h.pop();h.push(l)}return h.pop(),a.pop(),h.concat(a)}})()},55973:r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:F,quickDecomp:I,isSimple:L,removeCollinearPoints:z,removeDuplicatePoints:U,makeCCW:x};function T(N,X,B){B=B||0;var V=[0,0],k,j,$,J,Z,_,it;return k=N[1][1]-N[0][1],j=N[0][0]-N[1][0],$=k*N[0][0]+j*N[0][1],J=X[1][1]-X[0][1],Z=X[0][0]-X[1][0],_=J*X[0][0]+Z*X[0][1],it=k*Z-J*j,H(it,0,B)||(V[0]=(Z*$-j*_)/it,V[1]=(k*_-J*$)/it),V}function s(N,X,B,V){var k=X[0]-N[0],j=X[1]-N[1],$=V[0]-B[0],J=V[1]-B[1];if($*j-J*k===0)return!1;var Z=(k*(B[1]-N[1])+j*(N[0]-B[0]))/($*j-J*k),_=($*(N[1]-B[1])+J*(B[0]-N[0]))/(J*k-$*j);return Z>=0&&Z<=1&&_>=0&&_<=1}function o(N,X,B){return(X[0]-N[0])*(B[1]-N[1])-(B[0]-N[0])*(X[1]-N[1])}function m(N,X,B){return o(N,X,B)>0}function f(N,X,B){return o(N,X,B)>=0}function u(N,X,B){return o(N,X,B)<0}function h(N,X,B){return o(N,X,B)<=0}var a=[],l=[];function c(N,X,B,V){if(V){var k=a,j=l;k[0]=X[0]-N[0],k[1]=X[1]-N[1],j[0]=B[0]-X[0],j[1]=B[1]-X[1];var $=k[0]*j[0]+k[1]*j[1],J=Math.sqrt(k[0]*k[0]+k[1]*k[1]),Z=Math.sqrt(j[0]*j[0]+j[1]*j[1]),_=Math.acos($/(J*Z));return _<V}else return o(N,X,B)===0}function d(N,X){var B=X[0]-N[0],V=X[1]-N[1];return B*B+V*V}function v(N,X){var B=N.length;return N[X<0?X%B+B:X%B]}function p(N){N.length=0}function g(N,X,B,V){for(var k=B;k<V;k++)N.push(X[k])}function x(N){for(var X=0,B=N,V=1;V<N.length;++V)(B[V][1]<B[X][1]||B[V][1]===B[X][1]&&B[V][0]>B[X][0])&&(X=V);return m(v(N,X-1),v(N,X),v(N,X+1))?!1:(C(N),!0)}function C(N){for(var X=[],B=N.length,V=0;V!==B;V++)X.push(N.pop());for(var V=0;V!==B;V++)N[V]=X[V]}function P(N,X){return u(v(N,X-1),v(N,X),v(N,X+1))}var w=[],E=[];function b(N,X,B){var V,k,j=w,$=E;if(f(v(N,X+1),v(N,X),v(N,B))&&h(v(N,X-1),v(N,X),v(N,B)))return!1;k=d(v(N,X),v(N,B));for(var J=0;J!==N.length;++J)if(!((J+1)%N.length===X||J===X)&&f(v(N,X),v(N,B),v(N,J+1))&&h(v(N,X),v(N,B),v(N,J))&&(j[0]=v(N,X),j[1]=v(N,B),$[0]=v(N,J),$[1]=v(N,J+1),V=T(j,$),d(v(N,X),V)<k))return!1;return!0}function O(N,X,B){for(var V=0;V!==N.length;++V)if(!(V===X||V===B||(V+1)%N.length===X||(V+1)%N.length===B)&&s(v(N,X),v(N,B),v(N,V),v(N,V+1)))return!1;return!0}function M(N,X,B,V){var k=V||[];if(p(k),X<B)for(var j=X;j<=B;j++)k.push(N[j]);else{for(var j=0;j<=B;j++)k.push(N[j]);for(var j=X;j<N.length;j++)k.push(N[j])}return k}function A(N){for(var X=[],B=[],V=[],k=[],j=Number.MAX_VALUE,$=0;$<N.length;++$)if(P(N,$)){for(var J=0;J<N.length;++J)if(b(N,$,J)){B=A(M(N,$,J,k)),V=A(M(N,J,$,k));for(var Z=0;Z<V.length;Z++)B.push(V[Z]);B.length<j&&(X=B,j=B.length,X.push([v(N,$),v(N,J)]))}}return X}function F(N){var X=A(N);return X.length>0?R(N,X):[N]}function R(N,X){if(X.length===0)return[N];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var B=[N],V=0;V<X.length;V++)for(var k=X[V],j=0;j<B.length;j++){var $=B[j],J=R($,k);if(J){B.splice(j,1),B.push(J[0],J[1]);break}}return B}else{var k=X,V=N.indexOf(k[0]),j=N.indexOf(k[1]);return V!==-1&&j!==-1?[M(N,V,j),M(N,j,V)]:!1}}function L(N){var X=N,B;for(B=0;B<X.length-1;B++)for(var V=0;V<B-1;V++)if(s(X[B],X[B+1],X[V],X[V+1]))return!1;for(B=1;B<X.length-2;B++)if(s(X[0],X[X.length-1],X[B],X[B+1]))return!1;return!0}function D(N,X,B,V,k){k=k||0;var j=X[1]-N[1],$=N[0]-X[0],J=j*N[0]+$*N[1],Z=V[1]-B[1],_=B[0]-V[0],it=Z*B[0]+_*B[1],at=j*_-Z*$;return H(at,0,k)?[0,0]:[(_*J-$*it)/at,(j*it-Z*J)/at]}function I(N,X,B,V,k,j,$){j=j||100,$=$||0,k=k||25,X=typeof X<"u"?X:[],B=B||[],V=V||[];var J=[0,0],Z=[0,0],_=[0,0],it=0,at=0,st=0,ft=0,ct=0,ut=0,Et=0,Mt=[],At=[],vt=N,Ct=N;if(Ct.length<3)return X;if($++,$>j)return console.warn("quickDecomp: max level ("+j+") reached."),X;for(var St=0;St<N.length;++St)if(P(vt,St)){B.push(vt[St]),it=at=Number.MAX_VALUE;for(var kt=0;kt<N.length;++kt)m(v(vt,St-1),v(vt,St),v(vt,kt))&&h(v(vt,St-1),v(vt,St),v(vt,kt-1))&&(_=D(v(vt,St-1),v(vt,St),v(vt,kt),v(vt,kt-1)),u(v(vt,St+1),v(vt,St),_)&&(st=d(vt[St],_),st<at&&(at=st,Z=_,ut=kt))),m(v(vt,St+1),v(vt,St),v(vt,kt+1))&&h(v(vt,St+1),v(vt,St),v(vt,kt))&&(_=D(v(vt,St+1),v(vt,St),v(vt,kt),v(vt,kt+1)),m(v(vt,St-1),v(vt,St),_)&&(st=d(vt[St],_),st<it&&(it=st,J=_,ct=kt)));if(ut===(ct+1)%N.length)_[0]=(Z[0]+J[0])/2,_[1]=(Z[1]+J[1])/2,V.push(_),St<ct?(g(Mt,vt,St,ct+1),Mt.push(_),At.push(_),ut!==0&&g(At,vt,ut,vt.length),g(At,vt,0,St+1)):(St!==0&&g(Mt,vt,St,vt.length),g(Mt,vt,0,ct+1),Mt.push(_),At.push(_),g(At,vt,ut,St+1));else{if(ut>ct&&(ct+=N.length),ft=Number.MAX_VALUE,ct<ut)return X;for(var kt=ut;kt<=ct;++kt)f(v(vt,St-1),v(vt,St),v(vt,kt))&&h(v(vt,St+1),v(vt,St),v(vt,kt))&&(st=d(v(vt,St),v(vt,kt)),st<ft&&O(vt,St,kt)&&(ft=st,Et=kt%N.length));St<Et?(g(Mt,vt,St,Et+1),Et!==0&&g(At,vt,Et,Ct.length),g(At,vt,0,St+1)):(St!==0&&g(Mt,vt,St,Ct.length),g(Mt,vt,0,Et+1),g(At,vt,Et,St+1))}return Mt.length<At.length?(I(Mt,X,B,V,k,j,$),I(At,X,B,V,k,j,$)):(I(At,X,B,V,k,j,$),I(Mt,X,B,V,k,j,$)),X}return X.push(N),X}function z(N,X){for(var B=0,V=N.length-1;N.length>3&&V>=0;--V)c(v(N,V-1),v(N,V),v(N,V+1),X)&&(N.splice(V%N.length,1),B++);return B}function U(N,X){for(var B=N.length-1;B>=1;--B)for(var V=N[B],k=B-1;k>=0;--k)if(W(V,N[k],X)){N.splice(B,1);continue}}function H(N,X,B){return B=B||0,Math.abs(N-X)<=B}function W(N,X,B){return H(N[0],X[0],B)&&H(N[1],X[1],B)}},52018:(r,T,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(83419),m=new o({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=m},42363:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=T},37277:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},s={},o={};o.register=function(m,f,u,h){h===void 0&&(h=!1),T[m]={plugin:f,mapping:u,custom:h}},o.registerCustom=function(m,f,u,h){s[m]={plugin:f,mapping:u,data:h}},o.hasCore=function(m){return T.hasOwnProperty(m)},o.hasCustom=function(m){return s.hasOwnProperty(m)},o.getCore=function(m){return T[m]},o.getCustom=function(m){return s[m]},o.getCustomClass=function(m){return s.hasOwnProperty(m)?s[m].plugin:null},o.remove=function(m){T.hasOwnProperty(m)&&delete T[m]},o.removeCustom=function(m){s.hasOwnProperty(m)&&delete s[m]},o.destroyCorePlugins=function(){for(var m in T)T.hasOwnProperty(m)&&delete T[m]},o.destroyCustomPlugins=function(){for(var m in s)s.hasOwnProperty(m)&&delete s[m]},r.exports=o},77332:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(8443),f=s(50792),u=s(74099),h=s(44603),a=s(39429),l=s(95540),c=s(37277),d=s(72905),v=s(8054),p=new o({Extends:f,initialize:function(x){f.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted||x.config.renderType===v.HEADLESS?this.boot():x.events.once(m.BOOT,this.boot,this)},boot:function(){var g,x,C,P,w,E,b,O=this.game.config,M=O.installGlobalPlugins;for(M=M.concat(this._pendingGlobal),g=0;g<M.length;g++)x=M[g],C=l(x,"key",null),P=l(x,"plugin",null),w=l(x,"start",!1),E=l(x,"mapping",null),b=l(x,"data",null),C&&(P?this.install(C,P,w,E,b):console.warn("Missing `plugin` for key: "+C));for(M=O.installScenePlugins,M=M.concat(this._pendingScene),g=0;g<M.length;g++)x=M[g],C=l(x,"key",null),P=l(x,"plugin",null),E=l(x,"mapping",null),C&&(P?this.installScenePlugin(C,P,E):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(g,x,C){var P,w,E,b=this.game,O=g.scene,M=g.settings.map,A=g.settings.isBooted;for(P=0;P<x.length;P++)w=x[P],b[w]?(g[w]=b[w],M.hasOwnProperty(w)&&(O[M[w]]=g[w])):w==="game"&&M.hasOwnProperty(w)&&(O[M[w]]=b);for(var F=0;F<C.length;F++)for(E=C[F],P=0;P<E.length;P++)if(w=E[P],!!c.hasCore(w)){var R=c.getCore(w),L=R.mapping,D=new R.plugin(O,this,L);g[L]=D,R.custom?O[L]=D:M.hasOwnProperty(L)&&(O[M[L]]=D),A&&D.boot()}for(E=this.plugins,P=0;P<E.length;P++){var I=E[P];I.mapping&&(O[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var g=this.game.config.defaultPlugins;return g=g.concat(this.scenePlugins),g},installScenePlugin:function(g,x,C,P,w){if(w===void 0&&(w=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+g);return}if(c.hasCore(g)||c.register(g,x,C,!0),this.scenePlugins.indexOf(g)===-1)this.scenePlugins.push(g);else if(!w&&c.hasCore(g)){console.warn("Scene Plugin key in use: "+g);return}if(P){var E=new x(P,this,g);P.sys[g]=E,C&&C!==""&&(P[C]=E),E.boot()}},install:function(g,x,C,P,w){if(C===void 0&&(C=!1),P===void 0&&(P=null),w===void 0&&(w=null),typeof x!="function")return console.warn("Invalid Plugin: "+g),null;if(c.hasCustom(g))return console.warn("Plugin key in use: "+g),null;if(P!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:g,plugin:x,start:C,mapping:P,data:w});else if(c.registerCustom(g,x,P,w),C)return this.start(g);return null},getIndex:function(g){for(var x=this.plugins,C=0;C<x.length;C++){var P=x[C];if(P.key===g)return C}return-1},getEntry:function(g){var x=this.getIndex(g);if(x!==-1)return this.plugins[x]},isActive:function(g){var x=this.getEntry(g);return x&&x.active},start:function(g,x){x===void 0&&(x=g);var C=this.getEntry(x);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(g,x)),C?C.plugin:null},createEntry:function(g,x){var C=c.getCustom(g);if(C){var P=new C.plugin(this);C={key:x,plugin:P,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),P.init(C.data),P.start()}return C},stop:function(g){var x=this.getEntry(g);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(g,x){x===void 0&&(x=!0);var C=this.getEntry(g);if(C)return C.plugin;var P=this.getClass(g);return P&&x?(C=this.createEntry(g,g),C?C.plugin:null):P||null},getClass:function(g){return c.getCustomClass(g)},removeGlobalPlugin:function(g){var x=this.getEntry(g);x&&d(this.plugins,x),c.removeCustom(g)},removeScenePlugin:function(g){d(this.scenePlugins,g),c.remove(g)},registerGameObject:function(g,x,C){return x&&a.register(g,x),C&&h.register(g,C),this},removeGameObject:function(g,x,C){return x===void 0&&(x=!0),C===void 0&&(C=!0),x&&a.remove(g),C&&h.remove(g),this},registerFileType:function(g,x,C){u.register(g,x),C&&C.sys.load&&(C.sys.load[g]=x)},destroy:function(){for(var g=0;g<this.plugins.length;g++)this.plugins[g].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=p},45145:(r,T,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=s(52018),m=s(83419),f=s(44594),u=new m({Extends:o,initialize:function(a,l,c){o.call(this,l),this.scene=a,this.systems=a.sys,this.pluginKey=c,a.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=u},18922:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const T=performance.now(),s=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,m=(f,u)=>{const h=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(a>o){const l=this.mozFrameDelay||h.totalFrameDelay-s.totalFrameDelay||0,c=u-f;r(u,{presentationTime:u+l*1e3,expectedDisplayTime:u+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:a,processingDuration:l}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(l=>m(u,l))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>m(T,f)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},10312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=T},68627:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19715),m=s(32880),f=s(83419),u=s(8054),h=s(50792),a=s(92503),l=s(56373),c=s(97480),d=s(69442),v=s(8443),p=s(61340),g=new f({Extends:h,initialize:function(C){h.call(this);var P=C.config;this.config={clearBeforeRender:P.clearBeforeRender,backgroundColor:P.backgroundColor,antialias:P.antialias,roundPixels:P.roundPixels,transparent:P.transparent},this.game=C,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var w={alpha:P.transparent,desynchronized:P.desynchronized,willReadFrequently:!1};this.gameContext=P.context?P.context:this.gameCanvas.getContext("2d",w),this.currentContext=this.gameContext,this.antialias=P.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){var x=this.game;x.events.once(v.BOOT,function(){var C=this.config;if(!C.transparent){var P=this.gameContext,w=this.gameCanvas;P.fillStyle=C.backgroundColor.rgba,P.fillRect(0,0,w.width,w.height)}},this),x.textures.once(d.READY,this.boot,this)},boot:function(){var x=this.game,C=x.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,x.scale.on(c.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(x,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(x,C){this.width=x,this.height=C,this.emit(a.RESIZE,x,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,C=this.config,P=this.width,w=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),C.clearBeforeRender&&(x.clearRect(0,0,P,w),C.transparent||(x.fillStyle=C.backgroundColor.rgba,x.fillRect(0,0,P,w))),x.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(x,C,P){var w=C.length;this.emit(a.RENDER,x,P);var E=P.x,b=P.y,O=P.width,M=P.height,A=P.renderToTexture?P.context:x.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(E,b,O,M),A.clip()),P.emit(o.PRE_RENDER,P),this.currentContext=A;var F=P.mask;F&&F.preRenderCanvas(this,null,P._maskCamera),P.transparent||(A.fillStyle=P.backgroundColor.rgba,A.fillRect(E,b,O,M)),A.globalAlpha=P.alpha,A.globalCompositeOperation="source-over",this.drawCount+=w,P.renderToTexture&&P.emit(o.PRE_RENDER,P),P.matrix.copyToContext(A);for(var R=0;R<w;R++){var L=C[R];L.mask&&L.mask.preRenderCanvas(this,L,P),L.renderCanvas(this,L,P),L.mask&&L.mask.postRenderCanvas(this,L,P)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,P.flashEffect.postRenderCanvas(A),P.fadeEffect.postRenderCanvas(A),P.dirty=!1,F&&F.postRenderCanvas(this),A.restore(),P.renderToTexture&&(P.emit(o.POST_RENDER,P),P.renderToGame&&x.sys.context.drawImage(P.canvas,E,b)),P.emit(o.POST_RENDER,P)},postRender:function(){var x=this.gameContext;x.restore(),this.emit(a.POST_RENDER);var C=this.snapshotState;C.callback&&(m(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(x,C,P,w,E,b,O,M,A){P===void 0&&(P=!1),this.snapshotArea(w,E,b,O,C,M,A);var F=this.snapshotState;return F.getPixel=P,m(x,F),F.callback=null,this},snapshot:function(x,C,P){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,C,P)},snapshotArea:function(x,C,P,w,E,b,O){var M=this.snapshotState;return M.callback=E,M.type=b,M.encoder=O,M.getPixel=!1,M.x=x,M.y=C,M.width=Math.min(P,this.gameCanvas.width),M.height=Math.min(w,this.gameCanvas.height),this},snapshotPixel:function(x,C,P){return this.snapshotArea(x,C,1,1,P),this.snapshotState.getPixel=!0,this},batchSprite:function(x,C,P,w){var E=P.alpha*x.alpha;if(E!==0){var b=this.currentContext,O=this._tempMatrix1,M=this._tempMatrix2,A=C.canvasData,F=A.x,R=A.y,L=C.cutWidth,D=C.cutHeight,I=C.customPivot,z=C.source.resolution,U=x.displayOriginX,H=x.displayOriginY,W=-U+C.x,N=-H+C.y;if(x.isCropped){var X=x._crop;(X.flipX!==x.flipX||X.flipY!==x.flipY)&&C.updateCropUVs(X,x.flipX,x.flipY),L=X.cw,D=X.ch,F=X.cx,R=X.cy,W=-U+X.x,N=-H+X.y,x.flipX&&(W>=0?W=-(W+L):W<0&&(W=Math.abs(W)-L)),x.flipY&&(N>=0?N=-(N+D):N<0&&(N=Math.abs(N)-D))}var B=1,V=1;x.flipX&&(I||(W+=-C.realWidth+U*2),B=-1),x.flipY&&(I||(N+=-C.realHeight+H*2),V=-1);var k=x.x,j=x.y;if(P.roundPixels&&(k=Math.floor(k),j=Math.floor(j)),M.applyITRS(k,j,x.rotation,x.scaleX*B,x.scaleY*V),O.copyFrom(P.matrix),w?(O.multiplyWithOffset(w,-P.scrollX*x.scrollFactorX,-P.scrollY*x.scrollFactorY),M.e=k,M.f=j):(M.e-=P.scrollX*x.scrollFactorX,M.f-=P.scrollY*x.scrollFactorY),O.multiply(M),P.renderRoundPixels&&(O.e=Math.floor(O.e+.5),O.f=Math.floor(O.f+.5)),b.save(),O.setToContext(b),b.globalCompositeOperation=this.blendModes[x.blendMode],b.globalAlpha=E,b.imageSmoothingEnabled=!C.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,P),L>0&&D>0){var $=L/z,J=D/z;P.roundPixels&&(W=Math.floor(W+.5),N=Math.floor(N+.5),$+=.5,J+=.5),b.drawImage(C.source.image,F,R,L,D,W,N,$,J)}x.mask&&x.mask.postRenderCanvas(this,x,P),b.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=g},55830:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(89289),f=function(){var u=[],h=m.supportNewBlendModes,a="source-over";return u[o.NORMAL]=a,u[o.ADD]="lighter",u[o.MULTIPLY]=h?"multiply":a,u[o.SCREEN]=h?"screen":a,u[o.OVERLAY]=h?"overlay":a,u[o.DARKEN]=h?"darken":a,u[o.LIGHTEN]=h?"lighten":a,u[o.COLOR_DODGE]=h?"color-dodge":a,u[o.COLOR_BURN]=h?"color-burn":a,u[o.HARD_LIGHT]=h?"hard-light":a,u[o.SOFT_LIGHT]=h?"soft-light":a,u[o.DIFFERENCE]=h?"difference":a,u[o.EXCLUSION]=h?"exclusion":a,u[o.HUE]=h?"hue":a,u[o.SATURATION]=h?"saturation":a,u[o.COLOR]=h?"color":a,u[o.LUMINOSITY]=h?"luminosity":a,u[o.ERASE]="destination-out",u[o.SOURCE_IN]="source-in",u[o.SOURCE_OUT]="source-out",u[o.SOURCE_ATOP]="source-atop",u[o.DESTINATION_OVER]="destination-over",u[o.DESTINATION_IN]="destination-in",u[o.DESTINATION_OUT]="destination-out",u[o.DESTINATION_ATOP]="destination-atop",u[o.LIGHTER]="lighter",u[o.COPY]="copy",u[o.XOR]="xor",u};r.exports=f},20926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91296),m=function(f,u,h,a,l){var c=a.alpha*h.alpha;if(c<=0)return!1;var d=o(h,a,l).calc;return u.globalCompositeOperation=f.blendModes[h.blendMode],u.globalAlpha=c,u.save(),d.setToContext(u),u.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:f.antialias,!0};r.exports=m},63899:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="losewebgl"},6119:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},48070:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},15640:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},8912:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},87124:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="restorewebgl"},92503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(92503),Snapshot:s(89966)},r.exports.Canvas=s(55830),r.exports.WebGL=s(4159)},32880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=s(40987),f=s(95540),u=function(h,a){var l=f(a,"callback"),c=f(a,"type","image/png"),d=f(a,"encoder",.92),v=Math.abs(Math.round(f(a,"x",0))),p=Math.abs(Math.round(f(a,"y",0))),g=Math.floor(f(a,"width",h.width)),x=Math.floor(f(a,"height",h.height)),C=f(a,"getPixel",!1);if(C){var P=h.getContext("2d",{willReadFrequently:!1}),w=P.getImageData(v,p,1,1),E=w.data;l.call(null,new m(E[0],E[1],E[2],E[3]))}else if(v!==0||p!==0||g!==h.width||x!==h.height){var b=o.createWebGL(this,g,x),O=b.getContext("2d",{willReadFrequently:!0});g>0&&x>0&&O.drawImage(h,v,p,g,x,0,0,g,x);var M=new Image;M.onerror=function(){l.call(null),o.remove(b)},M.onload=function(){l.call(null,M),o.remove(b)},M.src=b.toDataURL(c,d)}else{var A=new Image;A.onerror=function(){l.call(null)},A.onload=function(){l.call(null,A)},A.src=h.toDataURL(c,d)}};r.exports=u},88815:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=s(40987),f=s(95540),u=function(h,a){var l=h,c=f(a,"callback"),d=f(a,"type","image/png"),v=f(a,"encoder",.92),p=Math.abs(Math.round(f(a,"x",0))),g=Math.abs(Math.round(f(a,"y",0))),x=f(a,"getPixel",!1),C=f(a,"isFramebuffer",!1),P=C?f(a,"bufferWidth",1):l.drawingBufferWidth,w=C?f(a,"bufferHeight",1):l.drawingBufferHeight;if(x){var E=new Uint8Array(4),b=C?g:w-g;l.readPixels(p,b,1,1,l.RGBA,l.UNSIGNED_BYTE,E),c.call(null,new m(E[0],E[1],E[2],E[3]))}else{var O=Math.floor(f(a,"width",P)),M=Math.floor(f(a,"height",w)),A=O*M*4,F=new Uint8Array(A);l.readPixels(p,w-g-M,O,M,l.RGBA,l.UNSIGNED_BYTE,F);for(var R=o.createWebGL(this,O,M),L=R.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,O,M),I=D.data,z=0;z<M;z++)for(var U=0;U<O;U++){var H=((M-z-1)*O+U)*4,W=C?A-(z*O+(O-U))*4:(z*O+U)*4;I[W+0]=F[H+0],I[W+1]=F[H+1],I[W+2]=F[H+2],I[W+3]=F[H+3]}L.putImageData(D,0,0);var N=new Image;N.onerror=function(){c.call(null),o.remove(R)},N.onload=function(){c.call(null,N),o.remove(R)},N.src=R.toDataURL(d,v)}};r.exports=u},89966:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(36060),f=s(90330),u=s(82264),h=s(95540),a=s(32302),l=s(63448),c=s(31302),d=s(58918),v=s(14811),p=s(92651),g=s(96569),x=s(56527),C=s(57516),P=s(43439),w=s(81041),E=s(12385),b=s(7589),O=s(95428),M=s(72905),A=new o({initialize:function(R){this.game=R.game,this.renderer=R,this.classes=new f([[m.UTILITY_PIPELINE,b],[m.MULTI_PIPELINE,C],[m.BITMAPMASK_PIPELINE,c],[m.SINGLE_PIPELINE,E],[m.ROPE_PIPELINE,w],[m.LIGHT_PIPELINE,g],[m.POINTLIGHT_PIPELINE,P],[m.MOBILE_PIPELINE,x]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,R,L){var D=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(h(F,"frameInc",32));var z=D.width,U=D.height,H=this.game.config.disablePreFX,W=this.game.config.disablePostFX;if(W||this.postPipelineClasses.setAll([[String(v.BARREL),d.Barrel],[String(v.BLOOM),d.Bloom],[String(v.BLUR),d.Blur],[String(v.BOKEH),d.Bokeh],[String(v.CIRCLE),d.Circle],[String(v.COLOR_MATRIX),d.ColorMatrix],[String(v.DISPLACEMENT),d.Displacement],[String(v.GLOW),d.Glow],[String(v.GRADIENT),d.Gradient],[String(v.PIXELATE),d.Pixelate],[String(v.SHADOW),d.Shadow],[String(v.SHINE),d.Shine],[String(v.VIGNETTE),d.Vignette],[String(v.WIPE),d.Wipe]]),!H){this.classes.set(m.FX_PIPELINE,p);for(var N=Math.min(z,U),X=Math.ceil(N/this.frameInc),B=1;B<X;B++){var V=B*this.frameInc;I.push(new a(D,V,V)),I.push(new a(D,V,V)),I.push(new a(D,V,V)),this.maxDimension=V}I.push(new a(D,z,U,1,0,!0,!0)),I.push(new a(D,z,U,1,0,!0,!0)),I.push(new a(D,z,U,1,0,!0,!0))}var k,j,$=this,J=this.game;if(this.classes.each(function(_,it){k=$.add(_,new it({game:J})),_===m.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=k,$.fullFrame1=k.fullFrame1,$.fullFrame2=k.fullFrame2,$.halfFrame1=k.halfFrame1,$.halfFrame2=k.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),H||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),F)for(j in F){var Z=F[j];k=new Z(J),k.name=j,k.isPostFX?this.postPipelineClasses.set(j,Z):this.has(j)||(this.classes.set(j,Z),this.add(j,k))}this.default=this.get(R),L&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var R=this.get(F);return R&&(this.default=R),R},add:function(F,R){if(R.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(F)?console.warn("Pipeline exists: "+F):(R.name=F,R.manager=this,L.set(F,R)),R.hasBooted||R.boot(),D.width!==0&&D.height!==0&&!R.isPreFX&&R.resize(D.width,D.height),R},addPostPipeline:function(F,R){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,R)},flush:function(){this.current&&this.current.flush()},has:function(F){var R=this.pipelines;return typeof F=="string"?R.has(F):!!R.contains(F)},get:function(F){var R=this.pipelines;if(typeof F=="string")return R.get(F);if(R.contains(F))return F},getPostPipeline:function(F,R,L){var D=this.postPipelineClasses,I,z="",U=typeof F;if(U==="string"||U==="number"?(I=D.get(F),z=F):U==="function"?(D.contains(F)&&(I=F),z=F.name):U==="object"&&(I=D.get(F.name),z=F.name),I){var H=new I(this.game,L);return H.name=z,R&&(H.gameObject=R),this.postPipelineInstances.push(H),H}},removePostPipeline:function(F){M(this.postPipelineInstances,F)},remove:function(F,R,L){R===void 0&&(R=!0),L===void 0&&(L=!0),this.pipelines.delete(F),R&&this.classes.delete(F),L&&this.postPipelineClasses.delete(F)},set:function(F,R,L){if(!F.isPostFX)return this.isCurrent(F,L)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(L)),F.updateProjectionMatrix(),F.onBind(R),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,L=R.length-1;L>=0;L--){var D=R[L];D.active&&D.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,L=0;L<R.length;L++){var D=R[L];D.active&&D.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,L=R.length-1;L>=0;L--){var D=R[L];D.active&&D.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var R=F.postPipelines,L=0;L<R.length;L++){var D=R[L];D.active&&D.postBatch(F)}}},isCurrent:function(F,R){var L=this.renderer,D=this.current;return D&&!R&&(R=D.currentShader),!(D!==F||R.program!==L.currentProgram)},copyFrame:function(F,R,L,D,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,R,L,D,I),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,R,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,R,L,D),this},blendFrames:function(F,R,L,D,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,R,L,D,I),this},blendFramesAdditive:function(F,R,L,D,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,R,L,D,I),this},clearFrame:function(F,R){return this.UTILITY_PIPELINE.clearFrame(F,R),this},blitFrame:function(F,R,L,D,I,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,R,L,D,I,z),this},copyFrameRect:function(F,R,L,D,I,z,U,H){return this.UTILITY_PIPELINE.copyFrameRect(F,R,L,D,I,z,U,H),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,R){R.restoreContext()}),O(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var R=this.renderer,L=R.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),R.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,R.width,R.height),R.currentProgram=null,R.setBlendMode(0,!0);var D=R.vaoExtension;D&&D.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var z in I)I[z].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var R=F.vaoExtension;R&&R.bindVertexArrayOES(null)},getRenderTarget:function(F){var R=this.renderTargets,L=3;if(F>this.maxDimension)return this.targetIndex=R.length-L,R[this.targetIndex];var D=(l(F,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,R[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=A},32302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(92503),f=new o({initialize:function(h,a,l,c,d,v,p,g,x){c===void 0&&(c=1),d===void 0&&(d=0),v===void 0&&(v=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),x===void 0&&(x=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=d,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=x,this.init(a,l),p?this.renderer.on(m.RESIZE,this.resize,this):this.autoResize=!1},init:function(u,h){var a=this.renderer;this.texture=a.createTextureFromSource(null,u,h,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,h,this.texture,this.hasDepthBuffer),this.width=u,this.height=h},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,h){if(this.autoResize&&this.willResize(u,h)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,u,h,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(u,h,this.texture,this.hasDepthBuffer),this.width=u,this.height=h}return this},willResize:function(u,h){return typeof u!="number"||typeof h!="number"?!1:(u=Math.round(u*this.scale),h=Math.round(h*this.scale),u=Math.max(u,1),h=Math.max(h,1),u!==this.width||h!==this.height)},bind:function(u,h,a){u===void 0&&(u=!1);var l=this.renderer;if(u&&l.flush(),h&&a&&this.resize(h,a),l.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}l.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(u,h,a,l){var c=this.renderer,d=c.gl;c.pushFramebuffer(this.framebuffer),u!==void 0&&h!==void 0&&a!==void 0&&l!==void 0?(d.enable(d.SCISSOR_TEST),d.scissor(u,h,a,l)):d.disable(d.SCISSOR_TEST),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var h=this.renderer;return u&&h.flush(),h.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(m.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=f},70554:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(T,s,o,m){var f=(T*255|0)&255,u=(s*255|0)&255,h=(o*255|0)&255,a=(m*255|0)&255;return(a<<24|f<<16|u<<8|h)>>>0},getTintAppendFloatAlpha:function(T,s){var o=(s*255|0)&255;return(o<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,s){var o=(T>>16|0)&255,m=(T>>8|0)&255,f=(T|0)&255,u=(s*255|0)&255;return(u<<24|f<<16|m<<8|o)>>>0},getFloatsFromUintRGB:function(T){var s=(T>>16|0)&255,o=(T>>8|0)&255,m=(T|0)&255;return[s/255,o/255,m/255]},checkShaderMax:function(T,s){var o=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?o:Math.min(o,s)},parseFragmentShaderMaxTextures:function(T,s){if(!T)return"";for(var o="",m=0;m<s;m++)m>0&&(o+=`
	else `),m<s-1&&(o+="if (outTexId < "+m+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",o+=`
	}`;return T=T.replace(/%count%/gi,s.toString()),T.replace(/%forloop%/gi,o)},setGlowQuality:function(T,s,o,m){return o===void 0&&(o=s.config.glowFXQuality),m===void 0&&(m=s.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/o/m).toFixed(7)),T=T.replace(/__DIST__/gi,m.toFixed(0)+".0"),T}}},29100:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(62644),f=s(50792),u=s(77085),h=s(95540),a=s(37867),l=s(92503),c=s(32302),d=s(70554),v=s(38683),p=new o({Extends:f,initialize:function(x){f.call(this);var C=x.game,P=C.renderer,w=P.gl;this.name=h(x,"name","WebGLPipeline"),this.game=C,this.renderer=P,this.manager,this.gl=w,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(x,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(x,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=x,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(x,"resizeUniform","")},boot:function(){var g,x=this.gl,C=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var w=this.renderTargets,E=h(C,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var b=P.width,O=P.height;if(typeof E=="number")for(g=0;g<E;g++)w.push(new c(P,b,O,1,0,!0));else if(Array.isArray(E))for(g=0;g<E.length;g++){var M=h(E[g],"scale",1),A=h(E[g],"minFilter",0),F=h(E[g],"autoClear",1),R=h(E[g],"autoResize",!1),L=h(E[g],"width",null),D=h(E[g],"height",L);L?w.push(new c(P,L,D,1,A,F,R)):w.push(new c(P,b,O,M,A,F,R))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(C);var I=this.shaders,z=0;for(g=0;g<I.length;g++)I[g].vertexSize>z&&(z=I[g].vertexSize);var U=h(C,"batchSize",P.config.batchSize);this.vertexCapacity=U*6;var H=new ArrayBuffer(this.vertexCapacity*z);this.vertexData=H,this.bytes=new Uint8Array(H),this.vertexViewF32=new Float32Array(H),this.vertexViewU32=new Uint32Array(H);var W=h(C,"vertices",null);for(W?(this.vertexViewF32.set(W),this.vertexBuffer=P.createVertexBuffer(H,x.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(H.byteLength,x.DYNAMIC_DRAW),this.setVertexBuffer(),g=I.length-1;g>=0;g--)I[g].rebind();this.hasBooted=!0,P.on(l.RESIZE,this.resize,this),P.on(l.PRE_RENDER,this.onPreRender,this),P.on(l.RENDER,this.onRender,this),P.on(l.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,x,C){var P=this.renderer;if(g!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(C);w&&!x&&(x=!0),g.bind(x,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var x=this.shaders,C=0;C<x.length;C++)if(x[C].name===g)return x[C]},setShadersFromConfig:function(g){var x,C=this.shaders,P=this.renderer;for(x=0;x<C.length;x++)C[x].destroy();var w="vertShader",E="fragShader",b="attributes",O=h(g,w,null),M=d.parseFragmentShaderMaxTextures(h(g,E,null),P.maxTextures),A=h(g,b,null),F=h(g,"shaders",[]),R=F.length;if(R===0)O&&M&&(this.shaders=[new v(this,"default",O,M,m(A))]);else{var L=[];for(x=0;x<R;x++){var D=F[x],I,z,U,H;if(typeof D=="string"?(I="default",z=O,U=d.parseFragmentShaderMaxTextures(D,P.maxTextures),H=A):(I=h(D,"name","default"),z=h(D,w,O),U=d.parseFragmentShaderMaxTextures(h(D,E,M),P.maxTextures),H=h(D,b,A)),I==="default"){var W=U.split(`
`),N=W[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}z&&U&&L.push(new v(this,I,z,U,m(H)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var x=this.currentBatch;x&&(x.texture.push(g),x.unit++,x.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var x=this.currentBatch,C=x.texture.indexOf(g);return C===-1?x.texture.length===this.renderer.maxTextures?this.createBatch(g):(x.unit++,x.maxUnit++,x.texture.push(g),this.currentUnit=x.unit,this.currentTexture=g,x.unit):(this.currentUnit=C,this.currentTexture=g,C)},setGameObject:function(g,x){return x===void 0&&(x=g.frame),this.pushBatch(x.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,x){(g!==this.width||x!==this.height)&&this.flush(),this.width=g,this.height=x;for(var C=this.renderTargets,P=0;P<C.length;P++)C[P].resize(g,x);return this.setProjectionMatrix(g,x),this.resizeUniform&&this.set2f(this.resizeUniform,g,x),this.emit(u.RESIZE,g,x,this),this.onResize(g,x),this},setProjectionMatrix:function(g,x){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=g,this.projectionHeight=x,C.ortho(0,g,x,0,-1e3,1e3);for(var P=this.shaders,w="uProjectionMatrix",E=0;E<P.length;E++){var b=P[E];b.hasUniform(w)&&(b.resetUniform(w),b.setMatrix4fv(w,!1,C.val,b))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var x=this.projectionMatrix;if(!x)return this;var C=this.projectionWidth,P=this.projectionHeight;g?x.ortho(0,C,0,P,-1e3,1e3):x.ortho(0,C,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,x.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,x=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==x)&&this.setProjectionMatrix(g,x)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var x=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,x=!0),g.bind(x),this.currentShader=g,this.activeTextures.length=0,this.emit(u.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var x=this.shaders,C=x.length-1;C>=0;C--){var P=x[C].rebind();(!g||P===g)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var g=this.shaders,x=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,x&&this.setVertexBuffer();for(var C=0;C<g.length;C++){var P=g[C];P.syncUniforms(),x&&P.rebind()}},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var x=this.gl;return this.gl.bindBuffer(x.ARRAY_BUFFER,g.webGLBuffer),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var x=this.gl,C=this.vertexCount,P=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.DYNAMIC_DRAW):x.bufferSubData(x.ARRAY_BUFFER,0,this.bytes.subarray(0,C*P));var E,b,O,M=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||x.activeTexture(x.TEXTURE0),E=0;E<M.length;E++)b=M[E],O=b.texture[0],A[0]!==O&&(x.bindTexture(x.TEXTURE_2D,O.webGLTexture),A[0]=O),x.drawArrays(w,b.start,b.count);else for(E=0;E<M.length;E++){b=M[E];for(var F=0;F<=b.maxUnit;F++)O=b.texture[F],A[F]!==O&&(x.activeTexture(x.TEXTURE0+F),x.bindTexture(x.TEXTURE_2D,O.webGLTexture),A[F]=O);x.drawArrays(w,b.start,b.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,x,C,P,w,E,b){var O=this.vertexViewF32,M=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;O[++A]=g,O[++A]=x,O[++A]=C,O[++A]=P,O[++A]=w,O[++A]=E,M[++A]=b,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,x,C,P,w,E,b,O,M,A,F,R,L,D,I,z,U,H,W,N){N===void 0&&(N=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(N=this.setTexture2D(W));var B=this.vertexViewF32,V=this.vertexViewU32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;return B[++k]=x,B[++k]=C,B[++k]=A,B[++k]=F,B[++k]=N,B[++k]=H,V[++k]=D,B[++k]=P,B[++k]=w,B[++k]=A,B[++k]=L,B[++k]=N,B[++k]=H,V[++k]=z,B[++k]=E,B[++k]=b,B[++k]=R,B[++k]=L,B[++k]=N,B[++k]=H,V[++k]=U,B[++k]=x,B[++k]=C,B[++k]=A,B[++k]=F,B[++k]=N,B[++k]=H,V[++k]=D,B[++k]=E,B[++k]=b,B[++k]=R,B[++k]=L,B[++k]=N,B[++k]=H,V[++k]=U,B[++k]=O,B[++k]=M,B[++k]=R,B[++k]=F,B[++k]=N,B[++k]=H,V[++k]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),X},batchTri:function(g,x,C,P,w,E,b,O,M,A,F,R,L,D,I,z,U){U===void 0&&(U=this.currentUnit);var H=!1;this.shouldFlush(3)&&(this.flush(),H=!0),this.currentBatch||(U=this.setTexture2D(z));var W=this.vertexViewF32,N=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return W[++X]=x,W[++X]=C,W[++X]=O,W[++X]=M,W[++X]=U,W[++X]=I,N[++X]=R,W[++X]=P,W[++X]=w,W[++X]=O,W[++X]=F,W[++X]=U,W[++X]=I,N[++X]=L,W[++X]=E,W[++X]=b,W[++X]=A,W[++X]=F,W[++X]=U,W[++X]=I,N[++X]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),H},drawFillRect:function(g,x,C,P,w,E,b,O){b===void 0&&(b=this.renderer.whiteTexture),O===void 0&&(O=!0),g=Math.floor(g),x=Math.floor(x);var M=Math.floor(g+C),A=Math.floor(x+P),F=this.setTexture2D(b),R=d.getTintAppendFloatAlphaAndSwap(w,E),L=0,D=0,I=1,z=1;O&&(D=1,z=0),this.batchQuad(null,g,x,g,A,M,A,M,x,L,D,I,z,R,R,R,R,0,b,F)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,x){x===void 0&&(x=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+x),C.bindTexture(C.TEXTURE_2D,g.webGLTexture),this},bindRenderTarget:function(g,x){return this.bindTexture(g.texture,x)},setTime:function(g,x){return this.set1f(g,this.game.loop.getDuration(),x),this},setBoolean:function(g,x,C){return C===void 0&&(C=this.currentShader),C.setBoolean(g,x),this},set1f:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set1f(g,x),this},set2f:function(g,x,C,P){return P===void 0&&(P=this.currentShader),P.set2f(g,x,C),this},set3f:function(g,x,C,P,w){return w===void 0&&(w=this.currentShader),w.set3f(g,x,C,P),this},set4f:function(g,x,C,P,w,E){return E===void 0&&(E=this.currentShader),E.set4f(g,x,C,P,w),this},set1fv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set1fv(g,x),this},set2fv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set2fv(g,x),this},set3fv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set3fv(g,x),this},set4fv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set4fv(g,x),this},set1iv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set1iv(g,x),this},set2iv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set2iv(g,x),this},set3iv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set3iv(g,x),this},set4iv:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set4iv(g,x),this},set1i:function(g,x,C){return C===void 0&&(C=this.currentShader),C.set1i(g,x),this},set2i:function(g,x,C,P){return P===void 0&&(P=this.currentShader),P.set2i(g,x,C),this},set3i:function(g,x,C,P,w){return w===void 0&&(w=this.currentShader),w.set3i(g,x,C,P),this},set4i:function(g,x,C,P,w,E){return E===void 0&&(E=this.currentShader),E.set4i(g,x,C,P,w),this},setMatrix2fv:function(g,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(g,x,C),this},setMatrix3fv:function(g,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(g,x,C),this},setMatrix4fv:function(g,x,C,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(g,x,C),this},destroy:function(){this.emit(u.DESTROY,this);var g,x=this.shaders;for(g=0;g<x.length;g++)x[g].destroy();var C=this.renderTargets;for(g=0;g<C.length;g++)C[g].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(l.RESIZE,this.resize,this),P.off(l.PRE_RENDER,this.onPreRender,this),P.off(l.RENDER,this.onRender,this),P.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=p},74797:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95428),m=s(72905),f=s(19715),u=s(83419),h=s(8054),a=s(50792),l=s(92503),c=s(50030),d=s(37867),v=s(29747),p=s(7530),g=s(32302),x=s(97480),C=s(69442),P=s(70554),w=s(88815),E=s(26128),b=s(1482),O=s(82751),M=s(84387),A=s(93567),F=s(57183),R=new u({Extends:a,initialize:function(D){a.call(this);var I=D.config,z={alpha:I.transparent,desynchronized:I.desynchronized,depth:!0,antialias:I.antialiasGL,premultipliedAlpha:I.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:I.failIfMajorPerformanceCaveat,powerPreference:I.powerPreference,preserveDrawingBuffer:I.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:I.clearBeforeRender,antialias:I.antialias,backgroundColor:I.backgroundColor,contextCreation:z,roundPixels:I.roundPixels,maxTextures:I.maxTextures,maxTextureSize:I.maxTextureSize,batchSize:I.batchSize,maxLights:I.maxLights,mipmapFilter:I.mipmapFilter},this.game=D,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var D,I=this.game,z=this.canvas,U=L.backgroundColor;if(I.config.context?D=I.config.context:D=z.getContext("webgl",L.contextCreation)||z.getContext("experimental-webgl",L.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),I.context=D;for(var H=0;H<=27;H++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(U.redGL,U.greenGL,U.blueGL,U.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var W=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return W.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=D[L.mipmapFilter]),this.maxTextures=P.checkShaderMax(D,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new d().identity(),I.textures.once(C.READY,this.boot,this),this},boot:function(){var L=this.game,D=this.pipelines,I=L.scale.baseSize,z=I.width,U=I.height;this.width=z,this.height=U,this.isBooted=!0,this.renderTarget=new g(this,z,U,1,0,!0,!0),this.maskTarget=new g(this,z,U,1,0,!0,!0),this.maskSource=new g(this,z,U,1,0,!0,!0);var H=L.config;D.boot(H.pipeline,H.defaultPipeline,H.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var W=this.gl;W.bindFramebuffer(W.FRAMEBUFFER,null),W.enable(W.SCISSOR_TEST),L.scale.on(x.RESIZE,this.onResize,this),this.resize(z,U)},setExtensions:function(){var L=this.gl,D=L.getSupportedExtensions();this.supportedExtensions=D;var I="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(I)>-1?L.getExtension(I):null;var z="OES_vertex_array_object";this.vaoExtension=D.indexOf(z)>-1?L.getExtension(z):null},setContextHandlers:function(L,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(l.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(h.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var I=function(z){z.createResource()};o(this.glTextureWrappers,I),o(this.glBufferWrappers,I),o(this.glFramebufferWrappers,I),o(this.glProgramWrappers,I),o(this.glAttribLocationWrappers,I),o(this.glUniformLocationWrappers,I),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(l.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,D=0;D<this.maxTextures;D++){var I=L.createTexture();L.activeTexture(L.TEXTURE0+D),L.bindTexture(L.TEXTURE_2D,I),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(L,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,D,I){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(L,D){L===void 0&&(L=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,L,D),this.setProjectionMatrix(L,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,D){var I=this.gl;return this.width=L,this.height=D,this.setProjectionMatrix(L,D),I.viewport(0,0,L,D),this.drawingBufferHeight=I.drawingBufferHeight,I.scissor(0,I.drawingBufferHeight-D,L,D),this.defaultScissor[2]=L,this.defaultScissor[3]=D,this.emit(l.RESIZE,L,D),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",D="WEBKIT_"+L,I="EXT_texture_compression_",z=function(H,W){var N=H.getExtension(L+W)||H.getExtension(D+W)||H.getExtension(I+W);if(N){var X={};for(var B in N)X[N[B]]=B;return X}},U=this.gl;return{ETC:z(U,"etc"),ETC1:z(U,"etc1"),ATC:z(U,"atc"),ASTC:z(U,"astc"),BPTC:z(U,"bptc"),RGTC:z(U,"rgtc"),PVRTC:z(U,"pvrtc"),S3TC:z(U,"s3tc"),S3TCSRGB:z(U,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,D){var I=this.compression[L.toUpperCase()];if(D in I)return I[D]},supportsCompressedTexture:function(L,D){var I=this.compression[L.toUpperCase()];return I?D?D in I:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,D){return(L!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=D,this.projectionMatrix.ortho(0,L,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,D,I,z,U){U===void 0&&(U=this.drawingBufferHeight);var H=this.scissorStack,W=[L,D,I,z];return H.push(W),this.setScissor(L,D,I,z,U),this.currentScissor=W,W},setScissor:function(L,D,I,z,U){U===void 0&&(U=this.drawingBufferHeight);var H=this.gl,W=this.currentScissor,N=I>0&&z>0;if(W&&N){var X=W[0],B=W[1],V=W[2],k=W[3];N=X!==L||B!==D||V!==I||k!==z}N&&(this.flush(),H.scissor(L,U-D-z,I,z))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var D=this.currentScissor;if(D){var I=D[0],z=D[1],U=D[2],H=D[3];U>0&&H>0&&L.scissor(I,this.drawingBufferHeight-z-H,U,H)}},popScissor:function(){var L=this.scissorStack;L.pop();var D=L[L.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var L=this.currentMask.mask,D=this.currentCameraMask.mask;return L&&L.isStencil||D&&D.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,D){D===void 0&&(D=!1);var I=this.gl,z=this.blendModes[L];return D||L!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),I.enable(I.BLEND),I.blendEquation(z.equation),z.func.length>2?I.blendFuncSeparate(z.func[0],z.func[1],z.func[2],z.func[3]):I.blendFunc(z.func[0],z.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,D){var I=this.blendModes.push({func:L,equation:D});return I-1},updateBlendMode:function(L,D,I){return this.blendModes[L]&&(this.blendModes[L].func=D,I&&(this.blendModes[L].equation=I)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,D,I,z,U){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,D,I,z,U))},setFramebuffer:function(L,D,I,z,U){if(D===void 0&&(D=!1),I===void 0&&(I=!0),z===void 0&&(z=null),U===void 0&&(U=!1),L===this.currentFramebuffer)return this;var H=this.gl,W=this.width,N=this.height;return L&&L.renderTexture&&I?(W=L.renderTexture.width,N=L.renderTexture.height):this.flush(),L?H.bindFramebuffer(H.FRAMEBUFFER,L.webGLFramebuffer):H.bindFramebuffer(H.FRAMEBUFFER,null),I&&H.viewport(0,0,W,N),z&&H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,z.webGLTexture,0),U&&(H.clearColor(0,0,0,0),H.clear(H.COLOR_BUFFER_BIT)),D&&(L?(this.drawingBufferHeight=N,this.pushScissor(0,0,W,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var I=this.fboStack;I.pop();var z=I[I.length-1];return z||(z=null),this.setFramebuffer(z,L,D),z},restoreFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var I=this.fboStack,z=I[I.length-1];z||(z=null),this.currentFramebuffer=null,this.setFramebuffer(z,L,D)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,D,I,z,U){U===void 0&&(U=!1);var H=this.gl,W=H.NEAREST,N=H.NEAREST,X=H.CLAMP_TO_EDGE,B=null;D=L?L.width:D,I=L?L.height:I;var V=c(D,I);if(V&&!U&&(X=H.REPEAT),z===h.ScaleModes.LINEAR&&this.config.antialias){var k=L&&L.compressed,j=!k&&V||k&&L.mipmaps.length>1;W=this.mipmapFilter&&j?this.mipmapFilter:H.LINEAR,N=H.LINEAR}return!L&&typeof D=="number"&&typeof I=="number"?B=this.createTexture2D(0,W,N,X,X,H.RGBA,null,D,I):B=this.createTexture2D(0,W,N,X,X,H.RGBA,L),B},createTexture2D:function(L,D,I,z,U,H,W,N,X,B,V,k){typeof N!="number"&&(N=W?W.width:1),typeof X!="number"&&(X=W?W.height:1);var j=new O(this.gl,L,D,I,z,U,H,W,N,X,B,V,k);return this.glTextureWrappers.push(j),j},createFramebuffer:function(L,D,I,z){this.currentFramebuffer=null;var U=new M(this.gl,L,D,I,z);return this.glFramebufferWrappers.push(U),U},beginBitmapMask:function(L,D){var I=this.gl;I&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=D))},drawBitmapMask:function(L,D,I){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var z=this.gl,U=this.getCurrentStencilMask();U?(z.enable(z.STENCIL_TEST),U.mask.applyStencil(this,U.camera,!0)):this.currentMask.mask=null,this.pipelines.set(I),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,this.maskTarget.texture.webGLTexture),z.activeTexture(z.TEXTURE1),z.bindTexture(z.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,D){var I=new b(this.gl,L,D);return this.glProgramWrappers.push(I),I},createVertexBuffer:function(L,D){var I=this.gl,z=new E(I,L,I.ARRAY_BUFFER,D);return this.glBufferWrappers.push(z),z},createAttribLocation:function(L,D){var I=new A(this.gl,L,D);return this.glAttribLocationWrappers.push(I),I},createUniformLocation:function(L,D){var I=new F(this.gl,L,D);return this.glUniformLocationWrappers.push(I),I},createIndexBuffer:function(L,D){var I=this.gl,z=new E(I,L,I.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(z),z},deleteTexture:function(L){if(L)return m(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(m(this.fboStack,L),m(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(m(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(m(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(m(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(m(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var D=L.x,I=L.y,z=L.width,U=L.height,H=L.backgroundColor;if(L.emit(f.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(D,I,z,U),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),H.alphaGL>0){var W=this.pipelines.setMulti();W.drawFillRect(D,I,z,U,P.getTintFromFloats(H.blueGL,H.greenGL,H.redGL,1),H.alphaGL)}},getCurrentStencilMask:function(){var L=null,D=this.maskStack,I=this.currentCameraMask;return D.length>0?L=D[D.length-1]:I.mask&&I.mask.isStencil&&(L=I),L},postRenderCamera:function(L){var D=L.flashEffect,I=L.fadeEffect;if(D.isRunning||I.isRunning||I.isComplete){var z=this.pipelines.setMulti();D.postRenderWebGL(z,P.getTintFromFloats),I.postRenderWebGL(z,P.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(f.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(l.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;L.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(l.PRE_RENDER)}},render:function(L,D,I){if(!this.contextLost){var z=D.length;if(this.emit(l.RENDER,L,I),this.preRenderCamera(I),z===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(I);return}this.currentType="";for(var U=this.currentMask,H=0;H<z;H++){this.finalType=H===z-1;var W=D[H],N=W.mask;U=this.currentMask,U.mask&&U.mask!==N&&U.mask.postRenderWebGL(this,U.camera),N&&U.mask!==N&&N.preRenderWebGL(this,W,I),W.blendMode!==this.currentBlendMode&&this.setBlendMode(W.blendMode);var X=W.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[H+1].type===this.currentType,W.renderWebGL(this,W,I),this.newType=!1}U=this.currentMask,U.mask&&U.mask.postRenderWebGL(this,U.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(I)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(l.POST_RENDER);var L=this.snapshotState;L.callback&&(w(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,D=this.getCurrentStencilMask();if(D){var I=D.mask;L.enable(L.STENCIL_TEST),I.invertAlpha?L.stencilFunc(L.NOTEQUAL,I.level,255):L.stencilFunc(L.EQUAL,I.level,255)}},snapshot:function(L,D,I){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,D,I)},snapshotArea:function(L,D,I,z,U,H,W){var N=this.snapshotState;return N.callback=U,N.type=H,N.encoder=W,N.getPixel=!1,N.x=L,N.y=D,N.width=I,N.height=z,this},snapshotPixel:function(L,D,I){return this.snapshotArea(L,D,1,1,I),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,D,I,z,U,H,W,N,X,B,V){U===void 0&&(U=!1),H===void 0&&(H=0),W===void 0&&(W=0),N===void 0&&(N=D),X===void 0&&(X=I),B==="pixel"&&(U=!0,B="image/png");var k=this.currentFramebuffer;this.snapshotArea(H,W,N,X,z,B,V);var j=this.snapshotState;return j.getPixel=U,j.isFramebuffer=!0,j.bufferWidth=D,j.bufferHeight=I,j.width=Math.min(j.width,D),j.height=Math.min(j.height,I),this.setFramebuffer(L),w(this.gl,j),this.setFramebuffer(k),j.callback=null,j.isFramebuffer=!1,this},canvasToTexture:function(L,D,I,z){I===void 0&&(I=!1),z===void 0&&(z=!1);var U=this.gl,H=U.NEAREST,W=U.NEAREST,N=L.width,X=L.height,B=U.CLAMP_TO_EDGE,V=c(N,X);return!I&&V&&(B=U.REPEAT),this.config.antialias&&(H=V&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,W=U.LINEAR),D?(D.update(L,N,X,z,B,B,H,W,D.format),D):this.createTexture2D(0,H,W,B,B,U.RGBA,L,N,X,!0,!1,z)},createCanvasTexture:function(L,D,I){return D===void 0&&(D=!1),I===void 0&&(I=!1),this.canvasToTexture(L,null,D,I)},updateCanvasTexture:function(L,D,I,z){return I===void 0&&(I=!1),z===void 0&&(z=!1),this.canvasToTexture(L,D,z,I)},videoToTexture:function(L,D,I,z){I===void 0&&(I=!1),z===void 0&&(z=!1);var U=this.gl,H=U.NEAREST,W=U.NEAREST,N=L.videoWidth,X=L.videoHeight,B=U.CLAMP_TO_EDGE,V=c(N,X);return!I&&V&&(B=U.REPEAT),this.config.antialias&&(H=V&&this.mipmapFilter?this.mipmapFilter:U.LINEAR,W=U.LINEAR),D?(D.update(L,N,X,z,B,B,H,W,D.format),D):this.createTexture2D(0,H,W,B,B,U.RGBA,L,N,X,!0,!0,z)},createVideoTexture:function(L,D,I){return D===void 0&&(D=!1),I===void 0&&(I=!1),this.videoToTexture(L,null,D,I)},updateVideoTexture:function(L,D,I,z){return I===void 0&&(I=!1),z===void 0&&(z=!1),this.videoToTexture(L,D,z,I)},createUint8ArrayTexture:function(L,D,I){var z=this.gl,U=z.NEAREST,H=z.NEAREST,W=z.CLAMP_TO_EDGE,N=c(D,I);return N&&(W=z.REPEAT),this.createTexture2D(0,U,H,W,W,z.RGBA,L,D,I)},setTextureFilter:function(L,D){var I=this.gl,z=D===0?I.LINEAR:I.NEAREST;I.activeTexture(I.TEXTURE0);var U=I.getParameter(I.TEXTURE_BINDING_2D);return I.bindTexture(I.TEXTURE_2D,L.webGLTexture),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,z),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,z),L.minFilter=z,L.magFilter=z,U&&I.bindTexture(I.TEXTURE_2D,U),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(D){D.destroy()};o(this.glAttribLocationWrappers,L),o(this.glBufferWrappers,L),o(this.glFramebufferWrappers,L),o(this.glProgramWrappers,L),o(this.glTextureWrappers,L),o(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=R},38683:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95428),f=s(95540),u=s(14500),h=new o({initialize:function(l,c,d,v,p){this.pipeline=l,this.name=c,this.renderer=l.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=d,this.program=this.renderer.createProgram(d,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(a){var l=0,c=0,d=[];this.vertexComponentCount=0;for(var v=0;v<a.length;v++){var p=a[v],g=p.name,x=f(p,"size",1),C=f(p,"type",u.FLOAT),P=C.enum,w=C.size,E=!!p.normalized;d.push({name:g,size:x,type:P,normalized:E,offset:c,enabled:!1,location:-1}),w===4?l+=x:l++,c+=x*w}this.vertexSize=c,this.vertexComponentCount=l,this.attributes=d},bind:function(a,l){return a===void 0&&(a=!1),l===void 0&&(l=!1),l&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var l=this.gl,c=this.renderer,d=this.vertexSize,v=this.attributes,p=this.program,g=0;g<v.length;g++){var x=v[g],C=x.size,P=x.type,w=x.offset,E=x.enabled,b=x.location,O=!!x.normalized;if(a){b!==-1&&c.deleteAttribLocation(b);var M=this.renderer.createAttribLocation(p,x.name);M.webGLAttribLocation>=0?(l.enableVertexAttribArray(M.webGLAttribLocation),l.vertexAttribPointer(M.webGLAttribLocation,C,P,O,d,w),x.enabled=!0,x.location=M):M.webGLAttribLocation!==-1&&l.disableVertexAttribArray(M.webGLAttribLocation)}else E?l.vertexAttribPointer(b.webGLAttribLocation,C,P,O,d,w):!E&&b!==-1&&b.webGLAttribLocation>-1&&(l.disableVertexAttribArray(b.webGLAttribLocation),x.location=-1)}return this},createUniforms:function(){var a=this.gl,l=this.program,c=this.uniforms,d,v,p,g=a.getProgramParameter(l.webGLProgram,a.ACTIVE_UNIFORMS);for(d=0;d<g;d++){var x=a.getActiveUniform(l.webGLProgram,d);if(x){v=x.name,p=this.renderer.createUniformLocation(l,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var C=v.indexOf("[");C>0&&(v=v.substr(0,C),c.hasOwnProperty(v)||(p=this.renderer.createUniformLocation(l,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var l in this.uniforms){var c=this.uniforms[l];c.setter&&c.setter.call(a,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var l=this.uniforms[a];return l&&(l.value1=null,l.value2=null,l.value3=null,l.value4=null),this},setUniform1:function(a,l,c,d){var v=this.uniforms[l];return v?((d||v.value1!==c)&&(v.setter||(v.setter=a),v.value1=c,this.renderer.setProgram(this.program),a.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(a,l,c,d,v){var p=this.uniforms[l];return p?((v||p.value1!==c||p.value2!==d)&&(p.setter||(p.setter=a),p.value1=c,p.value2=d,this.renderer.setProgram(this.program),a.call(this.gl,p.location.webGLUniformLocation,c,d),this.pipeline.currentShader=this),this):this},setUniform3:function(a,l,c,d,v,p){var g=this.uniforms[l];return g?((p||g.value1!==c||g.value2!==d||g.value3!==v)&&(g.setter||(g.setter=a),g.value1=c,g.value2=d,g.value3=v,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,c,d,v),this.pipeline.currentShader=this),this):this},setUniform4:function(a,l,c,d,v,p,g){var x=this.uniforms[l];return x?((g||x.value1!==c||x.value2!==d||x.value3!==v||x.value4!==p)&&(x.setter||(x.setter=a),x.value1=c,x.value2=d,x.value3=v,x.value4=p,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,c,d,v,p),this.pipeline.currentShader=this),this):this},setBoolean:function(a,l){return this.setUniform1(this.gl.uniform1i,a,Number(l))},set1f:function(a,l){return this.setUniform1(this.gl.uniform1f,a,l)},set2f:function(a,l,c){return this.setUniform2(this.gl.uniform2f,a,l,c)},set3f:function(a,l,c,d){return this.setUniform3(this.gl.uniform3f,a,l,c,d)},set4f:function(a,l,c,d,v){return this.setUniform4(this.gl.uniform4f,a,l,c,d,v)},set1fv:function(a,l){return this.setUniform1(this.gl.uniform1fv,a,l,!0)},set2fv:function(a,l){return this.setUniform1(this.gl.uniform2fv,a,l,!0)},set3fv:function(a,l){return this.setUniform1(this.gl.uniform3fv,a,l,!0)},set4fv:function(a,l){return this.setUniform1(this.gl.uniform4fv,a,l,!0)},set1iv:function(a,l){return this.setUniform1(this.gl.uniform1iv,a,l,!0)},set2iv:function(a,l){return this.setUniform1(this.gl.uniform2iv,a,l,!0)},set3iv:function(a,l){return this.setUniform1(this.gl.uniform3iv,a,l,!0)},set4iv:function(a,l){return this.setUniform1(this.gl.uniform4iv,a,l,!0)},set1i:function(a,l){return this.setUniform1(this.gl.uniform1i,a,l)},set2i:function(a,l,c){return this.setUniform2(this.gl.uniform2i,a,l,c)},set3i:function(a,l,c,d){return this.setUniform3(this.gl.uniform3i,a,l,c,d)},set4i:function(a,l,c,d,v){return this.setUniform4(this.gl.uniform4i,a,l,c,d,v)},setMatrix2fv:function(a,l,c){return this.setUniform2(this.gl.uniformMatrix2fv,a,l,c,!0)},setMatrix3fv:function(a,l,c){return this.setUniform2(this.gl.uniformMatrix3fv,a,l,c,!0)},setMatrix4fv:function(a,l,c){return this.setUniform2(this.gl.uniformMatrix4fv,a,l,c,!0)},createProgram:function(a,l){return a===void 0&&(a=this.vertSrc),l===void 0&&(l=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=l,this.program=this.renderer.createProgram(a,l),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;m(this.uniforms,function(l){a.deleteUniformLocation(l.location)}),this.uniforms=null,m(this.attributes,function(l){a.deleteAttribLocation(l.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=h},14500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=T},4159:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14500),m=s(79291),f={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};f=m(!1,f,o),r.exports=f},31302:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(78908),u=s(85191),h=s(14500),a=s(29100),l=new o({Extends:a,initialize:function(d){d.fragShader=m(d,"fragShader",f),d.vertShader=m(d,"vertShader",u),d.batchSize=m(d,"batchSize",1),d.vertices=m(d,"vertices",[-1,1,-1,-7,7,1]),d.attributes=m(d,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),a.call(this,d)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,d){a.prototype.resize.call(this,c,d),this.set2f("uResolution",c,d)},beginMask:function(c,d,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,d,v){var p=this.gl,g=this.renderer,x=c.bitmapMask;x&&p&&(g.drawBitmapMask(x,d,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),p.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});r.exports=l},92651:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(58918),f=s(14811),u=s(95540),h=s(43558),a=s(89350),l=s(70554),c=new o({Extends:h,initialize:function(v){v.shaders=[l.setGlowQuality(a.FXGlowFrag,v.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],h.call(this,v);var p=this.game;this.glow=new m.Glow(p),this.shadow=new m.Shadow(p),this.pixelate=new m.Pixelate(p),this.vignette=new m.Vignette(p),this.shine=new m.Shine(p),this.gradient=new m.Gradient(p),this.circle=new m.Circle(p),this.barrel=new m.Barrel(p),this.wipe=new m.Wipe(p),this.bokeh=new m.Bokeh(p);var g=[];g[f.GLOW]=this.onGlow,g[f.SHADOW]=this.onShadow,g[f.PIXELATE]=this.onPixelate,g[f.VIGNETTE]=this.onVignette,g[f.SHINE]=this.onShine,g[f.BLUR]=this.onBlur,g[f.GRADIENT]=this.onGradient,g[f.BLOOM]=this.onBloom,g[f.COLOR_MATRIX]=this.onColorMatrix,g[f.CIRCLE]=this.onCircle,g[f.BARREL]=this.onBarrel,g[f.DISPLACEMENT]=this.onDisplacement,g[f.WIPE]=this.onWipe,g[f.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(d,v,p){this.source=d,this.target=v,this.swap=p;var g=d.width,x=d.height,C=this.tempSprite,P=this.fxHandlers;if(C&&C.preFX)for(var w=C.preFX.list,E=0;E<w.length;E++){var b=w[E];b.active&&P[b.type].call(this,b,g,x)}this.drawToGame(this.source)},runDraw:function(){var d=this.source,v=this.target;this.copy(d,v),this.source=v,this.target=d},onGlow:function(d,v,p){var g=this.shaders[f.GLOW];this.setShader(g),this.glow.onPreRender(d,g,v,p),this.runDraw()},onShadow:function(d){var v=this.shaders[f.SHADOW];this.setShader(v),this.shadow.onPreRender(d,v),this.runDraw()},onPixelate:function(d,v,p){var g=this.shaders[f.PIXELATE];this.setShader(g),this.pixelate.onPreRender(d,g,v,p),this.runDraw()},onVignette:function(d){var v=this.shaders[f.VIGNETTE];this.setShader(v),this.vignette.onPreRender(d,v),this.runDraw()},onShine:function(d,v,p){var g=this.shaders[f.SHINE];this.setShader(g),this.shine.onPreRender(d,g,v,p),this.runDraw()},onBlur:function(d,v,p){var g=u(d,"quality"),x=this.shaders[f.BLUR+g];this.setShader(x),this.set1i("uMainSampler",0),this.set2f("resolution",v,p),this.set1f("strength",u(d,"strength")),this.set3fv("color",u(d,"glcolor"));for(var C=u(d,"x"),P=u(d,"y"),w=u(d,"steps"),E=0;E<w;E++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(d){var v=this.shaders[f.GRADIENT];this.setShader(v),this.gradient.onPreRender(d,v),this.runDraw()},onBloom:function(d,v,p){var g=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",u(d,"blurStrength")),this.set3fv("color",u(d,"glcolor"));for(var x=2/v*u(d,"offsetX"),C=2/p*u(d,"offsetY"),P=u(d,"steps"),w=0;w<P;w++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(d,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(d){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",d.getData()),this.set1f("uAlpha",d.alpha),this.runDraw()},onCircle:function(d,v,p){var g=this.shaders[f.CIRCLE];this.setShader(g),this.circle.onPreRender(d,g,v,p),this.runDraw()},onBarrel:function(d){var v=this.shaders[f.BARREL];this.setShader(v),this.barrel.onPreRender(d,v),this.runDraw()},onDisplacement:function(d){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",d.x,d.y),this.bindTexture(d.glTexture,1),this.runDraw()},onWipe:function(d){var v=this.shaders[f.WIPE];this.setShader(v),this.wipe.onPreRender(d,v),this.runDraw()},onBokeh:function(d,v,p){var g=this.shaders[f.BOKEH];this.setShader(g),this.bokeh.onPreRender(d,g,v,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});r.exports=c},96569:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(31063),u=s(57516),h=s(61340),a=s(26099),l=s(29100),c=new o({Extends:u,initialize:function(v){var p=m(v,"fragShader",f);v.fragShader=p.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),u.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){l.prototype.boot.call(this)},onRender:function(d,v){var p=d.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(v),x=g.length;this.lightsActive=!0;var C,P=this.renderer,w=P.height,E=v.matrix,b=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",x),C=0;C<x;C++){var O=g[C].light,M=O.color,A="uLights["+C+"].";E.transformPoint(O.x,O.y,b),this.set2f(A+"position",b.x-v.scrollX*O.scrollFactorX*v.zoom,w-(b.y-v.scrollY*O.scrollFactorY*v.zoom)),this.set3f(A+"color",M.r,M.g,M.b),this.set1f(A+"intensity",O.intensity),this.set1f(A+"radius",O.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(d){if(d!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(d){var p=-d,g=Math.cos(p),x=Math.sin(p);v[1]=x,v[3]=-x,v[0]=v[4]=g}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=d}},setTexture2D:function(d,v){var p=this.renderer;d===void 0&&(d=p.whiteTexture);var g=this.getNormalMap(v);this.isNewNormalMap(d,g)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(g),this.currentNormalMap=g);var x=0;if(v&&v.parentContainer){var C=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);x=C.rotationNormalized}else v&&(x=v.rotation);return this.currentBatch===null&&(this.createBatch(d),this.addTextureToBatch(g)),this.setNormalMapRotation(x),0},setGameObject:function(d,v){v===void 0&&(v=d.frame);var p=v.glTexture,g=this.getNormalMap(d);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),d.parentContainer){var x=d.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(x.rotationNormalized)}else this.setNormalMapRotation(d.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(g)),0},isNewNormalMap:function(d,v){return this.currentTexture!==d||this.currentNormalMap!==v},getNormalMap:function(d){var v;if(d)d.displayTexture?v=d.displayTexture.dataSource[d.displayFrame.sourceIndex]:d.texture?v=d.texture.dataSource[d.frame.sourceIndex]:d.tileset&&(Array.isArray(d.tileset)?v=d.tileset[0].image.dataSource[0]:v=d.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(d,v,p){this.lightsActive&&u.prototype.batchSprite.call(this,d,v,p)},batchTexture:function(d,v,p,g,x,C,P,w,E,b,O,M,A,F,R,L,D,I,z,U,H,W,N,X,B,V,k,j,$,J,Z,_){this.lightsActive&&u.prototype.batchTexture.call(this,d,v,p,g,x,C,P,w,E,b,O,M,A,F,R,L,D,I,z,U,H,W,N,X,B,V,k,j,$,J,Z,_)},batchTextureFrame:function(d,v,p,g,x,C,P){this.lightsActive&&u.prototype.batchTextureFrame.call(this,d,v,p,g,x,C,P)}});r.exports=c},56527:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(57516),u=s(45561),h=s(60722),a=s(14500),l=s(29100),c=new o({Extends:f,initialize:function(v){v.fragShader=m(v,"fragShader",u),v.vertShader=m(v,"vertShader",h),v.attributes=m(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",f.call(this,v)},boot:function(){l.prototype.boot.call(this);var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height)}});r.exports=c},57516:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(94811),f=s(95540),u=s(98840),h=s(44667),a=s(61340),l=s(70554),c=s(14500),d=s(29100),v=new o({Extends:d,initialize:function(g){var x=g.game.renderer,C=f(g,"fragShader",u);g.fragShader=l.parseFragmentShaderMaxTextures(C,x.maxTextures),g.vertShader=f(g,"vertShader",h),g.attributes=f(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),g.resizeUniform="uResolution",d.call(this,g),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){d.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height)},batchSprite:function(p,g,x){this.manager.set(this,p);var C=this._tempMatrix1,P=this._tempMatrix2,w=this._tempMatrix3,E=p.frame,b=E.glTexture,O=E.u0,M=E.v0,A=E.u1,F=E.v1,R=E.x,L=E.y,D=E.cutWidth,I=E.cutHeight,z=E.customPivot,U=p.displayOriginX,H=p.displayOriginY,W=-U+R,N=-H+L;if(p.isCropped){var X=p._crop;(X.flipX!==p.flipX||X.flipY!==p.flipY)&&E.updateCropUVs(X,p.flipX,p.flipY),O=X.u0,M=X.v0,A=X.u1,F=X.v1,D=X.width,I=X.height,R=X.x,L=X.y,W=-U+R,N=-H+L}var B=1,V=1;p.flipX&&(z||(W+=-E.realWidth+U*2),B=-1),p.flipY&&(z||(N+=-E.realHeight+H*2),V=-1);var k=p.x,j=p.y;g.roundPixels&&(k=Math.floor(k),j=Math.floor(j)),P.applyITRS(k,j,p.rotation,p.scaleX*B,p.scaleY*V),C.copyFrom(g.matrix),x?(C.multiplyWithOffset(x,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),P.e=k,P.f=j):(P.e-=g.scrollX*p.scrollFactorX,P.f-=g.scrollY*p.scrollFactorY),C.multiply(P,w);var $=w.setQuad(W,N,W+D,N+I,g.renderRoundPixels),J=l.getTintAppendFloatAlpha,Z=g.alpha,_=J(p.tintTopLeft,Z*p._alphaTL),it=J(p.tintTopRight,Z*p._alphaTR),at=J(p.tintBottomLeft,Z*p._alphaBL),st=J(p.tintBottomRight,Z*p._alphaBR);this.shouldFlush(6)&&this.flush();var ft=this.setGameObject(p,E);this.manager.preBatch(p),this.batchQuad(p,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],O,M,A,F,_,it,at,st,p.tintFill,b,ft),this.manager.postBatch(p)},batchTexture:function(p,g,x,C,P,w,E,b,O,M,A,F,R,L,D,I,z,U,H,W,N,X,B,V,k,j,$,J,Z,_,it,at,st){st===void 0&&(st=!1),this.manager.set(this,p);var ft=this._tempMatrix1,ct=this._tempMatrix2,ut=this._tempMatrix3,Et=U/x+$,Mt=H/C+J,At=(U+W)/x+$,vt=(H+N)/C+J,Ct=E,St=b,kt=-I,Ht=-z;if(p.isCropped){var re=p._crop,Xt=re.width,Bt=re.height;Ct=Xt,St=Bt,E=Xt,b=Bt,U=re.x,H=re.y;var he=U,Ae=H;F&&(he=W-re.x-Xt),R&&(Ae=N-re.y-Bt),Et=he/x+$,Mt=Ae/C+J,At=(he+Xt)/x+$,vt=(Ae+Bt)/C+J,kt=-I+U,Ht=-z+H}R=R^(!it&&g.isRenderTexture?1:0),F&&(Ct*=-1,kt+=E),R&&(St*=-1,Ht+=b),Z.roundPixels&&(P=Math.floor(P),w=Math.floor(w)),ct.applyITRS(P,w,A,O,M),ft.copyFrom(Z.matrix),_?(ft.multiplyWithOffset(_,-Z.scrollX*L,-Z.scrollY*D),ct.e=P,ct.f=w):(ct.e-=Z.scrollX*L,ct.f-=Z.scrollY*D),ft.multiply(ct,ut);var jt=ut.setQuad(kt,Ht,kt+Ct,Ht+St,Z.renderRoundPixels);at==null&&(at=this.setTexture2D(g)),p&&!st&&this.manager.preBatch(p),this.batchQuad(p,jt[0],jt[1],jt[2],jt[3],jt[4],jt[5],jt[6],jt[7],Et,Mt,At,vt,X,B,V,k,j,g,at),p&&!st&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,x,C,P,w,E){this.manager.set(this);var b=this._tempMatrix1.copyFrom(w),O=this._tempMatrix2;E?b.multiply(E,O):O=b;var M=O.setQuad(g,x,g+p.width,x+p.height),A=this.setTexture2D(p.source.glTexture);C=l.getTintAppendFloatAlpha(C,P),this.batchQuad(null,M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],p.u0,p.v0,p.u1,p.v1,C,C,C,C,0,p.glTexture,A)},batchFillRect:function(p,g,x,C,P,w){this.renderer.pipelines.set(this);var E=this.calcMatrix;w&&w.multiply(P,E);var b=E.setQuad(p,g,p+x,g+C),O=this.fillTint;this.batchQuad(null,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],0,0,1,1,O.TL,O.TR,O.BL,O.BR,2)},batchFillTriangle:function(p,g,x,C,P,w,E,b){this.renderer.pipelines.set(this);var O=this.calcMatrix;b&&b.multiply(E,O);var M=O.getX(p,g),A=O.getY(p,g),F=O.getX(x,C),R=O.getY(x,C),L=O.getX(P,w),D=O.getY(P,w),I=this.fillTint;this.batchTri(null,M,A,F,R,L,D,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(p,g,x,C,P,w,E,b,O){var M=this.tempTriangle;M[0].x=p,M[0].y=g,M[0].width=E,M[1].x=x,M[1].y=C,M[1].width=E,M[2].x=P,M[2].y=w,M[2].width=E,M[3].x=p,M[3].y=g,M[3].width=E,this.batchStrokePath(M,E,!1,b,O)},batchFillPath:function(p,g,x){this.renderer.pipelines.set(this);var C=this.calcMatrix;x&&x.multiply(g,C);for(var P=p.length,w=this.polygonCache,E,b,O=this.fillTint.TL,M=this.fillTint.TR,A=this.fillTint.BL,F=0;F<P;++F)b=p[F],w.push(b.x,b.y);E=m(w),P=E.length;for(var R=0;R<P;R+=3){var L=E[R+0]*2,D=E[R+1]*2,I=E[R+2]*2,z=w[L+0],U=w[L+1],H=w[D+0],W=w[D+1],N=w[I+0],X=w[I+1],B=C.getX(z,U),V=C.getY(z,U),k=C.getX(H,W),j=C.getY(H,W),$=C.getX(N,X),J=C.getY(N,X);this.batchTri(null,B,V,k,j,$,J,0,0,1,1,O,M,A,2)}w.length=0},batchStrokePath:function(p,g,x,C,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=p.length-1,E=0;E<w;E++){var b=p[E],O=p[E+1];this.batchLine(b.x,b.y,O.x,O.y,b.width/2,O.width/2,g,E,!x&&E===w-1,C,P)}},batchLine:function(p,g,x,C,P,w,E,b,O,M,A){this.renderer.pipelines.set(this);var F=this.calcMatrix;A&&A.multiply(M,F);var R=x-p,L=C-g,D=Math.sqrt(R*R+L*L);if(D!==0){var I=P*(C-g)/D,z=P*(p-x)/D,U=w*(C-g)/D,H=w*(p-x)/D,W=x-U,N=C-H,X=p-I,B=g-z,V=x+U,k=C+H,j=p+I,$=g+z,J=F.getX(W,N),Z=F.getY(W,N),_=F.getX(X,B),it=F.getY(X,B),at=F.getX(V,k),st=F.getY(V,k),ft=F.getX(j,$),ct=F.getY(j,$),ut=this.strokeTint,Et=ut.TL,Mt=ut.TR,At=ut.BL,vt=ut.BR;if(this.batchQuad(null,ft,ct,_,it,J,Z,at,st,0,0,1,1,Et,Mt,At,vt,2),!(E<=2)){var Ct=this.prevQuad,St=this.firstQuad;b>0&&Ct[4]?this.batchQuad(null,ft,ct,_,it,Ct[0],Ct[1],Ct[2],Ct[3],0,0,1,1,Et,Mt,At,vt,2):(St[0]=ft,St[1]=ct,St[2]=_,St[3]=it,St[4]=1),O&&St[4]?this.batchQuad(null,J,Z,at,st,St[0],St[1],St[2],St[3],0,0,1,1,Et,Mt,At,vt,2):(Ct[0]=J,Ct[1]=Z,Ct[2]=at,Ct[3]=st,Ct[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,d.prototype.destroy.call(this),this}});r.exports=v},43439:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(4127),u=s(89924),h=s(29100),a=new o({Extends:h,initialize:function(c){c.vertShader=m(c,"vertShader",u),c.fragShader=m(c,"fragShader",f),c.attributes=m(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,c)},onRender:function(l,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(l,c,d,v,p,g,x,C,P,w,E,b){var O=l.color,M=l.intensity,A=l.radius,F=l.attenuation,R=O.r*M,L=O.g*M,D=O.b*M,I=c.alpha*l.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(d,v,E,b,A,F,R,L,D,I),this.batchLightVert(p,g,E,b,A,F,R,L,D,I),this.batchLightVert(x,C,E,b,A,F,R,L,D,I),this.batchLightVert(d,v,E,b,A,F,R,L,D,I),this.batchLightVert(x,C,E,b,A,F,R,L,D,I),this.batchLightVert(P,w,E,b,A,F,R,L,D,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(l,c,d,v,p,g,x,C,P,w){var E=this.vertexViewF32,b=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++b]=l,E[++b]=c,E[++b]=d,E[++b]=v,E[++b]=p,E[++b]=g,E[++b]=x,E[++b]=C,E[++b]=P,E[++b]=w,this.vertexCount++}});r.exports=a},84057:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(89422),f=s(95540),u=s(27681),h=s(49627),a=s(29100),l=new o({Extends:a,initialize:function(d){d.renderTarget=f(d,"renderTarget",1),d.fragShader=f(d,"fragShader",u),d.vertShader=f(d,"vertShader",h),d.attributes=f(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.batchSize=1,d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,d),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var d=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",d.width,d.height);for(var v=this.renderTargets,p=0;p<v.length;p++)v[p].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,d,v){v===void 0&&(v=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c.texture.webGLTexture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,d.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),v&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(c,d,v,p,g){this.manager.copyFrame(c,d,v,p,g)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,d,v){this.manager.drawFrame(c,d,v,this.colorMatrix)},blendFrames:function(c,d,v,p,g){this.manager.blendFrames(c,d,v,p,g)},blendFramesAdditive:function(c,d,v,p,g){this.manager.blendFramesAdditive(c,d,v,p,g)},clearFrame:function(c,d){this.manager.clearFrame(c,d)},blitFrame:function(c,d,v,p,g,x){this.manager.blitFrame(c,d,v,p,g,x)},copyFrameRect:function(c,d,v,p,g,x,C,P){this.manager.copyFrameRect(c,d,v,p,g,x,C,P)},bindAndDraw:function(c,d,v,p,g){v===void 0&&(v=!0),p===void 0&&(p=!0);var x=this.gl,C=this.renderer;this.bind(g),this.set1i("uMainSampler",0),d?(x.viewport(0,0,d.width,d.height),x.bindFramebuffer(x.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,d.texture.webGLTexture,0),v&&(p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||x.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,c.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),d&&(x.bindTexture(x.TEXTURE_2D,null),x.bindFramebuffer(x.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});r.exports=l},43558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(67502),f=s(83419),u=s(96293),h=s(95540),a=s(57516),l=s(27681),c=s(87841),d=s(32302),v=s(45561),p=s(60722),g=s(29100),x=new f({Extends:a,initialize:function(P){var w=h(P,"fragShader",l),E=h(P,"vertShader",p),b=h(P,"drawShader",l),O=[{name:"DrawSprite",fragShader:v,vertShader:p},{name:"CopySprite",fragShader:w,vertShader:E},{name:"DrawGame",fragShader:b,vertShader:p},{name:"ColorMatrix",fragShader:u}],M=h(P,"shaders",[]);P.shaders=O.concat(M),P.vertShader||(P.vertShader=E),P.batchSize=1,a.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var C=this.shaders,P=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new d(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=P.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height)},onResize:function(C,P){var w=this.quadVertexViewF32;w[1]=P,w[22]=P,w[14]=C,w[28]=C,w[35]=C,w[36]=P},batchQuad:function(C,P,w,E,b,O,M,A,F,R,L,D,I,z,U,H,W,N,X){var B=Math.min(P,E,O,A),V=Math.min(w,b,M,F),k=Math.max(P,E,O,A),j=Math.max(w,b,M,F),$=k-B,J=j-V,Z=this.spriteBounds.setTo(B,V,$,J),_=C?C.preFX.padding:0,it=$+_*2,at=J+_*2,st=Math.abs(Math.max(it,at)),ft=this.manager.getRenderTarget(st),ct=this.targetBounds.setTo(0,0,ft.width,ft.height);m(ct,Math.round(Z.centerX),Math.round(Z.centerY)),this.tempSprite=C;var ut=this.gl,Et=this.renderer;Et.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Et.width,Et.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,ft),C.preFX.onFX(this));var Mt=this.fsTarget;return this.flush(),ut.viewport(0,0,Et.width,Et.height),ut.bindFramebuffer(ut.FRAMEBUFFER,Mt.framebuffer.webGLFramebuffer),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,Mt.texture.webGLTexture,0),ut.clearColor(0,0,0,0),ut.clear(ut.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(P,w,R,L,0,N,z),this.batchVert(E,b,R,I,0,N,H),this.batchVert(O,M,D,I,0,N,W),this.batchVert(P,w,R,L,0,N,z),this.batchVert(O,M,D,I,0,N,W),this.batchVert(A,F,D,L,0,N,U),this.flush(),this.flipProjectionMatrix(!1),ut.activeTexture(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,ft.texture.webGLTexture),ut.copyTexSubImage2D(ut.TEXTURE_2D,0,0,0,ct.x,ct.y,ct.width,ct.height),ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.bindTexture(ut.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(ft,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,P,w,E,b,O,M){w===void 0&&(w=!0),E===void 0&&(E=!0),b===void 0&&(b=!1),M===void 0&&(M=this.copyShader);var A=this.gl,F=this.tempSprite;O&&(M=this.colorMatrixShader),this.currentShader=M;var R=this.setVertexBuffer(this.quadVertexBuffer);M.bind(R,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),F.preFX.onFXCopy(this),this.onCopySprite(C,P,F),O&&(this.set1fv("uColorMatrix",O.getData()),this.set1f("uAlpha",O.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,C.texture.webGLTexture),C.height>P.height)A.viewport(0,0,C.width,C.height),this.setTargetUVs(C,P);else{var D=P.height-C.height;A.viewport(0,D,C.width,C.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,P.texture.webGLTexture,0),w&&(A.clearColor(0,0,0,+!E),A.clear(A.COLOR_BUFFER_BIT)),b){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),b&&this.renderer.setBlendMode(I),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(C,P){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,C.texture.webGLTexture),w.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,P.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},blendFrames:function(C,P,w,E,b){this.manager.blendFrames(C,P,w,E,b)},blendFramesAdditive:function(C,P,w,E,b){this.manager.blendFramesAdditive(C,P,w,E,b)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var P=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var E=this._tempMatrix1.loadIdentity(),b=this.targetBounds.x,O=this.targetBounds.y,M=b+C.width,A=O+C.height,F=E.getX(b,O),R=E.getX(b,A),L=E.getX(M,A),D=E.getX(M,O),I=E.getY(b,O),z=E.getY(b,A),U=E.getY(M,A),H=E.getY(M,O),W=16777215;this.batchVert(F,I,0,0,0,0,W),this.batchVert(R,z,0,1,0,0,W),this.batchVert(L,U,1,1,0,0,W),this.batchVert(F,I,0,0,0,0,W),this.batchVert(L,U,1,1,0,0,W),this.batchVert(D,H,1,0,0,0,W),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||P.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,P,w,E,b,O,M,A){var F=this.quadVertexViewF32;F[2]=C,F[3]=P,F[9]=w,F[10]=E,F[16]=b,F[17]=O,F[23]=C,F[24]=P,F[30]=b,F[31]=O,F[37]=M,F[38]=A},setTargetUVs:function(C,P){var w=P.height/C.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});r.exports=x},81041:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(57516),u=new o({Extends:f,initialize:function(a){a.topology=5,a.batchSize=m(a,"batchSize",256),f.call(this,a)}});r.exports=u},12385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(57516),u=s(45561),h=s(60722),a=s(29100),l=new o({Extends:f,initialize:function(d){d.fragShader=m(d,"fragShader",u),d.vertShader=m(d,"vertShader",h),d.forceZero=!0,f.call(this,d)},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});r.exports=l},7589:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35407),m=s(10312),f=s(83419),u=s(89422),h=s(96293),a=s(36682),l=s(95540),c=s(48247),d=s(49627),v=s(29100),p=new f({Extends:v,initialize:function(x){x.renderTarget=l(x,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),x.vertShader=l(x,"vertShader",d),x.shaders=l(x,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:h}]),x.attributes=l(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),x.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],x.batchSize=1,v.call(this,x),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var g=this.shaders,x=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=x[0],this.fullFrame2=x[1],this.halfFrame1=x[2],this.halfFrame2=x[3]},copyFrame:function(g,x,C,P,w){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,g.texture.webGLTexture),x?(E.viewport(0,0,x.width,x.height),E.bindFramebuffer(E.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,x.texture.webGLTexture,0)):E.viewport(0,0,g.width,g.height),P&&(w?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(g,x,C,P,w,E,b){C===void 0&&(C=1),P===void 0&&(P=!0),w===void 0&&(w=!0),E===void 0&&(E=!1),b===void 0&&(b=!1);var O=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,g.texture.webGLTexture),g.height>x.height)O.viewport(0,0,g.width,g.height),this.setTargetUVs(g,x);else{var M=x.height-g.height;O.viewport(0,M,g.width,g.height)}if(O.bindFramebuffer(O.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,x.texture.webGLTexture,0),P&&(w?O.clearColor(0,0,0,0):O.clearColor(0,0,0,1),O.clear(O.COLOR_BUFFER_BIT)),E){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}b&&this.flipY(),O.bufferData(O.ARRAY_BUFFER,this.vertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),E&&this.renderer.setBlendMode(A),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,x,C,P,w,E,b,O){b===void 0&&(b=!0),O===void 0&&(O=!0);var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,g.texture.webGLTexture,0),b&&(O?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,x.texture.webGLTexture),M.copyTexSubImage2D(M.TEXTURE_2D,0,0,0,C,P,w,E),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},copyToGame:function(g){var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,g.texture.webGLTexture),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6)},drawFrame:function(g,x,C,P){C===void 0&&(C=!0),P===void 0&&(P=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture.webGLTexture),x?(w.viewport(0,0,x.width,x.height),w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,x.texture.webGLTexture,0)):w.viewport(0,0,g.width,g.height),C?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFrames:function(g,x,C,P,w,E){P===void 0&&(P=1),w===void 0&&(w=!0),E===void 0&&(E=this.linearShader);var b=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,g.texture.webGLTexture),b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),C?(b.bindFramebuffer(b.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,C.texture.webGLTexture,0),b.viewport(0,0,C.width,C.height)):b.viewport(0,0,g.width,g.height),w?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},blendFramesAdditive:function(g,x,C,P,w){this.blendFrames(g,x,C,P,w,this.addShader)},clearFrame:function(g,x){x===void 0&&(x=!0);var C=this.gl;C.viewport(0,0,g.width,g.height),C.bindFramebuffer(C.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),x?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,P.webGLFramebuffer)},setUVs:function(g,x,C,P,w,E,b,O){var M=this.vertexViewF32;M[2]=g,M[3]=x,M[6]=C,M[7]=P,M[10]=w,M[11]=E,M[14]=g,M[15]=x,M[18]=w,M[19]=E,M[22]=b,M[23]=O},setTargetUVs:function(g,x){var C=x.height/g.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=p},36060:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=T},84817:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"},36712:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"},40285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"},65918:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"},92852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"},56072:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"},57566:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"},77085:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(99155),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.amount=1},onPreRender:function(h,a){h=this.getController(h),this.set1f("amount",h.amount,a)}});r.exports=u},67329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(24400),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var a=this.getController(),l=this.fullFrame1,c=this.fullFrame2;this.copyFrame(h,c);for(var d=2/h.width*a.offsetX,v=2/h.height*a.offsetY,p=0;p<a.steps;p++)this.set2f("offset",d,0),this.copySprite(h,l),this.set2f("offset",0,v),this.copySprite(l,h);this.blendFrames(c,h,l,a.strength),this.copyToGame(l)}});r.exports=u},8861:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(41514),f=s(51078),u=s(94328),h=s(84057),a=new o({Extends:h,initialize:function(c){h.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(l){var c=this.getController(),d=this.gl,v=this.fullFrame1,p=d.getParameter(d.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),d.activeTexture(d.TEXTURE0),d.viewport(0,0,l.width,l.height),this.set1i("uMainSampler",0),this.set2f("resolution",l.width,l.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var g=0;g<c.steps;g++)this.set2f("offset",c.x,0),this.copySprite(l,v),this.set2f("offset",0,c.y),this.copySprite(v,l);d.bindFramebuffer(d.FRAMEBUFFER,p),d.bindTexture(d.TEXTURE_2D,null),this.copyToGame(l)}});r.exports=a},51051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(90610),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,a,l,c){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("amount",h.amount,a),this.set1f("contrast",h.contrast,a),this.set1f("strength",h.strength,a),this.set2f("blur",h.blurX,h.blurY,a),this.setBoolean("isTiltShift",h.isTiltShift,a),l&&c&&this.set2f("resolution",l,c,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},89428:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(91899),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,a,l,c){h=this.getController(h),this.set1f("scale",h.scale,a),this.set1f("feather",h.feather,a),this.set1f("thickness",h.thickness,a),this.set3fv("color",h.glcolor,a),this.set4fv("backgroundColor",h.glcolor2,a),l&&c&&this.set2f("resolution",l,c,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},88904:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(84057),f=new o({Extends:m,initialize:function(h){m.call(this,{game:h})},onDraw:function(u){var h=this.fullFrame1;this.controller?this.manager.drawFrame(u,h,!0,this.controller):this.drawFrame(u,h),this.copyToGame(h)}});r.exports=f},63563:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(47838),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var a=this.game.textures.getFrame(h);a&&(this.glTexture=a.glTexture)},onDraw:function(h){var a=this.getController(),l=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(h,l),this.copyToGame(l)}});r.exports=u},94045:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=s(98656),u=s(84057),h=s(70554),a=new o({Extends:u,initialize:function(c,d){var v=m(d,"quality",.1),p=m(d,"distance",10);u.call(this,{game:c,fragShader:h.setGlowQuality(f,c,v,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(l,c,d,v){l=this.getController(l),this.set1f("outerStrength",l.outerStrength,c),this.set1f("innerStrength",l.innerStrength,c),this.set4fv("glowColor",l.glcolor,c),this.setBoolean("knockout",l.knockout,c),d&&v&&this.set2f("resolution",d,v,c)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});r.exports=a},74088:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(70463),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,a){h=this.getController(h),this.set1f("alpha",h.alpha,a),this.set1i("size",h.size,a),this.set3fv("color1",h.glcolor1,a),this.set3fv("color2",h.glcolor2,a),this.set2f("positionFrom",h.fromX,h.fromY,a),this.set2f("positionTo",h.toX,h.toY,a)}});r.exports=u},99636:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50831),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.amount=1},onPreRender:function(h,a,l,c){h=this.getController(h),this.set1f("amount",h.amount,a),l&&c&&this.set2f("resolution",l,c,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},34700:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(92595),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,a){h=this.getController(h);var l=h.samples;this.set1i("samples",l,a),this.set1f("intensity",h.intensity,a),this.set1f("decay",h.decay,a),this.set1f("power",h.power/l,a),this.set2f("lightPosition",h.x,h.y,a),this.set4fv("color",h.glcolor,a)}});r.exports=u},91157:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(72464),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,a,l,c){h=this.getController(h),this.setTime("time",a),this.set1f("speed",h.speed,a),this.set1f("lineWidth",h.lineWidth,a),this.set1f("gradient",h.gradient,a),this.setBoolean("reveal",h.reveal,a),l&&c&&this.set2f("resolution",l,c,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=u},27797:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(39249),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,a){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("strength",h.strength,a),this.set2f("position",h.x,h.y,a)}});r.exports=u},67603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(2878),f=s(84057),u=new o({Extends:f,initialize:function(a){f.call(this,{game:a,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,a){h=this.getController(h);var l=h.progress,c=h.wipeWidth,d=h.direction,v=h.axis;this.set4f("config",l,c,d,v,a),this.setBoolean("reveal",h.reveal,a)}});r.exports=u},58918:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};r.exports=o},96615:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(36060),m=s(79291),f={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};f=m(!1,f,o),r.exports=f},35407:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(r,T,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a){this.webGLAttribLocation=-1,this.gl=u,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=m},26128:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l){this.webGLBuffer=null,this.gl=u,this.initialDataOrSize=h,this.bufferType=a,this.bufferUsage=l,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var u=this.bufferType,h=f.createBuffer();this.webGLBuffer=h,f.bindBuffer(u,this.webGLBuffer),f.bufferData(u,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(u,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=m},84387:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new o({initialize:function(h,a,l,c,d){this.webGLFramebuffer=null,this.gl=h,this.width=a,this.height=l,this.renderTexture=c,this.addDepthStencilBuffer=!!d,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var h=this.renderTexture,a=0,l=u.createFramebuffer();if(this.webGLFramebuffer=l,u.bindFramebuffer(u.FRAMEBUFFER,l),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,h.webGLTexture,0),a=u.checkFramebufferStatus(u.FRAMEBUFFER),a!==u.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[a]||a));if(this.addDepthStencilBuffer){var c=u.createRenderbuffer();u.bindRenderbuffer(u.RENDERBUFFER,c),u.renderbufferStorage(u.RENDERBUFFER,u.DEPTH_STENCIL,this.width,this.height),u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,c)}u.bindFramebuffer(u.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var u=this.gl;if(!u.isContextLost()){u.bindFramebuffer(u.FRAMEBUFFER,this.webGLFramebuffer);var h=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,null,0),u.deleteTexture(h));var a=u.getFramebufferAttachmentParameter(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&u.deleteRenderbuffer(a),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=f},1482:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a){this.webGLProgram=null,this.gl=u,this.vertexSource=h,this.fragmentSource=a,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var u=f.createProgram(),h=f.createShader(f.VERTEX_SHADER),a=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(h,this.vertexSource),f.shaderSource(a,this.fragmentSource),f.compileShader(h),f.compileShader(a);var l=`Shader failed:
`;if(!f.getShaderParameter(h,f.COMPILE_STATUS))throw new Error("Vertex "+l+f.getShaderInfoLog(h));if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw new Error("Fragment "+l+f.getShaderInfoLog(a));if(f.attachShader(u,h),f.attachShader(u,a),f.linkProgram(u),!f.getProgramParameter(u,f.LINK_STATUS))throw new Error("Link "+l+f.getProgramInfoLog(u));f.useProgram(u),this.webGLProgram=u}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=m},82751:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50030),f=new o({initialize:function(h,a,l,c,d,v,p,g,x,C,P,w,E){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=a,this.minFilter=l,this.magFilter=c,this.wrapT=d,this.wrapS=v,this.format=p,this.pixels=g,this.width=x,this.height=C,this.pma=P??!0,this.forceSize=!!w,this.flipY=!!E,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var h=u.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(u,h,a,l,c,d,v,p,g){if(!(h===0||a===0)){this.pixels=u,this.width=h,this.height=a,this.flipY=l,this.wrapS=c,this.wrapT=d,this.minFilter=v,this.magFilter=p,this.format=g;var x=this.gl;x.isContextLost()||this._processTexture()}},_processTexture:function(){var u=this.gl;u.activeTexture(u.TEXTURE0);var h=u.getParameter(u.TEXTURE_BINDING_2D);u.bindTexture(u.TEXTURE_2D,this.webGLTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,this.minFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.wrapT),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,l=this.mipLevel,c=this.width,d=this.height,v=this.format,p=!1;if(a==null)u.texImage2D(u.TEXTURE_2D,l,v,c,d,0,v,u.UNSIGNED_BYTE,null),p=m(c,d);else if(a.compressed){c=a.width,d=a.height,p=a.generateMipmap;for(var g=0;g<a.mipmaps.length;g++)u.compressedTexImage2D(u.TEXTURE_2D,g,a.internalFormat,a.mipmaps[g].width,a.mipmaps[g].height,0,a.mipmaps[g].data)}else a instanceof Uint8Array?(u.texImage2D(u.TEXTURE_2D,l,v,c,d,0,v,u.UNSIGNED_BYTE,a),p=m(c,d)):(this.forceSize||(c=a.width,d=a.height),u.texImage2D(u.TEXTURE_2D,l,v,v,u.UNSIGNED_BYTE,a),p=m(c,d));p&&u.generateMipmap(u.TEXTURE_2D),h?u.bindTexture(u.TEXTURE_2D,h):u.bindTexture(u.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(u){this.__SPECTOR_Metadata=u,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=u)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=f},57183:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a){this.webGLUniformLocation=null,this.gl=u,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=m},9503:(r,T,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};r.exports=o},76531:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(13560),m=s(83419),f=s(45319),u=s(50792),h=s(97480),a=s(8443),l=s(57811),c=s(74403),d=s(45818),v=s(29747),p=s(87841),g=s(86555),x=s(56583),C=s(26099),P=s(38058),w=new m({Extends:u,initialize:function(b){u.call(this),this.game=b,this.canvas,this.canvasBounds=new p,this.parent=null,this.parentIsWindow=!1,this.parentSize=new g,this.gameSize=new g,this.baseSize=new g,this.displaySize=new g,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new C(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:v,windowResize:v,fullScreenChange:v,fullScreenError:v}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen;var b=this.scaleMode;b!==o.SCALE_MODE.RESIZE&&b!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(b),b===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(a.PRE_STEP,this.step,this),E.events.once(a.READY,this.refresh,this),E.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var b=E.width,O=E.height,M=E.scaleMode,A=E.zoom,F=E.autoRound;if(typeof b=="string")if(b.substr(-1)!=="%")b=parseInt(b,10);else{var R=this.parentSize.width;R===0&&(R=window.innerWidth);var L=parseInt(b,10)/100;b=Math.floor(R*L)}if(typeof O=="string")if(O.substr(-1)!=="%")O=parseInt(O,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var I=parseInt(O,10)/100;O=Math.floor(D*I)}this.scaleMode=M,this.autoRound=F,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,F&&(b=Math.floor(b),O=Math.floor(O)),this.gameSize.setSize(b,O),A===o.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(b,O),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*A,E.minHeight*A),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*A,E.maxHeight*A),this.displaySize.setSize(b,O),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=d(b,O)},getParent:function(E){var b=E.parent;if(b!==null){if(this.parent=c(b),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==o.SCALE_MODE.NONE){var O=this.parent.getBoundingClientRect();(this.parentIsWindow||O.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",O=this.parent.getBoundingClientRect(),!this.parentIsWindow&&O.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=c(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,b=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(b.height=l(!0));var O=b.width,M=b.height;if(E.width!==O||E.height!==M)return E.setSize(O,M),!0;if(this.canvas){var A=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==A.x||F.y!==A.y)return!0}return!1},lockOrientation:function(E){var b=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return b?b.call(screen,E):!1},setParentSize:function(E,b){return this.parentSize.setSize(E,b),this.refresh()},setGameSize:function(E,b){var O=this.autoRound;O&&(E=Math.floor(E),b=Math.floor(b));var M=this.width,A=this.height;return this.gameSize.resize(E,b),this.baseSize.resize(E,b),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/b),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,A)},resize:function(E,b){var O=this.zoom,M=this.autoRound;M&&(E=Math.floor(E),b=Math.floor(b));var A=this.width,F=this.height;this.gameSize.resize(E,b),this.baseSize.resize(E,b),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*O,b*O),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var R=this.canvas.style,L=E*O,D=b*O;return M&&(L=Math.floor(L),D=Math.floor(D)),(L!==E||D!==b)&&(R.width=L+"px",R.height=D+"px"),this.refresh(A,F)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,b){return E===void 0&&(E=0),b===void 0&&(b=E),this.displaySize.setSnap(E,b),this.refresh()},refresh:function(E,b){E===void 0&&(E=this.width),b===void 0&&(b=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var O=this.game.domContainer;if(O){this.baseSize.setCSS(O);var M=this.canvas.style,A=O.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=M.marginLeft,A.marginTop=M.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,b),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=d(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(h.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,b=this.gameSize.width,O=this.gameSize.height,M,A,F=this.zoom,R=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(b*F,O*F),M=this.displaySize.width,A=this.displaySize.height,R&&(M=Math.floor(M),A=Math.floor(A)),this._resetZoom&&(E.width=M+"px",E.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,A=this.displaySize.height,R&&(M=Math.floor(M),A=Math.floor(A)),this.canvas.width=M,this.canvas.height=A;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var L=this.game.config.width,D=this.game.config.height,I=this.parentSize.width,z=this.parentSize.height,U=I/L,H=z/D,W,N;U<H?(W=L,N=U!==0?z/U:D):(W=H!==0?I/H:L,N=D);var X=f(W,this.displaySize.minWidth,this.displaySize.maxWidth),B=f(N,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(X,B),this.gameSize.setSize(X,B),R&&(X=Math.floor(X),B=Math.floor(B)),this.canvas.width=X,this.canvas.height=B;var V=I*(X/W),k=z*(B/N);this.displaySize.setSize(V,k),M=this.displaySize.width,A=this.displaySize.height,R&&(M=Math.floor(M),A=Math.floor(A)),E.width=M+"px",E.height=A+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,A=this.displaySize.height,R&&(M=Math.floor(M),A=Math.floor(A)),E.width=M+"px",E.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=x(this.parentSize.width,this.gameSize.width,0,!0),b=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,b),1)},updateCenter:function(){var E=this.autoCenter;if(E!==o.CENTER.NO_CENTER){var b=this.canvas,O=b.style,M=b.getBoundingClientRect(),A=M.width,F=M.height,R=Math.floor((this.parentSize.width-A)/2),L=Math.floor((this.parentSize.height-F)/2);E===o.CENTER.CENTER_HORIZONTALLY?L=0:E===o.CENTER.CENTER_VERTICALLY&&(R=0),O.marginLeft=R+"px",O.marginTop=L+"px"}},updateBounds:function(){var E=this.canvasBounds,b=this.canvas.getBoundingClientRect();E.x=b.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=b.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=b.width,E.height=b.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var b=this.fullscreen;if(!b.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!b.active){var O=this.getFullscreenTarget();b.keyboard?O[b.request](Element.ALLOW_KEYBOARD_INPUT):O[b.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var b=this.canvas.parentNode;b.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var b=E.parentNode;b.insertBefore(this.canvas,E),b.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,b=this.domlisteners;if(b.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},b.windowResize=function(){E.updateBounds(),E.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",b.orientationChange,!1):window.addEventListener("orientationchange",b.orientationChange,!1),window.addEventListener("resize",b.windowResize,!1),this.fullscreen.available){b.fullScreenChange=function(M){return E.onFullScreenChange(M)},b.fullScreenError=function(M){return E.onFullScreenError(M)};var O=["webkit","moz",""];O.forEach(function(M){document.addEventListener(M+"fullscreenchange",b.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",b.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",b.fullScreenChange,!1),document.addEventListener("MSFullscreenError",b.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,b){E instanceof P||(b=E,E=void 0),b===void 0&&(b=new p);var O=this.baseSize,M=this.parentSize,A=this.canvasBounds,F=this.displayScale,R=A.x>=0?0:-(A.x*F.x),L=A.y>=0?0:-(A.y*F.y),D;M.width>=A.width?D=O.width:D=O.width-(A.width-M.width)*F.x;var I;return M.height>=A.height?I=O.height:I=O.height-(A.height-M.height)*F.y,b.setTo(R,L,D,I),E&&(b.width/=E.zoomX,b.height/=E.zoomY,b.centerX=E.centerX+E.scrollX,b.centerY=E.centerY+E.scrollY),b},step:function(E,b){this.parent&&(this._lastCheck+=b,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",E.orientationChange,!1):window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var b=["webkit","moz",""];b.forEach(function(O){document.removeEventListener(O+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(O+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=w},64743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};r.exports=o},56139:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"},2336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"},47412:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"},51452:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"},20666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"},47945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},97480:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=s(13560),f={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};f=o(!1,f,m.CENTER),f=o(!1,f,m.ORIENTATION),f=o(!1,f,m.SCALE_MODE),f=o(!1,f,m.ZOOM),r.exports=f},27397:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=s(35355),f=function(u){var h=u.game.config.defaultPhysicsSystem,a=o(u.settings,"physics",!1);if(!(!h&&!a)){var l=[];if(h&&l.push(m(h+"Physics")),a)for(var c in a)c=m(c.concat("Physics")),l.indexOf(c)===-1&&l.push(c);return l}};r.exports=f},52106:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=function(f){var u=f.plugins.getDefaultScenePlugins(),h=o(f.settings,"plugins",!1);return Array.isArray(h)?h:u||[]};r.exports=m},87033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=T},97482:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(2368),f=new o({initialize:function(h){this.sys=new m(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=f},60903:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(89993),f=s(44594),u=s(8443),h=s(35154),a=s(54899),l=s(29747),c=s(97482),d=s(2368),v=new o({initialize:function(g,x){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,x){Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)this._pending.push({key:"default",scene:x[C],autoStart:C===0,data:{}})}g.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var p,g,x,C;for(p=0;p<this._pending.length;p++){g=this._pending[p],x=g.key,C=g.scene;var P;C instanceof c?P=this.createSceneFromInstance(x,C):typeof C=="object"?P=this.createSceneFromObject(x,C):typeof C=="function"&&(P=this.createSceneFromFunction(x,C)),x=P.sys.settings.key,this.keys[x]=P,this.scenes.push(P),this._data[x]&&(P.sys.settings.data=this._data[x].data,this._data[x].autoStart&&(g.autoStart=!0)),(g.autoStart||P.sys.settings.active)&&this._start.push(x)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var x,C;if(p){for(x=0;x<p;x++)C=this._pending[x],this.add(C.key,C.scene,C.autoStart,C.data);for(x=0;x<this._start.length;x++)C=this._start[x],this.start(C);this._start.length=0,this._pending.length=0}for(x=0;x<this._queue.length;x++)C=this._queue[x],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(p,g,x,C){if(x===void 0&&(x=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:x,data:C}),this.isBooted||(this._data[p]={data:C}),null;p=this.getKey(p,g);var P;return g instanceof c?P=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,P=this.createSceneFromObject(p,g)):typeof g=="function"&&(P=this.createSceneFromFunction(p,g)),P.sys.settings.data=C,p=P.sys.settings.key,this.keys[p]=P,this.scenes.push(P),(x||P.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),P},remove:function(p){if(this.isProcessing)return this.queueOp("remove",p);var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var x=this.scenes.indexOf(g),C=g.sys.settings.key;return x>-1&&(delete this.keys[C],this.scenes.splice(x,1),this._start.indexOf(C)>-1&&(x=this._start.indexOf(C),this._start.splice(x,1)),g.sys.destroy()),this},bootScene:function(p){var g=p.sys,x=g.settings;g.sceneUpdate=l,p.init&&(p.init.call(p,x.data),x.status=m.INIT,x.isTransition&&g.events.emit(f.TRANSITION_INIT,x.transitionFrom,x.transitionDuration));var C;g.load&&(C=g.load,C.reset()),C&&p.preload?(p.preload.call(p),x.status=m.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var x=this.scenes.length-1;x>=0;x--){var C=this.scenes[x].sys;C.settings.status>m.START&&C.settings.status<=m.RUNNING&&C.step(p,g),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var x=this.scenes[g].sys;x.settings.visible&&x.settings.status>=m.LOADING&&x.settings.status<m.SLEEPING&&x.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,x=g.settings;p.create&&(x.status=m.CREATING,p.create.call(p,x.data),x.status===m.DESTROYED)||(x.isTransition&&g.events.emit(f.TRANSITION_START,x.transitionFrom,x.transitionDuration),p.update&&(g.sceneUpdate=p.update),x.status=m.RUNNING,g.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,g){var x=new g;if(x instanceof c){var C=x.sys.settings.key;if(C!==""&&(p=C),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return this.createSceneFromInstance(p,x)}else return x.sys=new d(x),x.sys.settings.key=p,x.sys.init(this.game),x},createSceneFromInstance:function(p,g){var x=g.sys.settings.key;return x===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var x=new c(g),C=x.sys.settings.key;C!==""?p=C:x.sys.settings.key=p,x.sys.init(this.game);for(var P=["init","preload","create","update","render"],w=0;w<P.length;w++){var E=h(g,P[w],null);E&&(x[P[w]]=E)}if(g.hasOwnProperty("extend")){for(var b in g.extend)if(g.extend.hasOwnProperty(b)){var O=g.extend[b];b==="data"&&x.hasOwnProperty("data")&&typeof O=="object"?x.data.merge(O):b!=="sys"&&(x[b]=O)}}return x},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof c?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var x=[],C=this.scenes,P=0;P<C.length;P++){var w=C[P];w&&(!p||p&&w.sys.isActive())&&x.push(w)}return g?x.reverse():x},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var x=this.getScene(p);return x&&x.sys.pause(g),this},resume:function(p,g){var x=this.getScene(p);return x&&x.sys.resume(g),this},sleep:function(p,g){var x=this.getScene(p);return x&&!x.sys.isTransitioning()&&x.sys.sleep(g),this},wake:function(p,g){var x=this.getScene(p);return x&&x.sys.wake(g),this},run:function(p,g){var x=this.getScene(p);if(!x){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===p){this.queueOp("start",p,g);break}return this}x.sys.isSleeping()?x.sys.wake(g):x.sys.isPaused()?x.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var x=this.getScene(p);if(!x)return console.warn("Scene key not found: "+p),this;var C=x.sys,P=C.settings.status;if(P>=m.START&&P<=m.CREATING)return this;if(P>=m.RUNNING&&P<=m.SLEEPING)C.shutdown(),C.sceneUpdate=l,C.start(g);else{C.sceneUpdate=l,C.start(g);var w;if(C.load&&(w=C.load),w&&C.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:C.settings.pack})))return C.settings.status=m.LOADING,w.once(a.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(x),this},stop:function(p,g){var x=this.getScene(p);if(x&&!x.sys.isTransitioning()&&x.sys.settings.status!==m.SHUTDOWN){var C=x.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),x.sys.shutdown(g)}return this},switch:function(p,g,x){var C=this.getScene(p),P=this.getScene(g);return C&&P&&C!==P&&(this.sleep(p),this.isSleeping(g)?this.wake(g,x):this.start(g,x)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)return this.queueOp("bringToTop",p);var g=this.getIndex(p),x=this.scenes;if(g!==-1&&g<x.length){var C=this.getScene(p);x.splice(g,1),x.push(C)}return this},sendToBack:function(p){if(this.isProcessing)return this.queueOp("sendToBack",p);var g=this.getIndex(p);if(g!==-1&&g>0){var x=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(x)}return this},moveDown:function(p){if(this.isProcessing)return this.queueOp("moveDown",p);var g=this.getIndex(p);if(g>0){var x=g-1,C=this.getScene(p),P=this.getAt(x);this.scenes[g]=P,this.scenes[x]=C}return this},moveUp:function(p){if(this.isProcessing)return this.queueOp("moveUp",p);var g=this.getIndex(p);if(g<this.scenes.length-1){var x=g+1,C=this.getScene(p),P=this.getAt(x);this.scenes[g]=P,this.scenes[x]=C}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("moveAbove",p,g);var x=this.getIndex(p),C=this.getIndex(g);if(x!==-1&&C!==-1&&C<x){var P=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(x+(C>x),0,P)}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("moveBelow",p,g);var x=this.getIndex(p),C=this.getIndex(g);if(x!==-1&&C!==-1&&C>x){var P=this.getAt(C);this.scenes.splice(C,1),x===0?this.scenes.unshift(P):this.scenes.splice(x-(C<x),0,P)}return this},queueOp:function(p,g,x,C){return this._queue.push({op:p,keyA:g,keyB:x,data:C}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("swapPosition",p,g);var x=this.getIndex(p),C=this.getIndex(g);if(x!==C&&x!==-1&&C!==-1){var P=this.getAt(x);this.scenes[x]=this.scenes[C],this.scenes[C]=P}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],x=0;x<this.scenes.length;x++){var C=this.scenes[x].sys,P=C.settings.visible&&(C.settings.status===m.RUNNING||C.settings.status===m.PAUSED)?"[*] ":"[-] ";P+=C.settings.key+" ("+g[C.settings.status]+")",p.push(P)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=v},52209:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(44594),u=s(95540),h=s(37277),a=new m({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",l,c),this},restart:function(l){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,l),this},transition:function(l){l===void 0&&(l={});var c=u(l,"target",!1),d=this.manager.getScene(c);if(!c||!this.checkValidTransition(d))return!1;var v=u(l,"duration",1e3);this._elapsed=0,this._target=d,this._duration=v,this._willSleep=u(l,"sleep",!1),this._willRemove=u(l,"remove",!1);var p=u(l,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=u(l,"onUpdateScope",this.scene));var g=u(l,"allowInput",!1);this.settings.transitionAllowInput=g;var x=d.sys.settings;x.isTransition=!0,x.transitionFrom=this.scene,x.transitionDuration=v,x.transitionAllowInput=g,u(l,"moveAbove",!1)?this.manager.moveAbove(this.key,c):u(l,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),d.sys.isSleeping()?d.sys.wake(u(l,"data")):this.manager.start(c,u(l,"data"));var C=u(l,"onStart",null),P=u(l,"onStartScope",this.scene);return C&&C.call(P,this.scene,d,v),this.systems.events.emit(f.TRANSITION_OUT,d,v),!0},checkValidTransition:function(l){return!(!l||l.sys.isActive()||l.sys.isTransitioning()||l===this.scene||this.systems.isTransitioning())},step:function(l,c){this._elapsed+=c,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var l=this._target.sys,c=this._target.sys.settings;l.events.emit(f.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(l,c,d,v){return this.manager.add(l,c,d,v)},launch:function(l,c){return l&&l!==this.key&&this.manager.queueOp("start",l,c),this},run:function(l,c){return l&&l!==this.key&&this.manager.queueOp("run",l,c),this},pause:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("pause",l,c),this},resume:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("resume",l,c),this},sleep:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("sleep",l,c),this},wake:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("wake",l,c),this},switch:function(l,c){return l!==this.key&&this.manager.queueOp("switch",this.key,l,c),this},stop:function(l,c){return l===void 0&&(l=this.key),this.manager.queueOp("stop",l,c),this},setActive:function(l,c,d){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(l,d),this},setVisible:function(l,c){c===void 0&&(c=this.key);var d=this.manager.getScene(c);return d&&d.sys.setVisible(l),this},isSleeping:function(l){return l===void 0&&(l=this.key),this.manager.isSleeping(l)},isActive:function(l){return l===void 0&&(l=this.key),this.manager.isActive(l)},isPaused:function(l){return l===void 0&&(l=this.key),this.manager.isPaused(l)},isVisible:function(l){return l===void 0&&(l=this.key),this.manager.isVisible(l)},swapPosition:function(l,c){return c===void 0&&(c=this.key),l!==c&&this.manager.swapPosition(l,c),this},moveAbove:function(l,c){return c===void 0&&(c=this.key),l!==c&&this.manager.moveAbove(l,c),this},moveBelow:function(l,c){return c===void 0&&(c=this.key),l!==c&&this.manager.moveBelow(l,c),this},remove:function(l){return l===void 0&&(l=this.key),this.manager.remove(l),this},moveUp:function(l){return l===void 0&&(l=this.key),this.manager.moveUp(l),this},moveDown:function(l){return l===void 0&&(l=this.key),this.manager.moveDown(l),this},bringToTop:function(l){return l===void 0&&(l=this.key),this.manager.bringToTop(l),this},sendToBack:function(l){return l===void 0&&(l=this.key),this.manager.sendToBack(l),this},get:function(l){return this.manager.getScene(l)},getStatus:function(l){var c=this.manager.getScene(l);if(c)return c.sys.getStatus()},getIndex:function(l){return l===void 0&&(l=this.key),this.manager.getIndex(l)},shutdown:function(){var l=this.systems.events;l.off(f.SHUTDOWN,this.shutdown,this),l.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",a,"scenePlugin"),r.exports=a},55681:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),m=s(35154),f=s(46975),u=s(87033),h={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:m(a,"key",""),active:m(a,"active",!1),visible:m(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(a,"pack",!1),cameras:m(a,"cameras",null),map:m(a,"map",f(u,m(a,"mapAdd",{}))),physics:m(a,"physics",{}),loader:m(a,"loader",{}),plugins:m(a,"plugins",!1),input:m(a,"input",{})}}};r.exports=h},2368:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(89993),f=s(42363),u=s(44594),h=s(27397),a=s(52106),l=s(29747),c=s(55681),d=new o({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=c.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(v){this.settings.status=m.INIT,this.sceneUpdate=l,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var p=v.plugins;this.plugins=p,p.addToScene(this,f.Global,[f.CoreScene,a(this),h(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(v,p){var g=this.events;g.emit(u.PRE_UPDATE,v,p),g.emit(u.UPDATE,v,p),this.sceneUpdate.call(this.scene,v,p),g.emit(u.POST_UPDATE,v,p)},render:function(v){var p=this.displayList;p.depthSort(),this.events.emit(u.PRE_RENDER,v),this.cameras.render(v,p),this.events.emit(u.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var p=this.settings,g=this.getStatus();return g!==m.CREATING&&g!==m.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=m.PAUSED,p.active=!1,this.events.emit(u.PAUSE,this,v)),this},resume:function(v){var p=this.events,g=this.settings;return this.settings.active||(g.status=m.RUNNING,g.active=!0,p.emit(u.RESUME,this,v)),this},sleep:function(v){var p=this.settings,g=this.getStatus();return g!==m.CREATING&&g!==m.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=m.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(u.SLEEP,this,v)),this},wake:function(v){var p=this.events,g=this.settings;return g.status=m.RUNNING,g.active=!0,g.visible=!0,p.emit(u.WAKE,this,v),g.isTransition&&p.emit(u.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>m.PENDING&&v<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,p){return v?this.resume(p):this.pause(p)},start:function(v){var p=this.events,g=this.settings;v&&(g.data=v),g.status=m.START,g.active=!0,g.visible=!0,p.emit(u.START,this),p.emit(u.READY,this,v)},shutdown:function(v){var p=this.events,g=this.settings;p.off(u.TRANSITION_INIT),p.off(u.TRANSITION_START),p.off(u.TRANSITION_COMPLETE),p.off(u.TRANSITION_OUT),g.status=m.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(u.SHUTDOWN,this,v)},destroy:function(){var v=this.events,p=this.settings;p.status=m.DESTROYED,p.active=!1,p.visible=!1,v.emit(u.DESTROY,this),v.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],x=0;x<g.length;x++)this[g[x]]=null}});r.exports=d},89993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=T},69830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},7919:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},46763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"},11763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},71555:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},36735:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"},3809:r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},90716:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},58262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},91633:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},10319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},87132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},81961:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},90194:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"},6265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},33178:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"},43063:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"},11259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"},61611:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"},45209:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"},22966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},21747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"},44594:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89993),m=s(79291),f={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};f=m(!1,f,o),r.exports=f},30341:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(14463),u=s(79291),h=s(29747),a=new o({Extends:m,initialize:function(c,d,v){m.call(this),this.manager=c,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(console.error("addMarker "+l.name+" already exists in Sound"),!1):(l=u(!0,{name:"",start:0,duration:this.totalDuration-(l.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},l),this.markers[l.name]=l,!0)},updateMarker:function(l){return!l||!l.name||typeof l.name!="string"?!1:this.markers[l.name]?(this.markers[l.name]=u(!0,this.markers[l.name],l),!0):(console.warn("Audio Marker: "+l.name+" missing in Sound: "+this.key),!1)},removeMarker:function(l){var c=this.markers[l];return c?(this.markers[l]=null,c):null},play:function(l,c){if(l===void 0&&(l=""),typeof l=="object"&&(c=l,l=""),typeof l!="string")return!1;if(!l)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[l])return console.warn("Marker: "+l+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[l],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var l=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,d=Math.pow(l,c);this.totalRate=this.currentConfig.rate*this.manager.rate*d},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=a},85034:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(41786),f=s(50792),u=s(14463),h=s(8443),a=s(46710),l=s(58731),c=s(29747),d=s(26099),v=new o({Extends:f,initialize:function(g){f.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new d;var x=g.events;x.on(h.BLUR,this.onGameBlur,this),x.on(h.FOCUS,this.onGameFocus,this),x.on(h.PRE_STEP,this.update,this),x.once(h.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(p,g){g===void 0&&(g={});var x=this.add(p,g);x.spritemap=this.jsonCache.get(p).spritemap;for(var C in x.spritemap)if(x.spritemap.hasOwnProperty(C)){var P=m(g),w=x.spritemap[C];P.loop=w.hasOwnProperty("loop")?w.loop:!1,x.addMarker({name:C,start:w.start,duration:w.end-w.start,config:P})}return x},get:function(p){return l(this.sounds,"key",p)},getAll:function(p){return p?a(this.sounds,"key",p):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(p,g){var x=this.add(p);return x.once(u.COMPLETE,x.destroy,x),g?g.name?(x.addMarker(g),x.play(g.name)):x.play(g):x.play()},playAudioSprite:function(p,g,x){var C=this.addAudioSprite(p);return C.once(u.COMPLETE,C.destroy,C),C.play(g,x)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,x=this.sounds.length-1;x>=0;x--){var C=this.sounds[x];C.key===p&&(C.destroy(),this.sounds.splice(x,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(x){x.stop()&&g++}),g},isPlaying:function(p){var g=this.sounds,x=g.length-1,C;if(p===void 0){for(;x>=0;x--)if(C=this.sounds[x],C.isPlaying)return!0}else for(;x>=0;x--)if(C=this.sounds[x],C.key===p&&C.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var x=this.sounds.length-1;x>=0;x--)this.sounds[x].pendingRemove&&this.sounds.splice(x,1);this.sounds.forEach(function(C){C.update(p,g)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var x=this;this.sounds.forEach(function(C,P){C&&!C.pendingRemove&&p.call(g||x,C,P,x.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(u.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,p)}}});r.exports=v},14747:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33684),m=s(25960),f=s(57490),u={create:function(h){var a=h.config.audio,l=h.device.audio;return a.noAudio||!l.webAudio&&!l.audioData?new m(h):l.webAudio&&!a.disableWebAudio?new f(h):new o(h)}};r.exports=u},19723:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},98882:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"},57506:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"},73146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},11305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},40577:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},30333:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},20394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},21802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},1299:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"},99190:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},97125:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},89259:r=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"},79986:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},17586:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},19618:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},42306:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},10387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},48959:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},9960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"},19180:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"},98328:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},50401:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},52498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},14463:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),m=s(83419),f=s(14463),u=s(45319),h=new m({Extends:o,initialize:function(l,c,d){if(d===void 0&&(d={}),this.tags=l.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,l,c,d)},play:function(a,l){return this.manager.isLocked(this,"play",[a,l])||!o.prototype.play.call(this,a,l)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,l=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),l===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+l*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var l=this.tags[a];if(l.dataset.used==="false")return l.dataset.used="true",this.audio=l,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,p){return v.loop===p.loop?p.seek/p.duration-v.seek/v.duration:v.loop?1:-1});var d=c[0];return this.audio=d.audio,d.reset(),d.audio=null,d.startTime=0,d.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(l){console.warn(l)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var l=this.currentMarker?this.currentMarker.start:0,c=l+this.duration,d=this.audio.currentTime;if(this.currentConfig.loop)d>=c-this.manager.loopEndOffset?(this.audio.currentTime=l+Math.max(0,d-c),d=this.audio.currentTime):d<l&&(this.audio.currentTime+=l,d=this.audio.currentTime),d<this.previousTime&&this.emit(f.LOOPED,this);else if(d>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=d}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(f.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(f.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,f.RATE,a)&&(this.calculateRate(),this.emit(f.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,f.DETUNE,a)&&(this.calculateRate(),this.emit(f.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(f.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});r.exports=h},33684:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),m=s(83419),f=s(14463),u=s(64895),h=new m({Extends:o,initialize:function(l){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,l)},add:function(a,l){var c=new u(this,a,l);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(v,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var l=!1,c=function(){l=!0},d=function(){if(l){l=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",d);var v=[];if(a.game.cache.audio.entries.each(function(g,x){for(var C=0;C<x.length;C++){var P=x[C];P.dataset.locked==="true"&&v.push(P)}return!0}),v.length!==0){var p=v[v.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,v.forEach(function(g){g.dataset.locked="false"}),a.unlocked=!0},v.forEach(function(g){g.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",d,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,l,c){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:l,value:c}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(l){l.updateMute()}),this.emit(f.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(l){l.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,a)}}});r.exports=h},23717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),m=s(83419),f=s(50792),u=s(79291),h=s(29747),a=function(){return!1},l=function(){return null},c=function(){return this},d=new m({Extends:f,initialize:function(p,g,x){x===void 0&&(x={}),f.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},x),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:l,play:a,pause:a,resume:a,stop:a,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:l,resetConfig:l,update:h,calculateRate:l,destroy:function(){o.prototype.destroy.call(this)}});r.exports=d},25960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85034),m=s(83419),f=s(50792),u=s(4603),h=s(29747),a=new m({Extends:f,initialize:function(c){f.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(l,c){var d=new u(this,l,c);return this.sounds.push(d),d},addAudioSprite:function(l,c){var d=this.add(l,c);return d.spritemap={},d},get:function(l){return o.prototype.get.call(this,l)},getAll:function(l){return o.prototype.getAll.call(this,l)},play:function(l,c){return!1},playAudioSprite:function(l,c,d){return!1},remove:function(l){return o.prototype.remove.call(this,l)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(l){return o.prototype.removeByKey.call(this,l)},stopByKey:function(l){return o.prototype.stopByKey.call(this,l)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(l,c){o.prototype.forEachActiveSound.call(this,l,c)},destroy:function(){o.prototype.destroy.call(this)}});r.exports=a},71741:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30341),m=s(83419),f=s(14463),u=s(95540),h=new m({Extends:o,initialize:function(l,c,d){if(d===void 0&&(d={}),this.audioBuffer=l.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=l.context.createGain(),this.volumeNode=l.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),l.context.createPanner&&(this.spatialNode=l.context.createPanner(),this.volumeNode.connect(this.spatialNode)),l.context.createStereoPanner?(this.pannerNode=l.context.createStereoPanner(),l.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(l.destination)):l.context.createPanner?this.spatialNode.connect(l.destination):this.volumeNode.connect(l.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,l,c,d)},play:function(a,l){return o.prototype.play.call(this,a,l)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,l=this.currentConfig.delay,c=this.manager.context.currentTime+l,d=(this.currentMarker?this.currentMarker.start:0)+a,v=this.duration-a;this.playTime=c-a,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,d),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),l=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,l),Math.max(0,c))},createBufferSource:function(){var a=this,l=this.manager.context.createBufferSource();return l.buffer=this.audioBuffer,l.connect(this.muteNode),l.onended=function(c){var d=c.target;(d===a.source||d===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},l},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var l=this.spatialNode;l.panningModel=u(a,"panningModel","equalpower"),l.distanceModel=u(a,"distanceModel","inverse"),l.orientationX.value=u(a,"orientationX",0),l.orientationY.value=u(a,"orientationY",0),l.orientationZ.value=u(a,"orientationZ",-1),l.refDistance=u(a,"refDistance",1),l.maxDistance=u(a,"maxDistance",1e4),l.rolloffFactor=u(a,"rolloffFactor",1),l.coneInnerAngle=u(a,"coneInnerAngle",360),l.coneOuterAngle=u(a,"coneOuterAngle",0),l.coneOuterGain=u(a,"coneOuterGain",0),this.spatialSource=u(a,"follow",null),this.spatialSource||(l.positionX.value=u(a,"x",0),l.positionY.value=u(a,"y",0),l.positionZ.value=u(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=u(this.spatialSource,"x",null),l=u(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),l&&l!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=l)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,l=0;l<this.rateUpdates.length;l++){var c=0;l<this.rateUpdates.length-1?c=this.rateUpdates[l+1].time:c=this.manager.context.currentTime-this.playTime,a+=(c-this.rateUpdates[l].time)*this.rateUpdates[l].rate}return a},getLoopTime:function(){for(var a=0,l=0;l<this.rateUpdates.length-1;l++)a+=(this.rateUpdates[l+1].time-this.rateUpdates[l].time)*this.rateUpdates[l].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-a)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(f.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(f.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(f.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(f.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(f.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});r.exports=h},57490:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(53134),m=s(85034),f=s(83419),u=s(14463),h=s(8443),a=s(71741),l=s(95540),c=new f({Extends:m,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",m.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(h.BOOT,this.unlock,this)),v.events.on(h.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var d=this.context;window.setTimeout(function(){d&&(d.suspend(),d.resume())},100)},createAudioContext:function(d){var v=d.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(d){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=d,this.masterMuteNode=d.createGain(),this.masterVolumeNode=d.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(d.destination),this.destination=this.masterMuteNode,this},add:function(d,v){var p=new a(this,d,v);return this.sounds.push(p),p},decodeAudio:function(d,v){var p;Array.isArray(d)?p=d:p=[{key:d,data:v}];for(var g=this.game.cache.audio,x=p.length,C=0;C<p.length;C++){var P=p[C],w=P.key,E=P.data;typeof E=="string"&&(E=o(E));var b=(function(M,A){g.add(M,A),this.emit(u.DECODED,M),x--,x===0&&this.emit(u.DECODED_ALL)}).bind(this,w),O=(function(M,A){console.error("Error decoding audio: "+M+" - ",A?A.message:""),x--,x===0&&this.emit(u.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(E,b,O)}},setListenerPosition:function(d,v){return d===void 0&&(d=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(d,v),this},unlock:function(){var d=this,v=document.body,p=function g(){if(d.context&&v){var x=v.removeEventListener.bind(v);d.context.resume().then(function(){x("touchstart",g),x("touchend",g),x("mousedown",g),x("mouseup",g),x("keydown",g),d.unlocked=!0},function(){x("touchstart",g),x("touchend",g),x("mousedown",g),x("mouseup",g),x("keydown",g)})}};v&&(v.addEventListener("touchstart",p,!1),v.addEventListener("touchend",p,!1),v.addEventListener("mousedown",p,!1),v.addEventListener("mouseup",p,!1),v.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var d=this.context;d&&!this.locked&&(d.state==="suspended"||d.state==="interrupted")&&d.resume()},update:function(d,v){var p=this.context.listener,g=l(this.listenerPosition,"x",null),x=l(this.listenerPosition,"y",null);if(p&&p.positionX!==void 0)g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),x&&x!==this._spatialy&&(this._spatialy=p.positionY.value=x);else if(p){g&&g!==this._spatialx&&(this._spatialx=g),x&&x!==this._spatialy&&(this._spatialy=x);var C=l(p,"z",0);p.setPosition(this._spatialx||0,this._spatialy||0,C)}m.prototype.update.call(this,d,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var d=this;this.context.close().then(function(){d.context=null})}this.game.events.off(h.VISIBLE,this.onGameVisible,this),m.prototype.destroy.call(this)},setMute:function(d){return this.mute=d,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(d){this.masterMuteNode.gain.setValueAtTime(d?0:1,0),this.emit(u.GLOBAL_MUTE,this,d)}},setVolume:function(d){return this.volume=d,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(d){this.masterVolumeNode.gain.setValueAtTime(d,0),this.emit(u.GLOBAL_VOLUME,this,d)}}});r.exports=c},73162:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37105),m=s(83419),f=s(29747),u=s(19186),h=new m({initialize:function(l){this.parent=l,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(a,l){return l?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,l,c){return c?o.AddAt(this.list,a,l):o.AddAt(this.list,a,l,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,l){return a?(l===void 0&&(l=function(c,d){return c[a]-d[a]}),u(this.list,l),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,l){return o.GetRandom(this.list,a,l)},getFirst:function(a,l,c,d){return o.GetFirst(this.list,a,l,c,d)},getAll:function(a,l,c,d){return o.GetAll(this.list,a,l,c,d)},count:function(a,l){return o.CountAllMatching(this.list,a,l)},swap:function(a,l){o.Swap(this.list,a,l)},moveTo:function(a,l){return o.MoveTo(this.list,a,l)},moveAbove:function(a,l){return o.MoveAbove(this.list,a,l)},moveBelow:function(a,l){return o.MoveBelow(this.list,a,l)},remove:function(a,l){return l?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,l){return l?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,l,c){return c?o.RemoveBetween(this.list,a,l):o.RemoveBetween(this.list,a,l,this.removeCallback,this)},removeAll:function(a){for(var l=this.list.length;l--;)this.remove(this.list[l],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,l){return o.Replace(this.list,a,l)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,l,c,d){return o.SetAll(this.list,a,l,c,d),this},each:function(a,l){for(var c=[null],d=2;d<arguments.length;d++)c.push(arguments[d]);for(d=0;d<this.list.length;d++)c[0]=this.list[d],a.apply(l,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=h},90330:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(f){if(Array.isArray(f))for(var u=0;u<f.length;u++)this.set(f[u][0],f[u][1]);return this},set:function(f,u){return this.has(f)||this.size++,this.entries[f]=u,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],u=this.entries;for(var h in u)f.push(u[h]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],u=this.entries;for(var h in u)f.push(u[h]);return f},dump:function(){var f=this.entries;console.group("Map");for(var u in f)console.log(u,f[u]);console.groupEnd()},each:function(f){var u=this.entries;for(var h in u)if(f(h,u[h])===!1)break;return this},contains:function(f){var u=this.entries;for(var h in u)if(u[h]===f)return!0;return!1},merge:function(f,u){u===void 0&&(u=!1);var h=this.entries,a=f.entries;for(var l in a)h.hasOwnProperty(l)&&u?h[l]=a[l]:this.set(l,a[l]);return this}});r.exports=m},25774:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(82348),u=new o({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var a=this._pending,l=a.indexOf(h);l!==-1&&a.splice(l,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,a=this._destroy,l=h.length;l--;)a.push(h[l]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,a=this._active,l,c;for(l=0;l<h.length;l++){c=h[l];var d=a.indexOf(c);d!==-1&&(a.splice(d,1),this.emit(f.PROCESS_QUEUE_REMOVE,c))}for(h.length=0,h=this._pending,l=0;l<h.length;l++)c=h[l],(!this.checkQueue||this.checkQueue&&a.indexOf(c)===-1)&&(a.push(c),this.emit(f.PROCESS_QUEUE_ADD,c));return h.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=u},59542:(r,T,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(43886);function m(E){if(!(this instanceof m))return new m(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(E){var b=this.data,O=[],M=this.toBBox;if(!C(E,b))return O;for(var A=[],F,R,L,D;b;){for(F=0,R=b.children.length;F<R;F++)L=b.children[F],D=b.leaf?M(L):L,C(E,D)&&(b.leaf?O.push(L):x(E,D)?this._all(L,O):A.push(L));b=A.pop()}return O},collides:function(E){var b=this.data,O=this.toBBox;if(!C(E,b))return!1;for(var M=[],A,F,R,L;b;){for(A=0,F=b.children.length;A<F;A++)if(R=b.children[A],L=b.leaf?O(R):R,C(E,L)){if(b.leaf||x(E,L))return!0;M.push(R)}b=M.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var b=0,O=E.length;b<O;b++)this.insert(E[b]);return this}var M=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=M;else if(this.data.height===M.height)this._splitRoot(this.data,M);else{if(this.data.height<M.height){var A=this.data;this.data=M,M=A}this._insert(M,this.data.height-M.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(E,b){if(!E)return this;for(var O=this.data,M=this.toBBox(E),A=[],F=[],R,L,D,I;O||A.length;){if(O||(O=A.pop(),L=A[A.length-1],R=F.pop(),I=!0),O.leaf&&(D=f(E,O.children,b),D!==-1))return O.children.splice(D,1),A.push(O),this._condense(A),this;!I&&!O.leaf&&x(O,M)?(A.push(O),F.push(R),R=0,L=O,O=O.children[0]):L?(R++,O=L.children[R],I=!1):O=null}return this},toBBox:function(E){return E},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,b){for(var O=[];E;)E.leaf?b.push.apply(b,E.children):O.push.apply(O,E.children),E=O.pop();return b},_build:function(E,b,O,M){var A=O-b+1,F=this._maxEntries,R;if(A<=F)return R=P(E.slice(b,O+1)),u(R,this.toBBox),R;M||(M=Math.ceil(Math.log(A)/Math.log(F)),F=Math.ceil(A/Math.pow(F,M-1))),R=P([]),R.leaf=!1,R.height=M;var L=Math.ceil(A/F),D=L*Math.ceil(Math.sqrt(F)),I,z,U,H;for(w(E,b,O,D,this.compareMinX),I=b;I<=O;I+=D)for(U=Math.min(I+D-1,O),w(E,I,U,L,this.compareMinY),z=I;z<=U;z+=L)H=Math.min(z+L-1,U),R.children.push(this._build(E,z,H,M-1));return u(R,this.toBBox),R},_chooseSubtree:function(E,b,O,M){for(var A,F,R,L,D,I,z,U;M.push(b),!(b.leaf||M.length-1===O);){for(z=U=1/0,A=0,F=b.children.length;A<F;A++)R=b.children[A],D=d(R),I=p(E,R)-D,I<U?(U=I,z=D<z?D:z,L=R):I===U&&D<z&&(z=D,L=R);b=L||b.children[0]}return b},_insert:function(E,b,O){var M=this.toBBox,A=O?E:M(E),F=[],R=this._chooseSubtree(A,this.data,b,F);for(R.children.push(E),a(R,A);b>=0&&F[b].children.length>this._maxEntries;)this._split(F,b),b--;this._adjustParentBBoxes(A,F,b)},_split:function(E,b){var O=E[b],M=O.children.length,A=this._minEntries;this._chooseSplitAxis(O,A,M);var F=this._chooseSplitIndex(O,A,M),R=P(O.children.splice(F,O.children.length-F));R.height=O.height,R.leaf=O.leaf,u(O,this.toBBox),u(R,this.toBBox),b?E[b-1].children.push(R):this._splitRoot(O,R)},_splitRoot:function(E,b){this.data=P([E,b]),this.data.height=E.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(E,b,O){var M,A,F,R,L,D,I,z;for(D=I=1/0,M=b;M<=O-b;M++)A=h(E,0,M,this.toBBox),F=h(E,M,O,this.toBBox),R=g(A,F),L=d(A)+d(F),R<D?(D=R,z=M,I=L<I?L:I):R===D&&L<I&&(I=L,z=M);return z},_chooseSplitAxis:function(E,b,O){var M=E.leaf?this.compareMinX:l,A=E.leaf?this.compareMinY:c,F=this._allDistMargin(E,b,O,M),R=this._allDistMargin(E,b,O,A);F<R&&E.children.sort(M)},_allDistMargin:function(E,b,O,M){E.children.sort(M);var A=this.toBBox,F=h(E,0,b,A),R=h(E,O-b,O,A),L=v(F)+v(R),D,I;for(D=b;D<O-b;D++)I=E.children[D],a(F,E.leaf?A(I):I),L+=v(F);for(D=O-b-1;D>=b;D--)I=E.children[D],a(R,E.leaf?A(I):I),L+=v(R);return L},_adjustParentBBoxes:function(E,b,O){for(var M=O;M>=0;M--)a(b[M],E)},_condense:function(E){for(var b=E.length-1,O;b>=0;b--)E[b].children.length===0?b>0?(O=E[b-1].children,O.splice(O.indexOf(E[b]),1)):this.clear():u(E[b],this.toBBox)},compareMinX:function(E,b){return E.left-b.left},compareMinY:function(E,b){return E.top-b.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function f(E,b,O){if(!O)return b.indexOf(E);for(var M=0;M<b.length;M++)if(O(E,b[M]))return M;return-1}function u(E,b){h(E,0,E.children.length,b,E)}function h(E,b,O,M,A){A||(A=P(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var F=b,R;F<O;F++)R=E.children[F],a(A,E.leaf?M(R):R);return A}function a(E,b){return E.minX=Math.min(E.minX,b.minX),E.minY=Math.min(E.minY,b.minY),E.maxX=Math.max(E.maxX,b.maxX),E.maxY=Math.max(E.maxY,b.maxY),E}function l(E,b){return E.minX-b.minX}function c(E,b){return E.minY-b.minY}function d(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function v(E){return E.maxX-E.minX+(E.maxY-E.minY)}function p(E,b){return(Math.max(b.maxX,E.maxX)-Math.min(b.minX,E.minX))*(Math.max(b.maxY,E.maxY)-Math.min(b.minY,E.minY))}function g(E,b){var O=Math.max(E.minX,b.minX),M=Math.max(E.minY,b.minY),A=Math.min(E.maxX,b.maxX),F=Math.min(E.maxY,b.maxY);return Math.max(0,A-O)*Math.max(0,F-M)}function x(E,b){return E.minX<=b.minX&&E.minY<=b.minY&&b.maxX<=E.maxX&&b.maxY<=E.maxY}function C(E,b){return b.minX<=E.maxX&&b.minY<=E.maxY&&b.maxX>=E.minX&&b.maxY>=E.minY}function P(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(E,b,O,M,A){for(var F=[b,O],R;F.length;)O=F.pop(),b=F.pop(),!(O-b<=M)&&(R=b+Math.ceil((O-b)/M/2)*M,o(E,R,b,O,A),F.push(b,R,R,O))}r.exports=m},35072:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var h=0;h<u.length;h++)this.set(u[h])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,u){for(var h=0;h<this.entries.length;h++){var a=this.entries[h];if(a[f]===u)return a}},getArray:function(){return this.entries.slice(0)},delete:function(f){var u=this.entries.indexOf(f);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var u=this.entries[f];console.log(u)}console.groupEnd()},each:function(f,u){var h,a=this.entries.slice(),l=a.length;if(u)for(h=0;h<l&&f.call(u,a[h],h)!==!1;h++);else for(h=0;h<l&&f(a[h],h)!==!1;h++);return this},iterate:function(f,u){var h,a=this.entries.length;if(u)for(h=0;h<a&&f.call(u,this.entries[h],h)!==!1;h++);else for(h=0;h<a&&f(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(f){var u,h=[];for(u=1;u<arguments.length;u++)h.push(arguments[u]);var a=this.entries.length;for(u=0;u<a;u++){var l=this.entries[u];l[f].apply(l,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var u=new m;return f.entries.forEach(function(h){u.set(h)}),this.entries.forEach(function(h){u.set(h)}),u},intersect:function(f){var u=new m;return this.entries.forEach(function(h){f.contains(h)&&u.set(h)}),u},difference:function(f){var u=new m;return this.entries.forEach(function(h){f.contains(h)||u.set(h)}),u},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});r.exports=m},86555:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45319),m=s(83419),f=s(56583),u=s(26099),h=new m({initialize:function(l,c,d,v){l===void 0&&(l=0),c===void 0&&(c=l),d===void 0&&(d=0),v===void 0&&(v=null),this._width=l,this._height=c,this._parent=v,this.aspectMode=d,this.aspectRatio=c===0?1:l/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,l){return a===void 0&&(a=0),l===void 0&&(l=a),this.snapTo.set(a,l),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,l){return a===void 0&&(a=0),l===void 0&&(l=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(l,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,l){return a===void 0&&(a=Number.MAX_VALUE),l===void 0&&(l=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(l,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,l){switch(a===void 0&&(a=0),l===void 0&&(l=a),this.aspectMode){case h.NONE:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(l,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(a,l,!0);break;case h.ENVELOP:this.constrain(a,l,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,l){return this._width=this.getNewWidth(f(a,this.snapTo.x)),this._height=this.getNewHeight(f(l,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,l){return l===void 0&&(l=!0),a=o(a,this.minWidth,this.maxWidth),l&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,l){return l===void 0&&(l=!0),a=o(a,this.minHeight,this.maxHeight),l&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,l,c){a===void 0&&(a=0),l===void 0&&(l=a),c===void 0&&(c=!0),a=this.getNewWidth(a),l=this.getNewHeight(l);var d=this.snapTo,v=l===0?1:a/l;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(a=f(a,d.x),l=a/this.aspectRatio,d.y>0&&(l=f(l,d.y),a=l*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(l=f(l,d.y),a=l*this.aspectRatio,d.x>0&&(a=f(a,d.x),l=a*(1/this.aspectRatio))),this._width=a,this._height=l,this},fitTo:function(a,l){return this.constrain(a,l,!0)},envelop:function(a,l){return this.constrain(a,l,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,r.exports=h},15238:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},56187:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},82348:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(45319),f=s(40987),u=s(8054),h=s(50030),a=s(79237),l=new o({Extends:a,initialize:function(d,v,p,g,x){a.call(this,d,v,p,g,x),this.add("__BASE",0,0,0,g,x),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=x,this.imageData=this.context.getImageData(0,0,g,x),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(c,d,v,p){return p===void 0&&(p=!0),this.context.drawImage(v,c,d),p&&this.update(),this},drawFrame:function(c,d,v,p,g){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=!0);var x=this.manager.getFrame(c,d);if(x){var C=x.canvasData,P=x.cutWidth,w=x.cutHeight,E=x.source.resolution;this.context.drawImage(x.source.image,C.x,C.y,P,w,v,p,P/E,w/E),g&&this.update()}return this},setPixel:function(c,d,v,p,g,x){x===void 0&&(x=255),c=Math.abs(Math.floor(c)),d=Math.abs(Math.floor(d));var C=this.getIndex(c,d);if(C>-1){var P=this.context.getImageData(c,d,1,1);P.data[0]=v,P.data[1]=p,P.data[2]=g,P.data[3]=x,this.context.putImageData(P,c,d)}return this},putData:function(c,d,v,p,g,x,C){return p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=c.width),C===void 0&&(C=c.height),this.context.putImageData(c,d,v,p,g,x,C),this},getData:function(c,d,v,p){c=m(Math.floor(c),0,this.width-1),d=m(Math.floor(d),0,this.height-1),v=m(v,1,this.width-c),p=m(p,1,this.height-d);var g=this.context.getImageData(c,d,v,p);return g},getPixel:function(c,d,v){v||(v=new f);var p=this.getIndex(c,d);if(p>-1){var g=this.data,x=g[p+0],C=g[p+1],P=g[p+2],w=g[p+3];v.setTo(x,C,P,w)}return v},getPixels:function(c,d,v,p){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=this.width),p===void 0&&(p=v),c=Math.abs(Math.round(c)),d=Math.abs(Math.round(d));for(var g=m(c,0,this.width),x=m(c+v,0,this.width),C=m(d,0,this.height),P=m(d+p,0,this.height),w=new f,E=[],b=C;b<P;b++){for(var O=[],M=g;M<x;M++)w=this.getPixel(M,b,w),O.push({x:M,y:b,color:w.color,alpha:w.alphaGL});E.push(O)}return E},getIndex:function(c,d){return c=Math.abs(Math.round(c)),d=Math.abs(Math.round(d)),c<this.width&&d<this.height?(c+d*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,d,v,p,g){return c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(c,d,v,p),g&&this.update(),this},setSize:function(c,d){return d===void 0&&(d=c),(c!==this.width||d!==this.height)&&(this.canvas.width=c,this.canvas.height=d,this._source.width=c,this._source.height=d,this._source.isPowerOf2=h(c,d),this.frames.__BASE.setSize(c,d,0,0),this.width=c,this.height=d,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=l},81320:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(10312),m=s(38058),f=s(27919),u=s(83419),h=s(8054),a=s(4327),l=s(95540),c=s(36060),d=s(32302),v=s(79237),p=s(70554),g=new u({Extends:v,initialize:function(C,P,w,E,b){w===void 0&&(w=256),E===void 0&&(E=256),b===void 0&&(b=!0),this.type="DynamicTexture";var O=C.game.renderer,M=O&&O.type===h.CANVAS,A=M?f.create2D(this,w,E):[this];v.call(this,C,P,A,w,E),this.add("__BASE",0,0,0,w,E),this.renderer=O,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=M?A:null,this.context=M?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,w,E).setScene(C.game.scene.systemScene,!1),this.renderTarget=M?null:new d(O,w,E,1,0,!1,!1,!0,!1),this.pipeline=M?null:O.pipelines.get(c.SINGLE_PIPELINE),this.setSize(w,E,b)},setSize:function(x,C,P){C===void 0&&(C=x),P===void 0&&(P=!0),P&&(x=Math.floor(x),C=Math.floor(C),x%2!==0&&x++,C%2!==0&&C++);var w=this.get(),E=w.source;if(x!==this.width||C!==this.height){this.canvas&&(this.canvas.width=x,this.canvas.height=C);var b=this.renderTarget;b&&(b.willResize(x,C)&&b.resize(x,C),b.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(x,C),E.width=x,E.height=C,w.setSize(x,C),this.width=x,this.height=C}else{var O=this.getSourceImage();w.cutX+x>O.width&&(x=O.width-w.cutX),w.cutY+C>O.height&&(C=O.height-w.cutY),w.setSize(x,C,w.cutX,w.cutY)}return this},setFromRenderTarget:function(){var x=this.get(),C=x.source,P=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=P.texture,this},setIsSpriteTexture:function(x){return this.isSpriteTexture=x,this},fill:function(x,C,P,w,E,b){var O=this.camera,M=this.renderer;C===void 0&&(C=1),P===void 0&&(P=0),w===void 0&&(w=0),E===void 0&&(E=this.width),b===void 0&&(b=this.height);var A=x>>16&255,F=x>>8&255,R=x&255,L=this.renderTarget;if(O.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),I=M.width/L.width,z=M.height/L.height,U=L.height-(w+b);D.drawFillRect(P*I,U*z,E*I,b*z,p.getTintFromFloats(R/255,F/255,A/255,1),C),L.unbind(!0)}else{var H=this.context;M.setContext(H),H.globalCompositeOperation="source-over",H.fillStyle="rgba("+A+","+F+","+R+","+C+")",H.fillRect(P,w,E,b),M.setContext()}return this.dirty=!0,this},clear:function(x,C,P,w){if(this.dirty){var E=this.context,b=this.renderTarget;b?b.clear(x,C,P,w):E&&(x!==void 0&&C!==void 0&&P!==void 0&&w!==void 0?E.clearRect(x,C,P,w):(E.save(),E.setTransform(1,0,0,1,0,0),E.clearRect(0,0,this.width,this.height),E.restore())),this.dirty=!1}return this},stamp:function(x,C,P,w,E){P===void 0&&(P=0),w===void 0&&(w=0);var b=l(E,"alpha",1),O=l(E,"tint",16777215),M=l(E,"angle",0),A=l(E,"rotation",0),F=l(E,"scale",1),R=l(E,"scaleX",F),L=l(E,"scaleY",F),D=l(E,"originX",.5),I=l(E,"originY",.5),z=l(E,"blendMode",0),U=l(E,"erase",!1),H=l(E,"skipBatch",!1),W=this.manager.resetStamp(b,O);return W.setAngle(0),M!==0?W.setAngle(M):A!==0&&W.setRotation(A),W.setScale(R,L),W.setTexture(x,C),W.setOrigin(D,I),W.setBlendMode(z),U&&(this._eraseMode=!0),H?this.batchGameObject(W,P,w):this.draw(W,P,w),U&&(this._eraseMode=!1),this},erase:function(x,C,P){return this._eraseMode=!0,this.draw(x,C,P),this._eraseMode=!1,this},draw:function(x,C,P,w,E){return this.beginDraw(),this.batchDraw(x,C,P,w,E),this.endDraw(),this},drawFrame:function(x,C,P,w,E,b){return this.beginDraw(),this.batchDrawFrame(x,C,P,w,E,b),this.endDraw(),this},repeat:function(x,C,P,w,E,b,O,M,A){if(P===void 0&&(P=0),w===void 0&&(w=0),E===void 0&&(E=this.width),b===void 0&&(b=this.height),O===void 0&&(O=1),M===void 0&&(M=16777215),A===void 0&&(A=!1),x instanceof a?C=x:C=this.manager.getFrame(x,C),!C)return this;var F=this.manager.resetStamp(O,M);F.setFrame(C),F.setOrigin(0);var R=C.width,L=C.height;E=Math.floor(E),b=Math.floor(b);var D=Math.ceil(E/R),I=Math.ceil(b/L),z=D*R-E,U=I*L-b;z>0&&(z=R-z),U>0&&(U=L-U),P<0&&(D+=Math.ceil(Math.abs(P)/R)),w<0&&(I+=Math.ceil(Math.abs(w)/L));var H=P,W=w,N=!1,X=this.manager.stampCrop.setTo(0,0,R,L);A||this.beginDraw();for(var B=0;B<I;B++){if(W+L<0){W+=L;continue}for(var V=0;V<D;V++){if(N=!1,H+R<0){H+=R;continue}else H<0&&(N=!0,X.width=R+H,X.x=R-X.width);W<0&&(N=!0,X.height=L+W,X.y=L-X.height),z>0&&V===D-1&&(N=!0,X.width=z),U>0&&B===I-1&&(N=!0,X.height=U),N&&F.setCrop(X),this.batchGameObject(F,H,W),F.isCropped=!1,X.setTo(0,0,R,L),H+=R}H=P,W+=L}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var x=this.camera,C=this.renderer,P=this.renderTarget;x.preRender(),P?C.beginCapture(P.width,P.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(x,C,P,w,E){return Array.isArray(x)||(x=[x]),this.batchList(x,C,P,w,E),this},batchDrawFrame:function(x,C,P,w,E,b){P===void 0&&(P=0),w===void 0&&(w=0),E===void 0&&(E=1),b===void 0&&(b=16777215);var O=this.manager.getFrame(x,C);return O&&(this.renderTarget?this.pipeline.batchTextureFrame(O,P,w,b,E,this.camera.matrix,null):this.batchTextureFrame(O,P,w,E,b)),this},endDraw:function(x){if(x===void 0&&(x=this._eraseMode),this.isDrawing){var C=this.renderer,P=this.renderTarget;if(P){var w=C.endCapture(),E=C.pipelines.setUtility();E.blitFrame(w,P,1,!1,!1,x,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(x,C,P,w,E){var b=x.length;if(b!==0)for(var O=0;O<b;O++){var M=x[O];!M||M===this||(M.renderWebGL||M.renderCanvas?this.batchGameObject(M,C,P):M.isParent||M.list?this.batchGroup(M.getChildren(),C,P):typeof M=="string"?this.batchTextureFrameKey(M,null,C,P,w,E):M instanceof a?this.batchTextureFrame(M,C,P,w,E):Array.isArray(M)&&this.batchList(M,C,P,w,E))}},batchGroup:function(x,C,P){C===void 0&&(C=0),P===void 0&&(P=0);for(var w=0;w<x.length;w++){var E=x[w];E.willRender(this.camera)&&this.batchGameObject(E,E.x+C,E.y+P)}},batchGameObject:function(x,C,P){C===void 0&&(C=x.x),P===void 0&&(P=x.y);var w=x.x,E=x.y,b=this.camera,O=this.renderer,M=this._eraseMode,A=x.mask;if(x.setPosition(C,P),this.canvas){if(M){var F=x.blendMode;x.blendMode=o.ERASE}A&&A.preRenderCanvas(O,x,b),x.renderCanvas(O,x,b,null),A&&A.postRenderCanvas(O,x,b),M&&(x.blendMode=F)}else O&&(A&&A.preRenderWebGL(O,x,b),M||O.setBlendMode(x.blendMode),x.renderWebGL(O,x,b),A&&A.postRenderWebGL(O,b,this.renderTarget));x.setPosition(w,E)},batchTextureFrameKey:function(x,C,P,w,E,b){var O=this.manager.getFrame(x,C);O&&this.batchTextureFrame(O,P,w,E,b)},batchTextureFrame:function(x,C,P,w,E){C===void 0&&(C=0),P===void 0&&(P=0),w===void 0&&(w=1),E===void 0&&(E=16777215);var b=this.camera.matrix,O=this.renderTarget;if(O)this.pipeline.batchTextureFrame(x,C,P,E,w,b,null);else{var M=this.context,A=x.canvasData,F=x.source.image;M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=w,b.setToContext(M),A.width>0&&A.height>0&&M.drawImage(F,A.x,A.y,A.width,A.height,C,P,A.width,A.height),M.restore()}},snapshotArea:function(x,C,P,w,E,b,O){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,x,C,P,w,b,O):this.renderer.snapshotCanvas(this.canvas,E,!1,x,C,P,w,b,O),this},snapshot:function(x,C,P){return this.snapshotArea(0,0,this.width,this.height,x,C,P)},snapshotPixel:function(x,C,P){return this.snapshotArea(x,C,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(x,C,P,w){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(x,E,P,w)},renderCanvas:function(){},destroy:function(){var x=this.manager.stamp;x&&x.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=g},4327:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(45319),f=s(79291),u=new o({initialize:function(a,l,c,d,v,p,g){this.texture=a,this.name=l,this.source=a.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,g,d,v)},setCutPosition:function(h,a){return h===void 0&&(h=0),a===void 0&&(a=0),this.cutX=h,this.cutY=a,this.updateUVs()},setCutSize:function(h,a){return this.cutWidth=h,this.cutHeight=a,this.updateUVs()},setSize:function(h,a,l,c){l===void 0&&(l=0),c===void 0&&(c=0),this.setCutPosition(l,c),this.setCutSize(h,a),this.width=h,this.height=a,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(a/2);var d=this.data,v=d.cut;v.x=l,v.y=c,v.w=h,v.h=a,v.r=l+h,v.b=c+a,d.sourceSize.w=h,d.sourceSize.h=a,d.spriteSourceSize.w=h,d.spriteSourceSize.h=a,d.radius=.5*Math.sqrt(h*h+a*a);var p=d.drawImage;return p.x=l,p.y=c,p.width=h,p.height=a,this.updateUVs()},setTrim:function(h,a,l,c,d,v){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=h,p.sourceSize.h=a,g.x=l,g.y=c,g.w=d,g.h=v,g.r=l+d,g.b=c+v,this.x=l,this.y=c,this.width=d,this.height=v,this.halfWidth=d*.5,this.halfHeight=v*.5,this.centerX=Math.floor(d/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(h,a,l,c){var d=this.data;return d.scale9=!0,d.is3Slice=a===0&&c===this.height,d.scale9Borders.x=h,d.scale9Borders.y=a,d.scale9Borders.w=l,d.scale9Borders.h=c,this},setCropUVs:function(h,a,l,c,d,v,p){var g=this.cutX,x=this.cutY,C=this.cutWidth,P=this.cutHeight,w=this.realWidth,E=this.realHeight;a=m(a,0,w),l=m(l,0,E),c=m(c,0,w-a),d=m(d,0,E-l);var b=g+a,O=x+l,M=c,A=d,F=this.data;if(F.trim){var R=F.spriteSourceSize;c=m(c,0,R.x+C-a),d=m(d,0,R.y+P-l);var L=a+c,D=l+d,I=!(R.r<a||R.b<l||R.x>L||R.y>D);if(I){var z=Math.max(R.x,a),U=Math.max(R.y,l),H=Math.min(R.r,L)-z,W=Math.min(R.b,D)-U;M=H,A=W,v?b=g+(C-(z-R.x)-H):b=g+(z-R.x),p?O=x+(P-(U-R.y)-W):O=x+(U-R.y),a=z,l=U,c=H,d=W}else b=0,O=0,M=0,A=0}else v&&(b=g+(C-a-c)),p&&(O=x+(P-l-d));var N=this.source.width,X=this.source.height;return h.u0=Math.max(0,b/N),h.v0=Math.max(0,O/X),h.u1=Math.min(1,(b+M)/N),h.v1=Math.min(1,(O+A)/X),h.x=a,h.y=l,h.cx=b,h.cy=O,h.cw=M,h.ch=A,h.width=c,h.height=d,h.flipX=v,h.flipY=p,h},updateCropUVs:function(h,a,l){return this.setCropUVs(h,h.x,h.y,h.width,h.height,a,l)},setUVs:function(h,a,l,c,d,v){var p=this.data.drawImage;return p.width=h,p.height=a,this.u0=l,this.v0=c,this.u1=d,this.v1=v,this},updateUVs:function(){var h=this.cutX,a=this.cutY,l=this.cutWidth,c=this.cutHeight,d=this.data.drawImage;d.width=l,d.height=c;var v=this.source.width,p=this.source.height;return this.u0=h/v,this.v0=a/p,this.u1=(h+l)/v,this.v1=(a+c)/p,this},updateUVsInverted:function(){var h=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/a,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var h=new u(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=f(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=u},79237:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(4327),f=s(11876),u='Texture "%s" has no frame "%s"',h=new o({initialize:function(l,c,d,v,p){Array.isArray(d)||(d=[d]),this.manager=l,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<d.length;g++)this.source.push(new f(this,d[g],v,p))},add:function(a,l,c,d,v,p){if(this.has(a))return null;var g=new m(this,a,l,c,d,v,p);return this.frames[a]=g,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,g},remove:function(a){if(this.has(a)){var l=this.get(a);return l.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var l=this.frames[a];return l||(console.warn(u,this.key,a),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(a){for(var l=0;l<this.source.length;l++)if(this.source[l]===a)return l;return-1},getFramesFromTextureSource:function(a,l){l===void 0&&(l=!1);var c=[];for(var d in this.frames)if(!(d==="__BASE"&&!l)){var v=this.frames[d];v.sourceIndex===a&&c.push(v)}return c},getFrameBounds:function(a){a===void 0&&(a=0);for(var l=this.getFramesFromTextureSource(a,!0),c=l[0],d=c.cutX,v=c.cutY,p=c.cutX+c.cutWidth,g=c.cutY+c.cutHeight,x=1;x<l.length;x++){var C=l[x];C.cutX<d&&(d=C.cutX),C.cutY<v&&(v=C.cutY),C.cutX+C.cutWidth>p&&(p=C.cutX+C.cutWidth),C.cutY+C.cutHeight>g&&(g=C.cutY+C.cutHeight)}return{x:d,y:v,width:p-d,height:g-v}},getFrameNames:function(a){a===void 0&&(a=!1);var l=Object.keys(this.frames);if(!a){var c=l.indexOf("__BASE");c!==-1&&l.splice(c,1)}return l},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var l=this.frames[a];return l?l.source.image:(console.warn(u,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var l=this.frames[a],c;return l?c=l.sourceIndex:(console.warn(u,this.key,a),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var c=this.source[l];this.dataSource.push(new f(this,a[l],c.width,c.height))}},setFilter:function(a){var l;for(l=0;l<this.source.length;l++)this.source[l].setFilter(a);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(a)},destroy:function(){var a,l=this.source,c=this.dataSource;for(a=0;a<l.length;a++)l[a]&&l[a].destroy();for(a=0;a<c.length;a++)c[a]&&c[a].destroy();for(var d in this.frames){var v=this.frames[d];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=h},17130:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=s(57382),f=s(83419),u=s(40987),h=s(8054),a=s(81320),l=s(50792),c=s(69442),d=s(4327),v=s(8443),p=s(99584),g=s(35154),x=s(88571),C=s(41212),P=s(61309),w=s(87841),E=s(79237),b=new f({Extends:l,initialize:function(M){l.call(this),this.game=M,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,M.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var O=this.game.config;O.defaultImage!==null&&this.addBase64("__DEFAULT",O.defaultImage),O.missingImage!==null&&this.addBase64("__MISSING",O.missingImage),O.whiteImage!==null&&this.addBase64("__WHITE",O.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(M){this.stamp=new x(M).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(O){return!O||typeof O!="string"||this.exists(O)?(this.silentWarnings||console.error("Texture key already in use: "+O),!1):!0},remove:function(O){if(typeof O=="string")if(this.exists(O))O=this.get(O);else return this.silentWarnings||console.warn("No texture found matching key: "+O),this;var M=O.key;return this.list.hasOwnProperty(M)&&(O.destroy(),this.emit(c.REMOVE,M),this.emit(c.REMOVE_KEY+M)),this},removeKey:function(O){return this.list.hasOwnProperty(O)&&delete this.list[O],this},addBase64:function(O,M){if(this.checkKey(O)){var A=this,F=new Image;F.onerror=function(){A.emit(c.ERROR,O)},F.onload=function(){var R=A.create(O,F);R&&(P.Image(R,0),A.emit(c.ADD,O,R),A.emit(c.ADD_KEY+O,R),A.emit(c.LOAD,O,R))},F.src=M}return this},getBase64:function(O,M,A,F){A===void 0&&(A="image/png"),F===void 0&&(F=.92);var R="",L=this.getFrame(O,M);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,I=o.create2D(this,D.width,D.height),z=I.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&z.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),R=I.toDataURL(A,F),o.remove(I)}return R},addImage:function(O,M,A){var F=null;return this.checkKey(O)&&(F=this.create(O,M),P.Image(F,0),A&&F.setDataSource(A),this.emit(c.ADD,O,F),this.emit(c.ADD_KEY+O,F)),F},addGLTexture:function(O,M){var A=null;if(this.checkKey(O)){var F=M.width,R=M.height;A=this.create(O,M,F,R),A.add("__BASE",0,0,0,F,R),this.emit(c.ADD,O,A),this.emit(c.ADD_KEY+O,A)}return A},addCompressedTexture:function(O,M,A){var F=null;if(this.checkKey(O)){if(F=this.create(O,M),F.add("__BASE",0,0,0,M.width,M.height),A){var R=function(D,I,z){Array.isArray(z.textures)||Array.isArray(z.frames)?P.JSONArray(D,I,z):P.JSONHash(D,I,z)};if(Array.isArray(A))for(var L=0;L<A.length;L++)R(F,L,A[L]);else R(F,0,A)}this.emit(c.ADD,O,F),this.emit(c.ADD_KEY+O,F)}return F},addRenderTexture:function(O,M){var A=null;return this.checkKey(O)&&(A=this.create(O,M),A.add("__BASE",0,0,0,M.width,M.height),this.emit(c.ADD,O,A),this.emit(c.ADD_KEY+O,A)),A},generate:function(O,M){if(this.checkKey(O)){var A=o.create(this,1,1);return M.canvas=A,p(M),this.addCanvas(O,A)}else return null},createCanvas:function(O,M,A){if(M===void 0&&(M=256),A===void 0&&(A=256),this.checkKey(O)){var F=o.create(this,M,A,h.CANVAS,!0);return this.addCanvas(O,F)}return null},addCanvas:function(O,M,A){A===void 0&&(A=!1);var F=null;return A?F=new m(this,O,M,M.width,M.height):this.checkKey(O)&&(F=new m(this,O,M,M.width,M.height),this.list[O]=F,this.emit(c.ADD,O,F),this.emit(c.ADD_KEY+O,F)),F},addDynamicTexture:function(O,M,A){var F=null;return typeof O=="string"&&!this.exists(O)?F=new a(this,O,M,A):(F=O,O=F.key),this.checkKey(O)?(this.list[O]=F,this.emit(c.ADD,O,F),this.emit(c.ADD_KEY+O,F)):F=null,F},addAtlas:function(O,M,A,F){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(O,M,A,F):this.addAtlasJSONHash(O,M,A,F)},addAtlasJSONArray:function(O,M,A,F){var R=null;if(M instanceof E?(O=M.key,R=M):this.checkKey(O)&&(R=this.create(O,M)),R){if(Array.isArray(A))for(var L=A.length===1,D=0;D<R.source.length;D++){var I=L?A[0]:A[D];P.JSONArray(R,D,I)}else P.JSONArray(R,0,A);F&&R.setDataSource(F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R)}return R},addAtlasJSONHash:function(O,M,A,F){var R=null;if(M instanceof E?(O=M.key,R=M):this.checkKey(O)&&(R=this.create(O,M)),R){if(Array.isArray(A))for(var L=0;L<A.length;L++)P.JSONHash(R,L,A[L]);else P.JSONHash(R,0,A);F&&R.setDataSource(F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R)}return R},addAtlasXML:function(O,M,A,F){var R=null;return M instanceof E?(O=M.key,R=M):this.checkKey(O)&&(R=this.create(O,M)),R&&(P.AtlasXML(R,0,A),F&&R.setDataSource(F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R)),R},addUnityAtlas:function(O,M,A,F){var R=null;return M instanceof E?(O=M.key,R=M):this.checkKey(O)&&(R=this.create(O,M)),R&&(P.UnityYAML(R,0,A),F&&R.setDataSource(F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R)),R},addSpriteSheet:function(O,M,A,F){var R=null;if(M instanceof E?(O=M.key,R=M):this.checkKey(O)&&(R=this.create(O,M)),R){var L=R.source[0].width,D=R.source[0].height;P.SpriteSheet(R,0,0,0,L,D,A),F&&R.setDataSource(F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R)}return R},addSpriteSheetFromAtlas:function(O,M){if(!this.checkKey(O))return null;var A=g(M,"atlas",null),F=g(M,"frame",null);if(!(!A||!F)){var R=this.get(A),L=R.get(F);if(L){var D=L.source.image;D||(D=L.source.glTexture);var I=this.create(O,D);return L.trimmed?P.SpriteSheetFromAtlas(I,L,M):P.SpriteSheet(I,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,M),this.emit(c.ADD,O,I),this.emit(c.ADD_KEY+O,I),I}}},addUint8Array:function(O,M,A,F){if(!this.checkKey(O)||M.length/4!==A*F)return null;var R=this.create(O,M,A,F);return R.add("__BASE",0,0,0,A,F),this.emit(c.ADD,O,R),this.emit(c.ADD_KEY+O,R),R},create:function(O,M,A,F){var R=null;return this.checkKey(O)&&(R=new E(this,O,M,A,F),this.list[O]=R),R},exists:function(O){return this.list.hasOwnProperty(O)},get:function(O){return O===void 0&&(O="__DEFAULT"),this.list[O]?this.list[O]:O instanceof E?O:O instanceof d?O.texture:this.list.__MISSING},cloneFrame:function(O,M){if(this.list[O])return this.list[O].get(M).clone()},getFrame:function(O,M){if(this.list[O])return this.list[O].get(M)},parseFrame:function(O){if(O){if(typeof O=="string")return this.getFrame(O);if(Array.isArray(O)&&O.length===2)return this.getFrame(O[0],O[1]);if(C(O))return this.getFrame(O.key,O.frame);if(O instanceof E)return O.get();if(O instanceof d)return O}else return},getTextureKeys:function(){var O=[];for(var M in this.list)M!=="__DEFAULT"&&M!=="__MISSING"&&M!=="__WHITE"&&M!=="__NORMAL"&&O.push(M);return O},getPixel:function(O,M,A,F){var R=this.getFrame(A,F);if(R){O-=R.x,M-=R.y;var L=R.data.cut;if(O+=L.x,M+=L.y,O>=L.x&&O<L.r&&M>=L.y&&M<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(R.source.image,O,M,1,1,0,0,1,1);var I=D.getImageData(0,0,1,1);return new u(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(O,M,A,F){var R=this.getFrame(A,F);if(R){O-=R.x,M-=R.y;var L=R.data.cut;if(O+=L.x,M+=L.y,O>=L.x&&O<L.r&&M>=L.y&&M<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(R.source.image,O,M,1,1,0,0,1,1);var I=D.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(O,M,A){return this.list[M]&&(O.texture=this.list[M],O.frame=O.texture.get(A)),O},renameTexture:function(O,M){var A=this.get(O);return A&&O!==M?(A.key=M,this.list[M]=A,delete this.list[O],!0):!1},each:function(O,M){for(var A=[null],F=1;F<arguments.length;F++)A.push(arguments[F]);for(var R in this.list)A[0]=this.list[R],O.apply(M,A)},resetStamp:function(O,M){O===void 0&&(O=1),M===void 0&&(M=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(O),A.setTint(M),A.setTexture("__WHITE"),A},destroy:function(){for(var O in this.list)this.list[O].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});r.exports=b},11876:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(27919),m=s(83419),f=s(50030),u=s(29795),h=s(82751),a=new m({initialize:function(c,d,v,p,g){g===void 0&&(g=!1);var x=c.manager.game;this.renderer=x.renderer,this.texture=c,this.source=d,this.image=d.compressed?null:d,this.compressionAlgorithm=d.compressed?d.format:null,this.resolution=1,this.width=v||d.naturalWidth||d.videoWidth||d.width||0,this.height=p||d.naturalHeight||d.videoHeight||d.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=d instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&d instanceof HTMLVideoElement,this.isRenderTexture=d.type==="RenderTexture"||d.type==="DynamicTexture",this.isGLTexture=d instanceof h,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=g,this.init(x)},init:function(l){var c=this.renderer;if(c){var d=this.source;if(c.gl){var v=this.image,p=this.flipY,g=this.width,x=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,p):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,p):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,g,x,C):this.isGLTexture?this.glTexture=d:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(d,void 0,void 0,C):d instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(d,g,x,C):this.glTexture=c.createTextureFromSource(v,g,x,C)}else this.isRenderTexture&&(this.image=d.canvas)}l.config.antialias||this.setFilter(1)},setFilter:function(l){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,l),this.scaleMode=l},setFlipY:function(l){return l===void 0&&(l=!0),l===this.flipY?this:(this.flipY=l,this.update(),this)},update:function(){var l=this.renderer,c=this.image,d=this.flipY,v=l.gl;v&&this.isCanvas?l.updateCanvasTexture(c,this.glTexture,d):v&&this.isVideo&&l.updateVideoTexture(c,this.glTexture,d)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=a},19673:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};r.exports=T},44538:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"},63486:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"},94851:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"},29099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"},8678:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},86415:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"},30879:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"},69442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=s(19673),f={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:m,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};f=o(!1,f,m),r.exports=f},89905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=s.source[o];s.add("__BASE",o,0,0,f.width,f.height);for(var u=m.getElementsByTagName("SubTexture"),h,a=0;a<u.length;a++){var l=u[a].attributes,c=l.name.value,d=parseInt(l.x.value,10),v=parseInt(l.y.value,10),p=parseInt(l.width.value,10),g=parseInt(l.height.value,10);if(h=s.add(c,o,d,v,p,g),l.frameX){var x=Math.abs(parseInt(l.frameX.value,10)),C=Math.abs(parseInt(l.frameY.value,10)),P=parseInt(l.frameWidth.value,10),w=parseInt(l.frameHeight.value,10);h.setTrim(p,g,x,C,P,w)}}return s};r.exports=T},72893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.source[o];return s.add("__BASE",o,0,0,m.width,m.height),s};r.exports=T},4832:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.source[o];return s.add("__BASE",o,0,0,m.width,m.height),s};r.exports=T},78566:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),m=function(f,u,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=f.source[u];f.add("__BASE",u,0,0,a.width,a.height);for(var l=Array.isArray(h.textures)?h.textures[u].frames:h.frames,c,d=0;d<l.length;d++){var v=l[d];if(c=f.add(v.filename,u,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var g in h)g!=="frames"&&(Array.isArray(h[g])?f.customData[g]=h[g].slice(0):f.customData[g]=h[g]);return f};r.exports=m},39711:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),m=function(f,u,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=f.source[u];f.add("__BASE",u,0,0,a.width,a.height);var l=h.frames,c;for(var d in l)if(l.hasOwnProperty(d)){var v=l[d];if(c=f.add(d,u,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+d);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var g in h)g!=="frames"&&(Array.isArray(h[g])?f.customData[g]=h[g].slice(0):f.customData[g]=h[g]);return f};r.exports=m},31403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=[171,75,84,88,32,49,49,187,13,10,26,10],m,f=new Uint8Array(s,0,12);for(m=0;m<f.length;m++)if(f[m]!==o[m]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(s,12,13*u),a=h.getUint32(0,!0)===67305985,l=h.getUint32(1*u,a);if(l!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=h.getUint32(4*u,a),d=h.getUint32(6*u,a),v=h.getUint32(7*u,a),p=Math.max(1,h.getUint32(11*u,a)),g=h.getUint32(12*u,a),x=new Array(p),C=12+13*4+g,P=d,w=v;for(m=0;m<p;m++){var E=new Int32Array(s,C,1)[0];C+=4,x[m]={data:new Uint8Array(s,C,E),width:P,height:w},P=Math.max(1,P>>1),w=Math.max(1,w>>1),C+=E}return{mipmaps:x,width:d,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};r.exports=T},82038:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(M,A,F,R,L,D,I){return I===void 0&&(I=16),Math.floor((M+F)/L)*Math.floor((A+R)/D)*I}function s(M,A){return M=Math.max(M,16),A=Math.max(A,8),M*A/4}function o(M,A){return M=Math.max(M,8),A=Math.max(A,8),M*A/2}function m(M,A){return Math.ceil(M/4)*Math.ceil(A/4)*16}function f(M,A){return T(M,A,3,3,4,4,8)}function u(M,A){return T(M,A,3,3,4,4)}function h(M,A){return T(M,A,4,3,5,4)}function a(M,A){return T(M,A,4,4,5,5)}function l(M,A){return T(M,A,5,4,6,5)}function c(M,A){return T(M,A,5,5,6,6)}function d(M,A){return T(M,A,7,4,8,5)}function v(M,A){return T(M,A,7,5,8,6)}function p(M,A){return T(M,A,7,7,8,8)}function g(M,A){return T(M,A,9,4,10,5)}function x(M,A){return T(M,A,9,5,10,6)}function C(M,A){return T(M,A,9,7,10,8)}function P(M,A){return T(M,A,9,9,10,10)}function w(M,A){return T(M,A,11,9,12,10)}function E(M,A){return T(M,A,11,11,12,12)}var b={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:u,glFormat:[33777,35917]},9:{sizeFunc:u,glFormat:[33778,35918]},11:{sizeFunc:u,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:u,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:u,glFormat:[37490]},27:{sizeFunc:u,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:l,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:d,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:g,glFormat:[37816,37848]},36:{sizeFunc:x,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:E,glFormat:[37821,37853]}},O=function(M){for(var A=new Uint32Array(M,0,13),F=A[0],R=F===55727696,L=R?A[2]:A[3],D=A[4],I=b[L].glFormat[D],z=b[L].sizeFunc,U=A[11],H=A[7],W=A[6],N=52+A[12],X=new Uint8Array(M,N),B=new Array(U),V=0,k=H,j=W,$=0;$<U;$++){var J=z(k,j);B[$]={data:new Uint8Array(X.buffer,X.byteOffset+V,J),width:k,height:j},k=Math.max(1,k>>1),j=Math.max(1,j>>1),V+=J}return{mipmaps:B,width:H,height:W,internalFormat:I,compressed:!0,generateMipmap:!1}};r.exports=O},75549:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=function(f,u,h,a,l,c,d){var v=o(d,"frameWidth",null),p=o(d,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=f.source[u];f.add("__BASE",u,0,0,g.width,g.height);var x=o(d,"startFrame",0),C=o(d,"endFrame",-1),P=o(d,"margin",0),w=o(d,"spacing",0),E=Math.floor((l-P+w)/(v+w)),b=Math.floor((c-P+w)/(p+w)),O=E*b;O===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(x>O||x<-O)&&(x=0),x<0&&(x=O+x),(C===-1||C>O||C<x)&&(C=O);for(var M=P,A=P,F=0,R=0,L=0,D=0;D<O;D++){F=0,R=0;var I=M+v,z=A+p;I>l&&(F=I-l),z>c&&(R=z-c),D>=x&&D<=C&&(f.add(L,u,h+M,a+A,v-F,p-R),L++),M+=v+w,M+v>l&&(M=P,A+=p+w)}return f};r.exports=m},47534:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=function(f,u,h){var a=o(h,"frameWidth",null),l=o(h,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=f.source[0];f.add("__BASE",0,0,0,c.width,c.height),o(h,"startFrame",0),o(h,"endFrame",-1);for(var d=o(h,"margin",0),v=o(h,"spacing",0),p=u.cutX,g=u.cutY,x=u.cutWidth,C=u.cutHeight,P=u.realWidth,w=u.realHeight,E=Math.floor((P-d+v)/(a+v)),b=Math.floor((w-d+v)/(l+v)),O=u.x,M=a-O,A=a-(P-x-O),F=u.y,R=l-F,L=l-(w-C-F),D,I=d,z=d,U=0,H=0,W=0;W<b;W++){for(var N=W===0,X=W===b-1,B=0;B<E;B++){var V=B===0,k=B===E-1;if(D=f.add(U,H,p+I,g+z,a,l),V||N||k||X){var j=V?O:0,$=N?F:0,J=0,Z=0;V&&(J+=a-M),k&&(J+=a-A),N&&(Z+=l-R),X&&(Z+=l-L);var _=a-J,it=l-Z;D.cutWidth=_,D.cutHeight=it,D.setTrim(a,l,j,$,_,it)}I+=v,V?I+=M:k?I+=A:I+=a,U++}I=d,z+=v,N?z+=R:X?z+=L:z+=l}return f};r.exports=m},86147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,s=function(m,f,u,h){var a=T-h.y-h.height;m.add(u,f,h.x,a,h.width,h.height)},o=function(m,f,u){var h=m.source[f];m.add("__BASE",f,0,0,h.width,h.height),T=h.height;for(var a=u.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",d="",v={x:0,y:0,width:0,height:0},p=0;p<a.length;p++){var g=a[p].match(l);if(g){var x=g[1]==="- ",C=g[2],P=g[3];if(x&&(d!==c&&(s(m,f,d,v),c=d),v={x:0,y:0,width:0,height:0}),C==="name"){d=P;continue}switch(C){case"x":case"y":case"width":case"height":v[C]=parseInt(P,10);break}}}return d!==c&&s(m,f,d,v),m};r.exports=o},55222:(r,T,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(50030),m=function(c){for(var d=c.mipmaps,v=1;v<d.length;v++){var p=d[v].width,g=d[v].height;if(!o(p,g))return console.warn("Mip level "+v+" is not a power-of-two size: "+p+"x"+g),!1}var x=l[c.internalFormat];return x?x(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function f(c){for(var d=c.mipmaps,v=0;v<d.length;v++){var p=d[v].width,g=d[v].height;if((p<<v)%4!==0||(g<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+p+"x"+g),!1}return!0}function u(){return!0}function h(c){var d=c.mipmaps,v=d[0];return o(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function a(c){var d=c.mipmaps,v=d[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var l={37488:u,37489:u,37490:u,37491:u,37492:u,37493:u,37494:u,37495:u,37496:u,37497:u,36196:u,37808:u,37809:u,37810:u,37811:u,37812:u,37813:u,37814:u,37815:u,37816:u,37817:u,37818:u,37819:u,37820:u,37821:u,37840:u,37841:u,37842:u,37843:u,37844:u,37845:u,37846:u,37847:u,37848:u,37849:u,37850:u,37851:u,37852:u,37853:u,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:h,35841:h,35842:h,35843:h,33776:f,33777:f,33778:f,33779:f,35916:a,35917:a,35918:a,35919:a};r.exports=m},61309:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u,h,a,l,c,d,v){(a===void 0||a<=0)&&(a=32),(l===void 0||l<=0)&&(l=32),c===void 0&&(c=0),d===void 0&&(d=0),this.name=u,this.firstgid=h|0,this.imageWidth=a|0,this.imageHeight=l|0,this.imageMargin=c|0,this.imageSpacing=d|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,u,h,a){return this.images.push({gid:f,image:u,width:h,height:a}),this.total++,this}});r.exports=m},27462:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=new o({initialize:function(u){if(this.gids=[],u!==void 0)for(var h=0;h<u.length;++h)for(var a=u[h],l=0;l<a.total;++l)this.gids[a.firstgid+l]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var u=this.gids[f.gid];if(u){var h=u.getTileData(f.gid);if(h)return h.type}}},setTextureAndFrame:function(f,u,h,a){if(u===null&&this.gids&&a.gid!==void 0){var l=this.gids[a.gid];l&&(u===null&&l.image!==void 0&&(u=l.image.key),h===null&&(h=a.gid-l.firstgid),f.scene.textures.getFrame(u,h)||(u=null,h=null))}f.setTexture(u,h)},setPropertiesFromTiledObject:function(f,u){if(this.gids!==void 0&&u.gid!==void 0){var h=this.gids[u.gid];h!==void 0&&this.setFromJSON(f,h.getTileProperties(u.gid))}this.setFromJSON(f,u.properties)},setFromJSON:function(f,u){if(u){if(Array.isArray(u)){for(var h=0;h<u.length;h++){var a=u[h];f[a.name]!==void 0?f[a.name]=a.value:f.setData(a.name,a.value)}return}for(var l in u)f[l]!==void 0?f[l]=u[l]:f.setData(l,u[l])}}});r.exports=m},31989:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),m=s(87010),f=s(46177),u=s(49075),h=function(a,l,c,d,v,p,g,x){c===void 0&&(c=32),d===void 0&&(d=32),v===void 0&&(v=10),p===void 0&&(p=10),x===void 0&&(x=!1);var C=null;if(Array.isArray(g)){var P=l!==void 0?l:"map";C=f(P,o.ARRAY_2D,g,c,d,x)}else if(l!==void 0){var w=a.cache.tilemap.get(l);w?C=f(l,w.format,w.data,c,d,x):console.warn("No map data found for key "+l)}return C===null&&(C=new m({tileWidth:c,tileHeight:d,width:v,height:p})),new u(a,C)};r.exports=h},23029:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(31401),f=s(91907),u=s(62644),h=s(93232),a=new o({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(c,d,v,p,g,x,C,P){this.layer=c,this.index=d,this.x=v,this.y=p,this.width=g,this.height=x,this.right,this.bottom,this.baseWidth=C!==void 0?C:g,this.baseHeight=P!==void 0?P:x,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(l,c){return!(l<this.pixelX||c<this.pixelY||l>this.right||c>this.bottom)},copy:function(l){return this.index=l.index,this.alpha=l.alpha,this.properties=u(l.properties),this.visible=l.visible,this.setFlip(l.flipX,l.flipY),this.tint=l.tint,this.rotation=l.rotation,this.collideUp=l.collideUp,this.collideDown=l.collideDown,this.collideLeft=l.collideLeft,this.collideRight=l.collideRight,this.collisionCallback=l.collisionCallback,this.collisionCallbackContext=l.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(l){var c=this.tilemapLayer;if(c){var d=c.tileToWorldXY(this.x,this.y,void 0,l);return d.x}return this.x*this.baseWidth},getRight:function(l){var c=this.tilemapLayer;return c?this.getLeft(l)+this.width*c.scaleX:this.getLeft(l)+this.width},getTop:function(l){var c=this.tilemapLayer;if(c){var d=c.tileToWorldXY(this.x,this.y,void 0,l);return d.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(l){var c=this.tilemapLayer;return c?this.getTop(l)+this.height*c.scaleY:this.getTop(l)+this.height},getBounds:function(l,c){return c===void 0&&(c=new h),c.x=this.getLeft(l),c.y=this.getTop(l),c.width=this.getRight(l)-c.x,c.height=this.getBottom(l)-c.y,c},getCenterX:function(l){return(this.getLeft(l)+this.getRight(l))/2},getCenterY:function(l){return(this.getTop(l)+this.getBottom(l))/2},intersects:function(l,c,d,v){return!(d<=this.pixelX||v<=this.pixelY||l>=this.right||c>=this.bottom)},isInteresting:function(l,c){return l&&c?this.canCollide||this.hasInterestingFace:l?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(l){if(l===void 0&&(l=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,l){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(l,c,d,v,p){if(c===void 0&&(c=l),d===void 0&&(d=l),v===void 0&&(v=l),p===void 0&&(p=!0),this.collideLeft=l,this.collideRight=c,this.collideUp=d,this.collideDown=v,this.faceLeft=l,this.faceRight=c,this.faceTop=d,this.faceBottom=v,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(l,c){return l===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=l,this.collisionCallbackContext=c),this},setSize:function(l,c,d,v){return l!==void 0&&(this.width=l),c!==void 0&&(this.height=c),d!==void 0&&(this.baseWidth=d),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var l=this.layer.orientation;if(l===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(l===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(l===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(l===f.HEXAGONAL){var c=this.layer.staggerAxis,d=this.layer.staggerIndex,v=this.layer.hexSideLength,p,g;c==="y"?(g=(this.baseHeight-v)/2+v,d==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):c==="x"&&(p=(this.baseWidth-v)/2+v,this.pixelX=this.x*p,d==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var l=this.layer.tilemapLayer;if(l){var c=l.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var l=this.tilemapLayer;return l?l.tilemap:null}}});r.exports=a},49075:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(84101),m=s(83419),f=s(39506),u=s(80341),h=s(95540),a=s(14977),l=s(27462),c=s(91907),d=s(36305),v=s(19133),p=s(68287),g=s(23029),x=s(81086),C=s(20442),P=s(33629),w=new m({initialize:function(b,O){this.scene=b,this.tileWidth=O.tileWidth,this.tileHeight=O.tileHeight,this.width=O.width,this.height=O.height,this.orientation=O.orientation,this.renderOrder=O.renderOrder,this.format=O.format,this.version=O.version,this.properties=O.properties,this.widthInPixels=O.widthInPixels,this.heightInPixels=O.heightInPixels,this.imageCollections=O.imageCollections,this.images=O.images,this.layers=O.layers,this.tiles=O.tiles,this.tilesets=O.tilesets,this.objects=O.objects,this.currentLayerIndex=0,this.hexSideLength=O.hexSideLength;var M=this.orientation;this._convert={WorldToTileXY:x.GetWorldToTileXYFunction(M),WorldToTileX:x.GetWorldToTileXFunction(M),WorldToTileY:x.GetWorldToTileYFunction(M),TileToWorldXY:x.GetTileToWorldXYFunction(M),TileToWorldX:x.GetTileToWorldXFunction(M),TileToWorldY:x.GetTileToWorldYFunction(M),GetTileCorners:x.GetTileCornersFunction(M)}},setRenderOrder:function(E){var b=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=b[E]),b.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,b,O,M,A,F,R,L){if(E===void 0)return null;b==null&&(b=E);var D=this.scene.sys.textures;if(!D.exists(b))return console.warn('Texture key "%s" not found',b),null;var I=D.get(b),z=this.getTilesetIndex(E);if(z===null&&this.format===u.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',E,this.tilesets),null;var U=this.tilesets[z];return U?((O||M)&&U.setTileSize(O,M),(A||F)&&U.setSpacing(A,F),U.setImage(I),U):(O===void 0&&(O=this.tileWidth),M===void 0&&(M=this.tileHeight),A===void 0&&(A=0),F===void 0&&(F=0),R===void 0&&(R=0),L===void 0&&(L={x:0,y:0}),U=new P(E,R,O,M,A,F,void 0,void 0,L),U.setImage(I),this.tilesets.push(U),this.tiles=o(this),U)},copy:function(E,b,O,M,A,F,R,L){return L=this.getLayer(L),L!==null?(x.Copy(E,b,O,M,A,F,R,L),this):null},createBlankLayer:function(E,b,O,M,A,F,R,L){O===void 0&&(O=0),M===void 0&&(M=0),A===void 0&&(A=this.width),F===void 0&&(F=this.height),R===void 0&&(R=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(E);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var I=new a({name:E,tileWidth:R,tileHeight:L,width:A,height:F,orientation:this.orientation,hexSideLength:this.hexSideLength}),z,U=0;U<F;U++){z=[];for(var H=0;H<A;H++)z.push(new g(I,-1,H,U,R,L,this.tileWidth,this.tileHeight));I.data.push(z)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var W=new C(this.scene,this,this.currentLayerIndex,b,O,M);return W.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(W),W},createLayer:function(E,b,O,M){var A=this.getLayerIndex(E);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[A];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=A,O===void 0&&(O=F.x),M===void 0&&(M=F.y);var R=new C(this.scene,this,A,b,O,M);return R.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(R),R},createFromObjects:function(E,b,O){O===void 0&&(O=!0);var M=[],A=this.getObjectLayer(E);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),M;var F=new l(O?this.tilesets:void 0);Array.isArray(b)||(b=[b]);for(var R=A.objects,L=0;L<b.length;L++){var D=b[L],I=h(D,"id",null),z=h(D,"gid",null),U=h(D,"name",null),H=h(D,"type",null);F.enabled=!h(D,"ignoreTileset",null);for(var W,N=[],X=0;X<R.length;X++)W=R[X],(I===null&&z===null&&U===null&&H===null||I!==null&&W.id===I||z!==null&&W.gid===z||U!==null&&W.name===U||H!==null&&F.getTypeIncludingTile(W)===H)&&N.push(W);for(var B=h(D,"classType",p),V=h(D,"scene",this.scene),k=h(D,"container",null),j=h(D,"key",null),$=h(D,"frame",null),J=0;J<N.length;J++){W=N[J];var Z=new B(V);if(Z.setName(W.name),Z.setPosition(W.x,W.y),F.setTextureAndFrame(Z,j,$,W),W.width&&(Z.displayWidth=W.width),W.height&&(Z.displayHeight=W.height),this.orientation===c.ISOMETRIC){var _=this.tileWidth/this.tileHeight,it={x:Z.x-Z.y,y:(Z.x+Z.y)/_};Z.x=it.x,Z.y=it.y}var at={x:Z.originX*W.width,y:(Z.originY-(W.gid?1:0))*W.height};if(W.rotation){var st=f(W.rotation);d(at,st),Z.rotation=st}Z.x+=at.x,Z.y+=at.y,(W.flippedHorizontal!==void 0||W.flippedVertical!==void 0)&&Z.setFlip(W.flippedHorizontal,W.flippedVertical),W.visible||(Z.visible=!1),F.setPropertiesFromTiledObject(Z,W),k?k.add(Z):V.add.existing(Z),M.push(Z)}}return M},createFromTiles:function(E,b,O,M,A,F){return F=this.getLayer(F),F===null?null:x.CreateFromTiles(E,b,O,M,A,F)},fill:function(E,b,O,M,A,F,R){return F===void 0&&(F=!0),R=this.getLayer(R),R===null?null:(x.Fill(E,b,O,M,A,F,R),this)},filterObjects:function(E,b,O){if(typeof E=="string"){var M=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+M),null}return E.objects.filter(b,O)},filterTiles:function(E,b,O,M,A,F,R,L){return L=this.getLayer(L),L===null?null:x.FilterTiles(E,b,O,M,A,F,R,L)},findByIndex:function(E,b,O,M){return M=this.getLayer(M),M===null?null:x.FindByIndex(E,b,O,M)},findObject:function(E,b,O){if(typeof E=="string"){var M=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+M),null}return E.objects.find(b,O)||null},findTile:function(E,b,O,M,A,F,R,L){return L=this.getLayer(L),L===null?null:x.FindTile(E,b,O,M,A,F,R,L)},forEachTile:function(E,b,O,M,A,F,R,L){return L=this.getLayer(L),L===null?null:(x.ForEachTile(E,b,O,M,A,F,R,L),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,b){for(var O=0;O<E.length;O++)if(E[O].name===b)return O;return null},getLayer:function(E){var b=this.getLayerIndex(E);return b!==null?this.layers[b]:null},getObjectLayer:function(E){var b=this.getIndex(this.objects,E);return b!==null?this.objects[b]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof C&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,b,O,M){return M=this.getLayer(M),M===null?null:x.GetTileAt(E,b,O,M)},getTileAtWorldXY:function(E,b,O,M,A){return A=this.getLayer(A),A===null?null:x.GetTileAtWorldXY(E,b,O,M,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,b,O,M,A,F){return F=this.getLayer(F),F===null?null:x.GetTilesWithin(E,b,O,M,A,F)},getTilesWithinShape:function(E,b,O,M){return M=this.getLayer(M),M===null?null:x.GetTilesWithinShape(E,b,O,M)},getTilesWithinWorldXY:function(E,b,O,M,A,F,R){return R=this.getLayer(R),R===null?null:x.GetTilesWithinWorldXY(E,b,O,M,A,F,R)},getTileset:function(E){var b=this.getIndex(this.tilesets,E);return b!==null?this.tilesets[b]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,b,O){return O=this.getLayer(O),O===null?null:x.HasTileAt(E,b,O)},hasTileAtWorldXY:function(E,b,O,M){return M=this.getLayer(M),M===null?null:x.HasTileAtWorldXY(E,b,O,M)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,b,O,M,A){return M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:x.PutTileAt(E,b,O,M,A)},putTileAtWorldXY:function(E,b,O,M,A,F){return M===void 0&&(M=!0),F=this.getLayer(F),F===null?null:x.PutTileAtWorldXY(E,b,O,M,A,F)},putTilesAt:function(E,b,O,M,A){return M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:(x.PutTilesAt(E,b,O,M,A),this)},randomize:function(E,b,O,M,A,F){return F=this.getLayer(F),F===null?null:(x.Randomize(E,b,O,M,A,F),this)},calculateFacesAt:function(E,b,O){return O=this.getLayer(O),O===null?null:(x.CalculateFacesAt(E,b,O),this)},calculateFacesWithin:function(E,b,O,M,A){return A=this.getLayer(A),A===null?null:(x.CalculateFacesWithin(E,b,O,M,A),this)},removeLayer:function(E){var b=this.getLayerIndex(E);if(b!==null){v(this.layers,b);for(var O=b;O<this.layers.length;O++)this.layers[O].tilemapLayer&&this.layers[O].tilemapLayer.layerIndex--;return this.currentLayerIndex===b&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var b=this.getLayerIndex(E);return b!==null?(E=this.layers[b],E.tilemapLayer.destroy(),v(this.layers,b),this.currentLayerIndex===b&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,b=0;b<E.length;b++)E[b].tilemapLayer&&E[b].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,b,O){b===void 0&&(b=-1),O===void 0&&(O=!0);var M=[];Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var F=E[A];M.push(this.removeTileAt(F.x,F.y,!0,O,F.tilemapLayer)),b>-1&&this.putTileAt(b,F.x,F.y,O,F.tilemapLayer)}return M},removeTileAt:function(E,b,O,M,A){return O===void 0&&(O=!0),M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:x.RemoveTileAt(E,b,O,M,A)},removeTileAtWorldXY:function(E,b,O,M,A,F){return O===void 0&&(O=!0),M===void 0&&(M=!0),F=this.getLayer(F),F===null?null:x.RemoveTileAtWorldXY(E,b,O,M,A,F)},renderDebug:function(E,b,O){return O=this.getLayer(O),O===null?null:(this.orientation===c.ORTHOGONAL&&x.RenderDebug(E,b,O),this)},renderDebugFull:function(E,b){for(var O=this.layers,M=0;M<O.length;M++)x.RenderDebug(E,b,O[M]);return this},replaceByIndex:function(E,b,O,M,A,F,R){return R=this.getLayer(R),R===null?null:(x.ReplaceByIndex(E,b,O,M,A,F,R),this)},setCollision:function(E,b,O,M,A){return b===void 0&&(b=!0),O===void 0&&(O=!0),A===void 0&&(A=!0),M=this.getLayer(M),M===null?null:(x.SetCollision(E,b,O,M,A),this)},setCollisionBetween:function(E,b,O,M,A){return O===void 0&&(O=!0),M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:(x.SetCollisionBetween(E,b,O,M,A),this)},setCollisionByProperty:function(E,b,O,M){return b===void 0&&(b=!0),O===void 0&&(O=!0),M=this.getLayer(M),M===null?null:(x.SetCollisionByProperty(E,b,O,M),this)},setCollisionByExclusion:function(E,b,O,M){return b===void 0&&(b=!0),O===void 0&&(O=!0),M=this.getLayer(M),M===null?null:(x.SetCollisionByExclusion(E,b,O,M),this)},setCollisionFromCollisionGroup:function(E,b,O){return E===void 0&&(E=!0),b===void 0&&(b=!0),O=this.getLayer(O),O===null?null:(x.SetCollisionFromCollisionGroup(E,b,O),this)},setTileIndexCallback:function(E,b,O,M){return M=this.getLayer(M),M===null?null:(x.SetTileIndexCallback(E,b,O,M),this)},setTileLocationCallback:function(E,b,O,M,A,F,R){return R=this.getLayer(R),R===null?null:(x.SetTileLocationCallback(E,b,O,M,A,F,R),this)},setLayer:function(E){var b=this.getLayerIndex(E);return b!==null&&(this.currentLayerIndex=b),this},setBaseTileSize:function(E,b){this.tileWidth=E,this.tileHeight=b,this.widthInPixels=this.width*E,this.heightInPixels=this.height*b;for(var O=0;O<this.layers.length;O++){this.layers[O].baseTileWidth=E,this.layers[O].baseTileHeight=b;for(var M=this.layers[O].data,A=this.layers[O].width,F=this.layers[O].height,R=0;R<F;R++)for(var L=0;L<A;L++){var D=M[R][L];D!==null&&D.setSize(void 0,void 0,E,b)}}return this},setLayerTileSize:function(E,b,O){if(O=this.getLayer(O),O===null)return this;O.tileWidth=E,O.tileHeight=b;for(var M=O.data,A=O.width,F=O.height,R=0;R<F;R++)for(var L=0;L<A;L++){var D=M[R][L];D!==null&&D.setSize(E,b)}return this},shuffle:function(E,b,O,M,A){return A=this.getLayer(A),A===null?null:(x.Shuffle(E,b,O,M,A),this)},swapByIndex:function(E,b,O,M,A,F,R){return R=this.getLayer(R),R===null?null:(x.SwapByIndex(E,b,O,M,A,F,R),this)},tileToWorldX:function(E,b,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldX(E,b,O)},tileToWorldY:function(E,b,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldY(E,b,O)},tileToWorldXY:function(E,b,O,M,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(E,b,O,M,A)},getTileCorners:function(E,b,O,M){return M=this.getLayer(M),M===null?null:this._convert.GetTileCorners(E,b,O,M)},weightedRandomize:function(E,b,O,M,A,F){return F=this.getLayer(F),F===null?null:(x.WeightedRandomize(b,O,M,A,E,F),this)},worldToTileX:function(E,b,O,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileX(E,b,O,M)},worldToTileY:function(E,b,O,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileY(E,b,O,M)},worldToTileXY:function(E,b,O,M,A,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(E,b,O,M,A,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=w},45939:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(44603),m=s(31989);o.register("tilemap",function(f){var u=f!==void 0?f:{};return m(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},46029:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(39429),m=s(31989);o.register("tilemap",function(f,u,h,a,l,c,d){return f===null&&(f=void 0),u===null&&(u=void 0),h===null&&(h=void 0),a===null&&(a=void 0),l===null&&(l=void 0),m(this.scene,f,u,h,a,l,c,d)})},20442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(78389),f=s(31401),u=s(95643),h=s(81086),a=s(19218),l=s(26099),c=new o({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,m,a],initialize:function(v,p,g,x,C,P){u.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=g,this.layer=p.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new l,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(x),this.setAlpha(this.layer.alpha),this.setPosition(C,P),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(d){var v=[],p=[],g=this.tilemap;Array.isArray(d)||(d=[d]);for(var x=0;x<d.length;x++){var C=d[x];if(typeof C=="string"&&(C=g.getTileset(C)),C){p.push(C);for(var P=C.firstgid,w=0;w<C.total;w++)v[P+w]=C}}this.gidMap=v,this.tileset=p},setRenderOrder:function(d){var v=["right-down","left-down","right-up","left-up"];return typeof d=="string"&&(d=v.indexOf(d)),d>=0&&d<4&&(this._renderOrder=d),this},calculateFacesAt:function(d,v){return h.CalculateFacesAt(d,v,this.layer),this},calculateFacesWithin:function(d,v,p,g){return h.CalculateFacesWithin(d,v,p,g,this.layer),this},createFromTiles:function(d,v,p,g,x){return h.CreateFromTiles(d,v,p,g,x,this.layer)},cull:function(d){return this.cullCallback(this.layer,d,this.culledTiles,this._renderOrder)},copy:function(d,v,p,g,x,C,P){return h.Copy(d,v,p,g,x,C,P,this.layer),this},fill:function(d,v,p,g,x,C){return h.Fill(d,v,p,g,x,C,this.layer),this},filterTiles:function(d,v,p,g,x,C,P){return h.FilterTiles(d,v,p,g,x,C,P,this.layer)},findByIndex:function(d,v,p){return h.FindByIndex(d,v,p,this.layer)},findTile:function(d,v,p,g,x,C,P){return h.FindTile(d,v,p,g,x,C,P,this.layer)},forEachTile:function(d,v,p,g,x,C,P){return h.ForEachTile(d,v,p,g,x,C,P,this.layer),this},setTint:function(d,v,p,g,x,C){d===void 0&&(d=16777215);var P=function(w){w.tint=d,w.tintFill=!1};return this.forEachTile(P,this,v,p,g,x,C)},setTintFill:function(d,v,p,g,x,C){d===void 0&&(d=16777215);var P=function(w){w.tint=d,w.tintFill=!0};return this.forEachTile(P,this,v,p,g,x,C)},getTileAt:function(d,v,p){return h.GetTileAt(d,v,p,this.layer)},getTileAtWorldXY:function(d,v,p,g){return h.GetTileAtWorldXY(d,v,p,g,this.layer)},getIsoTileAtWorldXY:function(d,v,p,g,x){p===void 0&&(p=!0);var C=this.tempVec;return h.IsometricWorldToTileXY(d,v,!0,C,x,this.layer,p),this.getTileAt(C.x,C.y,g)},getTilesWithin:function(d,v,p,g,x){return h.GetTilesWithin(d,v,p,g,x,this.layer)},getTilesWithinShape:function(d,v,p){return h.GetTilesWithinShape(d,v,p,this.layer)},getTilesWithinWorldXY:function(d,v,p,g,x,C){return h.GetTilesWithinWorldXY(d,v,p,g,x,C,this.layer)},hasTileAt:function(d,v){return h.HasTileAt(d,v,this.layer)},hasTileAtWorldXY:function(d,v,p){return h.HasTileAtWorldXY(d,v,p,this.layer)},putTileAt:function(d,v,p,g){return h.PutTileAt(d,v,p,g,this.layer)},putTileAtWorldXY:function(d,v,p,g,x){return h.PutTileAtWorldXY(d,v,p,g,x,this.layer)},putTilesAt:function(d,v,p,g){return h.PutTilesAt(d,v,p,g,this.layer),this},randomize:function(d,v,p,g,x){return h.Randomize(d,v,p,g,x,this.layer),this},removeTileAt:function(d,v,p,g){return h.RemoveTileAt(d,v,p,g,this.layer)},removeTileAtWorldXY:function(d,v,p,g,x){return h.RemoveTileAtWorldXY(d,v,p,g,x,this.layer)},renderDebug:function(d,v){return h.RenderDebug(d,v,this.layer),this},replaceByIndex:function(d,v,p,g,x,C){return h.ReplaceByIndex(d,v,p,g,x,C,this.layer),this},setSkipCull:function(d){return d===void 0&&(d=!0),this.skipCull=d,this},setCullPadding:function(d,v){return d===void 0&&(d=1),v===void 0&&(v=1),this.cullPaddingX=d,this.cullPaddingY=v,this},setCollision:function(d,v,p,g){return h.SetCollision(d,v,p,this.layer,g),this},setCollisionBetween:function(d,v,p,g){return h.SetCollisionBetween(d,v,p,g,this.layer),this},setCollisionByProperty:function(d,v,p){return h.SetCollisionByProperty(d,v,p,this.layer),this},setCollisionByExclusion:function(d,v,p){return h.SetCollisionByExclusion(d,v,p,this.layer),this},setCollisionFromCollisionGroup:function(d,v){return h.SetCollisionFromCollisionGroup(d,v,this.layer),this},setTileIndexCallback:function(d,v,p){return h.SetTileIndexCallback(d,v,p,this.layer),this},setTileLocationCallback:function(d,v,p,g,x,C){return h.SetTileLocationCallback(d,v,p,g,x,C,this.layer),this},shuffle:function(d,v,p,g){return h.Shuffle(d,v,p,g,this.layer),this},swapByIndex:function(d,v,p,g,x,C){return h.SwapByIndex(d,v,p,g,x,C,this.layer),this},tileToWorldX:function(d,v){return this.tilemap.tileToWorldX(d,v,this)},tileToWorldY:function(d,v){return this.tilemap.tileToWorldY(d,v,this)},tileToWorldXY:function(d,v,p,g){return this.tilemap.tileToWorldXY(d,v,p,g,this)},getTileCorners:function(d,v,p){return this.tilemap.getTileCorners(d,v,p,this)},weightedRandomize:function(d,v,p,g,x){return h.WeightedRandomize(v,p,g,x,d,this.layer),this},worldToTileX:function(d,v,p){return this.tilemap.worldToTileX(d,v,p,this)},worldToTileY:function(d,v,p){return this.tilemap.worldToTileY(d,v,p,this)},worldToTileXY:function(d,v,p,g,x){return this.tilemap.worldToTileXY(d,v,p,g,x,this)},destroy:function(d){d===void 0&&(d=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),d&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});r.exports=c},16153:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61340),m=new o,f=new o,u=new o,h=function(a,l,c,d){var v=l.cull(c),p=v.length,g=c.alpha*l.alpha;if(!(p===0||g<=0)){var x=m,C=f,P=u;C.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY),x.copyFrom(c.matrix);var w=a.currentContext,E=l.gidMap;w.save(),d?(x.multiplyWithOffset(d,-c.scrollX*l.scrollFactorX,-c.scrollY*l.scrollFactorY),C.e=l.x,C.f=l.y,x.multiply(C,P),P.copyToContext(w)):(C.e-=c.scrollX*l.scrollFactorX,C.f-=c.scrollY*l.scrollFactorY,C.copyToContext(w)),(!a.antialias||l.scaleX>1||l.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var b=0;b<p;b++){var O=v[b],M=E[O.index];if(M){var A=M.image.getSourceImage(),F=M.getTileTextureCoordinates(O.index),R=M.tileWidth,L=M.tileHeight;if(!(F===null||R===0||L===0)){var D=R*.5,I=L*.5;F.x+=M.tileOffset.x,F.y+=M.tileOffset.y,w.save(),w.translate(O.pixelX+D,O.pixelY+I),O.rotation!==0&&w.rotate(O.rotation),(O.flipX||O.flipY)&&w.scale(O.flipX?-1:1,O.flipY?-1:1),w.globalAlpha=g*O.alpha,w.drawImage(A,F.x,F.y,R,L,-D,-I,R,L),w.restore()}}}w.restore()}};r.exports=h},19218:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(29747),m=o,f=o;m=s(99558),f=s(16153),r.exports={renderWebGL:m,renderCanvas:f}},99558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70554),m=function(f,u,h){var a=u.cull(h),l=a.length,c=h.alpha*u.alpha;if(!(l===0||c<=0)){var d=u.gidMap,v=f.pipelines.set(u.pipeline,u),p=o.getTintAppendFloatAlpha,g=u.scrollFactorX,x=u.scrollFactorY,C=u.x,P=u.y,w=u.scaleX,E=u.scaleY;f.pipelines.preBatch(u);for(var b=0;b<l;b++){var O=a[b],M=d[O.index];if(M){var A=M.getTileTextureCoordinates(O.index),F=M.tileWidth,R=M.tileHeight;if(!(!A||F===0||R===0)){var L=F*.5,D=R*.5,I=M.glTexture,z=v.setTexture2D(I,u),U=F,H=R,W=A.x,N=A.y,X=M.tileOffset.x,B=M.tileOffset.y,V=p(O.tint,c*O.alpha);v.batchTexture(u,I,I.width,I.height,C+O.pixelX*w+(L*w-X),P+O.pixelY*E+(D*E-B),F,R,w,E,O.rotation,O.flipX,O.flipY,g,x,L,D,W,N,U,H,V,V,V,V,O.tintFill,0,0,h,null,!0,z,!0)}}}f.pipelines.postBatch(u)}};r.exports=m},33629:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(26099),f=new o({initialize:function(h,a,l,c,d,v,p,g,x){(l===void 0||l<=0)&&(l=32),(c===void 0||c<=0)&&(c=32),d===void 0&&(d=0),v===void 0&&(v=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=h,this.firstgid=a,this.tileWidth=l,this.tileHeight=c,this.tileMargin=d,this.tileSpacing=v,this.tileProperties=p,this.tileData=g,this.tileOffset=new m,x!==void 0&&this.tileOffset.set(x.x,x.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var h=this.getTileData(u);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){this.image=u;var h=u.get(),a=u.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>a.width||h.height>a.height?this.updateTileData(h.width,h.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(u,h){return u!==void 0&&(this.tileWidth=u),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,h){return u!==void 0&&(this.tileMargin=u),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,h,a,l){a===void 0&&(a=0),l===void 0&&(l=0);var c=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),d=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||d%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),d=Math.floor(d),this.rows=c,this.columns=d,this.total=c*d,this.texCoordinates.length=0;for(var v=this.tileMargin+a,p=this.tileMargin+l,g=0;g<this.rows;g++){for(var x=0;x<this.columns;x++)this.texCoordinates.push({x:v,y:p}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+a,p+=this.tileHeight+this.tileSpacing}return this}});r.exports=f},72023:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),m=function(f,u,h){var a=o(f,u,!0,h),l=o(f,u-1,!0,h),c=o(f,u+1,!0,h),d=o(f-1,u,!0,h),v=o(f+1,u,!0,h),p=a&&a.collides;return p&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),l&&l.collides&&(p&&(a.faceTop=!1),l.faceBottom=!p),c&&c.collides&&(p&&(a.faceBottom=!1),c.faceTop=!p),d&&d.collides&&(p&&(a.faceLeft=!1),d.faceRight=!p),v&&v.collides&&(p&&(a.faceRight=!1),v.faceLeft=!p),a&&!a.collides&&a.resetFaces(),a};r.exports=m},42573:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),m=s(7386),f=function(u,h,a,l,c){for(var d=null,v=null,p=null,g=null,x=m(u,h,a,l,null,c),C=0;C<x.length;C++){var P=x[C];P&&(P.collides?(d=o(P.x,P.y-1,!0,c),v=o(P.x,P.y+1,!0,c),p=o(P.x-1,P.y,!0,c),g=o(P.x+1,P.y,!0,c),P.faceTop=!(d&&d.collides),P.faceBottom=!(v&&v.collides),P.faceLeft=!(p&&p.collides),P.faceRight=!(g&&g.collides)):P.resetFaces())}};r.exports=f},33528:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=new o,f=function(u,h,a,l){var c=a.tilemapLayer,d=c.cullPaddingX,v=c.cullPaddingY,p=c.tilemap.tileToWorldXY(u,h,m,l,c);return p.x>l.worldView.x+c.scaleX*a.tileWidth*(-d-.5)&&p.x<l.worldView.right+c.scaleX*a.tileWidth*(d-.5)&&p.y>l.worldView.y+c.scaleY*a.tileHeight*(-v-1)&&p.y<l.worldView.bottom+c.scaleY*a.tileHeight*(v-.5)};r.exports=f},1785:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),m=s(7386),f=s(62991),u=s(23029),h=function(a,l,c,d,v,p,g,x){g===void 0&&(g=!0);var C=m(a,l,c,d,null,x),P=[];C.forEach(function(F){var R=new u(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);R.copy(F),P.push(R)});for(var w=v-a,E=p-l,b=0;b<P.length;b++){var O=P[b],M=O.x+w,A=O.y+E;f(M,A,x)&&x.data[A][M]&&(O.x=M,O.y=A,O.updatePixelXY(),x.data[A][M]=O)}g&&o(v-1,p-1,c+2,d+2,x),C.length=0,P.length=0};r.exports=h},78419:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62644),m=s(7386),f=s(27987),u=function(h,a,l,c,d,v){l||(l={}),Array.isArray(h)||(h=[h]);var p=v.tilemapLayer;c||(c=p.scene),d||(d=c.cameras.main);var g=v.width,x=v.height,C=m(0,0,g,x,null,v),P=[],w,E=function(A,F,R){for(var L=0;L<R.length;L++){var D=R[L];A.hasOwnProperty(D)||(A[D]=F[D])}};for(w=0;w<C.length;w++){var b=C[w],O=o(l);if(h.indexOf(b.index)!==-1){var M=p.tileToWorldXY(b.x,b.y,void 0,d,v);O.x=M.x,O.y=M.y,E(O,b,["rotation","flipX","flipY","alpha","visible","tint"]),O.hasOwnProperty("origin")||(O.x+=b.width*.5,O.y+=b.height*.5),O.hasOwnProperty("useSpriteSheet")&&(O.key=b.tileset.image,O.frame=b.index-b.tileset.firstgid),P.push(c.make.sprite(O))}}if(Array.isArray(a))for(w=0;w<h.length;w++)f(h[w],a[w],0,0,g,x,v);else if(a!==null)for(w=0;w<h.length;w++)f(h[w],a,0,0,g,x,v);return P};r.exports=u},19545:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(87841),m=s(63448),f=s(56583),u=new o,h=function(a,l){var c=a.tilemapLayer.tilemap,d=a.tilemapLayer,v=Math.floor(c.tileWidth*d.scaleX),p=Math.floor(c.tileHeight*d.scaleY),g=f(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,x=m(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,C=f(l.worldView.y-d.y,p,0,!0)-d.cullPaddingY,P=m(l.worldView.bottom-d.y,p,0,!0)+d.cullPaddingY;return u.setTo(g,C,x-g,P-C)};r.exports=h},30003:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19545),m=s(32483),f=function(u,h,a,l){a===void 0&&(a=[]),l===void 0&&(l=0),a.length=0;var c=u.tilemapLayer,d=o(u,h);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(d.left=0,d.right=u.width,d.top=0,d.bottom=u.height),m(u,d,l,a),a};r.exports=f},35137:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(42573),f=s(20576),u=function(h,a,l,c,d,v,p){for(var g=p.collideIndexes.indexOf(h)!==-1,x=o(a,l,c,d,null,p),C=0;C<x.length;C++)x[C].index=h,f(x[C],g);v&&m(a-1,l-1,c+2,d+2,p)};r.exports=u},40253:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d,v){var p=o(h,a,l,c,d,v);return p.filter(f,u)};r.exports=m},52692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o===void 0&&(o=0),m===void 0&&(m=!1);var u=0,h,a,l;if(m){for(a=f.height-1;a>=0;a--)for(h=f.width-1;h>=0;h--)if(l=f.data[a][h],l&&l.index===s){if(u===o)return l;u+=1}}else for(a=0;a<f.height;a++)for(h=0;h<f.width;h++)if(l=f.data[a][h],l&&l.index===s){if(u===o)return l;u+=1}return null};r.exports=T},66151:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d,v){var p=o(h,a,l,c,d,v);return p.find(f,u)||null};r.exports=m},97560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d,v){var p=o(h,a,l,c,d,v);p.forEach(f,u)};r.exports=m},43305:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(30003),f=s(9474),u=s(14018),h=s(29747),a=s(54503),l=function(c){return c===o.ORTHOGONAL?m:c===o.HEXAGONAL?f:c===o.STAGGERED?a:c===o.ISOMETRIC?u:h};r.exports=l},7423:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),m=function(f,u,h,a){if(o(f,u,a)){var l=a.data[u][f]||null;return l?l.index===-1?h?l:null:l:null}else return null};r.exports=m},60540:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7423),m=s(26099),f=new m,u=function(h,a,l,c,d){return d.tilemapLayer.worldToTileXY(h,a,!0,f,c),o(f.x,f.y,l,d)};r.exports=u},55826:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a){var l=a.baseTileWidth,c=a.baseTileHeight,d=a.tilemapLayer,v=0,p=0;d&&(h||(h=d.scene.cameras.main),v=d.x+h.scrollX*(1-d.scrollFactorX),p=d.y+h.scrollY*(1-d.scrollFactorY),l*=d.scaleX,c*=d.scaleY);var g=v+f*l,x=p+u*c;return[new o(g,x),new o(g+l,x),new o(g+l,x+c),new o(g,x+c)]};r.exports=m},11758:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(27229),f=s(29747),u=s(55826),h=function(a){return a===o.ORTHOGONAL?u:a===o.ISOMETRIC?f:a===o.HEXAGONAL?m:(a===o.STAGGERED,f)};r.exports=h},39167:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(29747),f=s(97281),u=function(h){return h===o.ORTHOGONAL?f:m};r.exports=u},62e3:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(19951),f=s(14127),u=s(29747),h=s(97202),a=s(70326),l=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?f:c===o.HEXAGONAL?m:c===o.STAGGERED?h:u};r.exports=l},5984:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(29747),f=s(28054),u=s(29650),h=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?f:m};r.exports=h},7386:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=function(f,u,h,a,l,c){f===void 0&&(f=0),u===void 0&&(u=0),h===void 0&&(h=c.width),a===void 0&&(a=c.height),l||(l={});var d=o(l,"isNotEmpty",!1),v=o(l,"isColliding",!1),p=o(l,"hasInterestingFace",!1);f<0&&(h+=f,f=0),u<0&&(a+=u,u=0),f+h>c.width&&(h=Math.max(c.width-f,0)),u+a>c.height&&(a=Math.max(c.height-u,0));for(var g=[],x=u;x<u+a;x++)for(var C=f;C<f+h;C++){var P=c.data[x][C];if(P!==null){if(d&&P.index===-1||v&&!P.collides||p&&!P.hasInterestingFace)continue;g.push(P)}}return g};r.exports=m},91141:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(55738),m=s(7386),f=s(91865),u=s(29747),h=s(26099),a=s(91907),l=function(g,x){return f.RectangleToTriangle(x,g)},c=new h,d=new h,v=new h,p=function(g,x,C,P){if(P.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(g===void 0)return[];var w=u;g instanceof o.Circle?w=f.CircleToRectangle:g instanceof o.Rectangle?w=f.RectangleToRectangle:g instanceof o.Triangle?w=l:g instanceof o.Line&&(w=f.LineToRectangle),P.tilemapLayer.worldToTileXY(g.left,g.top,!0,d,C);var E=d.x,b=d.y;P.tilemapLayer.worldToTileXY(g.right,g.bottom,!1,v,C);var O=Math.ceil(v.x),M=Math.ceil(v.y),A=Math.max(O-E,1),F=Math.max(M-b,1),R=m(E,b,A,F,x,P),L=P.tileWidth,D=P.tileHeight;P.tilemapLayer&&(L*=P.tilemapLayer.scaleX,D*=P.tilemapLayer.scaleY);for(var I=[],z=new o.Rectangle(0,0,L,D),U=0;U<R.length;U++){var H=R[U];P.tilemapLayer.tileToWorldXY(H.x,H.y,c,C),z.x=c.x,z.y=c.y,w(g,z)&&I.push(H)}return I};r.exports=p},96523:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(26099),f=new m,u=new m,h=function(a,l,c,d,v,p,g){var x=g.tilemapLayer.tilemap._convert.WorldToTileXY;x(a,l,!0,f,p,g);var C=f.x,P=f.y;x(a+c,l+d,!1,u,p,g);var w=Math.ceil(u.x),E=Math.ceil(u.y);return o(C,P,w-C,E-P,v,g)};r.exports=h},96113:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(20242),f=s(10095),u=function(h){return h===o.ORTHOGONAL?f:m};r.exports=u},16926:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(86625),f=s(96897),u=s(29747),h=s(15108),a=s(85896),l=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?f:c===o.HEXAGONAL?m:c===o.STAGGERED?h:u};r.exports=l},55762:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=s(20242),f=s(51900),u=s(63288),h=function(a){return a===o.ORTHOGONAL?u:a===o.STAGGERED?f:m};r.exports=h},45091:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62991),m=function(f,u,h){if(o(f,u,h)){var a=h.data[u][f];return a!==null&&a.index>-1}else return!1};r.exports=m},24152:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(45091),m=s(26099),f=new m,u=function(h,a,l,c){c.tilemapLayer.worldToTileXY(h,a,!0,f,l);var d=f.x,v=f.y;return o(d,v,c)};r.exports=u},90454:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),m=s(56583),f=function(u,h){var a=u.tilemapLayer.tilemap,l=u.tilemapLayer,c=Math.floor(a.tileWidth*l.scaleX),d=Math.floor(a.tileHeight*l.scaleY),v=u.hexSideLength,p,g,x,C;if(u.staggerAxis==="y"){var P=(d-v)/2+v;p=m(h.worldView.x-l.x,c,0,!0)-l.cullPaddingX,g=o(h.worldView.right-l.x,c,0,!0)+l.cullPaddingX,x=m(h.worldView.y-l.y,P,0,!0)-l.cullPaddingY,C=o(h.worldView.bottom-l.y,P,0,!0)+l.cullPaddingY}else{var w=(c-v)/2+v;p=m(h.worldView.x-l.x,w,0,!0)-l.cullPaddingX,g=o(h.worldView.right-l.x,w,0,!0)+l.cullPaddingX,x=m(h.worldView.y-l.y,d,0,!0)-l.cullPaddingY,C=o(h.worldView.bottom-l.y,d,0,!0)+l.cullPaddingY}return{left:p,right:g,top:x,bottom:C}};r.exports=f},9474:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(90454),m=s(32483),f=function(u,h,a,l){a===void 0&&(a=[]),l===void 0&&(l=0),a.length=0;var c=u.tilemapLayer,d=o(u,h);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(d.left=0,d.right=u.width,d.top=0,d.bottom=u.height),m(u,d,l,a),a};r.exports=f},27229:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19951),m=s(26099),f=new m,u=function(h,a,l,c){var d=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(d*=p.scaleX,v*=p.scaleY);var g=o(h,a,f,l,c),x=[],C=.5773502691896257,P,w;c.staggerAxis==="y"?(P=C*d,w=v/2):(P=d/2,w=C*v);for(var E=0;E<6;E++){var b=2*Math.PI*(.5-E)/6;x.push(new m(g.x+P*Math.cos(b),g.y+w*Math.sin(b)))}return x};r.exports=u},19951:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l){h||(h=new o);var c=l.baseTileWidth,d=l.baseTileHeight,v=l.tilemapLayer,p=0,g=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),g=v.y+a.scrollY*(1-v.scrollFactorY),c*=v.scaleX,d*=v.scaleY);var x=c/2,C=d/2,P,w,E=l.staggerAxis,b=l.staggerIndex;return E==="y"?(P=p+c*f+c,w=g+1.5*u*C+C,u%2===0&&(b==="odd"?P-=x:P+=x)):E==="x"&&b==="odd"&&(P=p+1.5*f*x+x,w=g+d*f+d,f%2===0&&(b==="odd"?w-=C:w+=C)),h.set(P,w)};r.exports=m},86625:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l,c){a||(a=new o);var d=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(l||(l=p.scene.cameras.main),f=f-(p.x+l.scrollX*(1-p.scrollFactorX)),u=u-(p.y+l.scrollY*(1-p.scrollFactorY)),d*=p.scaleX,v*=p.scaleY);var g=.5773502691896257,x=-.3333333333333333,C=0,P=.6666666666666666,w=d/2,E=v/2,b,O,M,A,F;c.staggerAxis==="y"?(b=(f-w)/(g*d),O=(u-E)/E,M=g*b+x*O,A=C*b+P*O):(b=(f-w)/w,O=(u-E)/(g*v),M=x*b+g*O,A=P*b+C*O),F=-M-A;var R=Math.round(M),L=Math.round(A),D=Math.round(F),I=Math.abs(R-M),z=Math.abs(L-A),U=Math.abs(D-F);I>z&&I>U?R=-L-D:z>U&&(L=-R-D);var H,W=L;return c.staggerIndex==="odd"?H=W%2===0?L/2+R:L/2+R-.5:H=W%2===0?L/2+R:L/2+R+.5,a.set(H,W)};r.exports=m},62991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s>=0&&s<m.width&&o>=0&&o<m.height};r.exports=T},14018:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33528),m=function(f,u,h,a){h===void 0&&(h=[]),a===void 0&&(a=0),h.length=0;var l=f.tilemapLayer,c=f.data,d=f.width,v=f.height,p=l.skipCull,g=0,x=d,C=0,P=v,w,E,b;if(a===0)for(E=C;E<P;E++)for(w=g;w<x;w++)b=c[E][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!p&&!o(w,E,f,u)||h.push(b));else if(a===1)for(E=C;E<P;E++)for(w=x;w>=g;w--)b=c[E][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!p&&!o(w,E,f,u)||h.push(b));else if(a===2)for(E=P;E>=C;E--)for(w=g;w<x;w++)b=c[E][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!p&&!o(w,E,f,u)||h.push(b));else if(a===3)for(E=P;E>=C;E--)for(w=x;w>=g;w--)b=c[E][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!p&&!o(w,E,f,u)||h.push(b));return l.tilesDrawn=h.length,l.tilesTotal=d*v,h};r.exports=m},14127:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l){h||(h=new o);var c=l.baseTileWidth,d=l.baseTileHeight,v=l.tilemapLayer,p=0,g=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,g=v.y+a.scrollY*(1-v.scrollFactorY),d*=v.scaleY);var x=p+(f-u)*(c/2),C=g+(f+u)*(d/2);return h.set(x,C)};r.exports=m},96897:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l,c,d){a||(a=new o);var v=c.baseTileWidth,p=c.baseTileHeight,g=c.tilemapLayer;g&&(l||(l=g.scene.cameras.main),u=u-(g.y+l.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,f=f-(g.x+l.scrollX*(1-g.scrollFactorX)),v*=g.scaleX);var x=v/2,C=p/2;f=f-x,d||(u=u-p);var P=.5*(f/x+u/C),w=.5*(-f/x+u/C);return h&&(P=Math.floor(P),w=Math.floor(w)),a.set(P,w)};r.exports=m},71558:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),m=s(62991),f=s(72023),u=s(20576),h=function(a,l,c,d,v){if(d===void 0&&(d=!0),!m(l,c,v))return null;var p,g=v.data[c][l],x=g&&g.collides;a instanceof o?(v.data[c][l]===null&&(v.data[c][l]=new o(v,a.index,l,c,v.tileWidth,v.tileHeight)),v.data[c][l].copy(a)):(p=a,v.data[c][l]===null?v.data[c][l]=new o(v,p,l,c,v.tileWidth,v.tileHeight):v.data[c][l].index=p);var C=v.data[c][l],P=v.collideIndexes.indexOf(C.index)!==-1;if(p=a instanceof o?a.index:a,p===-1)C.width=v.tileWidth,C.height=v.tileHeight;else{var w=v.tilemapLayer.tilemap,E=w.tiles,b=E[p][2],O=w.tilesets[b];C.width=O.tileWidth,C.height=O.tileHeight}return u(C,P),d&&x!==C.collides&&f(l,c,v),C};r.exports=h},26303:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(71558),m=s(26099),f=new m,u=function(h,a,l,c,d,v){return v.tilemapLayer.worldToTileXY(a,l,!0,f,d,v),o(h,f.x,f.y,c,v)};r.exports=u},14051:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(42573),m=s(71558),f=function(u,h,a,l,c){if(l===void 0&&(l=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var d=u.length,v=u[0].length,p=0;p<d;p++)for(var g=0;g<v;g++){var x=u[p][g];m(x,h+g,a+p,!1,c)}l&&o(h-1,a-1,v+2,d+2,c)};r.exports=f},77389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(26546),f=function(u,h,a,l,c,d){var v,p=o(u,h,a,l,{},d);if(!c)for(c=[],v=0;v<p.length;v++)c.indexOf(p[v].index)===-1&&c.push(p[v].index);for(v=0;v<p.length;v++)p[v].index=m(c)};r.exports=f},63557:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(23029),m=s(62991),f=s(72023),u=function(h,a,l,c,d){if(l===void 0&&(l=!0),c===void 0&&(c=!0),!m(h,a,d))return null;var v=d.data[a][h];if(v)d.data[a][h]=l?null:new o(d,-1,h,a,d.tileWidth,d.tileHeight);else return null;return c&&v&&v.collides&&f(h,a,d),v};r.exports=u},94178:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63557),m=s(26099),f=new m,u=function(h,a,l,c,d,v){return v.tilemapLayer.worldToTileXY(h,a,!0,f,d,v),o(f.x,f.y,l,c,v)};r.exports=u},15533:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(3956),f=new m(105,210,231,150),u=new m(243,134,48,200),h=new m(40,39,37,150),a=function(l,c,d){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:f,p=c.collidingTileColor!==void 0?c.collidingTileColor:u,g=c.faceColor!==void 0?c.faceColor:h,x=o(0,0,d.width,d.height,null,d);l.translateCanvas(d.tilemapLayer.x,d.tilemapLayer.y),l.scaleCanvas(d.tilemapLayer.scaleX,d.tilemapLayer.scaleY);for(var C=0;C<x.length;C++){var P=x[C],w=P.tileset?P.tileset.tileOffset:{x:0,y:0},E=P.width,b=P.height,O=P.pixelX-w.x,M=P.pixelY-w.y,A=P.collides?p:v;A!==null&&(l.fillStyle(A.color,A.alpha/255),l.fillRect(O,M,E,b)),O+=1,M+=1,E-=2,b-=2,g!==null&&(l.lineStyle(1,g.color,g.alpha/255),P.faceTop&&l.lineBetween(O,M,O+E,M),P.faceRight&&l.lineBetween(O+E,M,O+E,M+b),P.faceBottom&&l.lineBetween(O,M+b,O+E,M+b),P.faceLeft&&l.lineBetween(O,M,O,M+b))}};r.exports=a},27987:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d){for(var v=o(h,a,l,c,null,d),p=0;p<v.length;p++)v[p]&&v[p].index===f&&(v[p].index=u)};r.exports=m},32483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=s.data,h=s.width,a=s.height,l=s.tilemapLayer,c=Math.max(0,o.left),d=Math.min(h,o.right),v=Math.max(0,o.top),p=Math.min(a,o.bottom),g,x,C;if(m===0)for(x=v;x<p;x++)for(g=c;u[x]&&g<d;g++)C=u[x][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(m===1)for(x=v;x<p;x++)for(g=d;u[x]&&g>=c;g--)C=u[x][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(m===2)for(x=p;x>=v;x--)for(g=c;u[x]&&g<d;g++)C=u[x][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);else if(m===3)for(x=p;x>=v;x--)for(g=d;u[x]&&g>=c;g--)C=u[x][g],!(!C||C.index===-1||!C.visible||C.alpha===0)&&f.push(C);return l.tilesDrawn=f.length,l.tilesTotal=h*a,f};r.exports=T},57068:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),m=s(42573),f=s(9589),u=function(h,a,l,c,d){a===void 0&&(a=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++)f(h[v],a,c);if(d)for(var p=0;p<c.height;p++)for(var g=0;g<c.width;g++){var x=c.data[p][g];x&&h.indexOf(x.index)!==-1&&o(x,a)}l&&m(0,0,c.width,c.height,c)};r.exports=u},37266:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),m=s(42573),f=s(9589),u=function(h,a,l,c,d,v){if(l===void 0&&(l=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(h>a)){for(var p=h;p<=a;p++)f(p,l,d);if(v)for(var g=0;g<d.height;g++)for(var x=0;x<d.width;x++){var C=d.data[g][x];C&&C.index>=h&&C.index<=a&&o(C,l)}c&&m(0,0,d.width,d.height,d)}};r.exports=u},75661:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),m=s(42573),f=s(9589),u=function(h,a,l,c){a===void 0&&(a=!0),l===void 0&&(l=!0),Array.isArray(h)||(h=[h]);for(var d=0;d<c.height;d++)for(var v=0;v<c.width;v++){var p=c.data[d][v];p&&h.indexOf(p.index)===-1&&(o(p,a),f(p.index,a,c))}l&&m(0,0,c.width,c.height,c)};r.exports=u},64740:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),m=s(42573),f=s(97022),u=function(h,a,l,c){a===void 0&&(a=!0),l===void 0&&(l=!0);for(var d=0;d<c.height;d++)for(var v=0;v<c.width;v++){var p=c.data[d][v];if(p){for(var g in h)if(f(p.properties,g)){var x=h[g];Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;C++)p.properties[g]===x[C]&&o(p,a)}}}l&&m(0,0,c.width,c.height,c)};r.exports=u},63307:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(20576),m=s(42573),f=function(u,h,a){u===void 0&&(u=!0),h===void 0&&(h=!0);for(var l=0;l<a.height;l++)for(var c=0;c<a.width;c++){var d=a.data[l][c];if(d){var v=d.getCollisionGroup();v&&v.objects&&v.objects.length>0&&o(d,u)}}h&&m(0,0,a.width,a.height,a)};r.exports=f},9589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=m.collideIndexes.indexOf(s);o&&f===-1?m.collideIndexes.push(s):!o&&f!==-1&&m.collideIndexes.splice(f,1)};r.exports=T},20576:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};r.exports=T},79583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){if(typeof s=="number")f.callbacks[s]=o!==null?{callback:o,callbackContext:m}:void 0;else for(var u=0,h=s.length;u<h;u++)f.callbacks[s[u]]=o!==null?{callback:o,callbackContext:m}:void 0};r.exports=T},93254:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d){for(var v=o(f,u,h,a,null,d),p=0;p<v.length;p++)v[p].setCollisionCallback(l,c)};r.exports=m},32903:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(33680),f=function(u,h,a,l,c){var d=o(u,h,a,l,null,c),v=d.map(function(g){return g.index});m(v);for(var p=0;p<d.length;p++)d[p].index=v[p]};r.exports=f},61325:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(63448),m=s(56583),f=function(u,h){var a=u.tilemapLayer.tilemap,l=u.tilemapLayer,c=Math.floor(a.tileWidth*l.scaleX),d=Math.floor(a.tileHeight*l.scaleY),v=m(h.worldView.x-l.x,c,0,!0)-l.cullPaddingX,p=o(h.worldView.right-l.x,c,0,!0)+l.cullPaddingX,g=m(h.worldView.y-l.y,d/2,0,!0)-l.cullPaddingY,x=o(h.worldView.bottom-l.y,d/2,0,!0)+l.cullPaddingY;return{left:v,right:p,top:g,bottom:x}};r.exports=f},54503:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(61325),m=s(32483),f=function(u,h,a,l){a===void 0&&(a=[]),l===void 0&&(l=0),a.length=0;var c=u.tilemapLayer,d=o(u,h);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(d.left=0,d.right=u.width,d.top=0,d.bottom=u.height),m(u,d,l,a),a};r.exports=f},97202:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l){h||(h=new o);var c=l.baseTileWidth,d=l.baseTileHeight,v=l.tilemapLayer,p=0,g=0;v&&(a||(a=v.scene.cameras.main),p=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,g=v.y+a.scrollY*(1-v.scrollFactorY),d*=v.scaleY);var x=p+f*c+u%2*(c/2),C=g+u*(d/2);return h.set(x,C)};r.exports=m},28054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=m.baseTileHeight,u=m.tilemapLayer,h=0;return u&&(o===void 0&&(o=u.scene.cameras.main),h=u.y+o.scrollY*(1-u.scrollFactorY),f*=u.scaleY),h+s*(f/2)+f};r.exports=T},15108:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l,c){a||(a=new o);var d=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(l||(l=p.scene.cameras.main),u=u-(p.y+l.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,f=f-(p.x+l.scrollX*(1-p.scrollFactorX)),d*=p.scaleX);var g=h?Math.floor(u/(v/2)):u/(v/2),x=h?Math.floor((f+g%2*.5*d)/d):(f+g%2*.5*d)/d;return a.set(x,g)};r.exports=m},51900:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=f.baseTileHeight,h=f.tilemapLayer;return h&&(m||(m=h.scene.cameras.main),s=s-(h.y+m.scrollY*(1-h.scrollFactorY)),u*=h.scaleY),o?Math.floor(s/(u/2)):s/(u/2)};r.exports=T},86560:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=function(f,u,h,a,l,c,d){for(var v=o(h,a,l,c,null,d),p=0;p<v.length;p++)v[p]&&(v[p].index===f?v[p].index=u:v[p].index===u&&(v[p].index=f))};r.exports=m},97281:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=m.baseTileWidth,u=m.tilemapLayer,h=0;return u&&(o||(o=u.scene.cameras.main),h=u.x+o.scrollX*(1-u.scrollFactorX),f*=u.scaleX),h+s*f};r.exports=T},70326:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97281),m=s(29650),f=s(26099),u=function(h,a,l,c,d){return l||(l=new f(0,0)),l.x=o(h,c,d),l.y=m(a,c,d),l};r.exports=u},29650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=m.baseTileHeight,u=m.tilemapLayer,h=0;return u&&(o||(o=u.scene.cameras.main),h=u.y+o.scrollY*(1-u.scrollFactorY),f*=u.scaleY),h+s*f};r.exports=T},77366:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(7386),m=s(75508),f=function(u,h,a,l,c,d){if(c){var v,p=o(u,h,a,l,null,d),g=0;for(v=0;v<c.length;v++)g+=c[v].weight;if(!(g<=0))for(v=0;v<p.length;v++){for(var x=m.RND.frac()*g,C=0,P=-1,w=0;w<c.length;w++)if(C+=c[w].weight,x<=C){var E=c[w].index;P=Array.isArray(E)?E[Math.floor(m.RND.frac()*E.length)]:E;break}p[v].index=P}}};r.exports=f},10095:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),m=s(26099),f=new m,u=function(h,a,l,c){return o(h,0,a,f,l,c),f.x};r.exports=u},85896:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(26099),m=function(f,u,h,a,l,c){h===void 0&&(h=!0),a||(a=new o);var d=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(l||(l=p.scene.cameras.main),f=f-(p.x+l.scrollX*(1-p.scrollFactorX)),u=u-(p.y+l.scrollY*(1-p.scrollFactorY)),d*=p.scaleX,v*=p.scaleY);var g=f/d,x=u/v;return h&&(g=Math.floor(g),x=Math.floor(x)),a.set(g,x)};r.exports=m},63288:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(85896),m=s(26099),f=new m,u=function(h,a,l,c){return o(0,h,a,f,l,c),f.y};r.exports=u},81086:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:s(91907)};r.exports=o},62501:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=s(21829),f={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};f=o(!1,f,m.ORIENTATION),r.exports=f},14977:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(91907),f=s(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","layer"),this.id=f(a,"id",0),this.x=f(a,"x",0),this.y=f(a,"y",0),this.width=f(a,"width",0),this.height=f(a,"height",0),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.baseTileWidth=f(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(a,"baseTileHeight",this.tileHeight),this.orientation=f(a,"orientation",m.ORTHOGONAL),this.widthInPixels=f(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(a,"alpha",1),this.visible=f(a,"visible",!0),this.properties=f(a,"properties",[]),this.indexes=f(a,"indexes",[]),this.collideIndexes=f(a,"collideIndexes",[]),this.callbacks=f(a,"callbacks",[]),this.bodies=f(a,"bodies",[]),this.data=f(a,"data",[]),this.tilemapLayer=f(a,"tilemapLayer",null),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});r.exports=u},87010:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(91907),f=s(95540),u=new o({initialize:function(a){a===void 0&&(a={}),this.name=f(a,"name","map"),this.width=f(a,"width",0),this.height=f(a,"height",0),this.infinite=f(a,"infinite",!1),this.tileWidth=f(a,"tileWidth",0),this.tileHeight=f(a,"tileHeight",0),this.widthInPixels=f(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(a,"heightInPixels",this.height*this.tileHeight),this.format=f(a,"format",null),this.orientation=f(a,"orientation",m.ORTHOGONAL),this.renderOrder=f(a,"renderOrder","right-down"),this.version=f(a,"version","1"),this.properties=f(a,"properties",{}),this.layers=f(a,"layers",[]),this.images=f(a,"images",[]),this.objects=f(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(a,"collision",{}),this.tilesets=f(a,"tilesets",[]),this.imageCollections=f(a,"imageCollections",[]),this.tiles=f(a,"tiles",[]),this.hexSideLength=f(a,"hexSideLength",0),this.staggerAxis=f(a,"staggerAxis","y"),this.staggerIndex=f(a,"staggerIndex","odd")}});r.exports=u},48700:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=new o({initialize:function(h){h===void 0&&(h={}),this.name=m(h,"name","object layer"),this.id=m(h,"id",0),this.opacity=m(h,"opacity",1),this.properties=m(h,"properties",{}),this.propertyTypes=m(h,"propertytypes",{}),this.type=m(h,"type","objectgroup"),this.visible=m(h,"visible",!0),this.objects=m(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=f},6641:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(91907),m=function(f){return f=f.toLowerCase(),f==="isometric"?o.ISOMETRIC:f==="staggered"?o.STAGGERED:f==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};r.exports=m},46177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),m=s(2342),f=s(82593),u=s(46594),h=s(87021),a=function(l,c,d,v,p,g){var x;switch(c){case o.ARRAY_2D:x=m(l,d,v,p,g);break;case o.CSV:x=f(l,d,v,p,g);break;case o.TILED_JSON:x=u(l,d,g);break;case o.WELTMEISTER:x=h(l,d,g);break;default:console.warn("Unrecognized tilemap data format: "+c),x=null}return x};r.exports=a},2342:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),m=s(14977),f=s(87010),u=s(23029),h=function(a,l,c,d,v){for(var p=new m({tileWidth:c,tileHeight:d}),g=new f({name:a,tileWidth:c,tileHeight:d,format:o.ARRAY_2D,layers:[p]}),x=[],C=l.length,P=0,w=0;w<l.length;w++){x[w]=[];for(var E=l[w],b=0;b<E.length;b++){var O=parseInt(E[b],10);isNaN(O)||O===-1?x[w][b]=v?null:new u(p,-1,b,w,c,d):x[w][b]=new u(p,O,b,w,c,d)}P===0&&(P=E.length)}return g.width=p.width=P,g.height=p.height=C,g.widthInPixels=p.widthInPixels=P*c,g.heightInPixels=p.heightInPixels=C*d,p.data=x,g};r.exports=h},82593:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),m=s(2342),f=function(u,h,a,l,c){var d=h.trim().split(`
`).map(function(p){return p.split(",")}),v=m(u,d,a,l,c);return v.format=o.CSV,v};r.exports=f},6656:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(14977),m=s(23029),f=function(u,h){for(var a=[],l=0;l<u.layer.length;l++){for(var c=u.layer[l],d=new o({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],p=[],g=0;g<c.data.length;g++){for(var x=0;x<c.data[g].length;x++){var C=c.data[g][x]-1,P;C>-1?P=new m(d,C,x,g,c.tilesize,c.tilesize):P=h?null:new m(d,-1,x,g,c.tilesize,c.tilesize),v.push(P)}p.push(v),v=[]}d.data=p,a.push(d)}return a};r.exports=f},96483:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),m=function(f){for(var u=[],h=[],a=0;a<f.layer.length;a++){var l=f.layer[a],c=l.tilesetName;c!==""&&h.indexOf(c)===-1&&(h.push(c),u.push(new o(c,0,l.tilesize,l.tilesize,0,0)))}return u};r.exports=m},87021:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(80341),m=s(87010),f=s(6656),u=s(96483),h=function(a,l,c){if(l.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var d=0,v=0,p=0;p<l.layer.length;p++)l.layer[p].width>d&&(d=l.layer[p].width),l.layer[p].height>v&&(v=l.layer[p].height);var g=new m({width:d,height:v,name:a,tileWidth:l.layer[0].tilesize,tileHeight:l.layer[0].tilesize,format:o.WELTMEISTER});return g.layers=f(l,c),g.tilesets=u(l),g};r.exports=h},52833:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(79291),m=function(f){for(var u,h,a,l,c,d=0;d<f.layers.length;d++){u=f.layers[d],l=null;for(var v=0;v<u.data.length;v++){c=u.data[v];for(var p=0;p<c.length;p++)h=c[p],!(h===null||h.index<0)&&(a=f.tiles[h.index][2],l=f.tilesets[a],h.width=l.tileWidth,h.height=l.tileHeight,l.tileProperties&&l.tileProperties[h.index-l.firstgid]&&(h.properties=o(h.properties,l.tileProperties[h.index-l.firstgid])))}}};r.exports=m},41868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=window.atob(s),m=o.length,f=new Array(m/4),u=0;u<m;u+=4)f[u/4]=(o.charCodeAt(u)|o.charCodeAt(u+1)<<8|o.charCodeAt(u+2)<<16|o.charCodeAt(u+3)<<24)>>>0;return f};r.exports=T},84101:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),m=function(f){var u,h,a=[];for(u=0;u<f.imageCollections.length;u++)for(var l=f.imageCollections[u],c=l.images,d=0;d<c.length;d++){var v=c[d],p={x:0,y:v.height-f.tileHeight};h=new o(v.image,v.gid,v.width,v.height,0,0,void 0,void 0,p),h.updateTileData(v.width,v.height),f.tilesets.push(h)}for(u=0;u<f.tilesets.length;u++){h=f.tilesets[u];for(var g=h.tileMargin,x=h.tileMargin,C=0,P=0,w=0,E=h.firstgid;E<h.firstgid+h.total&&(a[E]=[g,x,u],g+=h.tileWidth+h.tileSpacing,C++,!(C===h.total||(P++,P===h.columns&&(g=h.tileMargin,x+=h.tileHeight+h.tileSpacing,P=0,w++,w===h.rows))));E++);}return a};r.exports=m},79677:(r,T,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=function(f,u,h){if(!u)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=u.x+o(u,"startx",0)*f.tilewidth+o(u,"offsetx",0),l=u.y+o(u,"starty",0)*f.tileheight+o(u,"offsety",0);return{i:0,layers:u.layers,name:h.name+u.name+"/",opacity:h.opacity*u.opacity,visible:h.visible&&u.visible,x:h.x+a,y:h.y+l}};r.exports=m},29920:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,s=1073741824,o=536870912,m=function(f){var u=!!(f&T),h=!!(f&s),a=!!(f&o);f=f&536870911;var l=0,c=!1;return u&&h&&a?(l=Math.PI/2,c=!0):u&&h&&!a?(l=Math.PI,c=!1):u&&!h&&a?(l=Math.PI/2,c=!1):u&&!h&&!a?(l=0,c=!0):!u&&h&&a?(l=3*Math.PI/2,c=!1):!u&&h&&!a?(l=Math.PI,c=!0):!u&&!h&&a?(l=3*Math.PI/2,c=!0):!u&&!h&&!a&&(l=0,c=!1),{gid:f,flippedHorizontal:u,flippedVertical:h,flippedAntiDiagonal:a,rotation:l,flipped:c}};r.exports=m},12635:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=s(79677),f=function(u){for(var h=[],a=[],l=m(u);l.i<l.layers.length||a.length>0;){if(l.i>=l.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=a.pop();continue}var c=l.layers[l.i];if(l.i++,c.type!=="imagelayer"){if(c.type==="group"){var d=m(u,c,l);a.push(l),l=d}continue}var v=o(c,"offsetx",0)+o(c,"startx",0),p=o(c,"offsety",0)+o(c,"starty",0);h.push({name:l.name+c.name,image:c.image,x:l.x+v+c.x,y:l.y+p+c.y,alpha:l.opacity*c.opacity,visible:l.visible&&c.visible,properties:o(c,"properties",{})})}return h};r.exports=f},46594:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(51233),m=s(84101),f=s(91907),u=s(62644),h=s(80341),a=s(6641),l=s(87010),c=s(12635),d=s(22611),v=s(28200),p=s(24619),g=function(x,C,P){var w=u(C),E=new l({width:w.width,height:w.height,name:x,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:a(w.orientation),format:h.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});if(E.orientation===f.HEXAGONAL)if(E.hexSideLength=w.hexsidelength,E.staggerAxis=w.staggeraxis,E.staggerIndex=w.staggerindex,E.staggerAxis==="y"){var b=(E.tileHeight-E.hexSideLength)/2;E.widthInPixels=E.tileWidth*(E.width+.5),E.heightInPixels=E.height*(E.hexSideLength+b)+b}else{var O=(E.tileWidth-E.hexSideLength)/2;E.widthInPixels=E.width*(E.hexSideLength+O)+O,E.heightInPixels=E.tileHeight*(E.height+.5)}E.layers=v(w,P),E.images=c(w);var M=p(w);return E.tilesets=M.tilesets,E.imageCollections=M.imageCollections,E.objects=d(w),E.tiles=m(E),o(E),E};r.exports=g},52205:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(18254),m=s(29920),f=function(a){return{x:a.x,y:a.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(a,l,c){l===void 0&&(l=0),c===void 0&&(c=0);var d=o(a,u);if(d.x+=l,d.y+=c,a.gid){var v=m(a.gid);d.gid=v.gid,d.flippedHorizontal=v.flippedHorizontal,d.flippedVertical=v.flippedVertical,d.flippedAntiDiagonal=v.flippedAntiDiagonal}else a.polyline?d.polyline=a.polyline.map(f):a.polygon?d.polygon=a.polygon.map(f):a.ellipse?d.ellipse=a.ellipse:a.text?d.text=a.text:a.point?d.point=!0:d.rectangle=!0;return d};r.exports=h},22611:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95540),m=s(52205),f=s(48700),u=s(79677),h=function(a){for(var l=[],c=[],d=u(a);d.i<d.layers.length||c.length>0;){if(d.i>=d.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=c.pop();continue}var v=d.layers[d.i];if(d.i++,v.opacity*=d.opacity,v.visible=d.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var p=u(a,v,d);c.push(d),d=p}continue}v.name=d.name+v.name;for(var g=d.x+o(v,"startx",0)+o(v,"offsetx",0),x=d.y+o(v,"starty",0)+o(v,"offsety",0),C=[],P=0;P<v.objects.length;P++){var w=m(v.objects[P],g,x);C.push(w)}var E=new f(v);E.objects=C,l.push(E)}return l};r.exports=h},28200:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41868),m=s(91907),f=s(79677),u=s(6641),h=s(95540),a=s(14977),l=s(29920),c=s(23029),d=function(v,p){for(var g=h(v,"infinite",!1),x=[],C=[],P=f(v);P.i<P.layers.length||C.length>0;){if(P.i>=P.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=C.pop();continue}var w=P.layers[P.i];if(P.i++,w.type!=="tilelayer"){if(w.type==="group"){var E=f(v,w,P);C.push(P),P=E}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var b=0;b<w.chunks.length;b++)w.chunks[b].data=o(w.chunks[b].data);w.data&&(w.data=o(w.data)),delete w.encoding}var O,M,A,F,R,L,D=[],I=0;if(g){var z=h(w,"startx",0)+w.x,U=h(w,"starty",0)+w.y;O=new a({name:P.name+w.name,id:w.id,x:P.x+h(w,"offsetx",0)+z*v.tilewidth,y:P.y+h(w,"offsety",0)+U*v.tileheight,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:h(w,"properties",[]),orientation:u(v.orientation)}),O.orientation===m.HEXAGONAL&&(O.hexSideLength=v.hexsidelength,O.staggerAxis=v.staggeraxis,O.staggerIndex=v.staggerindex,O.staggerAxis==="y"?(R=(O.tileHeight-O.hexSideLength)/2,O.widthInPixels=O.tileWidth*(O.width+.5),O.heightInPixels=O.height*(O.hexSideLength+R)+R):(L=(O.tileWidth-O.hexSideLength)/2,O.widthInPixels=O.width*(O.hexSideLength+L)+L,O.heightInPixels=O.tileHeight*(O.height+.5)));for(var H=0;H<w.height;H++){D[H]=[null];for(var W=0;W<w.width;W++)D[H][W]=null}for(H=0,it=w.chunks.length;H<it;H++)for(var N=w.chunks[H],X=N.x-z,B=N.y-U,V=0,k=0,j=N.data.length;k<j;k++){var $=I+X,J=V+B;M=l(N.data[k]),M.gid>0?(A=new c(O,M.gid,$,J,v.tilewidth,v.tileheight),A.rotation=M.rotation,A.flipX=M.flipped,D[J][$]=A):(F=p?null:new c(O,-1,$,J,v.tilewidth,v.tileheight),D[J][$]=F),I++,I===N.width&&(V++,I=0)}}else{O=new a({name:P.name+w.name,id:w.id,x:P.x+h(w,"offsetx",0)+w.x,y:P.y+h(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*w.opacity,visible:P.visible&&w.visible,properties:h(w,"properties",[]),orientation:u(v.orientation)}),O.orientation===m.HEXAGONAL&&(O.hexSideLength=v.hexsidelength,O.staggerAxis=v.staggeraxis,O.staggerIndex=v.staggerindex,O.staggerAxis==="y"?(R=(O.tileHeight-O.hexSideLength)/2,O.widthInPixels=O.tileWidth*(O.width+.5),O.heightInPixels=O.height*(O.hexSideLength+R)+R):(L=(O.tileWidth-O.hexSideLength)/2,O.widthInPixels=O.width*(O.hexSideLength+L)+L,O.heightInPixels=O.tileHeight*(O.height+.5)));for(var Z=[],_=0,it=w.data.length;_<it;_++)M=l(w.data[_]),M.gid>0?(A=new c(O,M.gid,I,D.length,v.tilewidth,v.tileheight),A.rotation=M.rotation,A.flipX=M.flipped,Z.push(A)):(F=p?null:new c(O,-1,I,D.length,v.tilewidth,v.tileheight),Z.push(F)),I++,I===w.width&&(D.push(Z),I=0,Z=[])}O.data=D,x.push(O)}return x};r.exports=d},24619:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(33629),m=s(16536),f=s(52205),u=s(57880),h=function(a){for(var l=[],c=[],d=null,v,p=0;p<a.tilesets.length;p++){var g=a.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var x=new o(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(a.version>1){var C=void 0,P=void 0;if(Array.isArray(g.tiles)){C=C||{},P=P||{};for(var w=0;w<g.tiles.length;w++){var E=g.tiles[w];if(E.properties){var b={};E.properties.forEach(function(H){b[H.name]=H.value}),P[E.id]=b}if(E.objectgroup&&((C[E.id]||(C[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var O=E.objectgroup.objects.map(function(H){return f(H)});C[E.id].objectgroup.objects=O}E.animation&&((C[E.id]||(C[E.id]={})).animation=E.animation),E.type&&((C[E.id]||(C[E.id]={})).type=E.type)}}Array.isArray(g.wangsets)&&(C=C||{},P=P||{},u(g.wangsets,C)),C&&(x.tileData=C,x.tileProperties=P)}else if(g.tileproperties&&(x.tileProperties=g.tileproperties),g.tiles){x.tileData=g.tiles;for(v in x.tileData){var M=x.tileData[v].objectgroup;if(M&&M.objects){var A=M.objects.map(function(H){return f(H)});x.tileData[v].objectgroup.objects=A}}}x.updateTileData(g.imagewidth,g.imageheight),l.push(x)}else{var F=new m(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),R=0;for(w=0;w<g.tiles.length;w++){E=g.tiles[w];var L=E.image,D=parseInt(E.id,10),I=g.firstgid+D,z=E.imagewidth,U=E.imageheight;F.addImage(I,L,z,U),R=Math.max(D,R)}F.maxId=R,c.push(F)}d&&(d.lastgid=g.firstgid-1),d=g}return{tilesets:l,imageCollections:c}};r.exports=h},57880:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){for(var m=0;m<s.length;m++){var f=s[m],u=m;if(f.name&&f.name!==""&&(u=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var h={},a={},l,c,d;if(Array.isArray(f.edgecolors))for(l=0;l<f.edgecolors.length;l++)d=1+l,c=f.edgecolors[l],c.name!==""&&(h[d]=c.name);if(Array.isArray(f.cornercolors))for(l=0;l<f.cornercolors.length;l++)d=1+l,c=f.cornercolors[l],c.name!==""&&(a[d]=c.name);if(Array.isArray(f.colors))for(l=0;l<f.colors.length;l++)c=f.colors[l],d=1+l,c.name!==""&&(h[d]=a[d]=c.name);for(var v=[h,a,h,a,h,a,h,a],p=0;p<f.wangtiles.length;p++){var g=f.wangtiles[p],x=o[g.tileid]||(o[g.tileid]={});x=x.wangid||(x.wangid={});for(var C=[],P=0;P<Math.min(v.length,g.wangid.length);P++){if(c=g.wangid[P],c===0){C.push(void 0);continue}var w=v[P][c];if(w!==void 0){C.push(w);continue}C.push(c)}x[u]=C}}}};r.exports=T},96761:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(37277),f=s(44594),u=s(94880),h=s(72905),a=new o({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var l=this.systems.events;l.on(f.PRE_UPDATE,this.preUpdate,this),l.on(f.UPDATE,this.update,this),l.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(l){var c;if(l instanceof u){if(c=l,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new u(l);return this._pendingInsertion.push(c),c},delayedCall:function(l,c,d,v){return this.addEvent({delay:l,callback:c,args:d,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(l){Array.isArray(l)||(l=[l]);for(var c=0;c<l.length;c++){var d=l[c];h(this._pendingRemoval,d),h(this._pendingInsertion,d),h(this._active,d)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var l=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(l===0&&c===0)){var d,v;for(d=0;d<l;d++){v=this._pendingRemoval[d];var p=this._active.indexOf(v);p>-1&&this._active.splice(p,1),v.destroy()}for(d=0;d<c;d++)v=this._pendingInsertion[d],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(l,c){if(this.now=l,!this.paused){c*=this.timeScale;for(var d=0;d<this._active.length;d++){var v=this._active[d];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var p=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,p>=v.delay)for(;p>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),p-=v.delay,v.repeatCount--;v.elapsed=p,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var l;for(l=0;l<this._pendingInsertion.length;l++)this._pendingInsertion[l].destroy();for(l=0;l<this._active.length;l++)this._active[l].destroy();for(l=0;l<this._pendingRemoval.length;l++)this._pendingRemoval[l].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(f.PRE_UPDATE,this.preUpdate,this),c.off(f.UPDATE,this.update,this),c.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",a,"time"),r.exports=a},96120:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(39429),u=s(95540),h=s(44594),a=s(89809),l=new o({Extends:m,initialize:function(d,v){m.call(this),this.scene=d,this.systems=d.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(h.PRE_UPDATE,this.preUpdate,this),p.on(h.UPDATE,this.update,this),p.once(h.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,d){this.paused||(this.elapsed+=d*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,d=this.events,v=!1,p=this.systems,g;for(c=0;c<d.length;c++){var x=d[c];if(!x.complete&&x.time<=this.elapsed){if(x.complete=!0,this.totalComplete++,g=x.target?x.target:this,x.if&&!x.if.call(g,x))continue;if(x.once&&(v=!0),x.set&&x.target)for(var C in x.set)x.target[C]=x.set[C];this.iteration&&x.repeat++,x.loop&&x.repeat&&x.loop.call(g),x.tween&&(x.tweenInstance=p.tweens.add(x.tween)),x.sound&&(typeof x.sound=="string"?p.sound.play(x.sound):p.sound.play(x.sound.key,x.sound.config)),x.event&&this.emit(x.event,g),x.run&&x.run.call(g),x.stop&&this.stop()}}if(v)for(c=0;c<d.length;c++)d[c].complete&&d[c].once&&(d.splice(c,1),c--);this.totalComplete>=d.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,d=0;d<c.length;d++){var v=c[d];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,d=0;d<c.length;d++){var v=c[d];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var d=this.events,v=0;v<d.length;v++){var p=d[v];p.complete=!1,c||(p.repeat=0),p.tweenInstance&&p.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var d=this.events,v=0;d.length>0&&(v=d[d.length-1].time);for(var p=0;p<c.length;p++){var g=c[p],x=u(g,"at",0),C=u(g,"in",null);C!==null&&(x=this.elapsed+C);var P=u(g,"from",null);P!==null&&(x=v+P),d.push({complete:!1,time:x,repeat:0,if:u(g,"if",null),run:u(g,"run",null),loop:u(g,"loop",null),event:u(g,"event",null),target:u(g,"target",null),set:u(g,"set",null),tween:u(g,"tween",null),sound:u(g,"sound",null),once:u(g,"once",!1),stop:u(g,"stop",!1)}),v=x}return this.complete=!1,this},clear:function(){for(var c=this.events,d=0;d<c.length;d++){var v=c[d];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(h.PRE_UPDATE,this.preUpdate,this),c.off(h.UPDATE,this.update,this),c.off(h.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(c){return new l(this.scene,c)}),r.exports=l},94880:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(95540),f=new o({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(u){if(this.delay=m(u,"delay",0),this.repeat=m(u,"repeat",0),this.loop=m(u,"loop",!1),this.callback=m(u,"callback",void 0),this.callbackScope=m(u,"callbackScope",this),this.args=m(u,"args",[]),this.timeScale=m(u,"timeScale",1),this.startAt=m(u,"startAt",0),this.paused=m(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=f},35945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},89809:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(35945)}},90291:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),m=s(83419),f=s(43491),u=s(88032),h=s(37277),a=s(44594),l=s(93109),c=s(86081),d=s(8357),v=s(43960),p=s(26012),g=new m({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(x){Array.isArray(x)||(x=[x]);for(var C=[],P=0;P<x.length;P++){var w=x[P];w instanceof c||w instanceof v?C.push(w):Array.isArray(w.tweens)?C.push(p(this,w)):C.push(d(this,w))}return C.length===1?C[0]:C},add:function(x){var C=x,P=this.tweens;return C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=d(this,C)),P.push(C.reset()),C},addMultiple:function(x){for(var C,P=[],w=this.tweens,E=0;E<x.length;E++)C=x[E],C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=d(this,C)),w.push(C.reset()),P.push(C);return P},chain:function(x){var C=p(this,x);return this.tweens.push(C.init()),C},getChainedTweens:function(x){return x.getChainedTweens()},has:function(x){return this.tweens.indexOf(x)>-1},existing:function(x){return this.has(x)||this.tweens.push(x.reset()),this},addCounter:function(x){var C=u(this,x);return this.tweens.push(C.reset()),C},stagger:function(x,C){return l(x,C)},setLagSmooth:function(x,C){return x===void 0&&(x=1/1e-8),C===void 0&&(C=0),this.maxLag=x,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(x){return x===void 0&&(x=240),this.gap=1e3/x,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(x){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var P=this.prevTime-this.startTime,w=P-this.nextTime,E=P-this.time*1e3;return w>0||x?(P/=1e3,this.time=P,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(x){x===void 0&&(x=!1);var C=this.getDelta(x);if(!(C<=0)){this.processing=!0;var P,w,E=[],b=this.tweens;for(P=0;P<b.length;P++)w=b[P],w.update(C)&&E.push(w);var O=E.length;if(O&&b.length>0){for(P=0;P<O;P++){w=E[P];var M=b.indexOf(w);M>-1&&(w.isPendingRemove()||w.isDestroyed())&&(b.splice(M,1),w.destroy())}E.length=0}this.processing=!1}},remove:function(x){return this.processing?x.setPendingRemoveState():(o(this.tweens,x),x.setRemovedState()),this},reset:function(x){return this.existing(x),x.seek(),x.setActiveState(),this},makeActive:function(x){return this.existing(x),x.setActiveState(),this},each:function(x,C){var P,w=[null];for(P=1;P<arguments.length;P++)w.push(arguments[P]);return this.tweens.forEach(function(E){w[0]=E,x.apply(C,w)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(x){var C=[],P=this.tweens;Array.isArray(x)?x=f(x):x=[x];for(var w=x.length,E=0;E<P.length;E++)for(var b=P[E],O=0;O<w;O++)!b.isDestroyed()&&b.hasTarget(x[O])&&C.push(b);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(x){return this.timeScale=x,this},isTweening:function(x){for(var C=this.tweens,P,w=0;w<C.length;w++)if(P=C[w],P.isPlaying()&&P.hasTarget(x))return!0;return!1},killAll:function(){for(var x=this.processing?this.getTweens():this.tweens,C=0;C<x.length;C++)x[C].destroy();return this.processing||(x.length=0),this},killTweensOf:function(x){for(var C=this.getTweensOf(x),P=0;P<C.length;P++)C[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",g,"tweens"),r.exports=g},57355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){return s&&s.hasOwnProperty(o)?s[o]:m};r.exports=T},6113:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(62640),m=s(35355),f=function(u,h){var a=o.Power0;if(typeof u=="string")if(o.hasOwnProperty(u))a=o[u];else{var l="";if(u.indexOf(".")){l=u.substring(u.indexOf(".")+1);var c=l.toLowerCase();c==="in"?l="easeIn":c==="out"?l="easeOut":c==="inout"&&(l="easeInOut")}u=m(u.substring(0,u.indexOf(".")+1)+l),o.hasOwnProperty(u)&&(a=o[u])}else typeof u=="function"&&(a=u);if(!h)return a;var d=h.slice(0);return d.unshift(0),function(v){return d[0]=v,a.apply(this,d)}};r.exports=f},91389:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(89318),m=s(77259),f=s(28392),u={bezier:o,catmull:m,catmullrom:m,linear:f},h=function(a){if(a===null)return null;var l=u.linear;return typeof a=="string"?u.hasOwnProperty(a)&&(l=u[a]):typeof a=="function"&&(l=a),l};r.exports=h},55292:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f;if(s.hasOwnProperty(o)){var u=typeof s[o];u==="function"?f=function(h,a,l,c,d,v){return s[o](h,a,l,c,d,v)}:f=function(){return s[o]}}else typeof m=="function"?f=m:f=function(){return m};return f};r.exports=T},82985:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(81076),m=function(f){var u,h=[];if(f.hasOwnProperty("props"))for(u in f.props)u.substring(0,1)!=="_"&&h.push({key:u,value:f.props[u]});else for(u in f)o.indexOf(u)===-1&&u.substring(0,1)!=="_"&&h.push({key:u,value:f[u]});return h};r.exports=m},62329:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),m=function(f){var u=o(f,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};r.exports=m},17777:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(30976),m=s(99472);function f(c){return!!c.getActive&&typeof c.getActive=="function"}function u(c){return!!c.getStart&&typeof c.getStart=="function"}function h(c){return!!c.getEnd&&typeof c.getEnd=="function"}function a(c){return u(c)||h(c)||f(c)}var l=function(c,d){var v,p=function(H,W,N){return N},g=function(H,W,N){return N},x=null,C=typeof d;if(C==="number")p=function(){return d};else if(Array.isArray(d))g=function(){return d[0]},p=function(){return d[d.length-1]};else if(C==="string"){var P=d.toLowerCase(),w=P.substring(0,6)==="random",E=P.substring(0,3)==="int";if(w||E){var b=P.indexOf("("),O=P.indexOf(")"),M=P.indexOf(",");if(b&&O&&M){var A=parseFloat(P.substring(b+1,M)),F=parseFloat(P.substring(M+1,O));w?p=function(){return m(A,F)}:p=function(){return o(A,F)}}else throw new Error("invalid random() format")}else{P=P[0];var R=parseFloat(d.substr(2));switch(P){case"+":p=function(H,W,N){return N+R};break;case"-":p=function(H,W,N){return N-R};break;case"*":p=function(H,W,N){return N*R};break;case"/":p=function(H,W,N){return N/R};break;default:p=function(){return parseFloat(d)}}}}else if(C==="function")p=d;else if(C==="object")if(a(d))f(d)&&(x=d.getActive),h(d)&&(p=d.getEnd),u(d)&&(g=d.getStart);else if(d.hasOwnProperty("value"))v=l(c,d.value);else{var L=d.hasOwnProperty("to"),D=d.hasOwnProperty("from"),I=d.hasOwnProperty("start");if(L&&(D||I)){if(v=l(c,d.to),I){var z=l(c,d.start);v.getActive=z.getEnd}if(D){var U=l(c,d.from);v.getStart=U.getEnd}}}return v||(v={getActive:x,getEnd:p,getStart:g}),v};r.exports=l},88032:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),m=s(69902),f=s(23568),u=s(57355),h=s(6113),a=s(95540),l=s(55292),c=s(35154),d=s(17777),v=s(269),p=s(86081),g=function(x,C,P){if(C instanceof p)return C.parent=x,C;P===void 0?P=m:P=v(m,P);var w=a(C,"from",0),E=a(C,"to",1),b=[{value:w}],O=a(C,"delay",P.delay),M=a(C,"easeParams",P.easeParams),A=a(C,"ease",P.ease),F=d("value",E),R=new p(x,b),L=R.add(0,"value",F.getEnd,F.getStart,F.getActive,h(a(C,"ease",A),a(C,"easeParams",M)),l(C,"delay",O),a(C,"duration",P.duration),u(C,"yoyo",P.yoyo),a(C,"hold",P.hold),a(C,"repeat",P.repeat),a(C,"repeatDelay",P.repeatDelay),!1,!1);L.start=w,L.current=w,R.completeDelay=f(C,"completeDelay",0),R.loop=Math.round(f(C,"loop",0)),R.loopDelay=Math.round(f(C,"loopDelay",0)),R.paused=u(C,"paused",!1),R.persist=u(C,"persist",!1),R.isNumberTween=!0,R.callbackScope=c(C,"callbackScope",R);for(var D=o.TYPES,I=0;I<D.length;I++){var z=D[I],U=c(C,z,!1);if(U){var H=c(C,z+"Params",[]);R.setCallback(z,U,H)}}return R};r.exports=g},93109:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(6113),m=s(35154),f=s(36383),u=function(h,a){a===void 0&&(a={});var l,c=m(a,"start",0),d=m(a,"ease",null),v=m(a,"grid",null),p=m(a,"from",0),g=p==="first",x=p==="center",C=p==="last",P=typeof p=="number",w=Array.isArray(h),E=parseFloat(w?h[0]:h),b=w?parseFloat(h[1]):0,O=Math.max(E,b);if(w&&(c+=E),v){var M=v[0],A=v[1],F=0,R=0,L=0,D=0,I=[];C?(F=M-1,R=A-1):P?(F=p%M,R=Math.floor(p/M)):x&&(F=(M-1)/2,R=(A-1)/2);for(var z=f.MIN_SAFE_INTEGER,U=0;U<A;U++){I[U]=[];for(var H=0;H<M;H++){L=F-H,D=R-U;var W=Math.sqrt(L*L+D*D);W>z&&(z=W),I[U][H]=W}}}var N=d?o(d):null;return v?l=function(X,B,V,k){var j=0,$=k%M,J=Math.floor(k/M);$>=0&&$<M&&J>=0&&J<A&&(j=I[J][$]);var Z;if(w){var _=b-E;N?Z=j/z*_*N(j/z):Z=j/z*_}else N?Z=j*E*N(j/z):Z=j*E;return Z+c}:l=function(X,B,V,k,j){j--;var $;g?$=k:x?$=Math.abs(j/2-k):C?$=j-k:P&&($=Math.abs(p-k));var J;if(w){var Z;x?Z=(b-E)/j*($*2):Z=(b-E)/j*$,N?J=Z*N($/j):J=Z}else N?J=j*O*N($/j):J=$*E;return J+c},l};r.exports=u},8357:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),m=s(69902),f=s(23568),u=s(57355),h=s(6113),a=s(95540),l=s(91389),c=s(55292),d=s(82985),v=s(62329),p=s(35154),g=s(17777),x=s(269),C=s(86081),P=function(w,E,b){if(E instanceof C)return E.parent=w,E;b===void 0?b=m:b=x(m,b);var O=v(E);!O&&b.targets&&(O=b.targets);for(var M=d(E),A=a(E,"delay",b.delay),F=a(E,"duration",b.duration),R=a(E,"easeParams",b.easeParams),L=a(E,"ease",b.ease),D=a(E,"hold",b.hold),I=a(E,"repeat",b.repeat),z=a(E,"repeatDelay",b.repeatDelay),U=u(E,"yoyo",b.yoyo),H=u(E,"flipX",b.flipX),W=u(E,"flipY",b.flipY),N=a(E,"interpolation",b.interpolation),X=function(st,ft,ct,ut){if(ct==="texture"){var Et=ut,Mt=void 0;Array.isArray(ut)?(Et=ut[0],Mt=ut[1]):ut.hasOwnProperty("value")?(Et=ut.value,Array.isArray(ut.value)?(Et=ut.value[0],Mt=ut.value[1]):typeof ut.value=="string"&&(Et=ut.value)):typeof ut=="string"&&(Et=ut),st.addFrame(ft,Et,Mt,c(ut,"delay",A),a(ut,"duration",F),a(ut,"hold",D),a(ut,"repeat",I),a(ut,"repeatDelay",z),u(ut,"flipX",H),u(ut,"flipY",W))}else{var At=g(ct,ut),vt=l(a(ut,"interpolation",N));st.add(ft,ct,At.getEnd,At.getStart,At.getActive,h(a(ut,"ease",L),a(ut,"easeParams",R)),c(ut,"delay",A),a(ut,"duration",F),u(ut,"yoyo",U),a(ut,"hold",D),a(ut,"repeat",I),a(ut,"repeatDelay",z),u(ut,"flipX",H),u(ut,"flipY",W),vt,vt?ut:null)}},B=new C(w,O),V=0;V<M.length;V++)for(var k=M[V].key,j=M[V].value,$=0;$<O.length;$++)k==="scale"&&!O[$].hasOwnProperty("scale")?(X(B,$,"scaleX",j),X(B,$,"scaleY",j)):X(B,$,k,j);B.completeDelay=f(E,"completeDelay",0),B.loop=Math.round(f(E,"loop",0)),B.loopDelay=Math.round(f(E,"loopDelay",0)),B.paused=u(E,"paused",!1),B.persist=u(E,"persist",!1),B.callbackScope=a(E,"callbackScope",B);for(var J=o.TYPES,Z=0;Z<J.length;Z++){var _=J[Z],it=p(E,_,!1);if(it){var at=p(E,_+"Params",[]);B.setCallback(_,it,at)}}return B};r.exports=P},26012:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),m=s(23568),f=s(57355),u=s(62329),h=s(35154),a=s(8357),l=s(43960),c=function(d,v){if(v instanceof l)return v.parent=d,v;var p=new l(d);p.startDelay=h(v,"delay",0),p.completeDelay=m(v,"completeDelay",0),p.loop=Math.round(m(v,"loop",h(v,"repeat",0))),p.loopDelay=Math.round(m(v,"loopDelay",h(v,"repeatDelay",0))),p.paused=f(v,"paused",!1),p.persist=f(v,"persist",!1),p.callbackScope=h(v,"callbackScope",p);var g,x=o.TYPES;for(g=0;g<x.length;g++){var C=x[g],P=h(v,C,!1);if(P){var w=h(v,C+"Params",[]);p.setCallback(C,P,w)}}var E=h(v,"tweens",null);if(Array.isArray(E)){var b=[],O=u(v),M=void 0;for(O&&(M={targets:O}),g=0;g<E.length;g++)b.push(a(p,E[g],M));p.add(b)}return p};r.exports=c},30231:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"},98540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},67233:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},2859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},98336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"},25764:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},32193:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},84371:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},70766:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},55659:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"},842:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};r.exports=o},70402:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(50792),f=s(842),u=s(86353),h=new o({Extends:m,initialize:function(l){m.call(this),this.parent=l,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,l,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:l,params:c}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=h},95042:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(83419),m=s(842),f=s(86353),u=new o({initialize:function(a,l,c,d,v,p,g,x,C,P){this.tween=a,this.targetIndex=l,this.duration=d<=0?.01:d,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=p,this.repeat=g,this.repeatDelay=x,this.repeatCounter=0,this.flipX=C,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,a=h.totalTargets,l=this.targetIndex,c=h.targets[l],d=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,d,0,l,a,h),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var p=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=p*f.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,a,l){var c=this.tween,d=c.totalTargets,v=this.targetIndex,p=c.targets[v],g=this.key,x=g!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),x&&(a||l)&&(this.start=this.getStartValue(p,g,this.start,v,d,c)),l){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,x&&(this.end=this.getEndValue(p,g,this.start,v,d,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,x&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=u},69902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=T},81076:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(70402),m=s(83419),f=s(842),u=s(44603),h=s(39429),a=s(36383),l=s(86353),c=s(48177),d=s(42220),v=new m({Extends:o,initialize:function(g,x){o.call(this,g),this.targets=x,this.totalTargets=x.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(p,g,x,C,P,w,E,b,O,M,A,F,R,L,D,I){var z=new c(this,p,g,x,C,P,w,E,b,O,M,A,F,R,L,D,I);return this.totalData=this.data.push(z),z},addFrame:function(p,g,x,C,P,w,E,b,O,M){var A=new d(this,p,g,x,C,P,w,E,b,O,M);return this.totalData=this.data.push(A),A},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,x){if(x===void 0&&(x=!1),p!=="texture")for(var C=0;C<this.totalData;C++){var P=this.data[C];P.key===p&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=g,x&&(P.start=P.current))}return this},restart:function(){switch(this.state){case l.REMOVED:case l.FINISHED:this.seek(),this.parent.makeActive(this);break;case l.PENDING:case l.PENDING_REMOVE:this.parent.reset(this);break;case l.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,x){if(p===void 0&&(p=0),g===void 0&&(g=16.6),x===void 0&&(x=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;x||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,p>0){for(var P=Math.floor(p/g),w=p-P*g,E=0;E<P;E++)this.update(g);w>0&&this.update(w)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var g=this.data,x=0;x<this.totalData;x++)g[x].reset(p);this.duration=Math.max(this.duration,.01);var C=this.duration,P=this.completeDelay,w=this.loopCounter,E=this.loopDelay;w>0?this.totalDuration=C+P+(C+E)*w:this.totalDuration=C+P},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=l.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var x=this.data,C=0;C<this.totalData;C++)x[C].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){if(this.emit(p,this,this.targets),!this.callbacks)return;var x=this.callbacks[g];x&&x.func.apply(this.callbackScope,[this,this.targets].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(p){return this.scene.sys.tweens.add(p)}),u.register("tween",function(p){return this.scene.sys.tweens.create(p)}),r.exports=v},43960:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(72905),m=s(70402),f=s(83419),u=s(842),h=s(44603),a=s(39429),l=s(86353),c=new f({Extends:m,initialize:function(v){m.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?l.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(d){var v=this.parent.create(d);Array.isArray(v)||(v=[v]);for(var p=this.data,g=0;g<v.length;g++){var x=v[g];x.parent=this,p.push(x.reset())}return this.totalData=p.length,this},remove:function(d){return o(this.data,d),d.setRemovedState(),d===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(d){for(var v=this.data,p=0;p<this.totalData;p++)if(v[p].hasTarget(d))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(d){return d.seek(),d.setActiveState(),this},makeActive:function(d){return d.reset(),d.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var d=this.data,v=this.totalData,p=0;p<v;p++)d[p].reset(!1);this.setCurrentTween(0)},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(d*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),d=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(d)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(d){this.currentIndex=d,this.currentTween=this.data[d],this.currentTween.setActiveState()},dispatchEvent:function(d,v){this.emit(d,this);var p=this.callbacks[v];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(d){return this.scene.sys.tweens.chain(d)}),h.register("tweenchain",function(d){return this.scene.sys.tweens.create(d)}),r.exports=c},48177:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),m=s(45319),f=s(83419),u=s(842),h=new f({Extends:o,initialize:function(l,c,d,v,p,g,x,C,P,w,E,b,O,M,A,F,R){o.call(this,l,c,C,P,w,E,b,O,M,A),this.key=d,this.getActiveValue=g,this.getEndValue=v,this.getStartValue=p,this.ease=x,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=R},reset:function(a){o.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex],c=this.key;a&&(l[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(l[c]=this.getActiveValue(l,c,0))},update:function(a){var l=this.tween,c=l.totalTargets,d=this.targetIndex,v=l.targets[d],p=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,p,v[p],d,c,l),this.end=this.getEndValue(v,p,this.start,d,c,l),this.current=this.start,v[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),x=this.isPlayingBackward();if(g||x){var C=this.elapsed,P=this.duration,w=0,E=!1;C+=a,C>=P?(w=C-P,C=P,E=!0):C<0&&(C=0);var b=m(C/P,0,1);this.elapsed=C,this.progress=b,this.previous=this.current,g||(b=1-b);var O=this.ease(b);this.interpolation?this.current=this.interpolation(this.interpolationData,O):this.current=this.start+(this.end-this.start)*O,v[p]=this.current,E&&(g?(l.isNumberTween&&(this.current=this.end,v[p]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(l.isNumberTween&&(this.current=this.start,v[p]=this.current),this.setStateFromStart(w))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,l){var c=this.tween;if(!c.isSeeking){var d=c.targets[this.targetIndex],v=this.key,p=this.current,g=this.previous;c.emit(a,c,v,d,p,g);var x=c.callbacks[l];x&&x.func.apply(c.callbackScope,[c,d,v,p,g].concat(x.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=h},42220:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(95042),m=s(45319),f=s(83419),u=s(842),h=new f({Extends:o,initialize:function(l,c,d,v,p,g,x,C,P,w,E){o.call(this,l,c,p,g,!1,x,C,P,w,E),this.key="texture",this.startTexture=null,this.endTexture=d,this.startFrame=null,this.endFrame=v,this.yoyo=C!==0},reset:function(a){o.prototype.reset.call(this);var l=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=l.texture.key,this.startFrame=l.frame.name),a&&l.setTexture(this.startTexture,this.startFrame)},update:function(a){var l=this.tween,c=this.targetIndex,d=l.targets[c];if(!d)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&d.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),p=this.isPlayingBackward();if(v||p){var g=this.elapsed,x=this.duration,C=0,P=!1;g+=a,g>=x?(C=g-x,g=x,P=!0):g<0&&(g=0);var w=m(g/x,0,1);this.elapsed=g,this.progress=w,P&&(v?(d.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(d.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,l){var c=this.tween;if(!c.isSeeking){var d=c.targets[this.targetIndex],v=this.key;c.emit(a,c,v,d);var p=c.callbacks[l];p&&p.func.apply(c.callbackScope,[c,d,v].concat(p.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=h},86353:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=T},83419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function s(h,a,l){var c=l?h[a]:Object.getOwnPropertyDescriptor(h,a);return!l&&c.value&&typeof c.value=="object"&&(c=c.value),c&&T(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function o(h,a){var l=Object.getOwnPropertyDescriptor(h,a);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function m(h,a,l,c){for(var d in a)if(a.hasOwnProperty(d)){var v=s(a,d,l);if(v!==!1){var p=c||h;if(o(p.prototype,d)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+d+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,d,v)}else h.prototype[d]=a[d]}}function f(h,a){if(a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++)m(h,a[l].prototype||a[l])}}function u(h){h||(h={});var a,l;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");a=h.initialize,delete h.initialize}else if(h.Extends){var c=h.Extends;a=function(){c.apply(this,arguments)}}else a=function(){};h.Extends?(a.prototype=Object.create(h.Extends.prototype),a.prototype.constructor=a,l=h.Extends,delete h.Extends):a.prototype.constructor=a;var d=null;return h.Mixins&&(d=h.Mixins,delete h.Mixins),f(a,d),m(a,h,!0,l),a}u.extend=m,u.mixin=f,u.ignoreFinals=!1,r.exports=u},29747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},20242:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};r.exports=T},71146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u){if(u===void 0&&(u=s),m>0){var h=m-s.length;if(h<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.push(o),f&&f.call(u,o),o):null;for(var a=o.length-1;a>=0;)s.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;m>0&&a>h&&(o.splice(h),a=h);for(var l=0;l<a;l++){var c=o[l];s.push(c),f&&f.call(u,c)}return o};r.exports=T},51067:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f,u,h){if(m===void 0&&(m=0),h===void 0&&(h=s),f>0){var a=f-s.length;if(a<=0)return null}if(!Array.isArray(o))return s.indexOf(o)===-1?(s.splice(m,0,o),u&&u.call(h,o),o):null;for(var l=o.length-1;l>=0;)s.indexOf(o[l])!==-1&&o.pop(),l--;if(l=o.length,l===0)return null;f>0&&l>a&&(o.splice(a),l=a);for(var c=l-1;c>=0;c--){var d=o[c];s.splice(m,0,d),u&&u.call(h,d)}return o};r.exports=T},66905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.indexOf(o);return m!==-1&&m<s.length&&(s.splice(m,1),s.push(o)),o};r.exports=T},21612:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){a===void 0&&(a=0),l===void 0&&(l=f.length);var c=0;if(o(f,a,l))for(var d=a;d<l;d++){var v=f[d];v[u]===h&&c++}return c};r.exports=m},95428:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f,u=[null];for(f=3;f<arguments.length;f++)u.push(arguments[f]);for(f=0;f<s.length;f++)u[0]=s[f],o.apply(m,u);return s};r.exports=T},36914:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){if(a===void 0&&(a=0),l===void 0&&(l=f.length),o(f,a,l)){var c,d=[null];for(c=5;c<arguments.length;c++)d.push(arguments[c]);for(c=a;c<l;c++)d[0]=f[c],u.apply(h,d)}return f};r.exports=m},81957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o.length){if(o.length===1)return o[0]}else return NaN;var f=1,u,h;if(m){if(s<o[0][m])return o[0];for(;o[f][m]<s;)f++}else for(;o[f]<s;)f++;return f>o.length&&(f=o.length),m?(u=o[f-1][m],h=o[f][m],h-s<=s-u?o[f]:o[f-1]):(u=o[f-1],h=o[f],h-s<=s-u?h:u)};r.exports=T},43491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=[]);for(var m=0;m<s.length;m++)Array.isArray(s[m])?T(s[m],o):o.push(s[m]);return o};r.exports=T},46710:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){a===void 0&&(a=0),l===void 0&&(l=f.length);var c=[];if(o(f,a,l))for(var d=a;d<l;d++){var v=f[d];(!u||u&&h===void 0&&v.hasOwnProperty(u)||u&&h!==void 0&&v[u]===h)&&c.push(v)}return c};r.exports=m},58731:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){if(a===void 0&&(a=0),l===void 0&&(l=f.length),a!==-1){if(o(f,a,l))for(var c=a;c<l;c++){var d=f[c];if(!u||u&&h===void 0&&d.hasOwnProperty(u)||u&&h!==void 0&&d[u]===h)return d}}else if(o(f,0,l))for(var c=l;c>=0;c--){var d=f[c];if(!u||u&&h===void 0&&d.hasOwnProperty(u)||u&&h!==void 0&&d[u]===h)return d}return null};r.exports=m},26546:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){o===void 0&&(o=0),m===void 0&&(m=s.length);var f=o+Math.floor(Math.random()*m);return s[f]===void 0?null:s[f]};r.exports=T},85835:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===m)return s;var f=s.indexOf(o),u=s.indexOf(m);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f>u||(s.splice(f,1),u=s.indexOf(m),s.splice(u+1,0,o)),s};r.exports=T},83371:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===m)return s;var f=s.indexOf(o),u=s.indexOf(m);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f<u||(s.splice(f,1),u===0?s.unshift(o):s.splice(u,0,o)),s};r.exports=T},70864:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.indexOf(o);if(m>0){var f=s[m-1],u=s.indexOf(f);s[m]=f,s[u]=o}return s};r.exports=T},69693:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=s.indexOf(o);if(f===-1||m<0||m>=s.length)throw new Error("Supplied index out of bounds");return f!==m&&(s.splice(f,1),s.splice(m,0,o)),o};r.exports=T},40853:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.indexOf(o);if(m!==-1&&m<s.length-1){var f=s[m+1],u=s.indexOf(f);s[m]=f,s[u]=o}return s};r.exports=T},20283:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=[],h,a=!1;if((m||f)&&(a=!0,m||(m=""),f||(f="")),o<s)for(h=s;h>=o;h--)a?u.push(m+h.toString()+f):u.push(h);else for(h=s;h<=o;h++)a?u.push(m+h.toString()+f):u.push(h);return u};r.exports=T},593:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(2284),m=function(f,u,h){f===void 0&&(f=0),u===void 0&&(u=null),h===void 0&&(h=1),u===null&&(u=f,f=0);for(var a=[],l=Math.max(o((u-f)/(h||1)),0),c=0;c<l;c++)a.push(f),f+=h;return a};r.exports=m},43886:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(m,f,u){var h=m[f];m[f]=m[u],m[u]=h}function s(m,f){return m<f?-1:m>f?1:0}var o=function(m,f,u,h,a){for(u===void 0&&(u=0),h===void 0&&(h=m.length-1),a===void 0&&(a=s);h>u;){if(h-u>600){var l=h-u+1,c=f-u+1,d=Math.log(l),v=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*v*(l-v)/l)*(c-l/2<0?-1:1),g=Math.max(u,Math.floor(f-c*v/l+p)),x=Math.min(h,Math.floor(f+(l-c)*v/l+p));o(m,f,g,x,a)}var C=m[f],P=u,w=h;for(T(m,u,f),a(m[h],C)>0&&T(m,u,h);P<w;){for(T(m,P,w),P++,w--;a(m[P],C)<0;)P++;for(;a(m[w],C)>0;)w--}a(m[u],C)===0?T(m,u,w):(w++,T(m,w,h)),w<=f&&(u=w+1),f<=w&&(h=w-1)}};r.exports=o},88492:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),m=s(33680),f=function(h,a,l){for(var c=[],d=0;d<h.length;d++)for(var v=0;v<a.length;v++)for(var p=0;p<l;p++)c.push({a:h[d],b:a[v]});return c},u=function(h,a,l){var c=o(l,"max",0),d=o(l,"qty",1),v=o(l,"random",!1),p=o(l,"randomB",!1),g=o(l,"repeat",0),x=o(l,"yoyo",!1),C=[];if(p&&m(a),g===-1)if(c===0)g=0;else{var P=h.length*a.length*d;x&&(P*=2),g=Math.ceil(c/P)}for(var w=0;w<=g;w++){var E=f(h,a,d);v&&m(E),C=C.concat(E),x&&(E.reverse(),C=C.concat(E))}return c&&C.splice(c),C};r.exports=u},72905:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),m=function(f,u,h,a){a===void 0&&(a=f);var l;if(!Array.isArray(u))return l=f.indexOf(u),l!==-1?(o(f,l),h&&h.call(a,u),u):null;for(var c=u.length-1,d=[];c>=0;){var v=u[c];l=f.indexOf(v),l!==-1&&(o(f,l),d.push(v),h&&h.call(a,v)),c--}return d};r.exports=m},60248:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),m=function(f,u,h,a){if(a===void 0&&(a=f),u<0||u>f.length-1)throw new Error("Index out of bounds");var l=o(f,u);return h&&h.call(a,l),l};r.exports=m},81409:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){if(u===void 0&&(u=0),h===void 0&&(h=f.length),l===void 0&&(l=f),o(f,u,h)){var c=h-u,d=f.splice(u,c);if(a)for(var v=0;v<d.length;v++){var p=d[v];a.call(l,p)}return d}else return[]};r.exports=m},31856:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(19133),m=function(f,u,h){u===void 0&&(u=0),h===void 0&&(h=f.length);var a=u+Math.floor(Math.random()*h);return o(f,a)};r.exports=m},42169:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=s.indexOf(o),u=s.indexOf(m);return f!==-1&&u===-1?(s[f]=m,!0):!1};r.exports=T},86003:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=1);for(var m=null,f=0;f<o;f++)m=s.shift(),s.push(m);return m};r.exports=T},49498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){o===void 0&&(o=1);for(var m=null,f=0;f<o;f++)m=s.pop(),s.unshift(m);return m};r.exports=T},82011:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){var u=s.length;if(o<0||o>=u||o>=m||m>u){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=T},89545:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){var m=s.indexOf(o);return m!==-1&&m>0&&(s.splice(m,1),s.unshift(o)),o};r.exports=T},17810:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82011),m=function(f,u,h,a,l){if(a===void 0&&(a=0),l===void 0&&(l=f.length),o(f,a,l))for(var c=a;c<l;c++){var d=f[c];d.hasOwnProperty(u)&&(d[u]=h)}return f};r.exports=m},33680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=s.length-1;o>0;o--){var m=Math.floor(Math.random()*(o+1)),f=s[o];s[o]=s[m],s[m]=f}return s};r.exports=T},90126:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o=/\D/g;return s.sort(function(m,f){return parseInt(m.replace(o,""),10)-parseInt(f.replace(o,""),10)}),s};r.exports=T},19133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){if(!(o>=s.length)){for(var m=s.length-1,f=s[o],u=o;u<m;u++)s[u]=s[u+1];return s.length=m,f}};r.exports=T},19186:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(82264);function m(a,l){return String(a).localeCompare(l)}function f(a,l){var c=a.length;if(c<=1)return a;for(var d=new Array(c),v=1;v<c;v*=2){u(a,l,v,d);var p=a;a=d,d=p}return a}function u(a,l,c,d){var v=a.length,p=0,g=c*2,x,C,P,w,E;for(x=0;x<v;x+=g)for(C=x+c,P=C+c,C>v&&(C=v),P>v&&(P=v),w=x,E=C;;)if(w<C&&E<P)l(a[w],a[E])<=0?d[p++]=a[w++]:d[p++]=a[E++];else if(w<C)d[p++]=a[w++];else if(E<P)d[p++]=a[E++];else break}var h=function(a,l){if(l===void 0&&(l=m),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(l);var c=f(a,l);return c!==a&&u(c,null,a.length,a),a};r.exports=h},25630:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(o===m)return s;var f=s.indexOf(o),u=s.indexOf(m);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return s[f]=m,s[u]=o,s};r.exports=T},37105:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var o=s[0].length,m=1;m<s.length;m++)if(s[m].length!==o)return!1;return!0};r.exports=T},63362:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41836),m=s(86922),f=function(u){var h="";if(!m(u))return h;for(var a=0;a<u.length;a++){for(var l=0;l<u[a].length;l++){var c=u[a][l].toString();c!=="undefined"?h+=o(c,2):h+="?",l<u[a].length-1&&(h+=" |")}if(a<u.length-1){h+=`
`;for(var d=0;d<u[a].length;d++)h+="---",d<u[a].length-1&&(h+="+");h+=`
`}}return h};r.exports=f},92598:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.reverse()};r.exports=T},21224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=0;o<s.length;o++)s[o].reverse();return s};r.exports=T},98717:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),m=function(f){return o(f,180)};r.exports=m},44657:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),m=function(f,u){u===void 0&&(u=1);for(var h=0;h<u;h++)f=o(f,90);return f};r.exports=m},37829:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86922),m=s(2429),f=function(u,h){if(h===void 0&&(h=90),!o(u))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")u=m(u),u.reverse();else if(h===-90||h===270||h==="rotateRight")u.reverse(),u=m(u);else if(Math.abs(h)===180||h==="rotate180"){for(var a=0;a<u.length;a++)u[a].reverse();u.reverse()}return u};r.exports=f},92632:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(37829),m=function(f,u){u===void 0&&(u=1);for(var h=0;h<u;h++)f=o(f,-90);return f};r.exports=m},69512:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(86003),m=s(49498),f=function(u,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),a!==0&&(a<0?o(u,Math.abs(a)):m(u,a)),h!==0)for(var l=0;l<u.length;l++){var c=u[l];h<0?o(c,Math.abs(h)):m(c,h)}return u};r.exports=f},2429:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){for(var o=s.length,m=s[0].length,f=new Array(m),u=0;u<m;u++){f[u]=new Array(o);for(var h=o-1;h>-1;h--)f[u][h]=s[h][u]}return f};r.exports=T},54915:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(o,m){for(var f=new Uint8Array(o),u=f.length,h=m?"data:"+m+";base64,":"",a=0;a<u;a+=3)h+=T[f[a]>>2],h+=T[(f[a]&3)<<4|f[a+1]>>4],h+=T[(f[a+1]&15)<<2|f[a+2]>>6],h+=T[f[a+2]&63];return u%3===2?h=h.substring(0,h.length-1)+"=":u%3===1&&(h=h.substring(0,h.length-2)+"=="),h};r.exports=s},53134:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),o=0;o<T.length;o++)s[T.charCodeAt(o)]=o;var m=function(f){f=f.substr(f.indexOf(",")+1);var u=f.length,h=u*.75,a=0,l,c,d,v;f[u-1]==="="&&(h--,f[u-2]==="="&&h--);for(var p=new ArrayBuffer(h),g=new Uint8Array(p),x=0;x<u;x+=4)l=s[f.charCodeAt(x)],c=s[f.charCodeAt(x+1)],d=s[f.charCodeAt(x+2)],v=s[f.charCodeAt(x+3)],g[a++]=l<<2|c>>4,g[a++]=(c&15)<<4|d>>2,g[a++]=(d&3)<<6|v&63;return p};r.exports=m},65839:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o={};for(var m in s)Array.isArray(s[m])?o[m]=s[m].slice(0):o[m]=s[m];return o};r.exports=T},62644:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){var o,m,f;if(typeof s!="object"||s===null)return s;o=Array.isArray(s)?[]:{};for(f in s)m=s[f],o[f]=T(m);return o};r.exports=T},79291:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41212),m=function(){var f,u,h,a,l,c,d=arguments[0]||{},v=1,p=arguments.length,g=!1;for(typeof d=="boolean"&&(g=d,d=arguments[1]||{},v=2),p===v&&(d=this,--v);v<p;v++)if((f=arguments[v])!=null)for(u in f)h=d[u],a=f[u],d!==a&&(g&&a&&(o(a)||(l=Array.isArray(a)))?(l?(l=!1,c=h&&Array.isArray(h)?h:[]):c=h&&o(h)?h:{},d[u]=m(g,c,a)):a!==void 0&&(d[u]=a));return d};r.exports=m},23568:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(75508),m=s(35154),f=function(u,h,a){var l=m(u,h,null);if(l===null)return a;if(Array.isArray(l))return o.RND.pick(l);if(typeof l=="object"){if(l.hasOwnProperty("randInt"))return o.RND.integerInRange(l.randInt[0],l.randInt[1]);if(l.hasOwnProperty("randFloat"))return o.RND.realInRange(l.randFloat[0],l.randFloat[1])}else if(typeof l=="function")return l(h);return l};r.exports=f},95540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){var f=typeof s;return!s||f==="number"||f==="string"?m:s.hasOwnProperty(o)&&s[o]!==void 0?s[o]:m};r.exports=T},82840:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(35154),m=s(45319),f=function(u,h,a,l,c){c===void 0&&(c=a);var d=o(u,h,c);return m(d,a,l)};r.exports=f},35154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){if(!s&&!f||typeof s=="number")return m;if(s&&s.hasOwnProperty(o))return s[o];if(f&&f.hasOwnProperty(o))return f[o];if(o.indexOf(".")!==-1){for(var u=o.split("."),h=s,a=f,l=m,c=m,d=!0,v=!0,p=0;p<u.length;p++)h&&h.hasOwnProperty(u[p])?(l=h[u[p]],h=h[u[p]]):d=!1,a&&a.hasOwnProperty(u[p])?(c=a[u[p]],a=a[u[p]]):v=!1;return d?l:v?c:m}else return m};r.exports=T},69036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){for(var m=0;m<o.length;m++)if(!s.hasOwnProperty(o[m]))return!1;return!0};r.exports=T},1985:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){for(var m=0;m<o.length;m++)if(s.hasOwnProperty(o[m]))return!0;return!1};r.exports=T},97022:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.hasOwnProperty(o)};r.exports=T},41212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=T},46975:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),m=function(f,u){var h=o(f);for(var a in u)h.hasOwnProperty(a)||(h[a]=u[a]);return h};r.exports=m},269:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(41786),m=function(f,u){var h=o(f);for(var a in u)h.hasOwnProperty(a)&&(h[a]=u[a]);return h};r.exports=m},18254:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=s(97022),m=function(f,u){for(var h={},a=0;a<u.length;a++){var l=u[a];o(f,l)&&(h[l]=f[l])}return h};r.exports=m},61622:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(o))return s[o]=m,!0;if(o.indexOf(".")!==-1){for(var f=o.split("."),u=s,h=s,a=0;a<f.length;a++)if(u.hasOwnProperty(f[a]))h=u,u=u[f[a]];else return!1;return h[f[f.length-1]]=m,!0}return!1};r.exports=T},1183:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return s.replace(/%([0-9]+)/g,function(m,f){return o[Number(f)-1]})};r.exports=T},41836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o,m,f){o===void 0&&(o=0),m===void 0&&(m=" "),f===void 0&&(f=3),s=s.toString();var u=0;if(o+1>=s.length)switch(f){case 1:s=new Array(o+1-s.length).join(m)+s;break;case 3:var h=Math.ceil((u=o-s.length)/2),a=u-h;s=new Array(a+1).join(m)+s+new Array(h+1).join(m);break;default:s=s+new Array(o+1-s.length).join(m);break}return s};r.exports=T},33628:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s,o){return o===0?s.slice(1):s.slice(0,o)+s.slice(o+1)};r.exports=T},27671:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s.split("").reverse().join("")};r.exports=T},45650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var o=Math.random()*16|0,m=s==="x"?o:o&3|8;return m.toString(16)})};r.exports=T},35355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(s){return s&&s[0].toUpperCase()+s.slice(1)};r.exports=T},31749:(r,T,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},n={};function y(r){var T=n[r];if(T!==void 0)return T.exports;var s=n[r]={exports:{}};return i[r](s,s.exports,y),s.exports}y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=y(85454);return S})())}(ql)),ql.exports}var mw=gw();const rv=vw(mw);var xw=Object.defineProperty,yw=(e,t,i)=>t in e?xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,yt=(e,t,i)=>yw(e,typeof t!="symbol"?t+"":t,i),Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gv(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var y=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,y.get?y:{enumerable:!0,get:function(){return e[n]}})}),i}var o0={exports:{}},$a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Sw(){if(h0)return $a;h0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,y,S){var r=null;if(S!==void 0&&(r=""+S),y.key!==void 0&&(r=""+y.key),"key"in y){S={};for(var T in y)T!=="key"&&(S[T]=y[T])}else S=y;return y=S.ref,{$$typeof:e,type:n,key:r,ref:y!==void 0?y:null,props:S}}return $a.Fragment=t,$a.jsx=i,$a.jsxs=i,$a}var l0;function Pw(){return l0||(l0=1,o0.exports=Sw()),o0.exports}var ef=Pw();const Ew={baseUrl:"https://vuichoi.starci.net"},nv={getMessage:"/auth/message",verify:"/auth/verify"},ww=e=>{localStorage.setItem("access_token",e)},bw=e=>{localStorage.setItem("refresh_token",e)},Ow=()=>localStorage.getItem("address_wallet")||"",Mw=e=>{localStorage.setItem("address_wallet",e)};function ST(e,t){return function(){return e.apply(t,arguments)}}const{toString:Aw}=Object.prototype,{getPrototypeOf:zv}=Object,{iterator:Ru,toStringTag:PT}=Symbol,Lu=(e=>t=>{const i=Aw.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=e=>(e=e.toLowerCase(),t=>Lu(t)===e),Fu=e=>t=>typeof t===e,{isArray:Na}=Array,Io=Fu("undefined");function Rw(e){return e!==null&&!Io(e)&&e.constructor!==null&&!Io(e.constructor)&&Ai(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ET=Ss("ArrayBuffer");function Lw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ET(e.buffer),t}const Fw=Fu("string"),Ai=Fu("function"),wT=Fu("number"),Du=e=>e!==null&&typeof e=="object",Dw=e=>e===!0||e===!1,_l=e=>{if(Lu(e)!=="object")return!1;const t=zv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(PT in e)&&!(Ru in e)},Iw=Ss("Date"),Bw=Ss("File"),kw=Ss("Blob"),Nw=Ss("FileList"),Gw=e=>Du(e)&&Ai(e.pipe),zw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ai(e.append)&&((t=Lu(e))==="formdata"||t==="object"&&Ai(e.toString)&&e.toString()==="[object FormData]"))},Uw=Ss("URLSearchParams"),[Xw,Vw,Yw,Ww]=["ReadableStream","Request","Response","Headers"].map(Ss),Hw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jo(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,y;if(typeof e!="object"&&(e=[e]),Na(e))for(n=0,y=e.length;n<y;n++)t.call(null,e[n],n,e);else{const S=i?Object.getOwnPropertyNames(e):Object.keys(e),r=S.length;let T;for(n=0;n<r;n++)T=S[n],t.call(null,e[T],T,e)}}function bT(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,y;for(;n-- >0;)if(y=i[n],t===y.toLowerCase())return y;return null}const En=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OT=e=>!Io(e)&&e!==En;function av(){const{caseless:e}=OT(this)&&this||{},t={},i=(n,y)=>{const S=e&&bT(t,y)||y;_l(t[S])&&_l(n)?t[S]=av(t[S],n):_l(n)?t[S]=av({},n):Na(n)?t[S]=n.slice():t[S]=n};for(let n=0,y=arguments.length;n<y;n++)arguments[n]&&jo(arguments[n],i);return t}const jw=(e,t,i,{allOwnKeys:n}={})=>(jo(t,(y,S)=>{i&&Ai(y)?e[S]=ST(y,i):e[S]=y},{allOwnKeys:n}),e),$w=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kw=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Jw=(e,t,i,n)=>{let y,S,r;const T={};if(t=t||{},e==null)return t;do{for(y=Object.getOwnPropertyNames(e),S=y.length;S-- >0;)r=y[S],(!n||n(r,e,t))&&!T[r]&&(t[r]=e[r],T[r]=!0);e=i!==!1&&zv(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Zw=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},Qw=e=>{if(!e)return null;if(Na(e))return e;let t=e.length;if(!wT(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},qw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zv(Uint8Array)),_w=(e,t)=>{const i=(e&&e[Ru]).call(e);let n;for(;(n=i.next())&&!n.done;){const y=n.value;t.call(e,y[0],y[1])}},tb=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},eb=Ss("HTMLFormElement"),ib=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),u0=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),sb=Ss("RegExp"),MT=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};jo(i,(y,S)=>{let r;(r=t(y,S,e))!==!1&&(n[S]=r||y)}),Object.defineProperties(e,n)},rb=e=>{MT(e,(t,i)=>{if(Ai(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(Ai(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},nb=(e,t)=>{const i={},n=y=>{y.forEach(S=>{i[S]=!0})};return Na(e)?n(e):n(String(e).split(t)),i},ab=()=>{},ob=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hb(e){return!!(e&&Ai(e.append)&&e[PT]==="FormData"&&e[Ru])}const lb=e=>{const t=new Array(10),i=(n,y)=>{if(Du(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[y]=n;const S=Na(n)?[]:{};return jo(n,(r,T)=>{const s=i(r,y+1);!Io(s)&&(S[T]=s)}),t[y]=void 0,S}}return n};return i(e,0)},ub=Ss("AsyncFunction"),db=e=>e&&(Du(e)||Ai(e))&&Ai(e.then)&&Ai(e.catch),AT=((e,t)=>e?setImmediate:t?((i,n)=>(En.addEventListener("message",({source:y,data:S})=>{y===En&&S===i&&n.length&&n.shift()()},!1),y=>{n.push(y),En.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Ai(En.postMessage)),fb=typeof queueMicrotask<"u"?queueMicrotask.bind(En):typeof process<"u"&&process.nextTick||AT,cb=e=>e!=null&&Ai(e[Ru]),dt={isArray:Na,isArrayBuffer:ET,isBuffer:Rw,isFormData:zw,isArrayBufferView:Lw,isString:Fw,isNumber:wT,isBoolean:Dw,isObject:Du,isPlainObject:_l,isReadableStream:Xw,isRequest:Vw,isResponse:Yw,isHeaders:Ww,isUndefined:Io,isDate:Iw,isFile:Bw,isBlob:kw,isRegExp:sb,isFunction:Ai,isStream:Gw,isURLSearchParams:Uw,isTypedArray:qw,isFileList:Nw,forEach:jo,merge:av,extend:jw,trim:Hw,stripBOM:$w,inherits:Kw,toFlatObject:Jw,kindOf:Lu,kindOfTest:Ss,endsWith:Zw,toArray:Qw,forEachEntry:_w,matchAll:tb,isHTMLForm:eb,hasOwnProperty:u0,hasOwnProp:u0,reduceDescriptors:MT,freezeMethods:rb,toObjectSet:nb,toCamelCase:ib,noop:ab,toFiniteNumber:ob,findKey:bT,global:En,isContextDefined:OT,isSpecCompliantForm:hb,toJSONObject:lb,isAsyncFn:ub,isThenable:db,setImmediate:AT,asap:fb,isIterable:cb};function Yt(e,t,i,n,y){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),y&&(this.response=y,this.status=y.status?y.status:null)}dt.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.status}}});const RT=Yt.prototype,LT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LT[e]={value:e}});Object.defineProperties(Yt,LT);Object.defineProperty(RT,"isAxiosError",{value:!0});Yt.from=(e,t,i,n,y,S)=>{const r=Object.create(RT);return dt.toFlatObject(e,r,function(T){return T!==Error.prototype},T=>T!=="isAxiosError"),Yt.call(r,e.message,t,i,n,y),r.cause=e,r.name=e.name,S&&Object.assign(r,S),r};const vb=null;function ov(e){return dt.isPlainObject(e)||dt.isArray(e)}function FT(e){return dt.endsWith(e,"[]")?e.slice(0,-2):e}function d0(e,t,i){return e?e.concat(t).map(function(n,y){return n=FT(n),!i&&y?"["+n+"]":n}).join(i?".":""):t}function pb(e){return dt.isArray(e)&&!e.some(ov)}const gb=dt.toFlatObject(dt,{},null,function(e){return/^is[A-Z]/.test(e)});function Iu(e,t,i){if(!dt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=dt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,a){return!dt.isUndefined(a[h])});const n=i.metaTokens,y=i.visitor||o,S=i.dots,r=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&dt.isSpecCompliantForm(t);if(!dt.isFunction(y))throw new TypeError("visitor must be a function");function s(h){if(h===null)return"";if(dt.isDate(h))return h.toISOString();if(dt.isBoolean(h))return h.toString();if(!T&&dt.isBlob(h))throw new Yt("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(h)||dt.isTypedArray(h)?T&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function o(h,a,l){let c=h;if(h&&!l&&typeof h=="object"){if(dt.endsWith(a,"{}"))a=n?a:a.slice(0,-2),h=JSON.stringify(h);else if(dt.isArray(h)&&pb(h)||(dt.isFileList(h)||dt.endsWith(a,"[]"))&&(c=dt.toArray(h)))return a=FT(a),c.forEach(function(d,v){!(dt.isUndefined(d)||d===null)&&t.append(r===!0?d0([a],v,S):r===null?a:a+"[]",s(d))}),!1}return ov(h)?!0:(t.append(d0(l,a,S),s(h)),!1)}const m=[],f=Object.assign(gb,{defaultVisitor:o,convertValue:s,isVisitable:ov});function u(h,a){if(!dt.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+a.join("."));m.push(h),dt.forEach(h,function(l,c){(!(dt.isUndefined(l)||l===null)&&y.call(t,l,dt.isString(c)?c.trim():c,a,f))===!0&&u(l,a?a.concat(c):[c])}),m.pop()}}if(!dt.isObject(e))throw new TypeError("data must be an object");return u(e),t}function f0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Uv(e,t){this._pairs=[],e&&Iu(e,this,t)}const DT=Uv.prototype;DT.append=function(e,t){this._pairs.push([e,t])};DT.toString=function(e){const t=e?function(i){return e.call(this,i,f0)}:f0;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function mb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IT(e,t,i){if(!t)return e;const n=i&&i.encode||mb;dt.isFunction(i)&&(i={serialize:i});const y=i&&i.serialize;let S;if(y?S=y(t,i):S=dt.isURLSearchParams(t)?t.toString():new Uv(t,i).toString(n),S){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+S}return e}class c0{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){dt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const BT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xb=typeof URLSearchParams<"u"?URLSearchParams:Uv,yb=typeof FormData<"u"?FormData:null,Tb=typeof Blob<"u"?Blob:null,Cb={isBrowser:!0,classes:{URLSearchParams:xb,FormData:yb,Blob:Tb},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",hv=typeof navigator=="object"&&navigator||void 0,Sb=Xv&&(!hv||["ReactNative","NativeScript","NS"].indexOf(hv.product)<0),Pb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Eb=Xv&&window.location.href||"http://localhost",wb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:Sb,hasStandardBrowserWebWorkerEnv:Pb,navigator:hv,origin:Eb},Symbol.toStringTag,{value:"Module"})),li={...wb,...Cb};function bb(e,t){return Iu(e,new li.classes.URLSearchParams,Object.assign({visitor:function(i,n,y,S){return li.isNode&&dt.isBuffer(i)?(this.append(n,i.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)}},t))}function Ob(e){return dt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Mb(e){const t={},i=Object.keys(e);let n;const y=i.length;let S;for(n=0;n<y;n++)S=i[n],t[S]=e[S];return t}function kT(e){function t(i,n,y,S){let r=i[S++];if(r==="__proto__")return!0;const T=Number.isFinite(+r),s=S>=i.length;return r=!r&&dt.isArray(y)?y.length:r,s?(dt.hasOwnProp(y,r)?y[r]=[y[r],n]:y[r]=n,!T):((!y[r]||!dt.isObject(y[r]))&&(y[r]=[]),t(i,n,y[r],S)&&dt.isArray(y[r])&&(y[r]=Mb(y[r])),!T)}if(dt.isFormData(e)&&dt.isFunction(e.entries)){const i={};return dt.forEachEntry(e,(n,y)=>{t(Ob(n),y,i,0)}),i}return null}function Ab(e,t,i){if(dt.isString(e))try{return(t||JSON.parse)(e),dt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const $o={transitional:BT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,y=dt.isObject(e);if(y&&dt.isHTMLForm(e)&&(e=new FormData(e)),dt.isFormData(e))return n?JSON.stringify(kT(e)):e;if(dt.isArrayBuffer(e)||dt.isBuffer(e)||dt.isStream(e)||dt.isFile(e)||dt.isBlob(e)||dt.isReadableStream(e))return e;if(dt.isArrayBufferView(e))return e.buffer;if(dt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let S;if(y){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bb(e,this.formSerializer).toString();if((S=dt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return Iu(S?{"files[]":e}:e,r&&new r,this.formSerializer)}}return y||n?(t.setContentType("application/json",!1),Ab(e)):e}],transformResponse:[function(e){const t=this.transitional||$o.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(dt.isResponse(e)||dt.isReadableStream(e))return e;if(e&&dt.isString(e)&&(i&&!this.responseType||n)){const y=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(S){if(y)throw S.name==="SyntaxError"?Yt.from(S,Yt.ERR_BAD_RESPONSE,this,null,this.response):S}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dt.forEach(["delete","get","head","post","put","patch"],e=>{$o.headers[e]={}});const Rb=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lb=e=>{const t={};let i,n,y;return e&&e.split(`
`).forEach(function(S){y=S.indexOf(":"),i=S.substring(0,y).trim().toLowerCase(),n=S.substring(y+1).trim(),!(!i||t[i]&&Rb[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},v0=Symbol("internals");function Ka(e){return e&&String(e).trim().toLowerCase()}function tu(e){return e===!1||e==null?e:dt.isArray(e)?e.map(tu):String(e)}function Fb(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const Db=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sf(e,t,i,n,y){if(dt.isFunction(n))return n.call(this,t,i);if(y&&(t=i),!!dt.isString(t)){if(dt.isString(n))return t.indexOf(n)!==-1;if(dt.isRegExp(n))return n.test(t)}}function Ib(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function Bb(e,t){const i=dt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(y,S,r){return this[n].call(this,t,y,S,r)},configurable:!0})})}let Ri=class{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function y(r,T,s){const o=Ka(T);if(!o)throw new Error("header name must be a non-empty string");const m=dt.findKey(n,o);(!m||n[m]===void 0||s===!0||s===void 0&&n[m]!==!1)&&(n[m||T]=tu(r))}const S=(r,T)=>dt.forEach(r,(s,o)=>y(s,o,T));if(dt.isPlainObject(e)||e instanceof this.constructor)S(e,t);else if(dt.isString(e)&&(e=e.trim())&&!Db(e))S(Lb(e),t);else if(dt.isObject(e)&&dt.isIterable(e)){let r={},T,s;for(const o of e){if(!dt.isArray(o))throw TypeError("Object iterator must return a key-value pair");r[s=o[0]]=(T=r[s])?dt.isArray(T)?[...T,o[1]]:[T,o[1]]:o[1]}S(r,t)}else e!=null&&y(t,e,i);return this}get(e,t){if(e=Ka(e),e){const i=dt.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return Fb(n);if(dt.isFunction(t))return t.call(this,n,i);if(dt.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ka(e),e){const i=dt.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||sf(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function y(S){if(S=Ka(S),S){const r=dt.findKey(i,S);r&&(!t||sf(i,i[r],r,t))&&(delete i[r],n=!0)}}return dt.isArray(e)?e.forEach(y):y(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const y=t[i];(!e||sf(this,this[y],y,e,!0))&&(delete this[y],n=!0)}return n}normalize(e){const t=this,i={};return dt.forEach(this,(n,y)=>{const S=dt.findKey(i,y);if(S){t[S]=tu(n),delete t[y];return}const r=e?Ib(y):String(y).trim();r!==y&&delete t[y],t[r]=tu(n),i[r]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return dt.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&dt.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const t=(this[v0]=this[v0]={accessors:{}}).accessors,i=this.prototype;function n(y){const S=Ka(y);t[S]||(Bb(i,y),t[S]=!0)}return dt.isArray(e)?e.forEach(n):n(e),this}};Ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);dt.reduceDescriptors(Ri.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});dt.freezeMethods(Ri);function rf(e,t){const i=this||$o,n=t||i,y=Ri.from(n.headers);let S=n.data;return dt.forEach(e,function(r){S=r.call(i,S,y.normalize(),t?t.status:void 0)}),y.normalize(),S}function NT(e){return!!(e&&e.__CANCEL__)}function Ga(e,t,i){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,i),this.name="CanceledError"}dt.inherits(Ga,Yt,{__CANCEL__:!0});function GT(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new Yt("Request failed with status code "+i.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function kb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Nb(e,t){e=e||10;const i=new Array(e),n=new Array(e);let y=0,S=0,r;return t=t!==void 0?t:1e3,function(T){const s=Date.now(),o=n[S];r||(r=s),i[y]=T,n[y]=s;let m=S,f=0;for(;m!==y;)f+=i[m++],m=m%e;if(y=(y+1)%e,y===S&&(S=(S+1)%e),s-r<t)return;const u=o&&s-o;return u?Math.round(f*1e3/u):void 0}}function Gb(e,t){let i=0,n=1e3/t,y,S;const r=(T,s=Date.now())=>{i=s,y=null,S&&(clearTimeout(S),S=null),e.apply(null,T)};return[(...T)=>{const s=Date.now(),o=s-i;o>=n?r(T,s):(y=T,S||(S=setTimeout(()=>{S=null,r(y)},n-o)))},()=>y&&r(y)]}const uu=(e,t,i=3)=>{let n=0;const y=Nb(50,250);return Gb(S=>{const r=S.loaded,T=S.lengthComputable?S.total:void 0,s=r-n,o=y(s),m=r<=T;n=r;const f={loaded:r,total:T,progress:T?r/T:void 0,bytes:s,rate:o||void 0,estimated:o&&T&&m?(T-r)/o:void 0,event:S,lengthComputable:T!=null,[t?"download":"upload"]:!0};e(f)},i)},p0=(e,t)=>{const i=e!=null;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},g0=e=>(...t)=>dt.asap(()=>e(...t)),zb=li.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,li.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(li.origin),li.navigator&&/(msie|trident)/i.test(li.navigator.userAgent)):()=>!0,Ub=li.hasStandardBrowserEnv?{write(e,t,i,n,y,S){const r=[e+"="+encodeURIComponent(t)];dt.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),dt.isString(n)&&r.push("path="+n),dt.isString(y)&&r.push("domain="+y),S===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zT(e,t,i){let n=!Xb(t);return e&&(n||i==!1)?Vb(e,t):t}const m0=e=>e instanceof Ri?{...e}:e;function Ln(e,t){t=t||{};const i={};function n(o,m,f,u){return dt.isPlainObject(o)&&dt.isPlainObject(m)?dt.merge.call({caseless:u},o,m):dt.isPlainObject(m)?dt.merge({},m):dt.isArray(m)?m.slice():m}function y(o,m,f,u){if(dt.isUndefined(m)){if(!dt.isUndefined(o))return n(void 0,o,f,u)}else return n(o,m,f,u)}function S(o,m){if(!dt.isUndefined(m))return n(void 0,m)}function r(o,m){if(dt.isUndefined(m)){if(!dt.isUndefined(o))return n(void 0,o)}else return n(void 0,m)}function T(o,m,f){if(f in t)return n(o,m);if(f in e)return n(void 0,o)}const s={url:S,method:S,data:S,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:T,headers:(o,m,f)=>y(m0(o),m0(m),f,!0)};return dt.forEach(Object.keys(Object.assign({},e,t)),function(o){const m=s[o]||y,f=m(e[o],t[o],o);dt.isUndefined(f)&&m!==T||(i[o]=f)}),i}const UT=e=>{const t=Ln({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:y,xsrfCookieName:S,headers:r,auth:T}=t;t.headers=r=Ri.from(r),t.url=IT(zT(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),T&&r.set("Authorization","Basic "+btoa((T.username||"")+":"+(T.password?unescape(encodeURIComponent(T.password)):"")));let s;if(dt.isFormData(i)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((s=r.getContentType())!==!1){const[o,...m]=s?s.split(";").map(f=>f.trim()).filter(Boolean):[];r.setContentType([o||"multipart/form-data",...m].join("; "))}}if(li.hasStandardBrowserEnv&&(n&&dt.isFunction(n)&&(n=n(t)),n||n!==!1&&zb(t.url))){const o=y&&S&&Ub.read(S);o&&r.set(y,o)}return t},Yb=typeof XMLHttpRequest<"u",Wb=Yb&&function(e){return new Promise(function(t,i){const n=UT(e);let y=n.data;const S=Ri.from(n.headers).normalize();let{responseType:r,onUploadProgress:T,onDownloadProgress:s}=n,o,m,f,u,h;function a(){u&&u(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let l=new XMLHttpRequest;l.open(n.method.toUpperCase(),n.url,!0),l.timeout=n.timeout;function c(){if(!l)return;const v=Ri.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),p={data:!r||r==="text"||r==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:v,config:e,request:l};GT(function(g){t(g),a()},function(g){i(g),a()},p),l=null}"onloadend"in l?l.onloadend=c:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(c)},l.onabort=function(){l&&(i(new Yt("Request aborted",Yt.ECONNABORTED,e,l)),l=null)},l.onerror=function(){i(new Yt("Network Error",Yt.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const p=n.transitional||BT;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),i(new Yt(v,p.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,l)),l=null},y===void 0&&S.setContentType(null),"setRequestHeader"in l&&dt.forEach(S.toJSON(),function(v,p){l.setRequestHeader(p,v)}),dt.isUndefined(n.withCredentials)||(l.withCredentials=!!n.withCredentials),r&&r!=="json"&&(l.responseType=n.responseType),s&&([f,h]=uu(s,!0),l.addEventListener("progress",f)),T&&l.upload&&([m,u]=uu(T),l.upload.addEventListener("progress",m),l.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(o=v=>{l&&(i(!v||v.type?new Ga(null,e,l):v),l.abort(),l=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const d=kb(n.url);if(d&&li.protocols.indexOf(d)===-1){i(new Yt("Unsupported protocol "+d+":",Yt.ERR_BAD_REQUEST,e));return}l.send(y||null)})},Hb=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let n=new AbortController,y;const S=function(o){if(!y){y=!0,T();const m=o instanceof Error?o:this.reason;n.abort(m instanceof Yt?m:new Ga(m instanceof Error?m.message:m))}};let r=t&&setTimeout(()=>{r=null,S(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const T=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(o=>{o.unsubscribe?o.unsubscribe(S):o.removeEventListener("abort",S)}),e=null)};e.forEach(o=>o.addEventListener("abort",S));const{signal:s}=n;return s.unsubscribe=()=>dt.asap(T),s}},jb=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let n=0,y;for(;n<i;)y=n+t,yield e.slice(n,y),n=y},$b=async function*(e,t){for await(const i of Kb(e))yield*jb(i,t)},Kb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:n}=await t.read();if(i)break;yield n}}finally{await t.cancel()}},x0=(e,t,i,n)=>{const y=$b(e,t);let S=0,r,T=s=>{r||(r=!0,n&&n(s))};return new ReadableStream({async pull(s){try{const{done:o,value:m}=await y.next();if(o){T(),s.close();return}let f=m.byteLength;if(i){let u=S+=f;i(u)}s.enqueue(new Uint8Array(m))}catch(o){throw T(o),o}},cancel(s){return T(s),y.return()}},{highWaterMark:2})},Bu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XT=Bu&&typeof ReadableStream=="function",Jb=Bu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),VT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Zb=XT&&VT(()=>{let e=!1;const t=new Request(li.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),y0=64*1024,lv=XT&&VT(()=>dt.isReadableStream(new Response("").body)),du={stream:lv&&(e=>e.body)};Bu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!du[t]&&(du[t]=dt.isFunction(e[t])?i=>i[t]():(i,n)=>{throw new Yt(`Response type '${t}' is not supported`,Yt.ERR_NOT_SUPPORT,n)})})})(new Response);const Qb=async e=>{if(e==null)return 0;if(dt.isBlob(e))return e.size;if(dt.isSpecCompliantForm(e))return(await new Request(li.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(dt.isArrayBufferView(e)||dt.isArrayBuffer(e))return e.byteLength;if(dt.isURLSearchParams(e)&&(e=e+""),dt.isString(e))return(await Jb(e)).byteLength},qb=async(e,t)=>dt.toFiniteNumber(e.getContentLength())??Qb(t),_b=Bu&&(async e=>{let{url:t,method:i,data:n,signal:y,cancelToken:S,timeout:r,onDownloadProgress:T,onUploadProgress:s,responseType:o,headers:m,withCredentials:f="same-origin",fetchOptions:u}=UT(e);o=o?(o+"").toLowerCase():"text";let h=Hb([y,S&&S.toAbortSignal()],r),a;const l=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let c;try{if(s&&Zb&&i!=="get"&&i!=="head"&&(c=await qb(m,n))!==0){let x=new Request(t,{method:"POST",body:n,duplex:"half"}),C;if(dt.isFormData(n)&&(C=x.headers.get("content-type"))&&m.setContentType(C),x.body){const[P,w]=p0(c,uu(g0(s)));n=x0(x.body,y0,P,w)}}dt.isString(f)||(f=f?"include":"omit");const d="credentials"in Request.prototype;a=new Request(t,{...u,signal:h,method:i.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:d?f:void 0});let v=await fetch(a,u);const p=lv&&(o==="stream"||o==="response");if(lv&&(T||p&&l)){const x={};["status","statusText","headers"].forEach(E=>{x[E]=v[E]});const C=dt.toFiniteNumber(v.headers.get("content-length")),[P,w]=T&&p0(C,uu(g0(T),!0))||[];v=new Response(x0(v.body,y0,P,()=>{w&&w(),l&&l()}),x)}o=o||"text";let g=await du[dt.findKey(du,o)||"text"](v,e);return!p&&l&&l(),await new Promise((x,C)=>{GT(x,C,{data:g,headers:Ri.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:a})})}catch(d){throw l&&l(),d&&d.name==="TypeError"&&/Load failed|fetch/i.test(d.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,e,a),{cause:d.cause||d}):Yt.from(d,d&&d.code,e,a)}}),uv={http:vb,xhr:Wb,fetch:_b};dt.forEach(uv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const T0=e=>`- ${e}`,tO=e=>dt.isFunction(e)||e===null||e===!1,YT={getAdapter:e=>{e=dt.isArray(e)?e:[e];const{length:t}=e;let i,n;const y={};for(let S=0;S<t;S++){i=e[S];let r;if(n=i,!tO(i)&&(n=uv[(r=String(i)).toLowerCase()],n===void 0))throw new Yt(`Unknown adapter '${r}'`);if(n)break;y[r||"#"+S]=n}if(!n){const S=Object.entries(y).map(([T,s])=>`adapter ${T} `+(s===!1?"is not supported by the environment":"is not available in the build"));let r=t?S.length>1?`since :
`+S.map(T0).join(`
`):" "+T0(S[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:uv};function nf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ga(null,e)}function C0(e){return nf(e),e.headers=Ri.from(e.headers),e.data=rf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YT.getAdapter(e.adapter||$o.adapter)(e).then(function(t){return nf(e),t.data=rf.call(e,e.transformResponse,t),t.headers=Ri.from(t.headers),t},function(t){return NT(t)||(nf(e),t&&t.response&&(t.response.data=rf.call(e,e.transformResponse,t.response),t.response.headers=Ri.from(t.response.headers))),Promise.reject(t)})}const WT="1.10.0",ku={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ku[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const S0={};ku.transitional=function(e,t,i){function n(y,S){return"[Axios v"+WT+"] Transitional option '"+y+"'"+S+(i?". "+i:"")}return(y,S,r)=>{if(e===!1)throw new Yt(n(S," has been removed"+(t?" in "+t:"")),Yt.ERR_DEPRECATED);return t&&!S0[S]&&(S0[S]=!0,console.warn(n(S," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(y,S,r):!0}};ku.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function eO(e,t,i){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let y=n.length;for(;y-- >0;){const S=n[y],r=t[S];if(r){const T=e[S],s=T===void 0||r(T,S,e);if(s!==!0)throw new Yt("option "+S+" must be "+s,Yt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Yt("Unknown option "+S,Yt.ERR_BAD_OPTION)}}const eu={assertOptions:eO,validators:ku},ws=eu.validators;let On=class{constructor(e){this.defaults=e||{},this.interceptors={request:new c0,response:new c0}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const y=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?y&&!String(i.stack).endsWith(y.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+y):i.stack=y}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ln(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:y}=t;i!==void 0&&eu.assertOptions(i,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),n!=null&&(dt.isFunction(n)?t.paramsSerializer={serialize:n}:eu.assertOptions(n,{encode:ws.function,serialize:ws.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),eu.assertOptions(t,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let S=y&&dt.merge(y.common,y[t.method]);y&&dt.forEach(["delete","get","head","post","put","patch","common"],h=>{delete y[h]}),t.headers=Ri.concat(S,y);const r=[];let T=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(T=T&&h.synchronous,r.unshift(h.fulfilled,h.rejected))});const s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});let o,m=0,f;if(!T){const h=[C0.bind(this),void 0];for(h.unshift.apply(h,r),h.push.apply(h,s),f=h.length,o=Promise.resolve(t);m<f;)o=o.then(h[m++],h[m++]);return o}f=r.length;let u=t;for(m=0;m<f;){const h=r[m++],a=r[m++];try{u=h(u)}catch(l){a.call(this,l);break}}try{o=C0.call(this,u)}catch(h){return Promise.reject(h)}for(m=0,f=s.length;m<f;)o=o.then(s[m++],s[m++]);return o}getUri(e){e=Ln(this.defaults,e);const t=zT(e.baseURL,e.url,e.allowAbsoluteUrls);return IT(t,e.params,e.paramsSerializer)}};dt.forEach(["delete","get","head","options"],function(e){On.prototype[e]=function(t,i){return this.request(Ln(i||{},{method:e,url:t,data:(i||{}).data}))}});dt.forEach(["post","put","patch"],function(e){function t(i){return function(n,y,S){return this.request(Ln(S||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:n,data:y}))}}On.prototype[e]=t(),On.prototype[e+"Form"]=t(!0)});let iO=class HT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(y){i=y});const n=this;this.promise.then(y=>{if(!n._listeners)return;let S=n._listeners.length;for(;S-- >0;)n._listeners[S](y);n._listeners=null}),this.promise.then=y=>{let S;const r=new Promise(T=>{n.subscribe(T),S=T}).then(y);return r.cancel=function(){n.unsubscribe(S)},r},t(function(y,S,r){n.reason||(n.reason=new Ga(y,S,r),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=n=>{t.abort(n)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new HT(function(i){t=i}),cancel:t}}};function sO(e){return function(t){return e.apply(null,t)}}function rO(e){return dt.isObject(e)&&e.isAxiosError===!0}const dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dv).forEach(([e,t])=>{dv[t]=e});function jT(e){const t=new On(e),i=ST(On.prototype.request,t);return dt.extend(i,On.prototype,t,{allOwnKeys:!0}),dt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(n){return jT(Ln(e,n))},i}const ke=jT($o);ke.Axios=On;ke.CanceledError=Ga;ke.CancelToken=iO;ke.isCancel=NT;ke.VERSION=WT;ke.toFormData=Iu;ke.AxiosError=Yt;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=sO;ke.isAxiosError=rO;ke.mergeConfig=Ln;ke.AxiosHeaders=Ri;ke.formToJSON=e=>kT(dt.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=YT.getAdapter;ke.HttpStatusCode=dv;ke.default=ke;const{Axios:gq,AxiosError:mq,CanceledError:xq,isCancel:yq,CancelToken:Tq,VERSION:Cq,all:Sq,Cancel:Pq,isAxiosError:Eq,spread:wq,toFormData:bq,AxiosHeaders:Oq,HttpStatusCode:Mq,formToJSON:Aq,getAdapter:Rq,mergeConfig:Lq}=ke;class nO{constructor(){yt(this,"instance"),yt(this,"accessToken"),yt(this,"refreshToken"),this.accessToken="",this.refreshToken="",this.instance=ke.create({baseURL:Ew.baseUrl,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(t=>t,t=>Promise.reject(t)),this.instance.interceptors.response.use(t=>{const{url:i}=t.config;if(i===nv.verify){const n=t.data;this.accessToken=n.access_token,this.refreshToken=n.refresh_token,Mw(n.wallet_address),ww(this.accessToken),bw(this.refreshToken)}return t},t=>Promise.reject(t))}}const fv=new nO().instance,aO={Gameplay:"gameplay"},oO="data:image/svg+xml,%3c!--%20SVG%20background%20mu%20cho%20game%20--%3e%3csvg%20width='1920'%20height='120'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Sky%20gradient%20--%3e%3cdefs%3e%3clinearGradient%20id='skyGradient'%20x1='0%25'%20y1='0%25'%20x2='0%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%2387CEEB;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%23E0F6FF;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3c!--%20Background%20--%3e%3crect%20width='100%25'%20height='100%25'%20fill='url(%23skyGradient)'/%3e%3c!--%20Ground%20--%3e%3crect%20x='0'%20y='90'%20width='100%25'%20height='30'%20fill='%2390EE90'/%3e%3c!--%20Simple%20clouds%20--%3e%3cellipse%20cx='200'%20cy='30'%20rx='40'%20ry='15'%20fill='white'%20opacity='0.8'/%3e%3cellipse%20cx='600'%20cy='25'%20rx='50'%20ry='20'%20fill='white'%20opacity='0.7'/%3e%3cellipse%20cx='1000'%20cy='35'%20rx='35'%20ry='12'%20fill='white'%20opacity='0.9'/%3e%3cellipse%20cx='1400'%20cy='20'%20rx='45'%20ry='18'%20fill='white'%20opacity='0.6'/%3e%3c!--%20Simple%20grass%20texture%20--%3e%3cpath%20d='M0,90%20Q50,85%20100,90%20T200,90%20T300,90%20T400,90%20T500,90%20T600,90%20T700,90%20T800,90%20T900,90%20T1000,90%20T1100,90%20T1200,90%20T1300,90%20T1400,90%20T1500,90%20T1600,90%20T1700,90%20T1800,90%20T1900,90'%20stroke='%2332CD32'%20stroke-width='2'%20fill='none'/%3e%3c/svg%3e",hO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAoCAYAAADAOHfQAAAAAXNSR0IArs4c6QAAA/RJREFUeJztmr1LG2Ecx7+G4BAEO5W2CJWDdjOZtAQHFRFSRNAhQwtOETK5SqcO7SL9D4SGDoIdHCxIUbAhujTUTsZNIThI29FCuSGI6RCex+eee8nbXXLkvh8Id/fc8Tyf+/G85wBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCEkcJJGqp40UvV+e7gx6H4xf3XsDHoAgybsfgAwf7UL1TFszoPsF3gDxoAHsBeEwa9Zmbqjfk2/YPx8a8BRDWBU/NQy3crtt2MU/XwdgaMYwCj5iTJVz0Q1h/LdoeU+AJnWjxhGyc/3KXTUAhg1P93DiUQ111MXJ6LiF9gaOCoBDIow+qkdCTRH/Z7+nOhkgly/R9HP1wYcxQBGyU94qC7pWMbVUZ85JI1U3atjol/7fr6PwFEL4KD6iY7ArUNQPdtx9Av6NYh3I+h1X5VLxzLy2klQvIDfAaRfd9jyi3lXsFZo93kv6NflCCw2XMRP7UnUAtuR9DuA9Ouc8pN3tvx0x5OjpaZH8Q5+utGvwVAnYmL0SNQmgOspm5Ra0MnREmYW9pseVUyjgEr1rCM3+vnnpzoKhGv57lBWMsG/5w8c81ucXpd5dOtGP6tfW6JCTEwNiuPZUAWQfv76CUc4VETdrakfAFxPwTQKMr1dT/rZ/ZqugfUPB1Tmr3Ybgsa5FBSjh5OgJ2On8gVFma0EkH7B+ImK14zJ/LI8L5WO8ffNBwDA6OYG5uZmAQAJTMhn1M6rFejn7efagIXYjpmXaQXlfr8DSL9g/dDCJszl6gF2kMfjH69k2ujmhsX394vPWIt/B5TZRXE827RzoV9rfo4NOGmk6qqYQN3x7JUg/frjJ2YHiVqjc0j/eivL0DdTRi5uLNO/ublZlErHtvxFp9JK46Bfa342UTc5AFj7c2u5No2CTRDK+u1y9QAA8Gz7pRQUo4YQVCugOXwu83ALIv1655eOZaxrODTWYRg7BQCcfHrvum5TWZxet7jRzz8/xwacrSWxcpu2pO/FywCAr9eTlnTTKNyv5VxQexO9AuqCO2YerxNbngGkX+/8oFVEJ35ufXGsiCMXN5hZ2IdpFCxTTfr55+e6Bt6Ll7Fym5ZibiSqORSNhpz+6d/HR43s1SmBWvHuBc/h1qvRr79+UKZuql/u4Td5Pplfdv0+Ox3LoGhbHQbvp8ZvkP1sDbhSPRuCgXq2lrTI7Q5XGidGRaaJQsWxjPu5vZATLD7d7kiQfuH0y2lVR/17Q6XdxhFU/AbVz3Ojwybe5BkVfcj3olI9G1LzavfvD/r136/VXVv6+evX1RcnnRQYFujXHfTrjrD7EUIIIYQQQgghYeM/rkuREhk5eBkAAAAASUVORK5CYII=",lO={"chog_sleep 0.aseprite":{frame:{x:0,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150},"chog_sleep 1.aseprite":{frame:{x:40,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150},"chog_sleep 2.aseprite":{frame:{x:80,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150},"chog_sleep 3.aseprite":{frame:{x:120,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150},"chog_sleep 4.aseprite":{frame:{x:160,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150},"chog_sleep 5.aseprite":{frame:{x:200,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:150}},uO={app:"https://www.aseprite.org/",version:"1.3.14.2-x64",image:"chog_sleep.png",format:"RGBA8888",size:{w:240,h:40},scale:"1",frameTags:[],layers:[{name:"Layer 5",opacity:255,blendMode:"normal"},{name:"Layer 3",opacity:255,blendMode:"normal"},{name:"Layer 4",opacity:255,blendMode:"normal"},{name:"Layer 2",opacity:255,blendMode:"normal"}],slices:[]},dO={frames:lO,meta:uO},fO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAAoCAYAAAAi24Q0AAAAAXNSR0IArs4c6QAACJFJREFUeJztnb9rG2cYx782xoPoYDIYN7RBXEi3WFmcYjo0xikYSqCLhgoyKeCpe4dQaGo69D8wxHRzBw0tFFpBLBwvFamXyNlaIkQJbelQWigaSrE6SO/51eu70909d++9kr4fEFFO59NHz733vo/eHyeAEEIIIYQQQgghhJC5YN2rDNa9yqBojzDoJ4N+Mugng34y6CeDfjLm1W8xy4Nt9xrQJV0LKv1k0E8G/WTQTwb9ZNBPxjz6JU6wJr2pKWn+P2/oRz/60Y9+9KMf/Yr2S9WDpd407I2LDiL96Ec/+tGPfvSjX5F+qYcIt3uNMdFSt472eXPsdQD+tiKCSD/60Y9+9KMf/ehXhJ94DpYSCaLUrUsPL4Z+Mugng34y6CeDfjLoJ2Pe/VIlWHqmB0PSfM3cT2WBk8ZCJdCPfvSjH/3oRz/6FemXugerfd4ck9lc3AmVNLve1r3KICpzzAL60Y9+9KMf/ehHv6L8FibtEJSlBXWdKcGoDFD/EADQKldx1u1MdKAf/ehHP/rRj370mya/pTiSl7K1xegsLw5J94+CfjLoJ4N+Mugng34y6CeDfuHEGiJsX3106YBmNnfy5N7Ef1W3XJbBox/96Ec/+tGPfvRzzS9W99u6VxmU/r0JvLp9SbB93sTJk3tYvltG5fotAMDx8VN/vyvXVvzt+jH63oG4+y+J38buBwCAzsvn+POXv/z9trbu+Ns337xPvyn1W75b9l/T/a5cW7n4G/rRj370ox/9LOUvsT+AGss0RVWGpwTNBlgJ+g0wALy6jb534O+TRSDpN99+KgGEcYGoBND/W/rRj370ox/9LLRvE+dgJV0qWbl+C8fHT/H3x18MBQ8/97eXcNPfT42LtsrVJIdP7aeyUIXy23r2XeD+9Jsuv87L52OOys/cTr94jsovzLEIP2g9qLof9B5U+tGPfs75TUP9hxzyl1irCIOWJKpxyJMn9/Dz/e8BAK8/+zD0OL+9/RUeLP0AANj89RNfLotVAvSjH/3oR7/4fqrnQPUm0G+2/EzoV4zfxEnuZ93OQqtcHU4Uu/rI325OEgOA134adq3p3X76c0WrXM0kePSjH/3oR79kfjCGaeg3W35m+dvauoNaaR/95RdO+pnMkl+6OVgYjkPijR8BACdffoZ/3loZ29/M8AHg/Xc+Qn/5RWaT1+hHP/rNt18Q9Jsdv6Dyp3uq42Z1v6RZi9/pw/FEYmOv6ZSf6/WL1C/xB/FF1c26NEkAl0Qxygzffe/bTFcG0I9+9MvHz2w8Tve/ccpPsbV1x1oDQj/7fghIZFRSddjfRa20D/VvlivO4vqFxc90RYZJ16ydXzhY/2Xpl/rD6GObce4Lsbm4k1m3Xxxc94Pm6KKf6/Gjn4wwv753EFgpb/caTlwffe/ArxzDXG3HcBb99MnBefmafrpblB8AHPZ3/W1ZJlhZ+uWRAEb5mY5Flj/X6z9Yan9j3ck9zpvHYbvXALzqwGYQ4aifXgBd9NOhn4y+dxD5q+0KF/xaOAjdz4Xz2+5ibIn0xl7zUiNim1nzUz1Eipq3n+s59/16O2h51YllcbvXAFaP8tIR+yn0GOaJ6+VP91EE1Yez2P6mSrCCstO4kjZw3U/HRT/X4+e6n47+7chc0pv3D5rGpdSto+VduLlQKSv0+G0u7gzPc28H7fMmHq8Nq6+Nvf3CfNP4rXsVa0lqGj+bCYx5/cYtiwd/3EXdgmMavyLiB8fL3+WetKoT9V/e7Uesn8oJo33eDMxOw2iVq/6vUUveNy6u+ukJgot+Clfjp3DdT1Hq1tEqV3H6cGfsYSZcRcQPo8plu9dAqVvHYX8Xh/3dsbkkRflhdH2oh45qPIJw3U/F0IZnGj+MEhgbKK+kZRGjocG8ht+kfjbj53L5w6j+CzuHOrPY/ibuwTLlgn6Z2hVc98v6N5eyxsX4TUv5O+t2FuBVfdd6f6nQnpYw9DI4qdEtAv386j0HLYtDMFGk8auvHqE+ei3v4be08WuVq2iNnuft5zdyvYtrY1JZtDVfJ60fRgkgLMRP4VL5m4b6z0b7m6pGra8e4cHv/6V6w/rqkX/h5kna4NnyQ8oEgfGbjvJnvidGFd6kSsaW33Ai88HYN7FajKSliPhBdeH3xuNWG/UAulBpz5Kf7cnGqg6MmyC47ocCHKPOL7TJ97bnr8HR+g+W2t9ECZY++fHx2hJqidQuOOzv5vrNLajxSELefhBmz/MaP9U1WyvtA17649g4v9C+xdUT9rTY8oPWeKg5CHGSApt+UaiVjfrww6GlnqE4BPm5RJBfUTFLkgAW4Rg3gUEByVUY5hwndYPMpPVRWlyu/2y1v+6NCWSEudTYJaQJjA1ci9+6VxmcPtzBSuVTf9uN6tuFOsVFDRXAkd6MKIIaXRcmo4ahu0l/tywPTL+zbmeh5u3nfguEuLgcP5cSwCCCEhiX/IIoovy5Vv/ZbH8TJVjmyQlCv0hL3fql2fk2xqWjcMUvLIFxxS8M+sVn3asMou5JEwTjF820+6HgJCGOX5GYfq4lgNMWvyLLn6r/wuq+9nlz5tvfxKsIz7qdBfWI2kc9N7viJv2tDegng37J2e41sLHXHHuUunVn/EwH9Zx+yYnycwH6yaBfMtQqQv2hmLbrN6mf1RuNFgX9ZLjgd9btLGzsYXADlysMF/yiUH763dBdGn6dlvi5Cv1k0E/GVPiN5q/NW/2XSYKlsrzHa0tjM+wfry2lXu2VJfST4Yqf+c1BXaSu+IVBPxn0k0E/GfSTMc9+qRMsf0XhWvR+w/uFDJdp1i2uPqIf/ehHP/rRj370K8pP1IP19VJb9Hre0E8G/WTQTwb9ZNBPBv1k0E+YYDWWz0Sv5w39ZNBPBv1k0E8G/WTQTwb9CCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBCH+B+GPjur4JzSwwAAAABJRU5ErkJggg==",cO={"chog_idleplay 0.aseprite":{frame:{x:0,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 1.aseprite":{frame:{x:40,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 2.aseprite":{frame:{x:80,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 3.aseprite":{frame:{x:120,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 4.aseprite":{frame:{x:160,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 5.aseprite":{frame:{x:200,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 6.aseprite":{frame:{x:240,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 7.aseprite":{frame:{x:280,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 8.aseprite":{frame:{x:320,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 9.aseprite":{frame:{x:360,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 10.aseprite":{frame:{x:400,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_idleplay 11.aseprite":{frame:{x:440,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 12.aseprite":{frame:{x:480,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 13.aseprite":{frame:{x:520,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_idleplay 14.aseprite":{frame:{x:560,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100}},vO={app:"https://www.aseprite.org/",version:"1.3.14.2-x64",image:"chog_idleplay.png",format:"RGBA8888",size:{w:600,h:40},scale:"1",frameTags:[],layers:[{name:"Layer 3",opacity:255,blendMode:"normal"},{name:"Layer 1",opacity:255,blendMode:"normal"},{name:"Layer 6",opacity:255,blendMode:"normal"},{name:"Layer 5",opacity:255,blendMode:"normal"},{name:"Layer 4",opacity:255,blendMode:"normal"},{name:"Layer 7",opacity:255,blendMode:"normal"},{name:"Layer 2",opacity:255,blendMode:"normal"}],slices:[]},pO={frames:cO,meta:vO},gO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAAoCAYAAADQUaxgAAAAAXNSR0IArs4c6QAABuVJREFUeJztnTFoHEcUhp+EUbEIYlIIx9hBrIk76dzEyZHCFopBIQjSqIhARTjDVWlNmriwm5AynSDCRUApVCRgSAS2kNXkkNNYcufgQxjjpDIKmCtE0KU4vdHcaPd2dt/M7sj3fyAs7+3dfvfezr6dmd0VEQAAAAAAAACcOqbjWnc6rnWr9kgDfqBKkF8ZiJ8MX/Ebdflhs3trpEuGlnT4FScklyRC9yPkVwziJ8NH/HIXkKyNmpLm/30DP3+E3IApED/kVwbiJ6Ps+BXqgfBG0zZcdZLhV5zQG3DofoT8ikH8ZJQZv8JDWLN7a32iUbtBrcP1vteJSC2r4iANv+JuoTbg0+BHyK8TR8RP5lhG/MRzICySRNRuSD9eDPyKEXIDPg1+pkcSyK+dZxqIn51nGi7iV6iA6IEiQ9J8zVyPg+hzfBB+7gi1ATMh+iG/MhA/GWXGr3APpHW43idTH51LlTQr83Rc6w4KvAvgJ3PTCa0Bh+5HyK8TR8RP5lhG/EayVkj6kkmVlQUHBVD/EkREG5MLtNveyXSAnz8/E+6OJ23T3CHTdtCNyQWa3VsbCj/kF/FjhjF+Z2wkT1Sj0cFVzIa86w8CfsXJOgvi7dRH5/oaRZI/74Auz/5C90v8POQ3F4ifjCrjZzWE1Tp/58QHmtVq68F85r/crXJ5cIafHJ4Q5B/TjRK6xFm4LsAh+yG/MhA/GVXGz6r7NB3XutHBFNHLqycEW4frtPVgnsY+naTapStERLS5+Uit9+77Z9Vy/TM68Yqz7qWtH/P6xX6fn3rPxaWh89PdzJ1O35G2HszTtRv3M//VceEYup/pyJj51Xlz+Tin48+Oc33tq2+HLr+mI4P4FXNkyoqftTx35UxRluMCsvP8yYkDIC+vX1zqLXx5lTrxilrHVRAH+X3Y/EIt0wvczMx19Xt0MDWUfiEXOFs/nTIPMLojDcivtR9Vk19rP8SPCPFTZM6B5L1SoHbpCm1uPqJ/v/m+t+C7W2p5RFNqPR6325hcyPPxIr+d509Ub0j5GcuHzY+OdpDpmLoUP1U7IJ9d8Q6ob18vcPryiKaILjxWOzB/d2lDsfGzxrGfbX7NEwTO78z2b2q5j/ZBiF9RNQXil46TSfS/ln7viW0fH1jeOSocLPz3Rz/TzTN/EGnV29VVEjZ+q9Sk1y/21cGP/TbpFr1+sU+rneZQ+oVe4KpuIDbY5ve97S/VMj2/ROStfSB+iJ/P+GUWkN32zgjFC10ePqm/uq02Yk62jD/bpzeXz9LMzHV1INR/ZzhoLg7O8JMTcoHL41fFAaZIfkkbmjRzSxXmF/FLBvFLp9gcCPXGyejCYyIi2rp3t29cLU3w80++ps7YU+fXZsNP7mbugKSN73IP84OfPkstcHoD6Yw9JXLYgIv46fj2o7cwvzqIH+KXRu4voET5ZhVNkowJGmb82T5du3Hf+cSRDz9ynNhBfry96GCKtu7dTZxIN3dGX25JOyD7/bn8a2LDMIkOpkotwCH5nfDMyG8aw5rfE56In8yzpPiJJm/MB4YNoj465+XO0DQ+ph+6KoAWz6RhP/JcQBg9frzd1U5Tvb4YLScuK6sA01HXvXX+jjpjgl8+T+RX5on4yTzLiJ+Tv0jId2EO+mHKeiJlJ16hqN1QldjGb3ZvjaJ2Qz2npizXPA9d8+20294Z0Xei+qvb8BMSkh/iJwPx66dQATF7H67v/HSFWbxs3xO1G7TaadJqp+k14fpjEGwfb1DmY6HhJwN+MuAnoww/q8t402gdrqszfVtm99aI4oVuWV05OqrAG/Hx5XJpweSHnP14ThQWK3rXlq90W21t+9HxzTvsuGhc5ldWsYYf/OAHvywKTaLrY2tcPGzO9H0+pTXLtXW4rgrDYrScWET0a7J5bNDnuKVZ6bPOEsqcoyH4iYGfDPjJKMOv0Kl2Y+Ih3fznvyJvpcbEQ9oo9M5i5O1VcPAW42Und1FnkacAl+FjAj8Z8JMBPxm+/XLNgUzHtS6fmUuGeXzPLehE7QZtTC6oqw5sMSfLAAAA9ON/sD8AonaD6qNzarzP918bBACAYSBXAdlt74zw0E4a+jwCH7h1uCdQxdk9z7+wY5Jf1WTFr2rgJwN+MuAnw7Vf7st4eWhnUAHQXzNn9UMYGhrkFwLwkwE/GfCTMUx+zm4kDBn4yYCfDPjJgJ8Mn35OCgjfTNiYeNi3vIz7KWyAnwz4yYCfDPjJ8OlX+BPUFVnnBq/Xk+yJNzpNWoyXS7mJEH7wgx/84OfXT1SCfjnTEr3uG/jJgJ8M+MmAn4wy/EQFZG1sV/S6b+AnA34y4CcDfjJC9wMAAAAAAAAAAAAAAAAAAAAAAADeKv4HPzjkvVPFjw4AAAAASUVORK5CYII=",mO={"chog_chew 0.aseprite":{frame:{x:0,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 1.aseprite":{frame:{x:40,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 2.aseprite":{frame:{x:80,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 3.aseprite":{frame:{x:120,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 4.aseprite":{frame:{x:160,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 5.aseprite":{frame:{x:200,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 6.aseprite":{frame:{x:240,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 7.aseprite":{frame:{x:280,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 8.aseprite":{frame:{x:320,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200},"chog_chew 9.aseprite":{frame:{x:360,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:200}},xO={app:"https://www.aseprite.org/",version:"1.3.14.2-x64",image:"chog_chew.png",format:"RGBA8888",size:{w:400,h:40},scale:"1",frameTags:[],layers:[{name:"Layer 3",opacity:255,blendMode:"normal"},{name:"Layer 1",opacity:255,blendMode:"normal"},{name:"Layer 6",opacity:255,blendMode:"normal"},{name:"Layer 5",opacity:255,blendMode:"normal"},{name:"Layer 4",opacity:255,blendMode:"normal"},{name:"Layer 7",opacity:255,blendMode:"normal"},{name:"Layer 2",opacity:255,blendMode:"normal"}],slices:[]},yO={frames:mO,meta:xO},TO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAoCAYAAACPQCMpAAAAAXNSR0IArs4c6QAACARJREFUeJztnb+LG0cUx786xBUiEOPiMMEJYk3cWXLlcKSwj4vhgnGpRuBKhquS0pgUKRIIwf/BgUWKwKW4woWLGHxCvsYiSXOSu4RTDmOSzthgVFzhSyG99Wg0+2N2ZnaenPmCubvd1e5H33nvzezsDwNBQUFBQUFBQUFBhdSImqeNqHnqmyNJge/9F3cPOfNxZnOpFZs72zzeg2giN1MDn5m48ajE3UPOfJzZXLFoF8AsENlE+W/XCnxuxSFJuHvImY8zW5ZcxF6hESCBJB3ct4mBz0zLkCS6HpYtznyc46/s2Ct8Crx5vDdnZG3cweDto7n1AOJlPopM4DPj45rAIkMeD+GxSHPl4xx/ZRZo4zlAsRFl1cYd090bK/AVF+cEljmT5NtDMOfjylZWgS5UAEUQSCbK6+TtCNLl3FHgsyuOSVLUQ5TkHWe+ZYo/17FXeAQ4ePtozqz1la25dfK2JDIx7YvZUOAz5xPFKYFFjjweyqME194tAx/n+CuzQFeyNlDtRFV5ycA0QNFkAOjVWxiNh5kMgc8dn0p0yqE6rpw09Ddt06u3sHm8Z5XNlofi9/i/8C1b/BWJPXk7nRis5oFaqPYr6b1EHulun6bAZ6asnlIscmLgyaOY9ZWt1FMWE9n00KZ3JM58nOPPRuxBiD9knDbLynUKPPjou4UDyr3BweObmT9p2G27gQOfuWjSmf7JfFCcNiXJBZ+Jh5D8cyHOfNzjz2bsidvnUa7hayNqntZOLgEvrsTLxCHzweObWP2ijuaFywCAfv9JvN3ZT87Ey8V9TKKu1VOQwGeHTw4+MZAOHt/E1esPF36K60g2+WRGUh4P5/ybnVrZZuPOxzn+TGNPFYukPIy5vwANVWUjqYcgA4dHh3j5/FW8ngwcHh1i/eNb04UvrmASdeNtbM51BL7ifFwTWGSEpocL/jnwbhn4OMefzwKdeQqse0WPYF7fvYfXd+8tLCfRcNdUgc+ORuNhZbL6bBrY538HhNMO8VQNAIZHhwufHx4dxp+D5SvBJh7+3f5mbhkceMeZbxnizzT25pZrxqCViyB/3foVAND/7V1l/vDHOwCAl89fod9/gn8/+wW3q08B6YqhjR4u8JlJt1A1L1xGv/9kmiTCshouAcL37dVbpmixTDzs407sn23vloGPc/yZxB4AnN39IV5O8QeNGMwsgKPxsIKoNR2iAlj/59vpT+kyNAB88OcrvLl4Bhsb1+Jhqvg7iaBsNHDgsyPOCWzDw11sx1yw7B1nvmWIP58FutgcIKbzADTcPPjpe7y5eGZu+42Na1Nowbwbn3+Fyeoz9/NDga8Qn5wkEOZgKAg//flLdQJPtnG7+hST1WeA5QIjMsLAw42Na064loGPc/yZxp5cAHViUPuLxEbSzYqCiQAWjMSsZ7l6/aGzyfHAZ5mNYQIrOXN6WGb7cufjGn++CnThLyM+DpPnnpv1lS1nTy6ksUGTD45GL7KK+lcGH+cExnvevmWwkYiRE1/ZBTrXRZAsqW5cVGnzeA+IWqdlNjI9FsNJcnJMom5uRtcezrFhlhizWwvk+6xEra9soYcuGlGTbfvG25UYgzrt6yM/wCx/3+3767kCnRZ7EOJPV4UKoKp3y2uia6ke1BYfk8lSmQWmqFwxqgozZr1xHv/KKDCq2OvVW7kZ4amNdWKwDJX5UghTufTN6H2AYpLkEfXWZb0pxOZtGDYkJ2+v3sIk6hZ6rY9tH5OKH8nVI2RFRYw6RUyMhzLikHN+kHTypEw+3SmEoir0f4IQWNHkdSVbvZrLRu6s7RdKXlKv3kJnbR+dtX3sTratcopsKDBXRonkyj8b7UuMLvzDkoys5BzmzKvbiei2Z6ERICVK0c+6lGmBoeJiW42oebo7md7rdf+clalXa1KxmZ4euigusNC+o/GwIo54XHCaMLoqzKrjFMlh1/mLkgdZWgXQVhK76nltFpgygjCP5NOT0XhYadd2vPFkiUaosOwh5w6EZJPRVfzZYORcoHVlHElUocVJXm5XXidRF4Px9PckRtfzhaPxsNKOdk7Fv+lnI+qe0hUs+WWQ9GJH+TO0L1tPq6jY3lf5+L5ZE/nc5qvpwhKJYrFdb4EKqAvJBbqt+fndyTba0U7uC1yFb4RGnLzv3uAqFhf5qhzdQ0Sfd/mkgLz/JEbxeUHaPmkfriUeV8XqqyjJb+jFrEMhqVhFuXjbimq/XPxTMcr3tqW9PbuM+JNHb2ltmLTOJZtYYNu1nbk8lQctqjqjw6c9AtT54qpL/+XcQ+R3H0VVG3cSJ3zLvr8uS2Jnplrn6php69P8K0sqxjSv8nzetuTBQdI2PqaA5NF5bdyZm6hTjZTlOqPjofF/iwnGczKiloERQhLfP1fF4O2jeFK8ddJgMScZ9P/RaDys+IhFKmCqix+j8bBC/2wcy0oBxKzAiLdn+O6JVZIZuc27yEX6/rkqHlQHeFAdeGMCgBvn/0hcx6ljIRZOTKKWmctHLOblMpGVFkkyZQo3vSLY0ZyctK0kxs7avnc2UTTxS7x7q6N4nU++uSJ40gAixCMATu3MmUnJNbuo4JsvzS+fsZinHU3a2koBFI0R5XvkImoZGImlddJgU/iyxNE/Tkyikrh886Ydf/o+QXi5MJjHF1PvjAugyhCaH0gqOmUrbdKXCyOYsYhK4+LETCycmEQlcfnmzTq+rw44jy++vQsKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmKp/wAnKioV4RWnwAAAAABJRU5ErkJggg==",CO={"chog_walk 0.aseprite":{frame:{x:0,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 1.aseprite":{frame:{x:40,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 2.aseprite":{frame:{x:80,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 3.aseprite":{frame:{x:120,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 4.aseprite":{frame:{x:160,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 5.aseprite":{frame:{x:200,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 6.aseprite":{frame:{x:240,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100},"chog_walk 7.aseprite":{frame:{x:280,y:0,w:40,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:40},sourceSize:{w:40,h:40},duration:100}},SO={app:"https://www.aseprite.org/",version:"1.3.14.2-x64",image:"chog_walk.png",format:"RGBA8888",size:{w:320,h:40},scale:"1",frameTags:[],layers:[{name:"Layer 1",opacity:255,blendMode:"normal"}],slices:[]},PO={frames:CO,meta:SO},EO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAAB5QTFRFAAAA1Fc09IJDNuN3/NSLLrCCm1hQ9Kxmy4FeQ0pf4CU4TgAAAAF0Uk5TAEDm2GYAAABcSURBVAjXY2AgA3DOnDlzAowBYc6cWVHePnMmSKgcBICCnDPKOzo6yjtBrA4QALGmhhobG4dGAlkzBZWUlARB6qaXu7i4lFcCWdPSgMrSMlFYMzuAxnWALIGyGACRci70xiPO5wAAAABJRU5ErkJggg==",wO=e=>{e.load.atlas("dog-sleep",hO,dO),e.load.atlas("dog-play",fO,pO),e.load.atlas("dog-chew",gO,yO),e.load.atlas("dog-walk",TO,PO)},bO=e=>{e.load.image("game-background",oO)},OO=e=>{e.load.image("hamburger",EO)},es={GROUND_OFFSET:30,PET_GROUND_OFFSET:30,FOOD_GROUND_OFFSET:15,FOOD_DROP_HEIGHT:25,PET_WIDTH:40,PET_SCALE:2,FOOD_WIDTH:30,FOOD_SCALE:1.5},P0={get SCALED_PET_WIDTH(){return es.PET_WIDTH*es.PET_SCALE},get SCALED_FOOD_WIDTH(){return es.FOOD_WIDTH*es.FOOD_SCALE}},Dr={CHASE_DISTANCE:20,FOOD_DETECTION_RANGE:40,HUNGER_THRESHOLD:80,HUNGER_DECREASE_PER_HOUR:3e3,FOOD_DESPAWN_TIME:2e4,POST_EATING_DELAY:2e3,TRANSITION_DELAY:30,CHASE_CHECK_INTERVAL:1e3},Ci={getGroundY(e){return e-es.GROUND_OFFSET},getPetY(e){return e-es.PET_GROUND_OFFSET},getFoodDropY(e){return e-es.FOOD_GROUND_OFFSET-es.FOOD_DROP_HEIGHT},getFoodFinalY(e){return e-es.FOOD_GROUND_OFFSET},getPetBoundaries(e){const t=P0.SCALED_PET_WIDTH/2;return{minX:t,maxX:e-t}},getFoodBoundaries(e){const t=P0.SCALED_FOOD_WIDTH/2;return{minX:t,maxX:e-t}}};let MO=class{constructor(e){yt(this,"sprite"),yt(this,"direction",1),yt(this,"speed",50),yt(this,"currentActivity","walk"),yt(this,"isMoving",!0),yt(this,"isUserControlled",!1),yt(this,"lastEdgeHit",""),yt(this,"groundY",0),yt(this,"isChasing",!1),yt(this,"chaseTarget",null),yt(this,"onStopChasing"),yt(this,"scene"),this.scene=e}create(e,t){const i=t||Ci.getPetY(this.scene.cameras.main.height);this.groundY=i,this.sprite=this.scene.add.sprite(e,i,"dog-walk","chog_walk 0.aseprite"),this.sprite.setScale(2),this.updateActivity()}createAnimations(){this.scene.anims.create({key:"dog-walk",frames:[{key:"dog-walk",frame:"chog_walk 0.aseprite"},{key:"dog-walk",frame:"chog_walk 1.aseprite"},{key:"dog-walk",frame:"chog_walk 2.aseprite"},{key:"dog-walk",frame:"chog_walk 3.aseprite"},{key:"dog-walk",frame:"chog_walk 4.aseprite"},{key:"dog-walk",frame:"chog_walk 5.aseprite"},{key:"dog-walk",frame:"chog_walk 6.aseprite"},{key:"dog-walk",frame:"chog_walk 7.aseprite"}],frameRate:8,repeat:-1}),this.scene.anims.create({key:"dog-sleep",frames:[{key:"dog-sleep",frame:"chog_sleep 0.aseprite"},{key:"dog-sleep",frame:"chog_sleep 1.aseprite"},{key:"dog-sleep",frame:"chog_sleep 2.aseprite"},{key:"dog-sleep",frame:"chog_sleep 3.aseprite"},{key:"dog-sleep",frame:"chog_sleep 4.aseprite"},{key:"dog-sleep",frame:"chog_sleep 5.aseprite"}],frameRate:3,repeat:14}),this.scene.anims.create({key:"dog-sleep-loop",frames:[{key:"dog-sleep",frame:"chog_sleep 0.aseprite"},{key:"dog-sleep",frame:"chog_sleep 1.aseprite"},{key:"dog-sleep",frame:"chog_sleep 2.aseprite"},{key:"dog-sleep",frame:"chog_sleep 3.aseprite"},{key:"dog-sleep",frame:"chog_sleep 4.aseprite"},{key:"dog-sleep",frame:"chog_sleep 5.aseprite"}],frameRate:3,repeat:-1}),this.scene.anims.create({key:"dog-play",frames:[{key:"dog-play",frame:"chog_idleplay 0.aseprite"},{key:"dog-play",frame:"chog_idleplay 1.aseprite"},{key:"dog-play",frame:"chog_idleplay 2.aseprite"},{key:"dog-play",frame:"chog_idleplay 3.aseprite"},{key:"dog-play",frame:"chog_idleplay 4.aseprite"},{key:"dog-play",frame:"chog_idleplay 5.aseprite"},{key:"dog-play",frame:"chog_idleplay 6.aseprite"},{key:"dog-play",frame:"chog_idleplay 7.aseprite"},{key:"dog-play",frame:"chog_idleplay 8.aseprite"},{key:"dog-play",frame:"chog_idleplay 9.aseprite"},{key:"dog-play",frame:"chog_idleplay 10.aseprite"},{key:"dog-play",frame:"chog_idleplay 11.aseprite"},{key:"dog-play",frame:"chog_idleplay 12.aseprite"},{key:"dog-play",frame:"chog_idleplay 13.aseprite"},{key:"dog-play",frame:"chog_idleplay 14.aseprite"}],frameRate:10,repeat:1}),this.scene.anims.create({key:"dog-play-loop",frames:[{key:"dog-play",frame:"chog_idleplay 0.aseprite"},{key:"dog-play",frame:"chog_idleplay 1.aseprite"},{key:"dog-play",frame:"chog_idleplay 2.aseprite"},{key:"dog-play",frame:"chog_idleplay 3.aseprite"},{key:"dog-play",frame:"chog_idleplay 4.aseprite"},{key:"dog-play",frame:"chog_idleplay 5.aseprite"},{key:"dog-play",frame:"chog_idleplay 6.aseprite"},{key:"dog-play",frame:"chog_idleplay 7.aseprite"},{key:"dog-play",frame:"chog_idleplay 8.aseprite"},{key:"dog-play",frame:"chog_idleplay 9.aseprite"},{key:"dog-play",frame:"chog_idleplay 10.aseprite"},{key:"dog-play",frame:"chog_idleplay 11.aseprite"},{key:"dog-play",frame:"chog_idleplay 12.aseprite"},{key:"dog-play",frame:"chog_idleplay 13.aseprite"},{key:"dog-play",frame:"chog_idleplay 14.aseprite"}],frameRate:10,repeat:-1}),this.scene.anims.create({key:"dog-chew",frames:[{key:"dog-chew",frame:"chog_chew 0.aseprite"},{key:"dog-chew",frame:"chog_chew 1.aseprite"},{key:"dog-chew",frame:"chog_chew 2.aseprite"},{key:"dog-chew",frame:"chog_chew 3.aseprite"},{key:"dog-chew",frame:"chog_chew 4.aseprite"},{key:"dog-chew",frame:"chog_chew 5.aseprite"}],frameRate:6,repeat:1}),this.scene.anims.create({key:"dog-chew-loop",frames:[{key:"dog-chew",frame:"chog_chew 0.aseprite"},{key:"dog-chew",frame:"chog_chew 1.aseprite"},{key:"dog-chew",frame:"chog_chew 2.aseprite"},{key:"dog-chew",frame:"chog_chew 3.aseprite"},{key:"dog-chew",frame:"chog_chew 4.aseprite"},{key:"dog-chew",frame:"chog_chew 5.aseprite"}],frameRate:6,repeat:-1})}updateActivity(){switch(this.currentActivity){case"walk":this.sprite.play("dog-walk"),this.isMoving=!0;break;case"sleep":this.isUserControlled?this.sprite.play("dog-sleep-loop"):this.sprite.play("dog-sleep"),this.isMoving=!1;break;case"idleplay":this.isUserControlled?this.sprite.play("dog-play-loop"):this.sprite.play("dog-play"),this.isMoving=!1;break;case"chew":this.isUserControlled?this.sprite.play("dog-chew-loop"):this.sprite.play("dog-chew"),this.isMoving=!1;break;default:this.sprite.play("dog-walk"),this.isMoving=!0}}setActivity(e){this.currentActivity=e,this.updateActivity()}setUserActivity(e){this.currentActivity=e,this.updateActivity(),e==="walk"?this.isUserControlled=!1:this.isUserControlled=!0}startChasing(e,t){this.isChasing=!0,this.chaseTarget={x:e,y:t},this.isUserControlled=!0,this.setActivity("walk")}stopChasing(){this.isChasing=!1,this.chaseTarget=null,this.lastEdgeHit="",this.onStopChasing&&this.onStopChasing(),this.currentActivity==="walk"&&this.setActivity("walk"),console.log(` Pet stopped chasing, reset lastEdgeHit='${this.lastEdgeHit}'`)}enforceGroundLine(){const e=Ci.getPetY(this.scene.cameras.main.height);this.sprite&&this.sprite.y!==e&&(this.sprite.y=e,this.groundY=e)}destroy(){this.sprite&&this.sprite.destroy(),console.log(" Pet destroyed")}};const E0=e=>{let t;const i=new Set,n=(T,s)=>{const o=typeof T=="function"?T(t):T;if(!Object.is(o,t)){const m=t;t=s??(typeof o!="object"||o===null)?o:Object.assign({},t,o),i.forEach(f=>f(t,m))}},y=()=>t,S={setState:n,getState:y,getInitialState:()=>r,subscribe:T=>(i.add(T),()=>i.delete(T))},r=t=e(n,y,S);return S},AO=e=>e?E0(e):E0,RO=e=>e;function LO(e,t=RO){const i=n0.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n0.useDebugValue(i),i}const w0=e=>{const t=AO(e),i=n=>LO(t,n);return Object.assign(i,t),i},FO=e=>e?w0(e):w0,Mi=FO((e,t)=>({nomToken:100,addressWallet:Ow(),setNomToken:i=>e({nomToken:i}),setAddressWallet:i=>e({addressWallet:i}),addToken:i=>e(n=>({nomToken:n.nomToken+i})),spendToken:i=>t().nomToken>=i?(e(n=>({nomToken:n.nomToken-i})),!0):!1})),b0={food:{items:[{id:"hamburger",name:"Hamburger",price:5,hungerRestore:15,texture:"hamburger"},{id:"apple",name:"Apple",price:3,hungerRestore:10,texture:"apple"},{id:"bone",name:"Bone",price:5,hungerRestore:12,texture:"bone"}],defaultPrice:5},economy:{initialTokens:100,hungerDecreaseRate:2},gameplay:{foodDespawnTime:2e4,maxFoodInventory:10}};class DO{constructor(){yt(this,"config",b0),yt(this,"isLoaded",!1)}async loadConfig(){var t;console.log(" Starting loadConfig...");try{console.log(" Calling API /store-item...");const i=await fv.get("/store-item");console.log(" Loaded game config from API:",i.data);const n=i.data.filter(y=>y.type==="food").map(y=>({id:y.name.toLowerCase().replace(" ","_"),name:y.name,price:y.cost_nom,hungerRestore:15,texture:y.name.toLowerCase().replace(" ","_"),rarity:"common"}));if(n.length>0){const y={food:{items:n,defaultPrice:((t=n[0])==null?void 0:t.price)||this.config.food.defaultPrice}};this.config={...b0,...y},console.log(" Game config loaded from API:",n.length,"food items")}else console.log(" No food items found in API, using default config")}catch(i){console.log(" Using default game config (API error):",i)}return this.isLoaded=!0,this.config}getConfig(){return this.config}getFoodPrice(t="hamburger"){const i=this.config.food.items.find(n=>n.id===t);return i?.price||this.config.food.defaultPrice}getFoodItem(t){return this.config.food.items.find(i=>i.id===t)}updateConfig(t){this.config={...this.config,...t}}isConfigLoaded(){return this.isLoaded}logFoodItems(){console.log(" Current Food Items Configuration:"),console.log("================================"),this.config.food.items.forEach((t,i)=>{console.log(`${i+1}. ${t.name}`),console.log(`   ID: ${t.id}`),console.log(`   Price: ${t.price} tokens`),console.log(`   Hunger Restore: ${t.hungerRestore}`),console.log(`   Texture: ${t.texture}`),console.log(`   Rarity: ${t.rarity||"common"}`),console.log("   ---")}),console.log(`Total items: ${this.config.food.items.length}`),console.log(`Default price: ${this.config.food.defaultPrice}`),console.log(`Config loaded: ${this.isLoaded}`),console.log("================================")}}const Mn=new DO,Ns={Full:"full",Normal:"normal",Hungry:"hungry",Starving:"starving"};function af(e){return e>=95?Ns.Full:e>=80?Ns.Normal:e>=30?Ns.Hungry:Ns.Starving}class IO{constructor(t,i,n){yt(this,"foodInventory",0),yt(this,"hungerLevel",100),yt(this,"droppedFood",[]),yt(this,"foodShadows",[]),yt(this,"foodTimers",[]),yt(this,"lastChaseCheck",0),yt(this,"lastHungerUpdate",0),yt(this,"scene"),yt(this,"pet"),yt(this,"colyseusClient"),this.scene=t,this.pet=i,this.colyseusClient=n}update(){this.updateHunger(),this.checkChaseOpportunity()}updateHunger(){const t=this.scene.time.now;this.lastHungerUpdate||(this.lastHungerUpdate=t);const i=(t-this.lastHungerUpdate)/1e3,n=Dr.HUNGER_DECREASE_PER_HOUR/3600;i>0&&(this.hungerLevel=Math.max(0,this.hungerLevel-n*i),this.lastHungerUpdate=t)}checkChaseOpportunity(){const t=af(this.hungerLevel);if(!this.pet.isChasing&&this.pet.currentActivity!=="chew"&&(t===Ns.Hungry||t===Ns.Starving)&&this.droppedFood.length>0){const i=this.scene.time.now;(!this.lastChaseCheck||i-this.lastChaseCheck>Dr.CHASE_CHECK_INTERVAL)&&(this.checkAndStartChasing(),this.lastChaseCheck=i)}}buyFood(t="hamburger"){console.log(` Buying food: ${t}`);const i=Mn.getFoodPrice(t);if(this.colyseusClient&&this.colyseusClient.isConnected()){console.log(" Checking tokens before sending purchase request to server");const n=Mi.getState().nomToken;return n<i?(console.log(` Not enough tokens: need ${i}, have ${n}`),!1):(console.log(" Tokens sufficient, sending purchase request to server"),this.colyseusClient.sendMessage("buy_food",{itemType:"food",itemName:"hamburger",quantity:1}),!0)}else{console.log(" Offline mode - using local validation");const n=Mi.getState().spendToken;return n(i)?(this.foodInventory+=1,console.log(` Purchase successful: ${t} for ${i} tokens`),!0):(console.log(` Not enough tokens: need ${i}`),!1)}}dropFood(t,i){if(this.foodInventory<=0){console.log(" No food in inventory to drop");return}this.colyseusClient&&this.colyseusClient.isConnected()?(console.log(" Sending food drop request to server"),this.colyseusClient.sendMessage("food-drop",{foodId:"hamburger",x:t,y:Ci.getFoodFinalY(this.scene.cameras.main.height)})):(console.log(" Offline mode - dropping food locally"),this.dropFoodLocally(t,i))}dropFoodLocally(t,i){if(this.foodInventory<=0)return;this.foodInventory-=1;const n=this.scene.cameras.main.height,y=Ci.getFoodDropY(n),S=Ci.getFoodFinalY(n),r=this.scene.add.image(t,y,"hamburger");r.setScale(es.FOOD_SCALE),r.setAlpha(.9),this.scene.tweens.add({targets:r,y:S,duration:500,ease:"Bounce.easeOut",onComplete:()=>{this.scene.tweens.add({targets:r,scaleX:es.FOOD_SCALE*1.13,scaleY:es.FOOD_SCALE*.8,duration:100,yoyo:!0})}});const T=this.scene.add.ellipse(t,S+5,30,12,0,.3);this.scene.tweens.add({targets:T,scaleX:1.3,alpha:.5,duration:500,ease:"Power2.easeOut"}),this.droppedFood.push(r),this.foodShadows.push(T);const s=this.scene.time.delayedCall(Dr.FOOD_DESPAWN_TIME,()=>{const o=this.droppedFood.indexOf(r);o!==-1&&(this.removeFoodAtIndex(o),console.log("Food auto-despawned after timeout"))});this.foodTimers.push(s),this.checkAndStartChasing(),console.log(`Dropped food at (${t}, ${S})`)}eatFood(t,i,n="hamburger"){const y=Mn.getFoodItem(n),S=y?.hungerRestore||10,r=this.droppedFood.findIndex(T=>Phaser.Math.Distance.Between(T.x,T.y,t,i)<Dr.FOOD_DETECTION_RANGE);r!==-1&&(this.removeFoodAtIndex(r),this.hungerLevel=Math.min(100,this.hungerLevel+S),this.pet.stopChasing(),this.pet.setActivity("chew"),this.pet.sprite.once("animationcomplete",()=>{this.handleEatingComplete()}),this.scene.time.delayedCall(Dr.POST_EATING_DELAY,()=>{this.handleEatingComplete()}))}handleEatingComplete(){this.pet.currentActivity==="chew"&&(this.hungerLevel<100&&this.droppedFood.length>0?(console.log("Pet still hungry, looking for more food..."),this.forceStartChasing()):(this.pet.isUserControlled=!1,this.pet.setActivity("walk"),console.log("Pet finished eating, returning to auto walk mode")))}checkAndStartChasing(){const t=af(this.hungerLevel);if(t!==Ns.Hungry&&t!==Ns.Starving||this.droppedFood.length===0||this.pet.isChasing||this.pet.currentActivity==="chew")return;const i=Math.floor(Math.random()*this.droppedFood.length),n=this.droppedFood[i];n&&(this.pet.startChasing(n.x,n.y),console.log(`Pet started chasing food at (${n.x}, ${n.y})`))}forceStartChasing(){const t=af(this.hungerLevel);if(t!==Ns.Hungry&&t!==Ns.Starving||this.droppedFood.length===0){this.pet.isUserControlled=!1,this.pet.setActivity("walk");return}if(this.pet.isChasing)return;const i=Math.floor(Math.random()*this.droppedFood.length),n=this.droppedFood[i];n?this.pet.startChasing(n.x,n.y):(this.pet.isUserControlled=!1,this.pet.setActivity("walk"))}removeFoodAtIndex(t){if(t<0||t>=this.droppedFood.length)return;const i=this.droppedFood[t],n=this.foodShadows[t],y=this.foodTimers[t],S=this.pet.isChasing&&this.pet.chaseTarget&&Phaser.Math.Distance.Between(this.pet.chaseTarget.x,this.pet.chaseTarget.y,i.x,i.y)<10;y&&!y.hasDispatched&&y.destroy(),this.scene.tweens.add({targets:i,scaleX:0,scaleY:0,alpha:0,duration:300,ease:"Power2.easeIn",onComplete:()=>i.destroy()}),this.scene.tweens.add({targets:n,alpha:0,duration:300,onComplete:()=>n.destroy()}),this.droppedFood.splice(t,1),this.foodShadows.splice(t,1),this.foodTimers.splice(t,1),S&&(console.log("Pet was chasing this food, finding new target"),this.pet.stopChasing(),this.scene.time.delayedCall(Dr.TRANSITION_DELAY,()=>{this.hungerLevel<100&&this.droppedFood.length>0?this.checkAndStartChasing():(this.pet.isUserControlled=!1,this.pet.setActivity("walk"))}))}destroy(){this.cleanup(),console.log(" FeedingSystem destroyed")}cleanup(){for(;this.droppedFood.length>0;)this.removeFoodAtIndex(0)}}class BO{constructor(t,i){yt(this,"pet"),yt(this,"scene"),this.pet=t,this.scene=i}update(){if(this.pet.enforceGroundLine(),this.pet.isChasing&&this.pet.chaseTarget)return this.handleChasing();this.pet.isUserControlled||this.pet.currentActivity==="walk"&&this.handleWalkCycle(),this.pet.isMoving&&this.pet.currentActivity==="walk"&&this.handleMovement()}handleChasing(){if(!this.pet.chaseTarget)return;const t=this.pet.chaseTarget.x,i=this.pet.chaseTarget.y;if(Phaser.Math.Distance.Between(this.pet.sprite.x,this.pet.sprite.y,t,i)<Dr.CHASE_DISTANCE)return{reachedTarget:!0,targetX:t,targetY:i};const n=t-this.pet.sprite.x;if(Math.abs(n)>5){const y=this.pet.sprite.x+Math.sign(n)*this.pet.speed*.016666666666666666,S=Ci.getPetBoundaries(this.scene.cameras.main.width);this.pet.sprite.x=Phaser.Math.Clamp(y,S.minX,S.maxX),n>0?(this.pet.sprite.setFlipX(!1),this.pet.direction=1):(this.pet.sprite.setFlipX(!0),this.pet.direction=-1)}return{reachedTarget:!1}}handleWalkCycle(){const t=Ci.getPetBoundaries(this.scene.cameras.main.width);this.pet.sprite.x>=t.maxX&&this.pet.direction===1&&this.pet.lastEdgeHit!=="right"?(this.pet.direction=-1,this.pet.sprite.setFlipX(!0),this.pet.lastEdgeHit="right",console.log(" Pet hit RIGHT edge, flipping left")):this.pet.sprite.x<=t.minX&&this.pet.direction===-1&&this.pet.lastEdgeHit!=="left"&&(this.pet.direction=1,this.pet.sprite.setFlipX(!1),this.pet.lastEdgeHit="left",console.log(" Pet hit LEFT edge, flipping right")),this.pet.sprite.x>t.minX+10&&this.pet.sprite.x<t.maxX-10&&this.pet.lastEdgeHit!==""&&(console.log(" Pet moved away from edge, resetting lastEdgeHit"),this.pet.lastEdgeHit="")}handleMovement(){const t=this.pet.sprite.x+this.pet.direction*this.pet.speed*.016666666666666666,i=Ci.getPetBoundaries(this.scene.cameras.main.width);this.pet.sprite.x=Phaser.Math.Clamp(t,i.minX,i.maxX)}}class kO{constructor(t){yt(this,"randomStopTimer",0),yt(this,"nextRandomStopTime",0),yt(this,"pet"),this.pet=t,this.setNextRandomStopTime()}update(){!this.pet.isUserControlled&&this.pet.currentActivity==="walk"&&this.handleRandomStop()}handleRandomStop(){this.randomStopTimer+=1/60,this.randomStopTimer>=this.nextRandomStopTime&&(console.log("Random stop triggered!"),this.randomActivity(),this.setNextRandomStopTime(),this.randomStopTimer=0)}setNextRandomStopTime(){this.nextRandomStopTime=Phaser.Math.Between(15,25),console.log("Next random stop in:",this.nextRandomStopTime,"seconds")}getRandomWeightedActivity(t){const i=t.reduce((S,r)=>S+r.weight,0),n=Math.random()*i;let y=0;for(const S of t)if(y+=S.weight,n<y)return S.name;return t[0].name}randomActivity(){const t=[{name:"idleplay",weight:85},{name:"sleep",weight:15}],i=this.getRandomWeightedActivity(t);this.pet.setActivity(i),this.pet.setActivity(i),this.pet.sprite.once("animationcomplete",()=>{!this.pet.isUserControlled&&this.pet.currentActivity===i&&(console.log("Animation completed, returning to walk..."),this.pet.setActivity("walk"))})}}var iu={exports:{}},NO=iu.exports,O0;function Nu(){return O0||(O0=1,function(e,t){(function(i,n){n(t)})(NO,function(i){i.OPERATION=void 0,function(q){q[q.ADD=128]="ADD",q[q.REPLACE=0]="REPLACE",q[q.DELETE=64]="DELETE",q[q.DELETE_AND_MOVE=96]="DELETE_AND_MOVE",q[q.MOVE_AND_ADD=160]="MOVE_AND_ADD",q[q.DELETE_AND_ADD=192]="DELETE_AND_ADD",q[q.CLEAR=10]="CLEAR",q[q.REVERSE=15]="REVERSE",q[q.MOVE=32]="MOVE",q[q.DELETE_BY_REFID=33]="DELETE_BY_REFID",q[q.ADD_BY_REFID=129]="ADD_BY_REFID"}(i.OPERATION||(i.OPERATION={})),Symbol.metadata??(Symbol.metadata=Symbol.for("Symbol.metadata"));const n=Symbol("$track"),y=Symbol("$encoder"),S=Symbol("$decoder"),r=Symbol("$filter"),T=Symbol("$getByIndex"),s=Symbol("$deleteByIndex"),o=Symbol("$changes"),m=Symbol("$childType"),f=Symbol("$onEncodeEnd"),u=Symbol("$onDecodeEnd"),h=Symbol("$descriptors"),a="$__numFields",l="$__refTypeFieldIndexes",c="$__viewFieldIndexes",d="$__fieldIndexesByViewTag";let v;try{v=new TextEncoder}catch{}const p=new ArrayBuffer(8),g=new Int32Array(p),x=new Float32Array(p),C=new Float64Array(p),P=new BigInt64Array(p),w=typeof Buffer<"u"&&Buffer.byteLength?Buffer.byteLength:function(q,G){for(var Y=0,K=0,Q=0,tt=q.length;Q<tt;Q++)Y=q.charCodeAt(Q),Y<128?K+=1:Y<2048?K+=2:Y<55296||Y>=57344?K+=3:(Q++,K+=4);return K};function E(q,G,Y){for(var K=0,Q=0,tt=G.length;Q<tt;Q++)K=G.charCodeAt(Q),K<128?q[Y.offset++]=K:K<2048?(q[Y.offset]=192|K>>6,q[Y.offset+1]=128|K&63,Y.offset+=2):K<55296||K>=57344?(q[Y.offset]=224|K>>12,q[Y.offset+1]=128|K>>6&63,q[Y.offset+2]=128|K&63,Y.offset+=3):(Q++,K=65536+((K&1023)<<10|G.charCodeAt(Q)&1023),q[Y.offset]=240|K>>18,q[Y.offset+1]=128|K>>12&63,q[Y.offset+2]=128|K>>6&63,q[Y.offset+3]=128|K&63,Y.offset+=4)}function b(q,G,Y){q[Y.offset++]=G&255}function O(q,G,Y){q[Y.offset++]=G&255}function M(q,G,Y){q[Y.offset++]=G&255,q[Y.offset++]=G>>8&255}function A(q,G,Y){q[Y.offset++]=G&255,q[Y.offset++]=G>>8&255}function F(q,G,Y){q[Y.offset++]=G&255,q[Y.offset++]=G>>8&255,q[Y.offset++]=G>>16&255,q[Y.offset++]=G>>24&255}function R(q,G,Y){const K=G>>24,Q=G>>16,tt=G>>8,et=G;q[Y.offset++]=et&255,q[Y.offset++]=tt&255,q[Y.offset++]=Q&255,q[Y.offset++]=K&255}function L(q,G,Y){const K=Math.floor(G/Math.pow(2,32)),Q=G>>>0;R(q,Q,Y),R(q,K,Y)}function D(q,G,Y){const K=G/Math.pow(2,32)>>0,Q=G>>>0;R(q,Q,Y),R(q,K,Y)}function I(q,G,Y){P[0]=BigInt.asIntN(64,G),F(q,g[0],Y),F(q,g[1],Y)}function z(q,G,Y){P[0]=BigInt.asIntN(64,G),F(q,g[0],Y),F(q,g[1],Y)}function U(q,G,Y){x[0]=G,F(q,g[0],Y)}function H(q,G,Y){C[0]=G,F(q,g[0],Y),F(q,g[1],Y)}function W(q,G,Y){q[Y.offset++]=G?1:0}function N(q,G,Y){G||(G="");let K=w(G,"utf8"),Q=0;if(K<32)q[Y.offset++]=K|160,Q=1;else if(K<256)q[Y.offset++]=217,q[Y.offset++]=K%255,Q=2;else if(K<65536)q[Y.offset++]=218,A(q,K,Y),Q=3;else if(K<4294967296)q[Y.offset++]=219,R(q,K,Y),Q=5;else throw new Error("String too long");return E(q,G,Y),Q+K}function X(q,G,Y){if(isNaN(G))return X(q,0,Y);if(isFinite(G)){if(G!==(G|0))return Math.abs(G)<=34028235e31&&(x[0]=G,Math.abs(Math.abs(x[0])-Math.abs(G))<1e-4)?(q[Y.offset++]=202,U(q,G,Y),5):(q[Y.offset++]=203,H(q,G,Y),9)}else return X(q,G>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER,Y);return G>=0?G<128?(q[Y.offset++]=G&255,1):G<256?(q[Y.offset++]=204,q[Y.offset++]=G&255,2):G<65536?(q[Y.offset++]=205,A(q,G,Y),3):G<4294967296?(q[Y.offset++]=206,R(q,G,Y),5):(q[Y.offset++]=207,D(q,G,Y),9):G>=-32?(q[Y.offset++]=224|G+32,1):G>=-128?(q[Y.offset++]=208,b(q,G,Y),2):G>=-32768?(q[Y.offset++]=209,M(q,G,Y),3):G>=-2147483648?(q[Y.offset++]=210,F(q,G,Y),5):(q[Y.offset++]=211,L(q,G,Y),9)}const B={int8:b,uint8:O,int16:M,uint16:A,int32:F,uint32:R,int64:L,uint64:D,bigint64:I,biguint64:z,float32:U,float64:H,boolean:W,string:N,number:X,utf8Write:E,utf8Length:w},V=new ArrayBuffer(8),k=new Int32Array(V),j=new Float32Array(V),$=new Float64Array(V),J=new BigUint64Array(V),Z=new BigInt64Array(V);function _(q,G,Y){for(var K="",Q=0,tt=G.offset,et=G.offset+Y;tt<et;tt++){var rt=q[tt];if((rt&128)===0){K+=String.fromCharCode(rt);continue}if((rt&224)===192){K+=String.fromCharCode((rt&31)<<6|q[++tt]&63);continue}if((rt&240)===224){K+=String.fromCharCode((rt&15)<<12|(q[++tt]&63)<<6|(q[++tt]&63)<<0);continue}if((rt&248)===240){Q=(rt&7)<<18|(q[++tt]&63)<<12|(q[++tt]&63)<<6|(q[++tt]&63)<<0,Q>=65536?(Q-=65536,K+=String.fromCharCode((Q>>>10)+55296,(Q&1023)+56320)):K+=String.fromCharCode(Q);continue}console.error("Invalid byte "+rt.toString(16))}return G.offset+=Y,K}function it(q,G){return at(q,G)<<24>>24}function at(q,G){return q[G.offset++]}function st(q,G){return ft(q,G)<<16>>16}function ft(q,G){return q[G.offset++]|q[G.offset++]<<8}function ct(q,G){return q[G.offset++]|q[G.offset++]<<8|q[G.offset++]<<16|q[G.offset++]<<24}function ut(q,G){return ct(q,G)>>>0}function Et(q,G){return k[0]=ct(q,G),j[0]}function Mt(q,G){return k[0]=ct(q,G),k[1]=ct(q,G),$[0]}function At(q,G){const Y=ut(q,G);return ct(q,G)*Math.pow(2,32)+Y}function vt(q,G){const Y=ut(q,G);return ut(q,G)*Math.pow(2,32)+Y}function Ct(q,G){return k[0]=ct(q,G),k[1]=ct(q,G),Z[0]}function St(q,G){return k[0]=ct(q,G),k[1]=ct(q,G),J[0]}function kt(q,G){return at(q,G)>0}function Ht(q,G){const Y=q[G.offset++];let K;return Y<192?K=Y&31:Y===217?K=at(q,G):Y===218?K=ft(q,G):Y===219&&(K=ut(q,G)),_(q,G,K)}function re(q,G){const Y=q[G.offset++];if(Y<128)return Y;if(Y===202)return Et(q,G);if(Y===203)return Mt(q,G);if(Y===204)return at(q,G);if(Y===205)return ft(q,G);if(Y===206)return ut(q,G);if(Y===207)return vt(q,G);if(Y===208)return it(q,G);if(Y===209)return st(q,G);if(Y===210)return ct(q,G);if(Y===211)return At(q,G);if(Y>223)return(255-Y+1)*-1}function Xt(q,G){const Y=q[G.offset];return Y<192&&Y>160||Y===217||Y===218||Y===219}const Bt={utf8Read:_,int8:it,uint8:at,int16:st,uint16:ft,int32:ct,uint32:ut,float32:Et,float64:Mt,int64:At,uint64:vt,bigint64:Ct,biguint64:St,boolean:kt,string:Ht,number:re,stringCheck:Xt},he={},Ae=new Map;function jt(q,G){G.constructor&&(Ae.set(G.constructor,q),he[q]=G),G.encode&&(B[q]=G.encode),G.decode&&(Bt[q]=G.decode)}function ae(q){return he[q]}function pe(q){for(const G in q)jt(G,q[G]);return G=>ns(G)}const Ne=class Cn{static register(G){const Y=Object.getPrototypeOf(G);if(Y!==Ue){let K=Cn.inheritedTypes.get(Y);K||(K=new Set,Cn.inheritedTypes.set(Y,K)),K.add(G)}}static cache(G){let Y=Cn.cachedContexts.get(G);return Y||(Y=new Cn(G),Cn.cachedContexts.set(G,Y)),Y}constructor(G){this.types={},this.schemas=new Map,this.hasFilters=!1,this.parentFiltered={},G&&this.discoverTypes(G)}has(G){return this.schemas.has(G)}get(G){return this.types[G]}add(G,Y=this.schemas.size){return this.schemas.has(G)?!1:(this.types[Y]=G,G[Symbol.metadata]===void 0&&de.initialize(G),this.schemas.set(G,Y),!0)}getTypeId(G){return this.schemas.get(G)}discoverTypes(G,Y,K,Q){var tt,et;if(Q&&this.registerFilteredByParent(G,Y,K),!this.add(G))return;(tt=Cn.inheritedTypes.get(G))==null||tt.forEach(gt=>{this.discoverTypes(gt,Y,K,Q)});let rt=G;for(;(rt=Object.getPrototypeOf(rt))&&rt!==Ue&&rt!==Function.prototype;)this.discoverTypes(rt);const ht=G[et=Symbol.metadata]??(G[et]={});ht[c]&&(this.hasFilters=!0);for(const gt in ht){const xt=gt,wt=ht[xt].type,Tt=ht[xt].tag!==void 0;if(typeof wt!="string")if(Array.isArray(wt)){const Rt=wt[0];if(Rt==="string")continue;this.discoverTypes(Rt,G,xt,Q||Tt)}else if(typeof wt=="function")this.discoverTypes(wt,G,xt,Q||Tt);else{const Rt=Object.values(wt)[0];if(typeof Rt=="string")continue;this.discoverTypes(Rt,G,xt,Q||Tt)}}}registerFilteredByParent(G,Y,K){let Q=`${this.schemas.get(G)??this.schemas.size}`;Y&&(Q+=`-${this.schemas.get(Y)}`),Q+=`-${K}`,this.parentFiltered[Q]=!0}debug(){let G="";for(const Y in this.parentFiltered){const K=Y.split("-").map(Number),Q=K.pop();G+=`
		`,G+=`${Y}: ${K.reverse().map((tt,et)=>{const rt=this.types[tt],ht=rt[Symbol.metadata];let gt=rt.name;return et===0&&(gt+=`[${ht[Q].name}]`),`${gt}`}).join(" -> ")}`}return`TypeContext ->
	Schema types: ${this.schemas.size}
	hasFilters: ${this.hasFilters}
	parentFiltered:${G}`}};Ne.inheritedTypes=new Map,Ne.cachedContexts=new Map;let ai=Ne;function Es(q){return Array.isArray(q)?{array:q[0]}:typeof q.type<"u"?q.type:q}const de={addField(q,G,Y,K,Q){if(G>64)throw new Error(`Can't define field '${Y}'.
Schema instances may only have up to 64 fields.`);q[G]=Object.assign(q[G]||{},{type:Es(K),index:G,name:Y}),Object.defineProperty(q,h,{value:q[h]||{},enumerable:!1,configurable:!0}),Q?(q[h][Y]=Q,q[h][`_${Y}`]={value:void 0,writable:!0,enumerable:!1,configurable:!0}):q[h][Y]={value:void 0,writable:!0,enumerable:!0,configurable:!0},Object.defineProperty(q,a,{value:G,enumerable:!1,configurable:!0}),Object.defineProperty(q,Y,{value:G,enumerable:!1,configurable:!0}),typeof q[G].type!="string"&&(q[l]===void 0&&Object.defineProperty(q,l,{value:[],enumerable:!1,configurable:!0}),q[l].push(G))},setTag(q,G,Y){const K=q[G],Q=q[K];Q.tag=Y,q[c]||(Object.defineProperty(q,c,{value:[],enumerable:!1,configurable:!0}),Object.defineProperty(q,d,{value:{},enumerable:!1,configurable:!0})),q[c].push(K),q[d][Y]||(q[d][Y]=[]),q[d][Y].push(K)},setFields(q,G){const Y=q.prototype.constructor;ai.register(Y);const K=Object.getPrototypeOf(Y),Q=K&&K[Symbol.metadata],tt=de.initialize(Y);Y[n]||(Y[n]=Ue[n]),Y[y]||(Y[y]=Ue[y]),Y[S]||(Y[S]=Ue[S]),Y.prototype.toJSON||(Y.prototype.toJSON=Ue.prototype.toJSON);let et=tt[a]??(Q&&Q[a])??-1;et++;for(const rt in G){const ht=G[rt],gt=Array.isArray(ht)?ae("array"):typeof Object.keys(ht)[0]=="string"&&ae(Object.keys(ht)[0]),xt=gt?Object.values(ht)[0]:Es(ht);de.addField(tt,et,rt,ht,$g(`_${rt}`,et,xt,gt)),et++}return q},isDeprecated(q,G){return q[G].deprecated===!0},init(q){const G={};q[Symbol.metadata]=G,Object.defineProperty(G,a,{value:0,enumerable:!1,configurable:!0})},initialize(q){const G=Object.getPrototypeOf(q),Y=G[Symbol.metadata];let K=q[Symbol.metadata]??Object.create(null);return G!==Ue&&K===Y&&(K=Object.create(null),Y&&(Object.setPrototypeOf(K,Y),Object.defineProperty(K,a,{value:Y[a],enumerable:!1,configurable:!0,writable:!0}),Y[c]!==void 0&&(Object.defineProperty(K,c,{value:[...Y[c]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(K,d,{value:{...Y[d]},enumerable:!1,configurable:!0,writable:!0})),Y[l]!==void 0&&Object.defineProperty(K,l,{value:[...Y[l]],enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(K,h,{value:{...Y[h]},enumerable:!1,configurable:!0,writable:!0}))),q[Symbol.metadata]=K,K},isValidInstance(q){return q.constructor[Symbol.metadata]&&Object.prototype.hasOwnProperty.call(q.constructor[Symbol.metadata],a)},getFields(q){const G=q[Symbol.metadata],Y={};for(let K=0;K<=G[a];K++)Y[G[K].name]=G[K].type;return Y},hasViewTagAtIndex(q,G){var Y;return(Y=q?.[c])==null?void 0:Y.includes(G)}};function Vi(){return{indexes:{},operations:[]}}function Re(q,G){const Y=q.indexes[G];Y===void 0?q.indexes[G]=q.operations.push(G)-1:q.operations[Y]=G}function kg(q,G){var Y;let K=q.indexes[G];K===void 0&&(K=Object.values(q.indexes).at(-1),G=(Y=Object.entries(q.indexes).find(([Q,tt])=>tt===K))==null?void 0:Y[0]),q.operations[K]=void 0,delete q.indexes[G]}function pi(q,G,Y,K=G[Y].queueRootIndex){if(q)q[Y][K]!==G&&(G[Y].queueRootIndex=q[Y].push(G)-1);else return}class Yn{constructor(G){this.isFiltered=!1,this.indexedOperations={},this.changes={indexes:{},operations:[]},this.allChanges={indexes:{},operations:[]},this.isNew=!0,this.ref=G;const Y=G.constructor[Symbol.metadata];Y!=null&&Y[c]&&(this.allFilteredChanges={indexes:{},operations:[]},this.filteredChanges={indexes:{},operations:[]})}setRoot(G){var Y;this.root=G,this.checkIsFiltered(this.parent,this.parentIndex);const K=this.ref.constructor[Symbol.metadata];K?(Y=K[l])==null||Y.forEach(Q=>{var tt;const et=K[Q],rt=(tt=this.ref[et.name])==null?void 0:tt[o];rt&&(rt.root!==G?rt.setRoot(G):G.add(rt))}):this.ref[m]&&typeof this.ref[m]!="string"&&this.ref.forEach((Q,tt)=>{const et=Q[o];et.root!==G?et.setRoot(G):G.add(et)})}setParent(G,Y,K){var Q;if(this.parent=G,this.parentIndex=K,!Y)return;Y!==this.root?(this.root=Y,this.checkIsFiltered(G,K)):Y.add(this);const tt=this.ref.constructor[Symbol.metadata];tt?(Q=tt[l])==null||Q.forEach(et=>{var rt;const ht=tt[et],gt=(rt=this.ref[ht.name])==null?void 0:rt[o];gt&&gt.root!==Y&&gt.setParent(this.ref,Y,et)}):this.ref[m]&&typeof this.ref[m]!="string"&&this.ref.forEach((et,rt)=>{const ht=et[o];ht.root!==Y&&ht.setParent(this.ref,Y,this.indexes[rt]??rt)})}forEachChild(G){var Y;const K=this.ref.constructor[Symbol.metadata];K?(Y=K[l])==null||Y.forEach(Q=>{const tt=K[Q],et=this.ref[tt.name];et&&G(et[o],Q)}):this.ref[m]&&typeof this.ref[m]!="string"&&this.ref.forEach((Q,tt)=>{G(Q[o],this.indexes[tt]??tt)})}operation(G){this.filteredChanges!==void 0?(this.filteredChanges.operations.push(-G),pi(this.root,this,"filteredChanges")):(this.changes.operations.push(-G),pi(this.root,this,"changes"))}change(G,Y=i.OPERATION.ADD){var K;const Q=this.ref.constructor[Symbol.metadata],tt=this.isFiltered||((K=Q?.[G])==null?void 0:K.tag)!==void 0,et=tt?this.filteredChanges:this.changes,rt=this.indexedOperations[G];if(!rt||rt===i.OPERATION.DELETE){const ht=rt&&rt===i.OPERATION.DELETE?i.OPERATION.DELETE_AND_ADD:Y;this.indexedOperations[G]=ht}Re(et,G),tt?(Re(this.allFilteredChanges,G),this.root&&(pi(this.root,this,"filteredChanges"),pi(this.root,this,"allFilteredChanges"))):(Re(this.allChanges,G),pi(this.root,this,"changes"))}shiftChangeIndexes(G){const Y=this.isFiltered?this.filteredChanges:this.changes,K={},Q={};for(const tt in this.indexedOperations)K[Number(tt)+G]=this.indexedOperations[tt],Q[Number(tt)+G]=Y.indexes[tt];this.indexedOperations=K,Y.indexes=Q,Y.operations=Y.operations.map(tt=>tt+G)}shiftAllChangeIndexes(G,Y=0){this.filteredChanges!==void 0?(this._shiftAllChangeIndexes(G,Y,this.allFilteredChanges),this._shiftAllChangeIndexes(G,Y,this.allChanges)):this._shiftAllChangeIndexes(G,Y,this.allChanges)}_shiftAllChangeIndexes(G,Y=0,K){const Q={};let tt=0;for(const et in K.indexes)Q[tt++]=K.indexes[et];K.indexes=Q;for(let et=0;et<K.operations.length;et++){const rt=K.operations[et];rt>Y&&(K.operations[et]=rt+G)}}indexedOperation(G,Y,K=G){this.indexedOperations[G]=Y,this.filteredChanges!==void 0?(Re(this.allFilteredChanges,K),Re(this.filteredChanges,G),pi(this.root,this,"filteredChanges")):(Re(this.allChanges,K),Re(this.changes,G),pi(this.root,this,"changes"))}getType(G){return de.isValidInstance(this.ref)?this.ref.constructor[Symbol.metadata][G].type:this.ref[m]}getChange(G){return this.indexedOperations[G]}getValue(G,Y=!1){return this.ref[T](G,Y)}delete(G,Y,K=G){var Q;if(G===void 0){try{throw new Error(`@colyseus/schema ${this.ref.constructor.name}: trying to delete non-existing index '${G}'`)}catch(rt){console.warn(rt)}return}const tt=this.filteredChanges!==void 0?this.filteredChanges:this.changes;this.indexedOperations[G]=Y??i.OPERATION.DELETE,Re(tt,G),kg(this.allChanges,K);const et=this.getValue(G);return et&&et[o]&&((Q=this.root)==null||Q.remove(et[o])),this.filteredChanges!==void 0?(kg(this.allFilteredChanges,K),pi(this.root,this,"filteredChanges")):pi(this.root,this,"changes"),et}endEncode(G){var Y,K;this.indexedOperations={},this[G].indexes={},this[G].operations.length=0,this[G].queueRootIndex=void 0,(K=(Y=this.ref)[f])==null||K.call(Y),this.isNew=!1}discard(G=!1){var Y,K;(K=(Y=this.ref)[f])==null||K.call(Y),this.indexedOperations={},this.changes.indexes={},this.changes.operations.length=0,this.changes.queueRootIndex=void 0,this.filteredChanges!==void 0&&(this.filteredChanges.indexes={},this.filteredChanges.operations.length=0,this.filteredChanges.queueRootIndex=void 0),G&&(this.allChanges.indexes={},this.allChanges.operations.length=0,this.allFilteredChanges!==void 0&&(this.allFilteredChanges.indexes={},this.allFilteredChanges.operations.length=0))}discardAll(){const G=Object.keys(this.indexedOperations);for(let Y=0,K=G.length;Y<K;Y++){const Q=this.getValue(Number(G[Y]));Q&&Q[o]&&Q[o].discardAll()}this.discard()}ensureRefId(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())}get changed(){return Object.entries(this.indexedOperations).length>0}checkIsFiltered(G,Y){const K=this.root.add(this);this.root.types.hasFilters&&(this._checkFilteredByParent(G,Y),this.filteredChanges!==void 0&&(pi(this.root,this,"filteredChanges"),K&&this.root.allFilteredChanges.push(this))),this.isFiltered||(pi(this.root,this,"changes"),K&&this.root.allChanges.push(this))}_checkFilteredByParent(G,Y){if(!G)return;const K=de.isValidInstance(this.ref)?this.ref.constructor:this.ref[m];let Q,tt=!de.isValidInstance(G);tt?(Q=G[o],G=Q.parent,Y=Q.parentIndex):Q=G[o];const et=G.constructor;let rt=`${this.root.types.getTypeId(K)}`;et&&(rt+=`-${this.root.types.schemas.get(et)}`),rt+=`-${Y}`;const ht=de.hasViewTagAtIndex(et?.[Symbol.metadata],Y);this.isFiltered=G[o].isFiltered||this.root.types.parentFiltered[rt]||ht,this.isFiltered&&(this.isVisibilitySharedWithParent=Q.isFiltered&&typeof K!="string"&&!ht&&tt,this.filteredChanges||(this.filteredChanges=Vi(),this.allFilteredChanges=Vi()),this.changes.operations.length>0&&(this.changes.operations.forEach(gt=>Re(this.filteredChanges,gt)),this.allChanges.operations.forEach(gt=>Re(this.allFilteredChanges,gt)),this.changes=Vi(),this.allChanges=Vi()))}}function Hd(q,G,Y,K,Q,tt){var et;typeof Y=="string"?(et=B[Y])==null||et.call(B,G,K,tt):Y[Symbol.metadata]!==void 0?(B.number(G,K[o].refId,tt),(Q&i.OPERATION.ADD)===i.OPERATION.ADD&&q.tryEncodeTypeId(G,Y,K.constructor,tt)):B.number(G,K[o].refId,tt)}const Ng=function(q,G,Y,K,Q,tt,et,rt,ht){if(G[tt.offset++]=(K|Q)&255,Q===i.OPERATION.DELETE)return;const gt=Y.ref,xt=ht[K];Hd(q,G,ht[K].type,gt[xt.name],Q,tt)},Rh=function(q,G,Y,K,Q,tt){if(G[tt.offset++]=Q&255,Q===i.OPERATION.CLEAR||(B.number(G,K,tt),Q===i.OPERATION.DELETE))return;const et=Y.ref;if((Q&i.OPERATION.ADD)===i.OPERATION.ADD&&typeof et.set=="function"){const gt=Y.ref.$indexes.get(K);B.string(G,gt,tt)}const rt=et[m],ht=et[T](K);Hd(q,G,rt,ht,Q,tt)},Gg=function(q,G,Y,K,Q,tt,et,rt){const ht=Y.ref,gt=rt&&Y.isFiltered&&typeof Y.getType(K)!="string";let xt;if(gt?(xt=ht.tmpItems[K][o].refId,Q===i.OPERATION.DELETE?Q=i.OPERATION.DELETE_BY_REFID:Q===i.OPERATION.ADD&&(Q=i.OPERATION.ADD_BY_REFID)):xt=K,G[tt.offset++]=Q&255,Q===i.OPERATION.CLEAR||Q===i.OPERATION.REVERSE||(B.number(G,xt,tt),Q===i.OPERATION.DELETE||Q===i.OPERATION.DELETE_BY_REFID))return;const wt=Y.getType(K),Tt=Y.getValue(K,et);Hd(q,G,wt,Tt,Q,tt)},zg=-1;function jd(q,G,Y,K,Q,tt,et,rt){const ht=q.root,gt=Y[T](K);let xt;if((G&i.OPERATION.DELETE)===i.OPERATION.DELETE){const wt=ht.refIds.get(gt);wt!==void 0&&ht.removeRef(wt),G!==i.OPERATION.DELETE_AND_ADD&&Y[s](K),xt=void 0}if(G!==i.OPERATION.DELETE)if(Ue.is(Q)){const wt=Bt.number(tt,et);if(xt=ht.refs.get(wt),(G&i.OPERATION.ADD)===i.OPERATION.ADD){const Tt=q.getInstanceType(tt,et,Q);xt||(xt=q.createInstanceOfType(Tt)),ht.addRef(wt,xt,xt!==gt||G===i.OPERATION.DELETE_AND_ADD&&xt===gt)}}else if(typeof Q=="string")xt=Bt[Q](tt,et);else{const wt=ae(Object.keys(Q)[0]),Tt=Bt.number(tt,et),Rt=ht.refs.has(Tt)?gt||ht.refs.get(Tt):new wt.constructor;if(xt=Rt.clone(!0),xt[m]=Object.values(Q)[0],gt){let Dt=ht.refIds.get(gt);if(Dt!==void 0&&Tt!==Dt){const bt=gt.entries();let Pt;for(;(Pt=bt.next())&&!Pt.done;){const[Ft,le]=Pt.value;typeof le=="object"&&(Dt=ht.refIds.get(le),ht.removeRef(Dt)),rt.push({ref:gt,refId:Dt,op:i.OPERATION.DELETE,field:Ft,value:void 0,previousValue:le})}}}ht.addRef(Tt,xt,Rt!==gt||G===i.OPERATION.DELETE_AND_ADD&&Rt===gt)}return{value:xt,previousValue:gt}}const Ug=function(q,G,Y,K,Q){const tt=G[Y.offset++],et=K.constructor[Symbol.metadata],rt=tt>>6<<6,ht=tt%(rt||255),gt=et[ht];if(gt===void 0)return console.warn("@colyseus/schema: field not defined at",{index:ht,ref:K.constructor.name,metadata:et}),zg;const{value:xt,previousValue:wt}=jd(q,rt,K,ht,gt.type,G,Y,Q);xt!=null&&(K[gt.name]=xt),wt!==xt&&Q.push({ref:K,refId:q.currentRefId,op:rt,field:gt.name,value:xt,previousValue:wt})},Lh=function(q,G,Y,K,Q){const tt=G[Y.offset++];if(tt===i.OPERATION.CLEAR){q.removeChildRefs(K,Q),K.clear();return}const et=Bt.number(G,Y),rt=K[m];let ht;(tt&i.OPERATION.ADD)===i.OPERATION.ADD?typeof K.set=="function"?(ht=Bt.string(G,Y),K.setIndex(et,ht)):ht=et:ht=K.getIndex(et);const{value:gt,previousValue:xt}=jd(q,tt,K,et,rt,G,Y,Q);if(gt!=null){if(typeof K.set=="function")K.$items.set(ht,gt);else if(typeof K.$setAt=="function")K.$setAt(et,gt,tt);else if(typeof K.add=="function"){const wt=K.add(gt);typeof wt=="number"&&K.setIndex(wt,wt)}}xt!==gt&&Q.push({ref:K,refId:q.currentRefId,op:tt,field:"",dynamicIndex:ht,value:gt,previousValue:xt})},iw=function(q,G,Y,K,Q){let tt=G[Y.offset++],et;if(tt===i.OPERATION.CLEAR){q.removeChildRefs(K,Q),K.clear();return}else if(tt===i.OPERATION.REVERSE){K.reverse();return}else if(tt===i.OPERATION.DELETE_BY_REFID){const wt=Bt.number(G,Y),Tt=q.root.refs.get(wt);et=K.findIndex(Rt=>Rt===Tt),K[s](et),Q.push({ref:K,refId:q.currentRefId,op:i.OPERATION.DELETE,field:"",dynamicIndex:et,value:void 0,previousValue:Tt});return}else if(tt===i.OPERATION.ADD_BY_REFID){const wt=Bt.number(G,Y),Tt=q.root.refs.get(wt);Tt&&(et=K.findIndex(Rt=>Rt===Tt)),(et===-1||et===void 0)&&(et=K.length)}else et=Bt.number(G,Y);const rt=K[m];let ht=et;const{value:gt,previousValue:xt}=jd(q,tt,K,et,rt,G,Y,Q);gt!=null&&gt!==xt&&K.$setAt(et,gt,tt),xt!==gt&&Q.push({ref:K,refId:q.currentRefId,op:tt,field:"",dynamicIndex:ht,value:gt,previousValue:xt})};class Xg extends Error{}function sw(q,G,Y,K){let Q,tt=!1;switch(G){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":Q="number",isNaN(q)&&console.log(`trying to encode "NaN" in ${Y.constructor.name}#${K}`);break;case"bigint64":case"biguint64":Q="bigint";break;case"string":Q="string",tt=!0;break;case"boolean":return;default:return}if(typeof q!==Q&&(!tt||tt&&q!==null)){let et=`'${JSON.stringify(q)}'${q&&q.constructor&&` (${q.constructor.name})`||""}`;throw new Xg(`a '${Q}' was expected, but ${et} was provided in ${Y.constructor.name}#${K}`)}}function Fh(q,G,Y,K){if(!(q instanceof G))throw new Xg(`a '${G.name}' was expected, but '${q&&q.constructor.name}' was provided in ${Y.constructor.name}#${K}`)}var Vg,Yg;const rw=(q,G)=>{const Y=q.toString(),K=G.toString();return Y<K?-1:Y>K?1:0},$d=class Fr{static[(Vg=y,Yg=S,r)](G,Y,K){var Q;return!K||typeof G[m]=="string"||K.isChangeTreeVisible((Q=G.tmpItems[Y])==null?void 0:Q[o])}static is(G){return Array.isArray(G)||G.array!==void 0}static from(G){return new Fr(...Array.from(G))}constructor(...G){this.items=[],this.tmpItems=[],this.deletedIndexes={},this.isMovingItems=!1,Object.defineProperty(this,m,{value:void 0,enumerable:!1,writable:!0,configurable:!0});const Y=new Proxy(this,{get:(K,Q)=>typeof Q!="symbol"&&!isNaN(Q)?this.items[Q]:Reflect.get(K,Q),set:(K,Q,tt)=>{var et;if(typeof Q!="symbol"&&!isNaN(Q)){if(tt==null)K.$deleteAt(Q);else{if(tt[o]){Fh(tt,K[m],K,Q);const rt=K.items[Q];K.isMovingItems?(rt!==void 0?tt[o].isNew?K[o].indexedOperation(Number(Q),i.OPERATION.MOVE_AND_ADD):(K[o].getChange(Number(Q))&i.OPERATION.DELETE)===i.OPERATION.DELETE?K[o].indexedOperation(Number(Q),i.OPERATION.DELETE_AND_MOVE):K[o].indexedOperation(Number(Q),i.OPERATION.MOVE):tt[o].isNew&&K[o].indexedOperation(Number(Q),i.OPERATION.ADD),tt[o].setParent(this,K[o].root,Q)):K.$changeAt(Number(Q),tt),rt!==void 0&&((et=rt[o].root)==null||et.remove(rt[o]))}else K.$changeAt(Number(Q),tt);K.items[Q]=tt,K.tmpItems[Q]=tt}return!0}else return Reflect.set(K,Q,tt)},deleteProperty:(K,Q)=>(typeof Q=="number"?K.$deleteAt(Q):delete K[Q],!0),has:(K,Q)=>typeof Q!="symbol"&&!isNaN(Number(Q))?Reflect.has(this.items,Q):Reflect.has(K,Q)});return this[o]=new Yn(Y),this[o].indexes={},G.length>0&&this.push(...G),Y}set length(G){G===0?this.clear():G<this.items.length?this.splice(G,this.length-G):console.warn("ArraySchema: can't set .length to a higher value than its length.")}get length(){return this.items.length}push(...G){var Y;let K=this.tmpItems.length;const Q=this[o];for(let tt=0,et=G.length;tt<et;tt++,K++){const rt=G[tt];if(rt==null)return;typeof rt=="object"&&this[m]&&Fh(rt,this[m],this,tt),Q.indexedOperation(K,i.OPERATION.ADD,this.items.length),this.items.push(rt),this.tmpItems.push(rt),(Y=rt[o])==null||Y.setParent(this,Q.root,K)}return K}pop(){let G=-1;for(let Y=this.tmpItems.length-1;Y>=0;Y--)if(this.deletedIndexes[Y]!==!0){G=Y;break}if(!(G<0))return this[o].delete(G,void 0,this.items.length-1),this.deletedIndexes[G]=!0,this.items.pop()}at(G){return G<0&&(G+=this.length),this.items[G]}$changeAt(G,Y){var K;if(Y==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.items[G]===Y)return;const Q=this.items[G]!==void 0?typeof Y=="object"?i.OPERATION.DELETE_AND_ADD:i.OPERATION.REPLACE:i.OPERATION.ADD,tt=this[o];tt.change(G,Q),(K=Y[o])==null||K.setParent(this,tt.root,G)}$deleteAt(G,Y){this[o].delete(G,Y)}$setAt(G,Y,K){G===0&&K===i.OPERATION.ADD&&this.items[G]!==void 0?this.items.unshift(Y):K===i.OPERATION.DELETE_AND_MOVE?(this.items.splice(G,1),this.items[G]=Y):this.items[G]=Y}clear(){if(this.items.length===0)return;const G=this[o];G.forEachChild((Y,K)=>{var Q;(Q=G.root)==null||Q.remove(Y)}),G.discard(!0),G.operation(i.OPERATION.CLEAR),this.items.length=0,this.tmpItems.length=0}concat(...G){return new Fr(...this.items.concat(...G))}join(G){return this.items.join(G)}reverse(){return this[o].operation(i.OPERATION.REVERSE),this.items.reverse(),this.tmpItems.reverse(),this}shift(){if(this.items.length===0)return;const G=this[o],Y=this.tmpItems.findIndex(Q=>Q===this.items[0]),K=this.items.findIndex(Q=>Q===this.items[0]);return G.delete(Y,i.OPERATION.DELETE,K),G.shiftAllChangeIndexes(-1,K),this.items.shift()}slice(G,Y){const K=new Fr;return K.push(...this.items.slice(G,Y)),K}sort(G=rw){this.isMovingItems=!0;const Y=this[o];return this.items.sort(G).forEach((K,Q)=>Y.change(Q,i.OPERATION.REPLACE)),this.tmpItems.sort(G),this.isMovingItems=!1,this}splice(G,Y,...K){var Q;const tt=this[o],et=this.items.length,rt=this.tmpItems.length,ht=K.length,gt=[];for(let xt=0;xt<rt;xt++)this.deletedIndexes[xt]!==!0&&gt.push(xt);if(et>G){Y===void 0&&(Y=et-G);for(let xt=G;xt<G+Y;xt++){const wt=gt[xt];tt.delete(wt,i.OPERATION.DELETE),this.deletedIndexes[wt]=!0}}else Y=0;if(ht>0){if(ht>Y)throw console.error("Inserting more elements than deleting during ArraySchema#splice()"),new Error("ArraySchema#splice(): insertCount must be equal or lower than deleteCount.");for(let xt=0;xt<ht;xt++){const wt=(gt[G]??et)+xt;tt.indexedOperation(wt,this.deletedIndexes[wt]?i.OPERATION.DELETE_AND_ADD:i.OPERATION.ADD),(Q=K[xt][o])==null||Q.setParent(this,tt.root,wt)}}return Y>ht&&tt.shiftAllChangeIndexes(-(Y-ht),gt[G+ht]),tt.filteredChanges!==void 0?pi(tt.root,tt,"filteredChanges"):pi(tt.root,tt,"changes"),this.items.splice(G,Y,...K)}unshift(...G){const Y=this[o];return Y.shiftChangeIndexes(G.length),Y.isFiltered?Re(Y.filteredChanges,this.items.length):Re(Y.allChanges,this.items.length),G.forEach((K,Q)=>{Y.change(Q,i.OPERATION.ADD)}),this.tmpItems.unshift(...G),this.items.unshift(...G)}indexOf(G,Y){return this.items.indexOf(G,Y)}lastIndexOf(G,Y=this.length-1){return this.items.lastIndexOf(G,Y)}every(G,Y){return this.items.every(G,Y)}some(G,Y){return this.items.some(G,Y)}forEach(G,Y){return this.items.forEach(G,Y)}map(G,Y){return this.items.map(G,Y)}filter(G,Y){return this.items.filter(G,Y)}reduce(G,Y){return this.items.reduce(G,Y)}reduceRight(G,Y){return this.items.reduceRight(G,Y)}find(G,Y){return this.items.find(G,Y)}findIndex(G,Y){return this.items.findIndex(G,Y)}fill(G,Y,K){throw new Error("ArraySchema#fill() not implemented")}copyWithin(G,Y,K){throw new Error("ArraySchema#copyWithin() not implemented")}toString(){return this.items.toString()}toLocaleString(){return this.items.toLocaleString()}[Symbol.iterator](){return this.items[Symbol.iterator]()}static get[Symbol.species](){return Fr}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}includes(G,Y){return this.items.includes(G,Y)}flatMap(G,Y){throw new Error("ArraySchema#flatMap() is not supported.")}flat(G){throw new Error("ArraySchema#flat() is not supported.")}findLast(){return this.items.findLast.apply(this.items,arguments)}findLastIndex(...G){return this.items.findLastIndex.apply(this.items,arguments)}with(G,Y){const K=this.items.slice();return G<0&&(G+=this.length),K[G]=Y,new Fr(...K)}toReversed(){return this.items.slice().reverse()}toSorted(G){return this.items.slice().sort(G)}toSpliced(G,Y,...K){return this.items.toSpliced.apply(copy,arguments)}shuffle(){return this.move(G=>{let Y=this.items.length;for(;Y!=0;){let K=Math.floor(Math.random()*Y);Y--,[this[Y],this[K]]=[this[K],this[Y]]}})}move(G){return this.isMovingItems=!0,G(this),this.isMovingItems=!1,this}[T](G,Y=!1){return Y?this.items[G]:this.deletedIndexes[G]?this.items[G]:this.tmpItems[G]||this.items[G]}[s](G){this.items[G]=void 0,this.tmpItems[G]=void 0}[f](){this.tmpItems=this.items.slice(),this.deletedIndexes={}}[u](){this.items=this.items.filter(G=>G!==void 0),this.tmpItems=this.items.slice()}toArray(){return this.items.slice(0)}toJSON(){return this.toArray().map(G=>typeof G.toJSON=="function"?G.toJSON():G)}clone(G){let Y;return G?(Y=new Fr,Y.push(...this.items)):Y=new Fr(...this.map(K=>K[o]?K.clone():K)),Y}};$d[Vg]=Gg,$d[Yg]=iw;let vr=$d;jt("array",{constructor:vr});var Wg,Hg;const Kd=class Ao{static[(Wg=y,Hg=S,r)](G,Y,K){return!K||typeof G[m]=="string"||K.isChangeTreeVisible((G[T](Y)??G.deletedItems[Y])[o])}static is(G){return G.map!==void 0}constructor(G){if(this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this[o]=new Yn(this),this[o].indexes={},G)if(G instanceof Map||G instanceof Ao)G.forEach((Y,K)=>this.set(K,Y));else for(const Y in G)this.set(Y,G[Y]);Object.defineProperty(this,m,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}[Symbol.iterator](){return this.$items[Symbol.iterator]()}get[Symbol.toStringTag](){return this.$items[Symbol.toStringTag]}static get[Symbol.species](){return Ao}set(G,Y){var K;if(Y==null)throw new Error(`MapSchema#set('${G}', ${Y}): trying to set ${Y} value on '${G}'.`);typeof Y=="object"&&this[m]&&Fh(Y,this[m],this,G),G=G.toString();const Q=this[o],tt=Y[o]!==void 0;let et,rt;if(typeof Q.indexes[G]<"u"){et=Q.indexes[G],rt=i.OPERATION.REPLACE;const ht=this.$items.get(G);if(ht===Y)return;tt&&(rt=i.OPERATION.DELETE_AND_ADD,ht!==void 0&&((K=ht[o].root)==null||K.remove(ht[o])))}else et=Q.indexes[a]??0,rt=i.OPERATION.ADD,this.$indexes.set(et,G),Q.indexes[G]=et,Q.indexes[a]=et+1;return this.$items.set(G,Y),Q.change(et,rt),tt&&Y[o].setParent(this,Q.root,et),this}get(G){return this.$items.get(G)}delete(G){const Y=this[o].indexes[G];return this.deletedItems[Y]=this[o].delete(Y),this.$items.delete(G)}clear(){const G=this[o];G.discard(!0),G.indexes={},G.forEachChild((Y,K)=>{var Q;(Q=G.root)==null||Q.remove(Y)}),this.$indexes.clear(),this.$items.clear(),G.operation(i.OPERATION.CLEAR)}has(G){return this.$items.has(G)}forEach(G){this.$items.forEach(G)}entries(){return this.$items.entries()}keys(){return this.$items.keys()}values(){return this.$items.values()}get size(){return this.$items.size}setIndex(G,Y){this.$indexes.set(G,Y)}getIndex(G){return this.$indexes.get(G)}[T](G){return this.$items.get(this.$indexes.get(G))}[s](G){const Y=this.$indexes.get(G);this.$items.delete(Y),this.$indexes.delete(G)}[f](){this.deletedItems={}}toJSON(){const G={};return this.forEach((Y,K)=>{G[K]=typeof Y.toJSON=="function"?Y.toJSON():Y}),G}clone(G){let Y;return G?Y=Object.assign(new Ao,this):(Y=new Ao,this.forEach((K,Q)=>{K[o]?Y.set(Q,K.clone()):Y.set(Q,K)})),Y}};Kd[Wg]=Rh,Kd[Hg]=Lh;let Wn=Kd;jt("map",{constructor:Wn});const js=-1;function nw(q){return ai.register(q),q}function jg(q=js){return function(G,Y){var K;const Q=G.constructor,tt=Object.getPrototypeOf(Q)[Symbol.metadata],et=Q[K=Symbol.metadata]??(Q[K]=Object.assign({},Q[Symbol.metadata],tt??Object.create(null)));de.setTag(et,Y,q)}}function ns(q,G){return function(Y,K){const Q=Y.constructor;if(!q)throw new Error(`${Q.name}: @type() reference provided for "${K}" is undefined. Make sure you don't have any circular dependencies.`);ai.register(Q);const tt=Object.getPrototypeOf(Q)[Symbol.metadata],et=de.initialize(Q);let rt=et[K];if(et[rt]!==void 0){if(et[rt].deprecated)return;if(et[rt].type!==void 0)try{throw new Error(`@colyseus/schema: Duplicate '${K}' definition on '${Q.name}'.
Check @type() annotation`)}catch(ht){const gt=ht.stack.split(`
`)[4].trim();throw new Error(`${ht.message} ${gt}`)}}else rt=et[a]??(tt&&tt[a])??-1,rt++;if(G&&G.manual)de.addField(et,rt,K,q,{enumerable:!0,configurable:!0,writable:!0});else{const ht=Array.isArray(q)?ae("array"):typeof Object.keys(q)[0]=="string"&&ae(Object.keys(q)[0]),gt=ht?Object.values(q)[0]:q;de.addField(et,rt,K,q,$g(`_${K}`,rt,gt,ht))}}}function $g(q,G,Y,K){return{get:function(){return this[q]},set:function(Q){var tt,et;const rt=this[q]??void 0;if(Q!==rt){if(Q!=null){K?(K.constructor===vr&&!(Q instanceof vr)&&(Q=new vr(...Q)),K.constructor===Wn&&!(Q instanceof Wn)&&(Q=new Wn(Q)),Q[m]=Y):typeof Y!="string"?Fh(Q,Y,this,q.substring(1)):sw(Q,Y,this,q.substring(1));const ht=this[o];rt!==void 0&&rt[o]?((tt=ht.root)==null||tt.remove(rt[o]),this.constructor[n](ht,G,i.OPERATION.DELETE_AND_ADD)):this.constructor[n](ht,G,i.OPERATION.ADD),(et=Q[o])==null||et.setParent(this,ht.root,G)}else rt!==void 0&&this[o].delete(G);this[q]=Q}},enumerable:!0,configurable:!0}}function aw(q=!0){return function(G,Y){var K;const Q=G.constructor,tt=Object.getPrototypeOf(Q)[Symbol.metadata],et=Q[K=Symbol.metadata]??(Q[K]=Object.assign({},Q[Symbol.metadata],tt??Object.create(null))),rt=et[Y];et[rt].deprecated=!0,q&&(et[h]??(et[h]={}),et[h][Y]={get:function(){throw new Error(`${Y} is deprecated.`)},set:function(ht){},enumerable:!1,configurable:!0}),Object.defineProperty(et,rt,{value:et[rt],enumerable:!1,configurable:!0})}}function ow(q,G,Y){for(let K in G)ns(G[K],Y)(q.prototype,K);return q}function Kg(q,G,Y=Ue){const K={},Q={};for(let et in q){const rt=q[et];typeof rt=="object"&&(rt.default!==void 0&&(K[et]=rt.default),rt.view!==void 0&&(Q[et]=typeof rt.view=="boolean"?js:rt.view))}const tt=de.setFields(class extends Y{constructor(...et){et[0]=Object.assign({},K,et[0]),super(...et)}},q);for(let et in Q)jg(Q[et])(tt.prototype,et);return G&&Object.defineProperty(tt,"name",{value:G}),tt.extends=(et,rt)=>Kg(et,rt,tt),tt}function Dh(q){return new Array(q).fill(0).map((G,Y)=>Y===q-1?" ":"   ").join("")}function hw(q){const G=q[o].root,Y={ops:{},refs:[]};return G.changes.forEach(K=>{if(K===void 0)return;const Q=K.indexedOperations;Y.refs.push(`refId#${K.refId}`);for(const tt in Q){const et=Q[tt],rt=i.OPERATION[et];Y.ops[rt]||(Y.ops[rt]=0),Y.ops[i.OPERATION[et]]++}}),Y}var Jg,Zg;const Jd=class $T{static initialize(G){var Y;Object.defineProperty(G,o,{value:new Yn(G),enumerable:!1,writable:!0}),Object.defineProperties(G,((Y=G.constructor[Symbol.metadata])==null?void 0:Y[h])||{})}static is(G){return typeof G[Symbol.metadata]=="object"}static[(Jg=y,Zg=S,n)](G,Y,K=i.OPERATION.ADD){G.change(Y,K)}static[r](G,Y,K){var Q,tt;const et=(Q=G.constructor[Symbol.metadata][Y])==null?void 0:Q.tag;if(K===void 0)return et===void 0;if(et===void 0)return!0;if(et===js)return K.isChangeTreeVisible(G[o]);{const rt=(tt=K.tags)==null?void 0:tt.get(G[o]);return rt&&rt.has(et)}}constructor(...G){$T.initialize(this),G[0]&&Object.assign(this,G[0])}assign(G){return Object.assign(this,G),this}setDirty(G,Y){const K=this.constructor[Symbol.metadata];this[o].change(K[K[G]].index,Y)}clone(){var G;const Y=new this.constructor,K=this.constructor[Symbol.metadata];for(const Q in K){const tt=K[Q].name;typeof this[tt]=="object"&&typeof((G=this[tt])==null?void 0:G.clone)=="function"?Y[tt]=this[tt].clone():Y[tt]=this[tt]}return Y}toJSON(){const G={},Y=this.constructor[Symbol.metadata];for(const K in Y){const Q=Y[K],tt=Q.name;!Q.deprecated&&this[tt]!==null&&typeof this[tt]<"u"&&(G[tt]=typeof this[tt].toJSON=="function"?this[tt].toJSON():this[tt])}return G}discardAllChanges(){this[o].discardAll()}[T](G){const Y=this.constructor[Symbol.metadata];return this[Y[G].name]}[s](G){const Y=this.constructor[Symbol.metadata];this[Y[G].name]=void 0}static debugRefIds(G,Y=!1,K=0,Q){var tt;const et=Y?` - ${JSON.stringify(G.toJSON())}`:"",rt=G[o],ht=Q?Q.root.refIds.get(G):rt.refId,gt=Q?Q.root:rt.root,xt=((tt=gt?.refCount)==null?void 0:tt[ht])>1?` [${gt.refCount[ht]}]`:"";let wt=`${Dh(K)}${G.constructor.name} (refId: ${ht})${xt}${et}
`;return rt.forEachChild(Tt=>wt+=this.debugRefIds(Tt.ref,Y,K+1,Q)),wt}static debugRefIdsDecoder(G){return this.debugRefIds(G.state,!1,0,G)}static debugChanges(G,Y=!1){const K=G[o],Q=Y?K.allChanges:K.changes,tt=Y?"allChanges":"changes";let et=`${G.constructor.name} (${K.refId}) -> .${tt}:
`;function rt(ht){ht.operations.filter(gt=>gt).forEach(gt=>{const xt=K.indexedOperations[gt];console.log({index:gt,operation:xt}),et+=`- [${gt}]: ${i.OPERATION[xt]} (${JSON.stringify(K.getValue(Number(gt),Y))})
`})}return rt(Q),!Y&&K.filteredChanges&&K.filteredChanges.operations.filter(ht=>ht).length>0&&(et+=`${G.constructor.name} (${K.refId}) -> .filteredChanges:
`,rt(K.filteredChanges)),Y&&K.allFilteredChanges&&K.allFilteredChanges.operations.filter(ht=>ht).length>0&&(et+=`${G.constructor.name} (${K.refId}) -> .allFilteredChanges:
`,rt(K.allFilteredChanges)),et}static debugChangesDeep(G,Y="changes"){var K,Q;let tt="";const et=G[o],rt=et.root,ht=new Map,gt=[];let xt=0;for(const[Tt,Rt]of Object.entries(rt[Y])){const Dt=rt.changeTrees[Tt];let bt=!1,Pt=[],Ft=(K=Dt.parent)==null?void 0:K[o];if(Dt===et)bt=!0;else for(;Ft!==void 0;){if(Pt.push(Ft),Ft.ref===G){bt=!0;break}Ft=(Q=Ft.parent)==null?void 0:Q[o]}bt&&(gt.push(Dt.refId),xt+=Object.keys(Rt).length,ht.set(Dt,Pt.reverse()))}tt+=`---
`,tt+=`root refId: ${et.refId}
`,tt+=`Total instances: ${gt.length} (refIds: ${gt.join(", ")})
`,tt+=`Total changes: ${xt}
`,tt+=`---
`;const wt=new WeakSet;for(const[Tt,Rt]of ht.entries()){Rt.forEach((le,Xe)=>{wt.has(le)||(tt+=`${Dh(Xe)}${le.ref.constructor.name} (refId: ${le.refId})
`,wt.add(le))});const Dt=Tt.indexedOperations,bt=Rt.length,Pt=Dh(bt),Ft=bt>0?`(${Tt.parentIndex}) `:"";tt+=`${Pt}${Ft}${Tt.ref.constructor.name} (refId: ${Tt.refId}) - changes: ${Object.keys(Dt).length}
`;for(const le in Dt){const Xe=Dt[le];tt+=`${Dh(bt+1)}${i.OPERATION[Xe]}: ${le}
`}}return`${tt}`}};Jd[Jg]=Ng,Jd[Zg]=Ug;let Ue=Jd;var Qg,qg;const Zd=class cv{static[(Qg=y,qg=S,r)](G,Y,K){return!K||typeof G[m]=="string"||K.isChangeTreeVisible((G[T](Y)??G.deletedItems[Y])[o])}static is(G){return G.collection!==void 0}constructor(G){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[o]=new Yn(this),this[o].indexes={},G&&G.forEach(Y=>this.add(Y)),Object.defineProperty(this,m,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(G){const Y=this.$refId++;return G[o]!==void 0&&G[o].setParent(this,this[o].root,Y),this[o].indexes[Y]=Y,this.$indexes.set(Y,Y),this.$items.set(Y,G),this[o].change(Y),Y}at(G){const Y=Array.from(this.$items.keys())[G];return this.$items.get(Y)}entries(){return this.$items.entries()}delete(G){const Y=this.$items.entries();let K,Q;for(;(Q=Y.next())&&!Q.done;)if(G===Q.value[1]){K=Q.value[0];break}return K===void 0?!1:(this.deletedItems[K]=this[o].delete(K),this.$indexes.delete(K),this.$items.delete(K))}clear(){const G=this[o];G.discard(!0),G.indexes={},G.forEachChild((Y,K)=>{var Q;(Q=G.root)==null||Q.remove(Y)}),this.$indexes.clear(),this.$items.clear(),G.operation(i.OPERATION.CLEAR)}has(G){return Array.from(this.$items.values()).some(Y=>Y===G)}forEach(G){this.$items.forEach((Y,K,Q)=>G(Y,K,this))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(G,Y){this.$indexes.set(G,Y)}getIndex(G){return this.$indexes.get(G)}[T](G){return this.$items.get(this.$indexes.get(G))}[s](G){const Y=this.$indexes.get(G);this.$items.delete(Y),this.$indexes.delete(G)}[f](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const G=[];return this.forEach((Y,K)=>{G.push(typeof Y.toJSON=="function"?Y.toJSON():Y)}),G}clone(G){let Y;return G?Y=Object.assign(new cv,this):(Y=new cv,this.forEach(K=>{K[o]?Y.add(K.clone()):Y.add(K)})),Y}};Zd[Qg]=Rh,Zd[qg]=Lh;let Qd=Zd;jt("collection",{constructor:Qd});var _g,t0;const qd=class vv{static[(_g=y,t0=S,r)](G,Y,K){return!K||typeof G[m]=="string"||K.visible.has((G[T](Y)??G.deletedItems[Y])[o])}static is(G){return G.set!==void 0}constructor(G){this.$items=new Map,this.$indexes=new Map,this.deletedItems={},this.$refId=0,this[o]=new Yn(this),this[o].indexes={},G&&G.forEach(Y=>this.add(Y)),Object.defineProperty(this,m,{value:void 0,enumerable:!1,writable:!0,configurable:!0})}add(G){var Y;if(this.has(G))return!1;const K=this.$refId++;G[o]!==void 0&&G[o].setParent(this,this[o].root,K);const Q=((Y=this[o].indexes[K])==null?void 0:Y.op)??i.OPERATION.ADD;return this[o].indexes[K]=K,this.$indexes.set(K,K),this.$items.set(K,G),this[o].change(K,Q),K}entries(){return this.$items.entries()}delete(G){const Y=this.$items.entries();let K,Q;for(;(Q=Y.next())&&!Q.done;)if(G===Q.value[1]){K=Q.value[0];break}return K===void 0?!1:(this.deletedItems[K]=this[o].delete(K),this.$indexes.delete(K),this.$items.delete(K))}clear(){const G=this[o];G.discard(!0),G.indexes={},this.$indexes.clear(),this.$items.clear(),G.operation(i.OPERATION.CLEAR)}has(G){const Y=this.$items.values();let K=!1,Q;for(;(Q=Y.next())&&!Q.done;)if(G===Q.value){K=!0;break}return K}forEach(G){this.$items.forEach((Y,K,Q)=>G(Y,K,this))}values(){return this.$items.values()}get size(){return this.$items.size}[Symbol.iterator](){return this.$items.values()}setIndex(G,Y){this.$indexes.set(G,Y)}getIndex(G){return this.$indexes.get(G)}[T](G){return this.$items.get(this.$indexes.get(G))}[s](G){const Y=this.$indexes.get(G);this.$items.delete(Y),this.$indexes.delete(G)}[f](){this.deletedItems={}}toArray(){return Array.from(this.$items.values())}toJSON(){const G=[];return this.forEach((Y,K)=>{G.push(typeof Y.toJSON=="function"?Y.toJSON():Y)}),G}clone(G){let Y;return G?Y=Object.assign(new vv,this):(Y=new vv,this.forEach(K=>{K[o]?Y.add(K.clone()):Y.add(K)})),Y}};qd[_g]=Rh,qd[t0]=Lh;let _d=qd;jt("set",{constructor:_d});function pr(q,G,Y,K){var Q=arguments.length,tt=Q<3?G:K,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")tt=Reflect.decorate(q,G,Y,K);else for(var rt=q.length-1;rt>=0;rt--)(et=q[rt])&&(tt=(Q<3?et(tt):Q>3?et(G,Y,tt):et(G,Y))||tt);return Q>3&&tt&&Object.defineProperty(G,Y,tt),tt}typeof SuppressedError=="function"&&SuppressedError;class lw{constructor(G){this.types=G,this.nextUniqueId=0,this.refCount={},this.changeTrees={},this.allChanges=[],this.allFilteredChanges=[],this.changes=[],this.filteredChanges=[]}getNextUniqueId(){return this.nextUniqueId++}add(G){G.ensureRefId();const Y=this.changeTrees[G.refId]===void 0;Y&&(this.changeTrees[G.refId]=G);const K=this.refCount[G.refId];if(K===0){const Q=G.allChanges.operations;let tt=Q.length;for(;tt--;)G.indexedOperations[Q[tt]]=i.OPERATION.ADD,Re(G.changes,tt)}return this.refCount[G.refId]=(K||0)+1,Y}remove(G){const Y=this.refCount[G.refId]-1;return Y<=0?(G.root=void 0,delete this.changeTrees[G.refId],this.removeChangeFromChangeSet("allChanges",G),this.removeChangeFromChangeSet("changes",G),G.filteredChanges&&(this.removeChangeFromChangeSet("allFilteredChanges",G),this.removeChangeFromChangeSet("filteredChanges",G)),this.refCount[G.refId]=0,G.forEachChild((K,Q)=>this.remove(K))):(this.refCount[G.refId]=Y,G.filteredChanges!==void 0?(this.removeChangeFromChangeSet("filteredChanges",G),pi(this,G,"filteredChanges")):(this.removeChangeFromChangeSet("changes",G),pi(this,G,"changes"))),Y}removeChangeFromChangeSet(G,Y){const K=this[G],Q=K.indexOf(Y);if(Q!==-1)return Y[G].queueRootIndex=-1,K[Q]=void 0,!0}clear(){this.changes.length=0}}const e0=class KT{constructor(G){this.sharedBuffer=Buffer.allocUnsafe(KT.BUFFER_SIZE),this.context=ai.cache(G.constructor),this.root=new lw(this.context),this.setState(G)}setState(G){this.state=G,this.state[o].setRoot(this.root)}encode(G={offset:0},Y,K=this.sharedBuffer,Q="changes",tt=Q==="allChanges",et=G.offset){const rt=Y!==void 0,ht=this.state[o],gt=this.root[Q];for(let xt=0,wt=gt.length;xt<wt;xt++){const Tt=gt[xt];if(!Tt)continue;if(rt){if(!Y.isChangeTreeVisible(Tt)){Y.invisible.add(Tt);continue}Y.invisible.delete(Tt)}const Rt=Tt[Q],Dt=Tt.ref,bt=Rt.operations.length;if(bt===0)continue;const Pt=Dt.constructor,Ft=Pt[y],le=Pt[r],Xe=Pt[Symbol.metadata];(rt||G.offset>et||Tt!==ht)&&(K[G.offset++]=255,B.number(K,Tt.refId,G));for(let gi=0;gi<bt;gi++){const ti=Rt.operations[gi],gr=ti<0?Math.abs(ti):tt?i.OPERATION.ADD:Tt.indexedOperations[ti];ti===void 0||gr===void 0||le&&!le(Dt,ti,Y)||Ft(this,K,Tt,ti,gr,G,tt,rt,Xe)}}if(G.offset>K.byteLength){const xt=Math.ceil(G.offset/(Buffer.poolSize??8192))*(Buffer.poolSize??8192);return console.warn(`@colyseus/schema buffer overflow. Encoded state is higher than default BUFFER_SIZE. Use the following to increase default BUFFER_SIZE:

    import { Encoder } from "@colyseus/schema";
    Encoder.BUFFER_SIZE = ${Math.round(xt/1024)} * 1024; // ${Math.round(xt/1024)} KB
`),K=Buffer.alloc(xt,K),K===this.sharedBuffer&&(this.sharedBuffer=K),this.encode({offset:et},Y,K,Q,tt)}else return K.subarray(0,G.offset)}encodeAll(G={offset:0},Y=this.sharedBuffer){return this.encode(G,void 0,Y,"allChanges",!0)}encodeAllView(G,Y,K,Q=this.sharedBuffer){const tt=K.offset;return this.encode(K,G,Q,"allFilteredChanges",!0,tt),Buffer.concat([Q.subarray(0,Y),Q.subarray(tt,K.offset)])}debugChanges(G){(typeof G=="string"?this.root[G]:G).forEach(Y=>{const K=Y[G],Q=Y.ref.constructor[Symbol.metadata];console.log("->",{ref:Y.ref.constructor.name,refId:Y.refId,changes:Object.keys(K).length});for(const tt in K){const et=K[tt];console.log("  ->",{index:tt,field:Q?.[tt],op:i.OPERATION[et]})}})}encodeView(G,Y,K,Q=this.sharedBuffer){const tt=K.offset;for(const[et,rt]of G.changes){const ht=this.root.changeTrees[et];if(ht===void 0){G.changes.delete(et);continue}const gt=Object.keys(rt);if(gt.length===0)continue;const xt=ht.ref.constructor,wt=xt[y],Tt=xt[Symbol.metadata];Q[K.offset++]=255,B.number(Q,ht.refId,K);for(let Rt=0,Dt=gt.length;Rt<Dt;Rt++){const bt=Number(gt[Rt]),Pt=ht.ref[T](bt)!==void 0&&rt[bt]||i.OPERATION.DELETE;wt(this,Q,ht,bt,Pt,K,!1,!0,Tt)}}return G.changes.clear(),this.encode(K,G,Q,"filteredChanges",!1,tt),Buffer.concat([Q.subarray(0,Y),Q.subarray(tt,K.offset)])}discardChanges(){var G,Y;let K=this.root.changes.length;if(K>0){for(;K--;)(G=this.root.changes[K])==null||G.endEncode("changes");this.root.changes.length=0}if(K=this.root.filteredChanges.length,K>0){for(;K--;)(Y=this.root.filteredChanges[K])==null||Y.endEncode("filteredChanges");this.root.filteredChanges.length=0}}tryEncodeTypeId(G,Y,K,Q){const tt=this.context.getTypeId(Y),et=this.context.getTypeId(K);if(et===void 0){console.warn(`@colyseus/schema WARNING: Class "${K.name}" is not registered on TypeRegistry - Please either tag the class with @entity or define a @type() field.`);return}tt!==et&&(G[Q.offset++]=213,B.number(G,et,Q))}get hasChanges(){return this.root.changes.length>0||this.root.filteredChanges.length>0}};e0.BUFFER_SIZE=typeof Buffer<"u"&&Buffer.poolSize||8*1024;let i0=e0;function s0(q,G){if(G===-1||G>=q.length)return!1;const Y=q.length-1;for(let K=G;K<Y;K++)q[K]=q[K+1];return q.length=Y,!0}class r0 extends Error{constructor(G){super(G),this.name="DecodingWarning"}}class uw{constructor(){this.refs=new Map,this.refIds=new WeakMap,this.refCount={},this.deletedRefs=new Set,this.callbacks={},this.nextUniqueId=0}getNextUniqueId(){return this.nextUniqueId++}addRef(G,Y,K=!0){this.refs.set(G,Y),this.refIds.set(Y,G),K&&(this.refCount[G]=(this.refCount[G]||0)+1),this.deletedRefs.has(G)&&this.deletedRefs.delete(G)}removeRef(G){const Y=this.refCount[G];if(Y===void 0){try{throw new r0("trying to remove refId that doesn't exist: "+G)}catch(K){console.warn(K)}return}if(Y===0){try{const K=this.refs.get(G);throw new r0(`trying to remove refId '${G}' with 0 refCount (${K.constructor.name}: ${JSON.stringify(K)})`)}catch(K){console.warn(K)}return}(this.refCount[G]=Y-1)<=0&&this.deletedRefs.add(G)}clearRefs(){this.refs.clear(),this.deletedRefs.clear(),this.callbacks={},this.refCount={}}garbageCollectDeletedRefs(){this.deletedRefs.forEach(G=>{if(this.refCount[G]>0)return;const Y=this.refs.get(G);if(Y.constructor[Symbol.metadata]!==void 0){const K=Y.constructor[Symbol.metadata];for(const Q in K){const tt=K[Q].name,et=typeof Y[tt]=="object"&&this.refIds.get(Y[tt]);et&&!this.deletedRefs.has(et)&&this.removeRef(et)}}else typeof Y[m]=="function"&&Array.from(Y.values()).forEach(K=>{const Q=this.refIds.get(K);this.deletedRefs.has(Q)||this.removeRef(Q)});this.refs.delete(G),delete this.refCount[G],delete this.callbacks[G]}),this.deletedRefs.clear()}addCallback(G,Y,K){if(G===void 0){const Q=typeof Y=="number"?i.OPERATION[Y]:Y;throw new Error(`Can't addCallback on '${Q}' (refId is undefined)`)}return this.callbacks[G]||(this.callbacks[G]={}),this.callbacks[G][Y]||(this.callbacks[G][Y]=[]),this.callbacks[G][Y].push(K),()=>this.removeCallback(G,Y,K)}removeCallback(G,Y,K){var Q,tt,et;const rt=(et=(tt=(Q=this.callbacks)==null?void 0:Q[G])==null?void 0:tt[Y])==null?void 0:et.indexOf(K);rt!==void 0&&rt!==-1&&s0(this.callbacks[G][Y],rt)}}class tf{constructor(G,Y){this.currentRefId=0,this.setState(G),this.context=Y||new ai(G.constructor)}setState(G){this.state=G,this.root=new uw,this.root.addRef(0,G)}decode(G,Y={offset:0},K=this.state){var Q,tt,et;const rt=[],ht=this.root,gt=G.byteLength;let xt=K.constructor[S];for(this.currentRefId=0;Y.offset<gt;){if(G[Y.offset]==255){Y.offset++;const wt=Bt.number(G,Y),Tt=ht.refs.get(wt);Tt||(console.error(`"refId" not found: ${wt}`,{previousRef:K,previousRefId:this.currentRefId}),console.warn("Please report this to the developers. All refIds =>"),console.warn(Ue.debugRefIdsDecoder(this)),this.skipCurrentStructure(G,Y,gt)),(Q=K[u])==null||Q.call(K),this.currentRefId=wt,K=Tt,xt=K.constructor[S];continue}if(xt(this,G,Y,K,rt)===zg){console.warn("@colyseus/schema: definition mismatch"),this.skipCurrentStructure(G,Y,gt);continue}}return(tt=K[u])==null||tt.call(K),(et=this.triggerChanges)==null||et.call(this,rt),ht.garbageCollectDeletedRefs(),rt}skipCurrentStructure(G,Y,K){const Q={offset:Y.offset};for(;Y.offset<K&&!(G[Y.offset]===255&&(Q.offset=Y.offset+1,this.root.refs.has(Bt.number(G,Q))));)Y.offset++}getInstanceType(G,Y,K){let Q;if(G[Y.offset]===213){Y.offset++;const tt=Bt.number(G,Y);Q=this.context.get(tt)}return Q||K}createInstanceOfType(G){return new G}removeChildRefs(G,Y){const K=typeof G[m]!="string",Q=this.root.refIds.get(G);G.forEach((tt,et)=>{Y.push({ref:G,refId:Q,op:i.OPERATION.DELETE,field:et,value:void 0,previousValue:tt}),K&&this.root.removeRef(this.root.refIds.get(tt))})}}class Hn extends Ue{}pr([ns("string")],Hn.prototype,"name",void 0),pr([ns("string")],Hn.prototype,"type",void 0),pr([ns("number")],Hn.prototype,"referencedType",void 0);class jn extends Ue{constructor(){super(...arguments),this.fields=new vr}}pr([ns("number")],jn.prototype,"id",void 0),pr([ns("number")],jn.prototype,"extendsId",void 0),pr([ns([Hn])],jn.prototype,"fields",void 0);class $n extends Ue{constructor(){super(...arguments),this.types=new vr}static encode(G,Y={offset:0}){const K=G.context,Q=new $n,tt=new i0(Q),et=K.schemas.get(G.state.constructor);et>0&&(Q.rootType=et);const rt=new Set,ht={},gt=wt=>{if(wt.extendsId===void 0||rt.has(wt.extendsId)){rt.add(wt.id),Q.types.push(wt);const Tt=ht[wt.id];Tt!==void 0&&(delete ht[wt.id],Tt.forEach(Rt=>gt(Rt)))}else ht[wt.extendsId]===void 0&&(ht[wt.extendsId]=[]),ht[wt.extendsId].push(wt)};K.schemas.forEach((wt,Tt)=>{const Rt=new jn;Rt.id=Number(wt);const Dt=Object.getPrototypeOf(Tt);Dt!==Ue&&(Rt.extendsId=K.schemas.get(Dt));const bt=Tt[Symbol.metadata];if(bt!==Dt[Symbol.metadata])for(const Pt in bt){const Ft=Number(Pt),le=bt[Ft].name;if(!Object.prototype.hasOwnProperty.call(bt,le))continue;const Xe=new Hn;Xe.name=le;let gi;const ti=bt[Ft];if(typeof ti.type=="string")gi=ti.type;else{let gr;Ue.is(ti.type)?(gi="ref",gr=ti.type):(gi=Object.keys(ti.type)[0],typeof ti.type[gi]=="string"?gi+=":"+ti.type[gi]:gr=ti.type[gi]),Xe.referencedType=gr?K.getTypeId(gr):-1}Xe.type=gi,Rt.fields.push(Xe)}gt(Rt)});for(const wt in ht)ht[wt].forEach(Tt=>Q.types.push(Tt));const xt=tt.encodeAll(Y);return Buffer.from(xt,0,Y.offset)}static decode(G,Y){const K=new $n;new tf(K).decode(G,Y);const Q=new ai;K.types.forEach(rt=>{const ht=Q.get(rt.extendsId)??Ue,gt=class extends ht{};ai.register(gt),Q.add(gt,rt.id)},{});const tt=(rt,ht,gt)=>{ht.fields.forEach((xt,wt)=>{const Tt=gt+wt;if(xt.referencedType!==void 0){let Rt=xt.type,Dt=Q.get(xt.referencedType);if(!Dt){const bt=xt.type.split(":");Rt=bt[0],Dt=bt[1]}Rt==="ref"?de.addField(rt,Tt,xt.name,Dt):de.addField(rt,Tt,xt.name,{[Rt]:Dt})}else de.addField(rt,Tt,xt.name,xt.type)})};K.types.forEach(rt=>{const ht=Q.get(rt.id),gt=de.initialize(ht),xt=[];let wt=rt;do xt.push(wt),wt=K.types.find(Rt=>Rt.id===wt.extendsId);while(wt);let Tt=0;xt.reverse().forEach(Rt=>{tt(gt,Rt,Tt),Tt+=Rt.fields.length})});const et=new(Q.get(K.rootType||0));return new tf(et,Q)}}pr([ns([jn])],$n.prototype,"types",void 0),pr([ns("number")],$n.prototype,"rootType",void 0);function dw(q){const G=q.root,Y=G.callbacks,K=new WeakMap;let Q;q.triggerChanges=function(rt){var ht;const gt=new Set;for(let xt=0,wt=rt.length;xt<wt;xt++){const Tt=rt[xt],Rt=Tt.refId,Dt=Tt.ref,bt=Y[Rt];if(bt){if((Tt.op&i.OPERATION.DELETE)===i.OPERATION.DELETE&&Tt.previousValue instanceof Ue){const Pt=(ht=Y[G.refIds.get(Tt.previousValue)])==null?void 0:ht[i.OPERATION.DELETE];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft]()}if(Dt instanceof Ue){if(!gt.has(Rt)){const Pt=bt?.[i.OPERATION.REPLACE];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft]()}if(bt.hasOwnProperty(Tt.field)){const Pt=bt[Tt.field];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft](Tt.value,Tt.previousValue)}}else{if((Tt.op&i.OPERATION.DELETE)===i.OPERATION.DELETE){if(Tt.previousValue!==void 0){const Pt=bt[i.OPERATION.DELETE];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft](Tt.previousValue,Tt.dynamicIndex??Tt.field)}if((Tt.op&i.OPERATION.ADD)===i.OPERATION.ADD){const Pt=bt[i.OPERATION.ADD];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft](Tt.value,Tt.dynamicIndex??Tt.field)}}else if((Tt.op&i.OPERATION.ADD)===i.OPERATION.ADD&&Tt.previousValue!==Tt.value){const Pt=bt[i.OPERATION.ADD];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft](Tt.value,Tt.dynamicIndex??Tt.field)}if(Tt.value!==Tt.previousValue&&(Tt.value!==void 0||Tt.previousValue!==void 0)){const Pt=bt[i.OPERATION.REPLACE];for(let Ft=Pt?.length-1;Ft>=0;Ft--)Pt[Ft](Tt.value,Tt.dynamicIndex??Tt.field)}}gt.add(Rt)}}};function tt(rt,ht){var gt;let xt=((gt=ht.instance)==null?void 0:gt.constructor[Symbol.metadata])||rt,wt=ht.instance&&typeof ht.instance.forEach=="function"||rt&&typeof rt[Symbol.metadata]>"u";if(xt&&!wt){const Tt=function(Rt,Dt,bt,Pt){return Pt&&ht.instance[Dt]!==void 0&&!K.has(Q)&&bt(ht.instance[Dt],void 0),G.addCallback(G.refIds.get(Rt),Dt,bt)};return new Proxy({listen:function(Rt,Dt,bt=!0){if(ht.instance)return Tt(ht.instance,Rt,Dt,bt);{let Pt=()=>{};return ht.onInstanceAvailable((Ft,le)=>{Pt=Tt(Ft,Rt,Dt,bt&&le&&!K.has(Q))}),()=>Pt()}},onChange:function(Rt){return G.addCallback(G.refIds.get(ht.instance),i.OPERATION.REPLACE,Rt)},bindTo:function(Rt,Dt){return Dt||(Dt=Object.keys(xt).map(bt=>xt[bt].name)),G.addCallback(G.refIds.get(ht.instance),i.OPERATION.REPLACE,()=>{Dt.forEach(bt=>Rt[bt]=ht.instance[bt])})}},{get(Rt,Dt){var bt;const Pt=xt[xt[Dt]];if(Pt){const Ft=(bt=ht.instance)==null?void 0:bt[Dt],le=Xe=>{const gi=et(ht.instance).listen(Dt,(ti,gr)=>{Xe(ti,!1),gi?.()},!1);G.refIds.get(Ft)!==void 0&&Xe(Ft,!0)};return tt(Pt.type,{instance:G.refIds.get(Ft)&&Ft,parentInstance:ht.instance,onInstanceAvailable:le})}else return Rt[Dt]},has(Rt,Dt){return xt[Dt]!==void 0},set(Rt,Dt,bt){throw new Error("not allowed")},deleteProperty(Rt,Dt){throw new Error("not allowed")}})}else{const Tt=function(bt,Pt,Ft){return Ft&&bt.forEach((le,Xe)=>Pt(le,Xe)),G.addCallback(G.refIds.get(bt),i.OPERATION.ADD,(le,Xe)=>{K.set(Pt,!0),Q=Pt,Pt(le,Xe),K.delete(Pt),Q=void 0})},Rt=function(bt,Pt){return G.addCallback(G.refIds.get(bt),i.OPERATION.DELETE,Pt)},Dt=function(bt,Pt){return G.addCallback(G.refIds.get(bt),i.OPERATION.REPLACE,Pt)};return new Proxy({onAdd:function(bt,Pt=!0){if(ht.instance)return Tt(ht.instance,bt,Pt&&!K.has(Q));if(ht.onInstanceAvailable){let Ft=()=>{};return ht.onInstanceAvailable((le,Xe)=>{Ft=Tt(le,bt,Pt&&Xe&&!K.has(Q))}),()=>Ft()}},onRemove:function(bt){if(ht.instance)return Rt(ht.instance,bt);if(ht.onInstanceAvailable){let Pt=()=>{};return ht.onInstanceAvailable(Ft=>{Pt=Rt(Ft,bt)}),()=>Pt()}},onChange:function(bt){if(ht.instance)return Dt(ht.instance,bt);if(ht.onInstanceAvailable){let Pt=()=>{};return ht.onInstanceAvailable(Ft=>{Pt=Dt(Ft,bt)}),()=>Pt()}}},{get(bt,Pt){if(!bt[Pt])throw new Error(`Can't access '${Pt}' through callback proxy. access the instance directly.`);return bt[Pt]},has(bt,Pt){return bt[Pt]!==void 0},set(bt,Pt,Ft){throw new Error("not allowed")},deleteProperty(bt,Pt){throw new Error("not allowed")}})}}function et(rt){return tt(void 0,{instance:rt})}return et}function fw(q,G){q.triggerChanges=G}class cw{constructor(G=!1){this.iterable=G,this.visible=new WeakSet,this.invisible=new WeakSet,this.changes=new Map,G&&(this.items=[])}add(G,Y=js,K=!0){var Q,tt;const et=G?.[o];if(et){if(!et.parent&&et.refId!==0)throw new Error(`Cannot add a detached instance to the StateView. Make sure to assign the "${et.ref.constructor.name}" instance to the state before calling view.add()`)}else return console.warn("StateView#add(), invalid object:",G),this;const rt=G.constructor[Symbol.metadata];this.visible.add(et),this.iterable&&K&&this.items.push(G),K&&et.parent&&this.addParentOf(et,Y);let ht=this.changes.get(et.refId);if(ht===void 0&&(ht={},this.changes.set(et.refId,ht)),Y!==js){this.tags||(this.tags=new WeakMap);let gt;this.tags.has(et)?gt=this.tags.get(et):(gt=new Set,this.tags.set(et,gt)),gt.add(Y),(tt=(Q=rt?.[d])==null?void 0:Q[Y])==null||tt.forEach(xt=>{et.getChange(xt)!==i.OPERATION.DELETE&&(ht[xt]=i.OPERATION.ADD)})}else{const gt=this.invisible.has(et),xt=et.filteredChanges!==void 0?et.allFilteredChanges:et.allChanges;for(let wt=0,Tt=xt.operations.length;wt<Tt;wt++){const Rt=xt.operations[wt];if(Rt===void 0)continue;const Dt=et.indexedOperations[Rt]??i.OPERATION.ADD,bt=rt?.[Rt].tag;!et.isNew&&(gt||bt===void 0||bt===Y)&&Dt!==i.OPERATION.DELETE&&(ht[Rt]=Dt)}}return et.forEachChild((gt,xt)=>{rt&&rt[xt].tag!==void 0&&rt[xt].tag!==Y||this.add(gt.ref,Y,!1)}),this}addParentOf(G,Y){var K;const Q=G.parent[o],tt=G.parentIndex;if(!this.visible.has(Q)){this.visible.add(Q);const et=(K=Q.parent)==null?void 0:K[o];et&&et.filteredChanges!==void 0&&this.addParentOf(Q,Y)}if(Q.getChange(tt)!==i.OPERATION.DELETE){let et=this.changes.get(Q.refId);et===void 0&&(et={},this.changes.set(Q.refId,et)),this.tags||(this.tags=new WeakMap);let rt;this.tags.has(Q)?rt=this.tags.get(Q):(rt=new Set,this.tags.set(Q,rt)),rt.add(Y),et[tt]=i.OPERATION.ADD}}remove(G,Y=js,K=!1){var Q;const tt=G[o];if(!tt)return console.warn("StateView#remove(), invalid object:",G),this;this.visible.delete(tt),this.iterable&&!K&&s0(this.items,this.items.indexOf(G));const et=tt.ref.constructor[Symbol.metadata];let rt=this.changes.get(tt.refId);if(rt===void 0&&(rt={},this.changes.set(tt.refId,rt)),Y===js){const ht=tt.parent;if(!de.isValidInstance(ht)&&tt.isFiltered){const gt=ht[o];let xt=this.changes.get(gt.refId);xt===void 0?(xt={},this.changes.set(gt.refId,xt)):xt[tt.parentIndex]===i.OPERATION.ADD&&this.changes.delete(tt.refId),xt[tt.parentIndex]=i.OPERATION.DELETE,this._recursiveDeleteVisibleChangeTree(tt)}else(Q=et?.[c])==null||Q.forEach(gt=>rt[gt]=i.OPERATION.DELETE)}else et?.[d][Y].forEach(ht=>rt[ht]=i.OPERATION.DELETE);if(this.tags&&this.tags.has(tt)){const ht=this.tags.get(tt);Y===void 0?this.tags.delete(tt):(ht.delete(Y),ht.size===0&&this.tags.delete(tt))}return this}has(G){return this.visible.has(G[o])}hasTag(G,Y=js){var K;const Q=(K=this.tags)==null?void 0:K.get(G[o]);return Q?.has(Y)??!1}clear(){if(!this.iterable)throw new Error("StateView#clear() is only available for iterable StateView's. Use StateView(iterable: true) constructor.");for(let G=0,Y=this.items.length;G<Y;G++)this.remove(this.items[G],js,!0);this.items.length=0}isChangeTreeVisible(G){let Y=this.visible.has(G);return!Y&&G.isVisibilitySharedWithParent&&this.visible.has(G.parent[o])&&(this.visible.add(G),Y=!0),Y}_recursiveDeleteVisibleChangeTree(G){G.forEachChild(Y=>{this.visible.delete(Y),this._recursiveDeleteVisibleChangeTree(Y)})}}jt("map",{constructor:Wn}),jt("array",{constructor:vr}),jt("set",{constructor:_d}),jt("collection",{constructor:Qd}),i.$changes=o,i.$childType=m,i.$decoder=S,i.$deleteByIndex=s,i.$encoder=y,i.$filter=r,i.$getByIndex=T,i.$track=n,i.ArraySchema=vr,i.ChangeTree=Yn,i.CollectionSchema=Qd,i.Decoder=tf,i.Encoder=i0,i.MapSchema=Wn,i.Metadata=de,i.Reflection=$n,i.ReflectionField=Hn,i.ReflectionType=jn,i.Schema=Ue,i.SetSchema=_d,i.StateView=cw,i.TypeContext=ai,i.decode=Bt,i.decodeKeyValueOperation=Lh,i.decodeSchemaOperation=Ug,i.defineCustomTypes=pe,i.defineTypes=ow,i.deprecated=aw,i.dumpChanges=hw,i.encode=B,i.encodeArray=Gg,i.encodeKeyValueOperation=Rh,i.encodeSchemaOperation=Ng,i.entity=nw,i.getDecoderStateCallbacks=dw,i.getRawChangesCallback=fw,i.registerType=jt,i.schema=Kg,i.type=ns,i.view=jg})}(iu,iu.exports)),iu.exports}var se=Nu(),GO=Object.defineProperty,xe=(e,t,i,n)=>{for(var y=void 0,S=e.length-1,r;S>=0;S--)(r=e[S])&&(y=r(t,i,y)||y);return y&&GO(t,i,y),y};class ar extends se.Schema{constructor(){super(),yt(this,"id",""),yt(this,"ownerId",""),yt(this,"hunger",100),yt(this,"happiness",100),yt(this,"cleanliness",100),yt(this,"petType","chog"),yt(this,"lastUpdated",0),this.lastUpdated=Date.now()}}xe([se.type("string")],ar.prototype,"id");xe([se.type("string")],ar.prototype,"ownerId");xe([se.type("number")],ar.prototype,"hunger");xe([se.type("number")],ar.prototype,"happiness");xe([se.type("number")],ar.prototype,"cleanliness");xe([se.type("string")],ar.prototype,"petType");xe([se.type("number")],ar.prototype,"lastUpdated");class Ko extends se.Schema{constructor(){super(),yt(this,"itemType",""),yt(this,"itemName",""),yt(this,"quantity",0),yt(this,"totalPurchased",0)}}xe([se.type("string")],Ko.prototype,"itemType");xe([se.type("string")],Ko.prototype,"itemName");xe([se.type("number")],Ko.prototype,"quantity");xe([se.type("number")],Ko.prototype,"totalPurchased");let or=class extends se.Schema{constructor(){super(),yt(this,"sessionId",""),yt(this,"walletAddress",""),yt(this,"name",""),yt(this,"tokens",100),yt(this,"totalPetsOwned",0),yt(this,"inventory",new se.MapSchema),yt(this,"pets",new se.MapSchema),yt(this,"joinedAt",0),this.joinedAt=Date.now()}};xe([se.type("string")],or.prototype,"sessionId");xe([se.type("string")],or.prototype,"walletAddress");xe([se.type("string")],or.prototype,"name");xe([se.type("number")],or.prototype,"tokens");xe([se.type("number")],or.prototype,"totalPetsOwned");xe([se.type({map:Ko})],or.prototype,"inventory");xe([se.type({map:ar})],or.prototype,"pets");xe([se.type("number")],or.prototype,"joinedAt");class Jo extends se.Schema{constructor(){super(),yt(this,"players",new se.MapSchema),yt(this,"pets",new se.MapSchema),yt(this,"roomName","Pet Simulator Room"),yt(this,"playerCount",0),yt(this,"createdAt",0),this.createdAt=Date.now()}}xe([se.type({map:or})],Jo.prototype,"players");xe([se.type({map:ar})],Jo.prototype,"pets");xe([se.type("string")],Jo.prototype,"roomName");xe([se.type("number")],Jo.prototype,"playerCount");xe([se.type("number")],Jo.prototype,"createdAt");var M0={},zO={},A0;function UO(){return A0||(A0=1,ArrayBuffer.isView||(ArrayBuffer.isView=e=>e!==null&&typeof e=="object"&&e.buffer instanceof ArrayBuffer),typeof FormData>"u"&&(Tw.FormData=class{}),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window)),zO}var Ih={},pv=function(e,t){return pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(i[y]=n[y])},pv(e,t)};function JT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pv(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var fu=function(){return fu=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])}return e},fu.apply(this,arguments)};function ZT(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,n=Object.getOwnPropertySymbols(e);y<n.length;y++)t.indexOf(n[y])<0&&Object.prototype.propertyIsEnumerable.call(e,n[y])&&(i[n[y]]=e[n[y]]);return i}function QT(e,t,i,n){var y=arguments.length,S=y<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(e,t,i,n);else for(var T=e.length-1;T>=0;T--)(r=e[T])&&(S=(y<3?r(S):y>3?r(t,i,S):r(t,i))||S);return y>3&&S&&Object.defineProperty(t,i,S),S}function qT(e,t){return function(i,n){t(i,n,e)}}function _T(e,t,i,n,y,S){function r(d){if(d!==void 0&&typeof d!="function")throw new TypeError("Function expected");return d}for(var T=n.kind,s=T==="getter"?"get":T==="setter"?"set":"value",o=!t&&e?n.static?e:e.prototype:null,m=t||(o?Object.getOwnPropertyDescriptor(o,n.name):{}),f,u=!1,h=i.length-1;h>=0;h--){var a={};for(var l in n)a[l]=l==="access"?{}:n[l];for(var l in n.access)a.access[l]=n.access[l];a.addInitializer=function(d){if(u)throw new TypeError("Cannot add initializers after decoration has completed");S.push(r(d||null))};var c=(0,i[h])(T==="accessor"?{get:m.get,set:m.set}:m[s],a);if(T==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(f=r(c.get))&&(m.get=f),(f=r(c.set))&&(m.set=f),(f=r(c.init))&&y.unshift(f)}else(f=r(c))&&(T==="field"?y.unshift(f):m[s]=f)}o&&Object.defineProperty(o,n.name,m),u=!0}function tC(e,t,i){for(var n=arguments.length>2,y=0;y<t.length;y++)i=n?t[y].call(e,i):t[y].call(e);return n?i:void 0}function eC(e){return typeof e=="symbol"?e:"".concat(e)}function iC(e,t,i){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}function sC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rC(e,t,i,n){function y(S){return S instanceof i?S:new i(function(r){r(S)})}return new(i||(i=Promise))(function(S,r){function T(m){try{o(n.next(m))}catch(f){r(f)}}function s(m){try{o(n.throw(m))}catch(f){r(f)}}function o(m){m.done?S(m.value):y(m.value).then(T,s)}o((n=n.apply(e,t||[])).next())})}function nC(e,t){var i={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},n,y,S,r=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return r.next=T(0),r.throw=T(1),r.return=T(2),typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function T(o){return function(m){return s([o,m])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(i=0)),i;)try{if(n=1,y&&(S=o[0]&2?y.return:o[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,o[1])).done)return S;switch(y=0,S&&(o=[o[0]&2,S.value]),o[0]){case 0:case 1:S=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,y=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(S=i.trys,!(S=S.length>0&&S[S.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!S||o[1]>S[0]&&o[1]<S[3])){i.label=o[1];break}if(o[0]===6&&i.label<S[1]){i.label=S[1],S=o;break}if(S&&i.label<S[2]){i.label=S[2],i.ops.push(o);break}S[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(m){o=[6,m],y=0}finally{n=S=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var Gu=Object.create?function(e,t,i,n){n===void 0&&(n=i);var y=Object.getOwnPropertyDescriptor(t,i);(!y||("get"in y?!t.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,y)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]};function aC(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Gu(t,e,i)}function cu(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vv(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var n=i.call(e),y,S=[],r;try{for(;(t===void 0||t-- >0)&&!(y=n.next()).done;)S.push(y.value)}catch(T){r={error:T}}finally{try{y&&!y.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return S}function oC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vv(arguments[t]));return e}function hC(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),y=0,t=0;t<i;t++)for(var S=arguments[t],r=0,T=S.length;r<T;r++,y++)n[y]=S[r];return n}function lC(e,t,i){if(i||arguments.length===2)for(var n=0,y=t.length,S;n<y;n++)(S||!(n in t))&&(S||(S=Array.prototype.slice.call(t,0,n)),S[n]=t[n]);return e.concat(S||Array.prototype.slice.call(t))}function Fa(e){return this instanceof Fa?(this.v=e,this):new Fa(e)}function uC(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),y,S=[];return y=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),T("next"),T("throw"),T("return",r),y[Symbol.asyncIterator]=function(){return this},y;function r(h){return function(a){return Promise.resolve(a).then(h,f)}}function T(h,a){n[h]&&(y[h]=function(l){return new Promise(function(c,d){S.push([h,l,c,d])>1||s(h,l)})},a&&(y[h]=a(y[h])))}function s(h,a){try{o(n[h](a))}catch(l){u(S[0][3],l)}}function o(h){h.value instanceof Fa?Promise.resolve(h.value.v).then(m,f):u(S[0][2],h)}function m(h){s("next",h)}function f(h){s("throw",h)}function u(h,a){h(a),S.shift(),S.length&&s(S[0][0],S[0][1])}}function dC(e){var t,i;return t={},n("next"),n("throw",function(y){throw y}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(y,S){t[y]=e[y]?function(r){return(i=!i)?{value:Fa(e[y](r)),done:!1}:S?S(r):r}:S}}function fC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof cu=="function"?cu(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(S){i[S]=e[S]&&function(r){return new Promise(function(T,s){r=e[S](r),y(T,s,r.done,r.value)})}}function y(S,r,T,s){Promise.resolve(s).then(function(o){S({value:o,done:T})},r)}}function cC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var XO=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},gv=function(e){return gv=Object.getOwnPropertyNames||function(t){var i=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[i.length]=n);return i},gv(e)};function vC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i=gv(e),n=0;n<i.length;n++)i[n]!=="default"&&Gu(t,e,i[n]);return XO(t,e),t}function pC(e){return e&&e.__esModule?e:{default:e}}function gC(e,t,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(e):n?n.value:t.get(e)}function mC(e,t,i,n,y){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!y:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?y.call(e,i):y?y.value=i:t.set(e,i),i}function xC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function yC(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,y;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(y=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");y&&(n=function(){try{y.call(this)}catch(S){return Promise.reject(S)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t}var VO=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function TC(e){function t(S){e.error=e.hasError?new VO(S,e.error,"An error was suppressed during disposal."):S,e.hasError=!0}var i,n=0;function y(){for(;i=e.stack.pop();)try{if(!i.async&&n===1)return n=0,e.stack.push(i),Promise.resolve().then(y);if(i.dispose){var S=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(S).then(y,function(r){return t(r),y()})}else n|=1}catch(r){t(r)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return y()}function CC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,n,y,S,r){return n?t?".jsx":".js":y&&(!S||!r)?i:y+S+"."+r.toLowerCase()+"js"}):e}const YO={__extends:JT,__assign:fu,__rest:ZT,__decorate:QT,__param:qT,__esDecorate:_T,__runInitializers:tC,__propKey:eC,__setFunctionName:iC,__metadata:sC,__awaiter:rC,__generator:nC,__createBinding:Gu,__exportStar:aC,__values:cu,__read:Vv,__spread:oC,__spreadArrays:hC,__spreadArray:lC,__await:Fa,__asyncGenerator:uC,__asyncDelegator:dC,__asyncValues:fC,__makeTemplateObject:cC,__importStar:vC,__importDefault:pC,__classPrivateFieldGet:gC,__classPrivateFieldSet:mC,__classPrivateFieldIn:xC,__addDisposableResource:yC,__disposeResources:TC,__rewriteRelativeImportExtension:CC},WO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:yC,get __assign(){return fu},__asyncDelegator:dC,__asyncGenerator:uC,__asyncValues:fC,__await:Fa,__awaiter:rC,__classPrivateFieldGet:gC,__classPrivateFieldIn:xC,__classPrivateFieldSet:mC,__createBinding:Gu,__decorate:QT,__disposeResources:TC,__esDecorate:_T,__exportStar:aC,__extends:JT,__generator:nC,__importDefault:pC,__importStar:vC,__makeTemplateObject:cC,__metadata:sC,__param:qT,__propKey:eC,__read:Vv,__rest:ZT,__rewriteRelativeImportExtension:CC,__runInitializers:tC,__setFunctionName:iC,__spread:oC,__spreadArray:lC,__spreadArrays:hC,__values:cu,default:YO},Symbol.toStringTag,{value:"Module"})),zu=Gv(WO);var R0={},L0;function Uu(){return L0||(L0=1,function(e){e.CloseCode=void 0,function(n){n[n.CONSENTED=4e3]="CONSENTED",n[n.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(e.CloseCode||(e.CloseCode={}));class t extends Error{constructor(y,S){super(S),this.name="ServerError",this.code=y}}class i extends Error{constructor(y){super(y),this.name="AbortError"}}e.AbortError=i,e.ServerError=t}(R0)),R0}var of={},hf={},lf={},F0;function HO(){if(F0)return lf;F0=1;var e=zu,t=Nu();class i{constructor(y){this.events=y,this.isOpen=!1,this.lengthPrefixBuffer=new Uint8Array(9)}connect(y,S={}){const r=S.fingerprint&&{serverCertificateHashes:[{algorithm:"sha-256",value:new Uint8Array(S.fingerprint).buffer}]}||void 0;this.wt=new WebTransport(y,r),this.wt.ready.then(T=>{console.log("WebTransport ready!",T),this.isOpen=!0,this.unreliableReader=this.wt.datagrams.readable.getReader(),this.unreliableWriter=this.wt.datagrams.writable.getWriter(),this.wt.incomingBidirectionalStreams.getReader().read().then(s=>{this.reader=s.value.readable.getReader(),this.writer=s.value.writable.getWriter(),this.sendSeatReservation(S.room.roomId,S.sessionId,S.reconnectionToken),this.readIncomingData(),this.readIncomingUnreliableData()}).catch(s=>{console.error("failed to read incoming stream",s),console.error("TODO: close the connection")})}).catch(T=>{console.log("WebTransport not ready!",T),this._close()}),this.wt.closed.then(T=>{console.log("WebTransport closed w/ success",T),this.events.onclose({code:T.closeCode,reason:T.reason})}).catch(T=>{console.log("WebTransport closed w/ error",T),this.events.onerror(T),this.events.onclose({code:T.closeCode,reason:T.reason})}).finally(()=>{this._close()})}send(y){const S=t.encode.number(this.lengthPrefixBuffer,y.length,{offset:0}),r=new Uint8Array(S+y.length);r.set(this.lengthPrefixBuffer.subarray(0,S),0),r.set(y,S),this.writer.write(r)}sendUnreliable(y){const S=t.encode.number(this.lengthPrefixBuffer,y.length,{offset:0}),r=new Uint8Array(S+y.length);r.set(this.lengthPrefixBuffer.subarray(0,S),0),r.set(y,S),this.unreliableWriter.write(r)}close(y,S){try{this.wt.close({closeCode:y,reason:S})}catch(r){console.error(r)}}readIncomingData(){return e.__awaiter(this,void 0,void 0,function*(){let y;for(;this.isOpen;){try{y=yield this.reader.read();const S=y.value,r={offset:0};do{const T=t.decode.number(S,r);this.events.onmessage({data:S.subarray(r.offset,r.offset+T)}),r.offset+=T}while(r.offset<S.length)}catch(S){S.message.indexOf("session is closed")===-1&&console.error("H3Transport: failed to read incoming data",S);break}if(y.done)break}})}readIncomingUnreliableData(){return e.__awaiter(this,void 0,void 0,function*(){let y;for(;this.isOpen;){try{y=yield this.unreliableReader.read();const S=y.value,r={offset:0};do{const T=t.decode.number(S,r);this.events.onmessage({data:S.subarray(r.offset,r.offset+T)}),r.offset+=T}while(r.offset<S.length)}catch(S){S.message.indexOf("session is closed")===-1&&console.error("H3Transport: failed to read incoming data",S);break}if(y.done)break}})}sendSeatReservation(y,S,r){const T={offset:0},s=[];t.encode.string(s,y,T),t.encode.string(s,S,T),r&&t.encode.string(s,r,T),this.writer.write(new Uint8Array(s).buffer)}_close(){this.isOpen=!1}}return lf.H3TransportTransport=i,lf}var uf={},D0,I0;function jO(){return I0||(I0=1,D0=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),D0}var B0;function $O(){if(B0)return uf;B0=1;var e=jO();const t=globalThis.WebSocket||e;let i=class{constructor(n){this.events=n}send(n){this.ws.send(n)}sendUnreliable(n){console.warn("colyseus.js: The WebSocket transport does not support unreliable messages")}connect(n,y){try{this.ws=new t(n,{headers:y,protocols:this.protocols})}catch{this.ws=new t(n,this.protocols)}this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(n,y){this.ws.close(n,y)}get isOpen(){return this.ws.readyState===t.OPEN}};return uf.WebSocketTransport=i,uf}var k0;function KO(){if(k0)return hf;k0=1;var e=HO(),t=$O();let i=class{constructor(n){switch(this.events={},n){case"h3":this.transport=new e.H3TransportTransport(this.events);break;default:this.transport=new t.WebSocketTransport(this.events);break}}connect(n,y){this.transport.connect.call(this.transport,n,y)}send(n){this.transport.send(n)}sendUnreliable(n){this.transport.sendUnreliable(n)}close(n,y){this.transport.close(n,y)}get isOpen(){return this.transport.isOpen}};return hf.Connection=i,hf}var N0={},G0;function SC(){return G0||(G0=1,function(e){e.Protocol=void 0,function(t){t[t.HANDSHAKE=9]="HANDSHAKE",t[t.JOIN_ROOM=10]="JOIN_ROOM",t[t.ERROR=11]="ERROR",t[t.LEAVE_ROOM=12]="LEAVE_ROOM",t[t.ROOM_DATA=13]="ROOM_DATA",t[t.ROOM_STATE=14]="ROOM_STATE",t[t.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",t[t.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",t[t.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),e.ErrorCode=void 0,function(t){t[t.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",t[t.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",t[t.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",t[t.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",t[t.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",t[t.AUTH_FAILED=4215]="AUTH_FAILED",t[t.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(e.ErrorCode||(e.ErrorCode={}))}(N0)),N0}var Bh={},z0;function PC(){if(z0)return Bh;z0=1;const e={};function t(n,y){e[n]=y}function i(n){const y=e[n];if(!y)throw new Error("missing serializer: "+n);return y}return Bh.getSerializer=i,Bh.registerSerializer=t,Bh}var df={},U0;function EC(){if(U0)return df;U0=1;const e=()=>({emit(t,...i){let n=this.events[t]||[];for(let y=0,S=n.length;y<S;y++)n[y](...i)},events:{},on(t,i){var n;return!((n=this.events[t])===null||n===void 0)&&n.push(i)||(this.events[t]=[i]),()=>{var y;this.events[t]=(y=this.events[t])===null||y===void 0?void 0:y.filter(S=>i!==S)}}});return df.createNanoEvents=e,df}var kh={},X0;function JO(){if(X0)return kh;X0=1;class e{constructor(){this.handlers=[]}register(n,y=!1){return this.handlers.push(n),this}invoke(...n){this.handlers.forEach(y=>y.apply(this,n))}invokeAsync(...n){return Promise.all(this.handlers.map(y=>y.apply(this,n)))}remove(n){const y=this.handlers.indexOf(n);this.handlers[y]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}function t(){const i=new e;function n(y){return i.register(y,this===null)}return n.once=y=>{const S=function(...r){y.apply(this,r),i.remove(S)};i.register(S)},n.remove=y=>i.remove(y),n.invoke=(...y)=>i.invoke(...y),n.invokeAsync=(...y)=>i.invokeAsync(...y),n.clear=()=>i.clear(),n}return kh.EventEmitter=e,kh.createSignal=t,kh}var Nh={},V0;function wC(){if(V0)return Nh;V0=1;var e=Nu();function t(n){try{return e.getDecoderStateCallbacks(n.serializer.decoder)}catch{return}}let i=class{setState(n,y){this.decoder.decode(n,y)}getState(){return this.state}patch(n,y){return this.decoder.decode(n,y)}teardown(){this.decoder.root.clearRefs()}handshake(n,y){this.state?(e.Reflection.decode(n,y),this.decoder=new e.Decoder(this.state)):(this.decoder=e.Reflection.decode(n,y),this.state=this.decoder.state)}};return Nh.SchemaSerializer=i,Nh.getStateCallbacks=t,Nh}var mv;try{mv=new TextDecoder}catch{}var Ot,Us,nt=0,ve={},Zt,Ur,_i=0,Gs=0,Ze,ir,ci=[],Kt,Y0={useRecords:!1,mapsAsObjects:!0};class bC{}const Yv=new bC;Yv.name="MessagePack 0xC1";var Vr=!1,OC=2,ZO;try{new Function("")}catch{OC=1/0}class jr{constructor(t){t&&(t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.sequential&&t.trusted!==!1&&(t.trusted=!0,!t.structures&&t.useRecords!=!1&&(t.structures=[],t.maxSharedStructures||(t.maxSharedStructures=0))),t.structures?t.structures.sharedLength=t.structures.length:t.getStructures&&((t.structures=[]).uninitialized=!0,t.structures.sharedLength=0),t.int64AsNumber&&(t.int64AsType="number")),Object.assign(this,t)}unpack(t,i){if(Ot)return DC(()=>(vu(),this?this.unpack(t,i):jr.prototype.unpack.call(Y0,t,i)));!t.buffer&&t.constructor===ArrayBuffer&&(t=typeof Buffer<"u"?Buffer.from(t):new Uint8Array(t)),typeof i=="object"?(Us=i.end||t.length,nt=i.start||0):(nt=0,Us=i>-1?i:t.length),Gs=0,Ur=null,Ze=null,Ot=t;try{Kt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(n){throw Ot=null,t instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof jr){if(ve=this,this.structures)return Zt=this.structures,Gh();(!Zt||Zt.length>0)&&(Zt=[])}else ve=Y0,(!Zt||Zt.length>0)&&(Zt=[]);return Gh()}unpackMultiple(t,i){let n,y=0;try{Vr=!0;let S=t.length,r=this?this.unpack(t,S):Vu.unpack(t,S);if(i){if(i(r,y,nt)===!1)return;for(;nt<S;)if(y=nt,i(Gh(),y,nt)===!1)return}else{for(n=[r];nt<S;)y=nt,n.push(Gh());return n}}catch(S){throw S.lastPosition=y,S.values=n,S}finally{Vr=!1,vu()}}_mergeStructures(t,i){t=t||[],Object.isFrozen(t)&&(t=t.map(n=>n.slice(0)));for(let n=0,y=t.length;n<y;n++){let S=t[n];S&&(S.isShared=!0,n>=32&&(S.highByte=n-32>>5))}t.sharedLength=t.length;for(let n in i||[])if(n>=0){let y=t[n],S=i[n];S&&(y&&((t.restoreStructures||(t.restoreStructures=[]))[n]=y),t[n]=S)}return this.structures=t}decode(t,i){return this.unpack(t,i)}}function Gh(e){try{if(!ve.trusted&&!Vr){let i=Zt.sharedLength||0;i<Zt.length&&(Zt.length=i)}let t;if(ve.randomAccessStructure&&Ot[nt]<64&&Ot[nt]>=32&&ZO||(t=Ie()),Ze&&(nt=Ze.postBundlePosition,Ze=null),Vr&&(Zt.restoreStructures=null),nt==Us)Zt&&Zt.restoreStructures&&W0(),Zt=null,Ot=null,ir&&(ir=null);else{if(nt>Us)throw new Error("Unexpected end of MessagePack data");if(!Vr){let i;try{i=JSON.stringify(t,(n,y)=>typeof y=="bigint"?`${y}n`:y).slice(0,100)}catch(n){i="(JSON view not available "+n+")"}throw new Error("Data read, but end of buffer not reached "+i)}}return t}catch(t){throw Zt&&Zt.restoreStructures&&W0(),vu(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer")||nt>Us)&&(t.incomplete=!0),t}}function W0(){for(let e in Zt.restoreStructures)Zt[e]=Zt.restoreStructures[e];Zt.restoreStructures=null}function Ie(){let e=Ot[nt++];if(e<160)if(e<128){if(e<64)return e;{let t=Zt[e&63]||ve.getStructures&&MC()[e&63];return t?(t.read||(t.read=Wv(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,ve.mapsAsObjects){let t={};for(let i=0;i<e;i++){let n=RC();n==="__proto__"&&(n="__proto_"),t[n]=Ie()}return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Ie(),Ie());return t}else{e-=144;let t=new Array(e);for(let i=0;i<e;i++)t[i]=Ie();return ve.freezeData?Object.freeze(t):t}else if(e<192){let t=e-160;if(Gs>=nt)return Ur.slice(nt-_i,(nt+=t)-_i);if(Gs==0&&Us<140){let i=t<16?Hv(t):AC(t);if(i!=null)return i}return xv(t)}else{let t;switch(e){case 192:return null;case 193:return Ze?(t=Ie(),t>0?Ze[1].slice(Ze.position1,Ze.position1+=t):Ze[0].slice(Ze.position0,Ze.position0-=t)):Yv;case 194:return!1;case 195:return!0;case 196:if(t=Ot[nt++],t===void 0)throw new Error("Unexpected end of buffer");return ff(t);case 197:return t=Kt.getUint16(nt),nt+=2,ff(t);case 198:return t=Kt.getUint32(nt),nt+=4,ff(t);case 199:return en(Ot[nt++]);case 200:return t=Kt.getUint16(nt),nt+=2,en(t);case 201:return t=Kt.getUint32(nt),nt+=4,en(t);case 202:if(t=Kt.getFloat32(nt),ve.useFloat32>2){let i=Xu[(Ot[nt]&127)<<1|Ot[nt+1]>>7];return nt+=4,(i*t+(t>0?.5:-.5)>>0)/i}return nt+=4,t;case 203:return t=Kt.getFloat64(nt),nt+=8,t;case 204:return Ot[nt++];case 205:return t=Kt.getUint16(nt),nt+=2,t;case 206:return t=Kt.getUint32(nt),nt+=4,t;case 207:return ve.int64AsType==="number"?(t=Kt.getUint32(nt)*4294967296,t+=Kt.getUint32(nt+4)):ve.int64AsType==="string"?t=Kt.getBigUint64(nt).toString():ve.int64AsType==="auto"?(t=Kt.getBigUint64(nt),t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Kt.getBigUint64(nt),nt+=8,t;case 208:return Kt.getInt8(nt++);case 209:return t=Kt.getInt16(nt),nt+=2,t;case 210:return t=Kt.getInt32(nt),nt+=4,t;case 211:return ve.int64AsType==="number"?(t=Kt.getInt32(nt)*4294967296,t+=Kt.getUint32(nt+4)):ve.int64AsType==="string"?t=Kt.getBigInt64(nt).toString():ve.int64AsType==="auto"?(t=Kt.getBigInt64(nt),t>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t))):t=Kt.getBigInt64(nt),nt+=8,t;case 212:if(t=Ot[nt++],t==114)return Z0(Ot[nt++]&63);{let i=ci[t];if(i)return i.read?(nt++,i.read(Ie())):i.noBuffer?(nt++,i()):i(Ot.subarray(nt,++nt));throw new Error("Unknown extension "+t)}case 213:return t=Ot[nt],t==114?(nt++,Z0(Ot[nt++]&63,Ot[nt++])):en(2);case 214:return en(4);case 215:return en(8);case 216:return en(16);case 217:return t=Ot[nt++],Gs>=nt?Ur.slice(nt-_i,(nt+=t)-_i):qO(t);case 218:return t=Kt.getUint16(nt),nt+=2,Gs>=nt?Ur.slice(nt-_i,(nt+=t)-_i):_O(t);case 219:return t=Kt.getUint32(nt),nt+=4,Gs>=nt?Ur.slice(nt-_i,(nt+=t)-_i):tM(t);case 220:return t=Kt.getUint16(nt),nt+=2,j0(t);case 221:return t=Kt.getUint32(nt),nt+=4,j0(t);case 222:return t=Kt.getUint16(nt),nt+=2,$0(t);case 223:return t=Kt.getUint32(nt),nt+=4,$0(t);default:if(e>=224)return e-256;if(e===void 0){let i=new Error("Unexpected end of MessagePack data");throw i.incomplete=!0,i}throw new Error("Unknown MessagePack token "+e)}}}const QO=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Wv(e,t){function i(){if(i.count++>OC){let y=e.read=new Function("r","return function(){return "+(ve.freezeData?"Object.freeze":"")+"({"+e.map(S=>S==="__proto__"?"__proto_:r()":QO.test(S)?S+":r()":"["+JSON.stringify(S)+"]:r()").join(",")+"})}")(Ie);return e.highByte===0&&(e.read=H0(t,e.read)),y()}let n={};for(let y=0,S=e.length;y<S;y++){let r=e[y];r==="__proto__"&&(r="__proto_"),n[r]=Ie()}return ve.freezeData?Object.freeze(n):n}return i.count=0,e.highByte===0?H0(t,i):i}const H0=(e,t)=>function(){let i=Ot[nt++];if(i===0)return t();let n=e<32?-(e+(i<<5)):e+(i<<5),y=Zt[n]||MC()[n];if(!y)throw new Error("Record id is not defined for "+n);return y.read||(y.read=Wv(y,e)),y.read()};function MC(){let e=DC(()=>(Ot=null,ve.getStructures()));return Zt=ve._mergeStructures(e,Zt)}var xv=Zo,qO=Zo,_O=Zo,tM=Zo;let eM=!1;function Zo(e){let t;if(e<16&&(t=Hv(e)))return t;if(e>64&&mv)return mv.decode(Ot.subarray(nt,nt+=e));const i=nt+e,n=[];for(t="";nt<i;){const y=Ot[nt++];if((y&128)===0)n.push(y);else if((y&224)===192){const S=Ot[nt++]&63;n.push((y&31)<<6|S)}else if((y&240)===224){const S=Ot[nt++]&63,r=Ot[nt++]&63;n.push((y&31)<<12|S<<6|r)}else if((y&248)===240){const S=Ot[nt++]&63,r=Ot[nt++]&63,T=Ot[nt++]&63;let s=(y&7)<<18|S<<12|r<<6|T;s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s)}else n.push(y);n.length>=4096&&(t+=$e.apply(String,n),n.length=0)}return n.length>0&&(t+=$e.apply(String,n)),t}function j0(e){let t=new Array(e);for(let i=0;i<e;i++)t[i]=Ie();return ve.freezeData?Object.freeze(t):t}function $0(e){if(ve.mapsAsObjects){let t={};for(let i=0;i<e;i++){let n=RC();n==="__proto__"&&(n="__proto_"),t[n]=Ie()}return t}else{let t=new Map;for(let i=0;i<e;i++)t.set(Ie(),Ie());return t}}var $e=String.fromCharCode;function AC(e){let t=nt,i=new Array(e);for(let n=0;n<e;n++){const y=Ot[nt++];if((y&128)>0){nt=t;return}i[n]=y}return $e.apply(String,i)}function Hv(e){if(e<4)if(e<2){if(e===0)return"";{let t=Ot[nt++];if((t&128)>1){nt-=1;return}return $e(t)}}else{let t=Ot[nt++],i=Ot[nt++];if((t&128)>0||(i&128)>0){nt-=2;return}if(e<3)return $e(t,i);let n=Ot[nt++];if((n&128)>0){nt-=3;return}return $e(t,i,n)}else{let t=Ot[nt++],i=Ot[nt++],n=Ot[nt++],y=Ot[nt++];if((t&128)>0||(i&128)>0||(n&128)>0||(y&128)>0){nt-=4;return}if(e<6){if(e===4)return $e(t,i,n,y);{let S=Ot[nt++];if((S&128)>0){nt-=5;return}return $e(t,i,n,y,S)}}else if(e<8){let S=Ot[nt++],r=Ot[nt++];if((S&128)>0||(r&128)>0){nt-=6;return}if(e<7)return $e(t,i,n,y,S,r);let T=Ot[nt++];if((T&128)>0){nt-=7;return}return $e(t,i,n,y,S,r,T)}else{let S=Ot[nt++],r=Ot[nt++],T=Ot[nt++],s=Ot[nt++];if((S&128)>0||(r&128)>0||(T&128)>0||(s&128)>0){nt-=8;return}if(e<10){if(e===8)return $e(t,i,n,y,S,r,T,s);{let o=Ot[nt++];if((o&128)>0){nt-=9;return}return $e(t,i,n,y,S,r,T,s,o)}}else if(e<12){let o=Ot[nt++],m=Ot[nt++];if((o&128)>0||(m&128)>0){nt-=10;return}if(e<11)return $e(t,i,n,y,S,r,T,s,o,m);let f=Ot[nt++];if((f&128)>0){nt-=11;return}return $e(t,i,n,y,S,r,T,s,o,m,f)}else{let o=Ot[nt++],m=Ot[nt++],f=Ot[nt++],u=Ot[nt++];if((o&128)>0||(m&128)>0||(f&128)>0||(u&128)>0){nt-=12;return}if(e<14){if(e===12)return $e(t,i,n,y,S,r,T,s,o,m,f,u);{let h=Ot[nt++];if((h&128)>0){nt-=13;return}return $e(t,i,n,y,S,r,T,s,o,m,f,u,h)}}else{let h=Ot[nt++],a=Ot[nt++];if((h&128)>0||(a&128)>0){nt-=14;return}if(e<15)return $e(t,i,n,y,S,r,T,s,o,m,f,u,h,a);let l=Ot[nt++];if((l&128)>0){nt-=15;return}return $e(t,i,n,y,S,r,T,s,o,m,f,u,h,a,l)}}}}}function K0(){let e=Ot[nt++],t;if(e<192)t=e-160;else switch(e){case 217:t=Ot[nt++];break;case 218:t=Kt.getUint16(nt),nt+=2;break;case 219:t=Kt.getUint32(nt),nt+=4;break;default:throw new Error("Expected string")}return Zo(t)}function ff(e){return ve.copyBuffers?Uint8Array.prototype.slice.call(Ot,nt,nt+=e):Ot.subarray(nt,nt+=e)}function en(e){let t=Ot[nt++];if(ci[t]){let i;return ci[t](Ot.subarray(nt,i=nt+=e),n=>{nt=n;try{return Ie()}finally{nt=i}})}else throw new Error("Unknown extension type "+t)}var J0=new Array(4096);function RC(){let e=Ot[nt++];if(e>=160&&e<192){if(e=e-160,Gs>=nt)return Ur.slice(nt-_i,(nt+=e)-_i);if(!(Gs==0&&Us<180))return xv(e)}else return nt--,LC(Ie());let t=(e<<5^(e>1?Kt.getUint16(nt):e>0?Ot[nt]:0))&4095,i=J0[t],n=nt,y=nt+e-3,S,r=0;if(i&&i.bytes==e){for(;n<y;){if(S=Kt.getUint32(n),S!=i[r++]){n=1879048192;break}n+=4}for(y+=3;n<y;)if(S=Ot[n++],S!=i[r++]){n=1879048192;break}if(n===y)return nt=n,i.string;y-=3,n=nt}for(i=[],J0[t]=i,i.bytes=e;n<y;)S=Kt.getUint32(n),i.push(S),n+=4;for(y+=3;n<y;)S=Ot[n++],i.push(S);let T=e<16?Hv(e):AC(e);return T!=null?i.string=T:i.string=xv(e)}function LC(e){if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";if(ve.allowArraysInMapKeys&&Array.isArray(e)&&e.flat().every(t=>["string","number","boolean","bigint"].includes(typeof t)))return e.flat().toString();throw new Error(`Invalid property type for record: ${typeof e}`)}const Z0=(e,t)=>{let i=Ie().map(LC),n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,i.highByte=t);let y=Zt[e];return y&&(y.isShared||Vr)&&((Zt.restoreStructures||(Zt.restoreStructures=[]))[e]=y),Zt[e]=i,i.read=Wv(i,n),i.read()};ci[0]=()=>{};ci[0].noBuffer=!0;ci[66]=e=>{let t=e.length,i=BigInt(e[0]&128?e[0]-256:e[0]);for(let n=1;n<t;n++)i<<=BigInt(8),i+=BigInt(e[n]);return i};let iM={Error,TypeError,ReferenceError};ci[101]=()=>{let e=Ie();return(iM[e[0]]||Error)(e[1],{cause:e[2]})};ci[105]=e=>{if(ve.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Kt.getUint32(nt-4);ir||(ir=new Map);let i=Ot[nt],n;i>=144&&i<160||i==220||i==221?n=[]:n={};let y={target:n};ir.set(t,y);let S=Ie();return y.used?Object.assign(n,S):(y.target=S,S)};ci[112]=e=>{if(ve.structuredClone===!1)throw new Error("Structured clone extension is disabled");let t=Kt.getUint32(nt-4),i=ir.get(t);return i.used=!0,i.target};ci[115]=()=>new Set(Ie());const FC=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let sM=typeof globalThis=="object"?globalThis:window;ci[116]=e=>{let t=e[0],i=FC[t];if(!i){if(t===16){let n=new ArrayBuffer(e.length-1);return new Uint8Array(n).set(e.subarray(1)),n}throw new Error("Could not find typed array for code "+t)}return new sM[i](Uint8Array.prototype.slice.call(e,1).buffer)};ci[120]=()=>{let e=Ie();return new RegExp(e[0],e[1])};const rM=[];ci[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],i=nt;return nt+=t-e.length,Ze=rM,Ze=[K0(),K0()],Ze.position0=0,Ze.position1=0,Ze.postBundlePosition=nt,nt=i,Ie()};ci[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function DC(e){let t=Us,i=nt,n=_i,y=Gs,S=Ur,r=ir,T=Ze,s=new Uint8Array(Ot.slice(0,Us)),o=Zt,m=Zt.slice(0,Zt.length),f=ve,u=Vr,h=e();return Us=t,nt=i,_i=n,Gs=y,Ur=S,ir=r,Ze=T,Ot=s,Vr=u,Zt=o,Zt.splice(0,Zt.length,...m),ve=f,Kt=new DataView(Ot.buffer,Ot.byteOffset,Ot.byteLength),h}function vu(){Ot=null,ir=null,Zt=null}function nM(e){e.unpack?ci[e.type]=e.unpack:ci[e.type]=e}const Xu=new Array(147);for(let e=0;e<256;e++)Xu[e]=+("1e"+Math.floor(45.15-e*.30103));const aM=jr;var Vu=new jr({useRecords:!1});const oM=Vu.unpack,hM=Vu.unpackMultiple,lM=Vu.unpack,IC={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};let BC=new Float32Array(1),Q0=new Uint8Array(BC.buffer,0,4);function uM(e){BC[0]=e;let t=Xu[(Q0[3]&127)<<1|Q0[2]>>7];return(t*e+(e>0?.5:-.5)>>0)/t}let su;try{su=new TextEncoder}catch{}let pu,jv;const Yu=typeof Buffer<"u",zh=Yu?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,kC=Yu?Buffer:Uint8Array,q0=Yu?4294967296:2144337920;let lt,Ja,ce,ot=0,mi,Se=null,dM;const fM=21760,cM=/[\u0080-\uFFFF]/,Kn=Symbol("record-id");class Qo extends jr{constructor(t){super(t),this.offset=0;let i,n,y,S,r=kC.prototype.utf8Write?function(A,F){return lt.utf8Write(A,F,lt.byteLength-F)}:su&&su.encodeInto?function(A,F){return su.encodeInto(A,lt.subarray(F)).written}:!1,T=this;t||(t={});let s=t&&t.sequential,o=t.structures||t.saveStructures,m=t.maxSharedStructures;if(m==null&&(m=o?32:0),m>8160)throw new Error("Maximum maxSharedStructure is 8160");t.structuredClone&&t.moreTypes==null&&(this.moreTypes=!0);let f=t.maxOwnStructures;f==null&&(f=o?32:64),!this.structures&&t.useRecords!=!1&&(this.structures=[]);let u=m>32||f+m>64,h=m+64,a=m+f+64;if(a>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let l=[],c=0,d=0;this.pack=this.encode=function(A,F){if(lt||(lt=new zh(8192),ce=lt.dataView||(lt.dataView=new DataView(lt.buffer,0,8192)),ot=0),mi=lt.length-10,mi-ot<2048?(lt=new zh(lt.length),ce=lt.dataView||(lt.dataView=new DataView(lt.buffer,0,lt.length)),mi=lt.length-10,ot=0):ot=ot+7&2147483640,i=ot,F&UC&&(ot+=F&255),S=T.structuredClone?new Map:null,T.bundleStrings&&typeof A!="string"?(Se=[],Se.size=1/0):Se=null,y=T.structures,y){y.uninitialized&&(y=T._mergeStructures(T.getStructures()));let L=y.sharedLength||0;if(L>m)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+y.sharedLength);if(!y.transitions){y.transitions=Object.create(null);for(let D=0;D<L;D++){let I=y[D];if(!I)continue;let z,U=y.transitions;for(let H=0,W=I.length;H<W;H++){let N=I[H];z=U[N],z||(z=U[N]=Object.create(null)),U=z}U[Kn]=D+64}this.lastNamedStructuresLength=L}s||(y.nextId=L+64)}n&&(n=!1);let R;try{T.randomAccessStructure&&A&&A.constructor&&A.constructor===Object?M(A):g(A);let L=Se;if(Se&&em(i,g,0),S&&S.idsToInsert){let D=S.idsToInsert.sort((H,W)=>H.offset>W.offset?1:-1),I=D.length,z=-1;for(;L&&I>0;){let H=D[--I].offset+i;H<L.stringsPosition+i&&z===-1&&(z=0),H>L.position+i?z>=0&&(z+=6):(z>=0&&(ce.setUint32(L.position+i,ce.getUint32(L.position+i)+z),z=-1),L=L.previous,I++)}z>=0&&L&&ce.setUint32(L.position+i,ce.getUint32(L.position+i)+z),ot+=D.length*6,ot>mi&&E(ot),T.offset=ot;let U=pM(lt.subarray(i,ot),D);return S=null,U}return T.offset=ot,F&GC?(lt.start=i,lt.end=ot,lt):lt.subarray(i,ot)}catch(L){throw R=L,L}finally{if(y&&(v(),n&&T.saveStructures)){let L=y.sharedLength||0,D=lt.subarray(i,ot),I=mM(y,T);if(!R)return T.saveStructures(I,I.isCompatible)===!1?T.pack(A,F):(T.lastNamedStructuresLength=L,lt.length>1073741824&&(lt=null),D)}lt.length>1073741824&&(lt=null),F&zC&&(ot=i)}};const v=()=>{d<10&&d++;let A=y.sharedLength||0;if(y.length>A&&!s&&(y.length=A),c>1e4)y.transitions=null,d=0,c=0,l.length>0&&(l=[]);else if(l.length>0&&!s){for(let F=0,R=l.length;F<R;F++)l[F][Kn]=0;l=[]}},p=A=>{var F=A.length;F<16?lt[ot++]=144|F:F<65536?(lt[ot++]=220,lt[ot++]=F>>8,lt[ot++]=F&255):(lt[ot++]=221,ce.setUint32(ot,F),ot+=4);for(let R=0;R<F;R++)g(A[R])},g=A=>{ot>mi&&(lt=E(ot));var F=typeof A,R;if(F==="string"){let L=A.length;if(Se&&L>=4&&L<4096){if((Se.size+=L)>fM){let U,H=(Se[0]?Se[0].length*3+Se[1].length:0)+10;ot+H>mi&&(lt=E(ot+H));let W;Se.position?(W=Se,lt[ot]=200,ot+=3,lt[ot++]=98,U=ot-i,ot+=4,em(i,g,0),ce.setUint16(U+i-3,ot-i-U)):(lt[ot++]=214,lt[ot++]=98,U=ot-i,ot+=4),Se=["",""],Se.previous=W,Se.size=0,Se.position=U}let z=cM.test(A);Se[z?0:1]+=A,lt[ot++]=193,g(z?-L:L);return}let D;L<32?D=1:L<256?D=2:L<65536?D=3:D=5;let I=L*3;if(ot+I>mi&&(lt=E(ot+I)),L<64||!r){let z,U,H,W=ot+D;for(z=0;z<L;z++)U=A.charCodeAt(z),U<128?lt[W++]=U:U<2048?(lt[W++]=U>>6|192,lt[W++]=U&63|128):(U&64512)===55296&&((H=A.charCodeAt(z+1))&64512)===56320?(U=65536+((U&1023)<<10)+(H&1023),z++,lt[W++]=U>>18|240,lt[W++]=U>>12&63|128,lt[W++]=U>>6&63|128,lt[W++]=U&63|128):(lt[W++]=U>>12|224,lt[W++]=U>>6&63|128,lt[W++]=U&63|128);R=W-ot-D}else R=r(A,ot+D);R<32?lt[ot++]=160|R:R<256?(D<2&&lt.copyWithin(ot+2,ot+1,ot+1+R),lt[ot++]=217,lt[ot++]=R):R<65536?(D<3&&lt.copyWithin(ot+3,ot+2,ot+2+R),lt[ot++]=218,lt[ot++]=R>>8,lt[ot++]=R&255):(D<5&&lt.copyWithin(ot+5,ot+3,ot+3+R),lt[ot++]=219,ce.setUint32(ot,R),ot+=4),ot+=R}else if(F==="number")if(A>>>0===A)A<32||A<128&&this.useRecords===!1||A<64&&!this.randomAccessStructure?lt[ot++]=A:A<256?(lt[ot++]=204,lt[ot++]=A):A<65536?(lt[ot++]=205,lt[ot++]=A>>8,lt[ot++]=A&255):(lt[ot++]=206,ce.setUint32(ot,A),ot+=4);else if(A>>0===A)A>=-32?lt[ot++]=256+A:A>=-128?(lt[ot++]=208,lt[ot++]=A+256):A>=-32768?(lt[ot++]=209,ce.setInt16(ot,A),ot+=2):(lt[ot++]=210,ce.setInt32(ot,A),ot+=4);else{let L;if((L=this.useFloat32)>0&&A<4294967296&&A>=-2147483648){lt[ot++]=202,ce.setFloat32(ot,A);let D;if(L<4||(D=A*Xu[(lt[ot]&127)<<1|lt[ot+1]>>7])>>0===D){ot+=4;return}else ot--}lt[ot++]=203,ce.setFloat64(ot,A),ot+=8}else if(F==="object"||F==="function")if(!A)lt[ot++]=192;else{if(S){let D=S.get(A);if(D){if(!D.id){let I=S.idsToInsert||(S.idsToInsert=[]);D.id=I.push(D)}lt[ot++]=214,lt[ot++]=112,ce.setUint32(ot,D.id),ot+=4;return}else S.set(A,{offset:ot-i})}let L=A.constructor;if(L===Object)w(A);else if(L===Array)p(A);else if(L===Map)if(this.mapAsEmptyObject)lt[ot++]=128;else{R=A.size,R<16?lt[ot++]=128|R:R<65536?(lt[ot++]=222,lt[ot++]=R>>8,lt[ot++]=R&255):(lt[ot++]=223,ce.setUint32(ot,R),ot+=4);for(let[D,I]of A)g(D),g(I)}else{for(let D=0,I=pu.length;D<I;D++){let z=jv[D];if(A instanceof z){let U=pu[D];if(U.write){U.type&&(lt[ot++]=212,lt[ot++]=U.type,lt[ot++]=0);let B=U.write.call(this,A);B===A?Array.isArray(A)?p(A):w(A):g(B);return}let H=lt,W=ce,N=ot;lt=null;let X;try{X=U.pack.call(this,A,B=>(lt=H,H=null,ot+=B,ot>mi&&E(ot),{target:lt,targetView:ce,position:ot-B}),g)}finally{H&&(lt=H,ce=W,ot=N,mi=lt.length-10)}X&&(X.length+ot>mi&&E(X.length+ot),ot=vM(X,lt,ot,U.type));return}}if(Array.isArray(A))p(A);else{if(A.toJSON){const D=A.toJSON();if(D!==A)return g(D)}if(F==="function")return g(this.writeFunction&&this.writeFunction(A));w(A)}}}else if(F==="boolean")lt[ot++]=A?195:194;else if(F==="bigint"){if(A<BigInt(1)<<BigInt(63)&&A>=-(BigInt(1)<<BigInt(63)))lt[ot++]=211,ce.setBigInt64(ot,A);else if(A<BigInt(1)<<BigInt(64)&&A>0)lt[ot++]=207,ce.setBigUint64(ot,A);else if(this.largeBigIntToFloat)lt[ot++]=203,ce.setFloat64(ot,Number(A));else{if(this.largeBigIntToString)return g(A.toString());if(this.useBigIntExtension&&A<BigInt(2)**BigInt(1023)&&A>-(BigInt(2)**BigInt(1023))){lt[ot++]=199,ot++,lt[ot++]=66;let L=[],D;do{let I=A&BigInt(255);D=(I&BigInt(128))===(A<BigInt(0)?BigInt(128):BigInt(0)),L.push(I),A>>=BigInt(8)}while(!((A===BigInt(0)||A===BigInt(-1))&&D));lt[ot-2]=L.length;for(let I=L.length;I>0;)lt[ot++]=Number(L[--I]);return}else throw new RangeError(A+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}ot+=8}else if(F==="undefined")this.encodeUndefinedAsNil?lt[ot++]=192:(lt[ot++]=212,lt[ot++]=0,lt[ot++]=0);else throw new Error("Unknown type: "+F)},x=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?A=>{let F;if(this.skipValues){F=[];for(let D in A)(typeof A.hasOwnProperty!="function"||A.hasOwnProperty(D))&&!this.skipValues.includes(A[D])&&F.push(D)}else F=Object.keys(A);let R=F.length;R<16?lt[ot++]=128|R:R<65536?(lt[ot++]=222,lt[ot++]=R>>8,lt[ot++]=R&255):(lt[ot++]=223,ce.setUint32(ot,R),ot+=4);let L;if(this.coercibleKeyAsNumber)for(let D=0;D<R;D++){L=F[D];let I=Number(L);g(isNaN(I)?L:I),g(A[L])}else for(let D=0;D<R;D++)g(L=F[D]),g(A[L])}:A=>{lt[ot++]=222;let F=ot-i;ot+=2;let R=0;for(let L in A)(typeof A.hasOwnProperty!="function"||A.hasOwnProperty(L))&&(g(L),g(A[L]),R++);if(R>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');lt[F+++i]=R>>8,lt[F+i]=R&255},C=this.useRecords===!1?x:t.progressiveRecords&&!u?A=>{let F,R=y.transitions||(y.transitions=Object.create(null)),L=ot++-i,D;for(let I in A)if(typeof A.hasOwnProperty!="function"||A.hasOwnProperty(I)){if(F=R[I],F)R=F;else{let z=Object.keys(A),U=R;R=y.transitions;let H=0;for(let W=0,N=z.length;W<N;W++){let X=z[W];F=R[X],F||(F=R[X]=Object.create(null),H++),R=F}L+i+1==ot?(ot--,b(R,z,H)):O(R,z,L,H),D=!0,R=U[I]}g(A[I])}if(!D){let I=R[Kn];I?lt[L+i]=I:O(R,Object.keys(A),L,0)}}:A=>{let F,R=y.transitions||(y.transitions=Object.create(null)),L=0;for(let I in A)(typeof A.hasOwnProperty!="function"||A.hasOwnProperty(I))&&(F=R[I],F||(F=R[I]=Object.create(null),L++),R=F);let D=R[Kn];D?D>=96&&u?(lt[ot++]=((D-=96)&31)+96,lt[ot++]=D>>5):lt[ot++]=D:b(R,R.__keys__||Object.keys(A),L);for(let I in A)(typeof A.hasOwnProperty!="function"||A.hasOwnProperty(I))&&g(A[I])},P=typeof this.useRecords=="function"&&this.useRecords,w=P?A=>{P(A)?C(A):x(A)}:C,E=A=>{let F;if(A>16777216){if(A-i>q0)throw new Error("Packed buffer would be larger than maximum buffer size");F=Math.min(q0,Math.round(Math.max((A-i)*(A>67108864?1.25:2),4194304)/4096)*4096)}else F=(Math.max(A-i<<2,lt.length-1)>>12)+1<<12;let R=new zh(F);return ce=R.dataView||(R.dataView=new DataView(R.buffer,0,F)),A=Math.min(A,lt.length),lt.copy?lt.copy(R,0,i,A):R.set(lt.slice(i,A)),ot-=i,i=0,mi=R.length-10,lt=R},b=(A,F,R)=>{let L=y.nextId;L||(L=64),L<h&&this.shouldShareStructure&&!this.shouldShareStructure(F)?(L=y.nextOwnId,L<a||(L=h),y.nextOwnId=L+1):(L>=a&&(L=h),y.nextId=L+1);let D=F.highByte=L>=96&&u?L-96>>5:-1;A[Kn]=L,A.__keys__=F,y[L-64]=F,L<h?(F.isShared=!0,y.sharedLength=L-63,n=!0,D>=0?(lt[ot++]=(L&31)+96,lt[ot++]=D):lt[ot++]=L):(D>=0?(lt[ot++]=213,lt[ot++]=114,lt[ot++]=(L&31)+96,lt[ot++]=D):(lt[ot++]=212,lt[ot++]=114,lt[ot++]=L),R&&(c+=d*R),l.length>=f&&(l.shift()[Kn]=0),l.push(A),g(F))},O=(A,F,R,L)=>{let D=lt,I=ot,z=mi,U=i;lt=Ja,ot=0,i=0,lt||(Ja=lt=new zh(8192)),mi=lt.length-10,b(A,F,L),Ja=lt;let H=ot;if(lt=D,ot=I,mi=z,i=U,H>1){let W=ot+H-1;W>mi&&E(W);let N=R+i;lt.copyWithin(N+H,N+1,ot),lt.set(Ja.slice(0,H),N),ot=W}else lt[R+i]=Ja[0]},M=A=>{let F=dM(A,lt,i,ot,y,E,(R,L,D)=>{if(D)return n=!0;ot=L;let I=lt;return g(R),v(),I!==lt?{position:ot,targetView:ce,target:lt}:ot},this);if(F===0)return w(A);ot=F}}useBuffer(t){lt=t,lt.dataView||(lt.dataView=new DataView(lt.buffer,lt.byteOffset,lt.byteLength)),ot=0}set position(t){ot=t}get position(){return ot}set buffer(t){lt=t}get buffer(){return lt}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}jv=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,bC];pu=[{pack(e,t,i){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:y,targetView:S,position:r}=t(6);y[r++]=214,y[r++]=255,S.setUint32(r,n)}else if(n>0&&n<4294967296){let{target:y,targetView:S,position:r}=t(10);y[r++]=215,y[r++]=255,S.setUint32(r,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),S.setUint32(r+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),i(this.onInvalidDate());let{target:y,targetView:S,position:r}=t(3);y[r++]=212,y[r++]=255,y[r++]=255}else{let{target:y,targetView:S,position:r}=t(15);y[r++]=199,y[r++]=12,y[r++]=255,S.setUint32(r,e.getMilliseconds()*1e6),S.setBigInt64(r+4,BigInt(Math.floor(n)))}}},{pack(e,t,i){if(this.setAsEmptyObject)return t(0),i({});let n=Array.from(e),{target:y,position:S}=t(this.moreTypes?3:0);this.moreTypes&&(y[S++]=212,y[S++]=115,y[S++]=0),i(n)}},{pack(e,t,i){let{target:n,position:y}=t(this.moreTypes?3:0);this.moreTypes&&(n[y++]=212,n[y++]=101,n[y++]=0),i([e.name,e.message,e.cause])}},{pack(e,t,i){let{target:n,position:y}=t(this.moreTypes?3:0);this.moreTypes&&(n[y++]=212,n[y++]=120,n[y++]=0),i([e.source,e.flags])}},{pack(e,t){this.moreTypes?_0(e,16,t):tm(Yu?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let i=e.constructor;i!==kC&&this.moreTypes?_0(e,FC.indexOf(i.name),t):tm(e,t)}},{pack(e,t){let{target:i,position:n}=t(1);i[n]=193}}];function _0(e,t,i,n){let y=e.byteLength;if(y+1<256){var{target:S,position:r}=i(4+y);S[r++]=199,S[r++]=y+1}else if(y+1<65536){var{target:S,position:r}=i(5+y);S[r++]=200,S[r++]=y+1>>8,S[r++]=y+1&255}else{var{target:S,position:r,targetView:T}=i(7+y);S[r++]=201,T.setUint32(r,y+1),r+=4}S[r++]=116,S[r++]=t,e.buffer||(e=new Uint8Array(e)),S.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r)}function tm(e,t){let i=e.byteLength;var n,y;if(i<256){var{target:n,position:y}=t(i+2);n[y++]=196,n[y++]=i}else if(i<65536){var{target:n,position:y}=t(i+3);n[y++]=197,n[y++]=i>>8,n[y++]=i&255}else{var{target:n,position:y,targetView:S}=t(i+5);n[y++]=198,S.setUint32(y,i),y+=4}n.set(e,y)}function vM(e,t,i,n){let y=e.length;switch(y){case 1:t[i++]=212;break;case 2:t[i++]=213;break;case 4:t[i++]=214;break;case 8:t[i++]=215;break;case 16:t[i++]=216;break;default:y<256?(t[i++]=199,t[i++]=y):y<65536?(t[i++]=200,t[i++]=y>>8,t[i++]=y&255):(t[i++]=201,t[i++]=y>>24,t[i++]=y>>16&255,t[i++]=y>>8&255,t[i++]=y&255)}return t[i++]=n,t.set(e,i),i+=y,i}function pM(e,t){let i,n=t.length*6,y=e.length-n;for(;i=t.pop();){let S=i.offset,r=i.id;e.copyWithin(S+n,S,y),n-=6;let T=S+n;e[T++]=214,e[T++]=105,e[T++]=r>>24,e[T++]=r>>16&255,e[T++]=r>>8&255,e[T++]=r&255,y=S}return e}function em(e,t,i){if(Se.length>0){ce.setUint32(Se.position+e,ot+i-Se.position-e),Se.stringsPosition=ot-e;let n=Se;Se=null,t(n[0]),t(n[1])}}function gM(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");jv.unshift(e.Class),pu.unshift(e)}nM(e)}function mM(e,t){return e.isCompatible=i=>{let n=!i||(t.lastNamedStructuresLength||0)===i.length;return n||t._mergeStructures(i),n},e}let NC=new Qo({useRecords:!1});const xM=NC.pack,yM=NC.pack,TM=Qo,{NEVER:CM,ALWAYS:SM,DECIMAL_ROUND:PM,DECIMAL_FIT:EM}=IC,GC=512,zC=1024,UC=2048;function wM(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable");if(typeof e[Symbol.iterator]=="function")return bM(e,t);if(typeof e.then=="function"||typeof e[Symbol.asyncIterator]=="function")return OM(e,t);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}function*bM(e,t){const i=new Qo(t);for(const n of e)yield i.pack(n)}async function*OM(e,t){const i=new Qo(t);for await(const n of e)yield i.pack(n)}function MM(e,t={}){if(!e||typeof e!="object")throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");const i=new jr(t);let n;const y=S=>{let r;n&&(S=Buffer.concat([n,S]),n=void 0);try{r=i.unpackMultiple(S)}catch(T){if(T.incomplete)n=S.slice(T.lastPosition),r=T.values;else throw T}return r};if(typeof e[Symbol.iterator]=="function")return function*(){for(const S of e)yield*y(S)}();if(typeof e[Symbol.asyncIterator]=="function")return async function*(){for await(const S of e)yield*y(S)}()}const AM=MM,RM=wM,LM=!1,FM=!0,DM=Object.freeze(Object.defineProperty({__proto__:null,ALWAYS:SM,C1:Yv,DECIMAL_FIT:EM,DECIMAL_ROUND:PM,Decoder:aM,Encoder:TM,FLOAT32_OPTIONS:IC,NEVER:CM,Packr:Qo,RESERVE_START_SPACE:UC,RESET_BUFFER_MODE:zC,REUSE_BUFFER_MODE:GC,Unpackr:jr,addExtension:gM,clearSource:vu,decode:lM,decodeIter:AM,encode:yM,encodeIter:RM,isNativeAccelerationEnabled:eM,mapsAsObjects:FM,pack:xM,roundFloat32:uM,unpack:oM,unpackMultiple:hM,useRecords:LM},Symbol.toStringTag,{value:"Module"})),IM=Gv(DM);var im;function VC(){if(im)return of;im=1;var e=KO(),t=SC(),i=PC(),n=EC(),y=JO(),S=Nu(),r=wC(),T=Uu(),s=IM;let o=class XC{constructor(f,u){this.onStateChange=y.createSignal(),this.onError=y.createSignal(),this.onLeave=y.createSignal(),this.onJoin=y.createSignal(),this.hasJoined=!1,this.onMessageHandlers=n.createNanoEvents(),this.roomId=null,this.name=f,this.packr=new s.Packr,this.packr.encode(void 0),u&&(this.serializer=new(i.getSerializer("schema")),this.rootSchema=u,this.serializer.state=new u),this.onError((h,a)=>{var l;return(l=console.warn)===null||l===void 0?void 0:l.call(console,`colyseus.js - onError => (${h}) ${a}`)}),this.onLeave(()=>this.removeAllListeners())}connect(f,u,h=this,a,l){const c=new e.Connection(a.protocol);if(h.connection=c,c.events.onmessage=XC.prototype.onMessageCallback.bind(h),c.events.onclose=function(d){var v;if(!h.hasJoined){(v=console.warn)===null||v===void 0||v.call(console,`Room connection was closed unexpectedly (${d.code}): ${d.reason}`),h.onError.invoke(d.code,d.reason);return}d.code===T.CloseCode.DEVMODE_RESTART&&u?u():(h.onLeave.invoke(d.code,d.reason),h.destroy())},c.events.onerror=function(d){var v;(v=console.warn)===null||v===void 0||v.call(console,`Room, onError (${d.code}): ${d.reason}`),h.onError.invoke(d.code,d.reason)},a.protocol==="h3"){const d=new URL(f);c.connect(d.origin,a)}else c.connect(f,l)}leave(f=!0){return new Promise(u=>{this.onLeave(h=>u(h)),this.connection?f?(this.packr.buffer[0]=t.Protocol.LEAVE_ROOM,this.connection.send(this.packr.buffer.subarray(0,1))):this.connection.close():this.onLeave.invoke(T.CloseCode.CONSENTED)})}onMessage(f,u){return this.onMessageHandlers.on(this.getMessageHandlerKey(f),u)}send(f,u){const h={offset:1};this.packr.buffer[0]=t.Protocol.ROOM_DATA,typeof f=="string"?S.encode.string(this.packr.buffer,f,h):S.encode.number(this.packr.buffer,f,h),this.packr.position=0;const a=u!==void 0?this.packr.pack(u,2048+h.offset):this.packr.buffer.subarray(0,h.offset);this.connection.send(a)}sendUnreliable(f,u){const h={offset:1};this.packr.buffer[0]=t.Protocol.ROOM_DATA,typeof f=="string"?S.encode.string(this.packr.buffer,f,h):S.encode.number(this.packr.buffer,f,h),this.packr.position=0;const a=u!==void 0?this.packr.pack(u,2048+h.offset):this.packr.buffer.subarray(0,h.offset);this.connection.sendUnreliable(a)}sendBytes(f,u){const h={offset:1};if(this.packr.buffer[0]=t.Protocol.ROOM_DATA_BYTES,typeof f=="string"?S.encode.string(this.packr.buffer,f,h):S.encode.number(this.packr.buffer,f,h),u.byteLength+h.offset>this.packr.buffer.byteLength){const a=new Uint8Array(h.offset+u.byteLength);a.set(this.packr.buffer),this.packr.useBuffer(a)}this.packr.buffer.set(u,h.offset),this.connection.send(this.packr.buffer.subarray(0,h.offset+u.byteLength))}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={},this.serializer instanceof r.SchemaSerializer&&(this.serializer.decoder.root.callbacks={})}onMessageCallback(f){const u=new Uint8Array(f.data),h={offset:1},a=u[0];if(a===t.Protocol.JOIN_ROOM){const l=S.decode.utf8Read(u,h,u[h.offset++]);if(this.serializerId=S.decode.utf8Read(u,h,u[h.offset++]),!this.serializer){const c=i.getSerializer(this.serializerId);this.serializer=new c}u.byteLength>h.offset&&this.serializer.handshake&&this.serializer.handshake(u,h),this.reconnectionToken=`${this.roomId}:${l}`,this.hasJoined=!0,this.onJoin.invoke(),this.packr.buffer[0]=t.Protocol.JOIN_ROOM,this.connection.send(this.packr.buffer.subarray(0,1))}else if(a===t.Protocol.ERROR){const l=S.decode.number(u,h),c=S.decode.string(u,h);this.onError.invoke(l,c)}else if(a===t.Protocol.LEAVE_ROOM)this.leave();else if(a===t.Protocol.ROOM_STATE)this.serializer.setState(u,h),this.onStateChange.invoke(this.serializer.getState());else if(a===t.Protocol.ROOM_STATE_PATCH)this.serializer.patch(u,h),this.onStateChange.invoke(this.serializer.getState());else if(a===t.Protocol.ROOM_DATA){const l=S.decode.stringCheck(u,h)?S.decode.string(u,h):S.decode.number(u,h),c=u.byteLength>h.offset?s.unpack(u,{start:h.offset}):void 0;this.dispatchMessage(l,c)}else if(a===t.Protocol.ROOM_DATA_BYTES){const l=S.decode.stringCheck(u,h)?S.decode.string(u,h):S.decode.number(u,h);this.dispatchMessage(l,u.subarray(h.offset))}}dispatchMessage(f,u){var h;const a=this.getMessageHandlerKey(f);this.onMessageHandlers.events[a]?this.onMessageHandlers.emit(a,u):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",f,u):(h=console.warn)===null||h===void 0||h.call(console,`colyseus.js: onMessage() not registered for type '${f}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(f){switch(typeof f){case"string":return f;case"number":return`i${f}`;default:throw new Error("invalid message type.")}}};return of.Room=o,of}var cf={};function sm(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function gs(e,t,i){return new Promise(function(n,y){i=i||{};var S=new XMLHttpRequest,r,T,s,o=i.body,m=i.headers||{};i.timeout&&(S.timeout=i.timeout),S.ontimeout=S.onerror=function(f){f.timeout=f.type=="timeout",y(f)},S.onabort=function(f){f.aborted=!0,y(f)},S.open(e,t.href||t),S.onload=function(){for(s=S.getAllResponseHeaders().trim().split(/[\r\n]+/),sm(S,S);T=s.shift();)T=T.split(": "),S.headers[T.shift().toLowerCase()]=T.join(": ");if(T=S.headers["content-type"],T&&~T.indexOf("application/json"))try{S.data=JSON.parse(S.data,i.reviver)}catch(f){return sm(S,f),y(f)}(S.status>=400?y:n)(S)},typeof FormData<"u"&&o instanceof FormData||o&&typeof o=="object"&&(m["content-type"]="application/json",o=JSON.stringify(o)),S.withCredentials=!!i.withCredentials;for(r in m)S.setRequestHeader(r,m[r]);S.send(o),i.signal&&i.signal.addEventListener("abort",function(){S.abort()})})}var BM=gs.bind(gs,"GET"),kM=gs.bind(gs,"POST"),NM=gs.bind(gs,"PATCH"),GM=gs.bind(gs,"DELETE"),zM=gs.bind(gs,"PUT");const UM=Object.freeze(Object.defineProperty({__proto__:null,del:GM,get:BM,patch:NM,post:kM,put:zM,send:gs},Symbol.toStringTag,{value:"Module"})),XM=Gv(UM);var rm;function VM(){if(rm)return cf;rm=1;var e=Uu(),t=XM;function i(S){var r=Object.create(null);return S&&Object.keys(S).forEach(function(T){if(T!=="default"){var s=Object.getOwnPropertyDescriptor(S,T);Object.defineProperty(r,T,s.get?s:{enumerable:!0,get:function(){return S[T]}})}}),r.default=S,Object.freeze(r)}var n=i(t);let y=class{constructor(S,r={}){this.client=S,this.headers=r}get(S,r={}){return this.request("get",S,r)}post(S,r={}){return this.request("post",S,r)}del(S,r={}){return this.request("del",S,r)}put(S,r={}){return this.request("put",S,r)}request(S,r,T={}){return n[S](this.client.getHttpEndpoint(r),this.getOptions(T)).catch(s=>{var o;if(s.aborted)throw new e.AbortError("Request aborted");const m=s.statusCode,f=((o=s.data)===null||o===void 0?void 0:o.error)||s.statusMessage||s.message;throw!m&&!f?s:new e.ServerError(m,f)})}getOptions(S){return S.headers=Object.assign({},this.headers,S.headers),this.authToken&&(S.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(S.withCredentials=!0),S}};return cf.HTTP=y,cf}var vf={},Za={},nm;function YM(){if(nm)return Za;nm=1;var e=zu;let t;function i(){if(!t)try{t=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return!t&&typeof globalThis.indexedDB<"u"&&(t=new r),t||(t={cache:{},setItem:function(T,s){this.cache[T]=s},getItem:function(T){this.cache[T]},removeItem:function(T){delete this.cache[T]}}),t}function n(T,s){i().setItem(T,s)}function y(T){i().removeItem(T)}function S(T,s){const o=i().getItem(T);typeof Promise>"u"||!(o instanceof Promise)?s(o):o.then(m=>s(m))}class r{constructor(){this.dbPromise=new Promise(s=>{const o=indexedDB.open("_colyseus_storage",1);o.onupgradeneeded=()=>o.result.createObjectStore("store"),o.onsuccess=()=>s(o.result)})}tx(s,o){return e.__awaiter(this,void 0,void 0,function*(){const m=(yield this.dbPromise).transaction("store",s).objectStore("store");return o(m)})}setItem(s,o){return this.tx("readwrite",m=>m.put(o,s)).then()}getItem(s){return e.__awaiter(this,void 0,void 0,function*(){const o=yield this.tx("readonly",m=>m.get(s));return new Promise(m=>{o.onsuccess=()=>m(o.result)})})}removeItem(s){return this.tx("readwrite",o=>o.delete(s)).then()}}return Za.getItem=S,Za.removeItem=y,Za.setItem=n,Za}var am;function YC(){if(am)return vf;am=1;var e=zu,t=YM(),i=EC(),n,y,S,r;let T=class{constructor(s){this.http=s,this.settings={path:"/auth",key:"colyseus-auth-token"},n.set(this,!1),y.set(this,void 0),S.set(this,void 0),r.set(this,i.createNanoEvents()),t.getItem(this.settings.key,o=>this.token=o)}set token(s){this.http.authToken=s}get token(){return this.http.authToken}onChange(s){const o=e.__classPrivateFieldGet(this,r,"f").on("change",s);return e.__classPrivateFieldGet(this,n,"f")||e.__classPrivateFieldSet(this,y,new Promise((m,f)=>{this.getUserData().then(u=>{this.emitChange(Object.assign(Object.assign({},u),{token:this.token}))}).catch(u=>{this.emitChange({user:null,token:void 0})}).finally(()=>{m()})}),"f"),e.__classPrivateFieldSet(this,n,!0,"f"),o}getUserData(){return e.__awaiter(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(s,o,m){return e.__awaiter(this,void 0,void 0,function*(){const f=(yield this.http.post(`${this.settings.path}/register`,{body:{email:s,password:o,options:m}})).data;return this.emitChange(f),f})}signInWithEmailAndPassword(s,o){return e.__awaiter(this,void 0,void 0,function*(){const m=(yield this.http.post(`${this.settings.path}/login`,{body:{email:s,password:o}})).data;return this.emitChange(m),m})}signInAnonymously(s){return e.__awaiter(this,void 0,void 0,function*(){const o=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:s}})).data;return this.emitChange(o),o})}sendPasswordResetEmail(s){return e.__awaiter(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:s}})).data})}signInWithProvider(s){return e.__awaiter(this,arguments,void 0,function*(o,m={}){return new Promise((f,u)=>{const h=m.width||480,a=m.height||768,l=this.token?`?token=${this.token}`:"",c=`Login with ${o[0].toUpperCase()+o.substring(1)}`,d=this.http.client.getHttpEndpoint(`${m.prefix||`${this.settings.path}/provider`}/${o}${l}`),v=screen.width/2-h/2,p=screen.height/2-a/2;e.__classPrivateFieldSet(this,S,window.open(d,c,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+h+", height="+a+", top="+p+", left="+v),"f");const g=C=>{C.data.user===void 0&&C.data.token===void 0||(clearInterval(x),e.__classPrivateFieldGet(this,S,"f").close(),e.__classPrivateFieldSet(this,S,void 0,"f"),window.removeEventListener("message",g),C.data.error!==void 0?u(C.data.error):(f(C.data),this.emitChange(C.data)))},x=setInterval(()=>{(!e.__classPrivateFieldGet(this,S,"f")||e.__classPrivateFieldGet(this,S,"f").closed)&&(e.__classPrivateFieldSet(this,S,void 0,"f"),u("cancelled"),window.removeEventListener("message",g))},200);window.addEventListener("message",g)})})}signOut(){return e.__awaiter(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(s){s.token!==void 0&&(this.token=s.token,s.token===null?t.removeItem(this.settings.key):t.setItem(this.settings.key,s.token)),e.__classPrivateFieldGet(this,r,"f").emit("change",s)}};return n=new WeakMap,y=new WeakMap,S=new WeakMap,r=new WeakMap,vf.Auth=T,vf}var pf={},om;function WM(){if(om)return pf;om=1;function e(t){var i;const n=((i=window?.location)===null||i===void 0?void 0:i.hostname)||"localhost",y=t.hostname.split("."),S=!t.hostname.includes("trycloudflare.com")&&!t.hostname.includes("discordsays.com")&&y.length>2?`/${y[0]}`:"";return t.pathname.startsWith("/.proxy")?`${t.protocol}//${n}${S}${t.pathname}${t.search}`:`${t.protocol}//${n}/.proxy/colyseus${S}${t.pathname}${t.search}`}return pf.discordURLBuilder=e,pf}var hm;function HM(){if(hm)return Ih;hm=1;var e=zu,t=Uu(),i=VC(),n=VM(),y=YC(),S=WM(),r;class T extends Error{constructor(f,u){super(f),this.code=u,this.name="MatchMakeError",Object.setPrototypeOf(this,T.prototype)}}const s=typeof window<"u"&&typeof((r=window?.location)===null||r===void 0?void 0:r.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";let o=class{constructor(m=s,f){var u,h;if(typeof m=="string"){const a=m.startsWith("/")?new URL(m,s):new URL(m),l=a.protocol==="https:"||a.protocol==="wss:",c=Number(a.port||(l?443:80));this.settings={hostname:a.hostname,pathname:a.pathname,port:c,secure:l,searchParams:a.searchParams.toString()||void 0}}else m.port===void 0&&(m.port=m.secure?443:80),m.pathname===void 0&&(m.pathname=""),this.settings=m;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new n.HTTP(this,f?.headers||{}),this.auth=new y.Auth(this.http),this.urlBuilder=f?.urlBuilder,!this.urlBuilder&&typeof window<"u"&&!((h=(u=window?.location)===null||u===void 0?void 0:u.hostname)===null||h===void 0)&&h.includes("discordsays.com")&&(this.urlBuilder=S.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(m){return e.__awaiter(this,arguments,void 0,function*(f,u={},h){return yield this.createMatchMakeRequest("joinOrCreate",f,u,h)})}create(m){return e.__awaiter(this,arguments,void 0,function*(f,u={},h){return yield this.createMatchMakeRequest("create",f,u,h)})}join(m){return e.__awaiter(this,arguments,void 0,function*(f,u={},h){return yield this.createMatchMakeRequest("join",f,u,h)})}joinById(m){return e.__awaiter(this,arguments,void 0,function*(f,u={},h){return yield this.createMatchMakeRequest("joinById",f,u,h)})}reconnect(m,f){return e.__awaiter(this,void 0,void 0,function*(){if(typeof m=="string"&&typeof f=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[u,h]=m.split(":");if(!u||!h)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",u,{reconnectionToken:h},f)})}consumeSeatReservation(m,f,u){return e.__awaiter(this,void 0,void 0,function*(){const h=this.createRoom(m.room.name,f);h.roomId=m.room.roomId,h.sessionId=m.sessionId;const a={sessionId:h.sessionId};m.reconnectionToken&&(a.reconnectionToken=m.reconnectionToken);const l=u||h;return h.connect(this.buildEndpoint(m.room,a,m.protocol),m.devMode&&(()=>e.__awaiter(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${h.roomId}'...`);let c=0,d=8;const v=()=>e.__awaiter(this,void 0,void 0,function*(){c++;try{yield this.consumeSeatReservation(m,f,l),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${h.roomId}'`)}catch{c<d?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${c} out of ${d})`),setTimeout(v,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(v,2e3)})),l,m,this.http.headers),new Promise((c,d)=>{const v=(p,g)=>d(new t.ServerError(p,g));l.onError.once(v),l.onJoin.once(()=>{l.onError.remove(v),c(l)})})})}createMatchMakeRequest(m,f){return e.__awaiter(this,arguments,void 0,function*(u,h,a={},l,c){const d=(yield this.http.post(`matchmake/${u}/${h}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})).data;if(d.error)throw new T(d.error,d.code);return u==="reconnect"&&(d.reconnectionToken=a.reconnectionToken),yield this.consumeSeatReservation(d,l,c)})}createRoom(m,f){return new i.Room(m,f)}buildEndpoint(m,f={},u="ws"){let h=this.settings.searchParams||"";this.http.authToken&&(f._authToken=this.http.authToken);for(const c in f)f.hasOwnProperty(c)&&(h+=(h?"&":"")+`${c}=${f[c]}`);u==="h3"&&(u="http");let a=this.settings.secure?`${u}s://`:`${u}://`;m.publicAddress?a+=`${m.publicAddress}`:a+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const l=`${a}/${m.processId}/${m.roomId}?${h}`;return this.urlBuilder?this.urlBuilder(new URL(l)):l}getHttpEndpoint(m=""){const f=m.startsWith("/")?m:`/${m}`;let u=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${f}`;return this.settings.searchParams&&(u+=`?${this.settings.searchParams}`),this.urlBuilder?this.urlBuilder(new URL(u)):u}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}};return o.VERSION="0.16.19",Ih.Client=o,Ih.MatchMakeError=T,Ih}var gf={},lm;function jM(){if(lm)return gf;lm=1;let e=class{setState(t){}getState(){return null}patch(t){}teardown(){}handshake(t){}};return gf.NoneSerializer=e,gf}var um;function $M(){return um||(um=1,function(e){UO();var t=HM(),i=SC(),n=VC(),y=YC(),S=Uu(),r=wC(),T=jM(),s=PC();s.registerSerializer("schema",r.SchemaSerializer),s.registerSerializer("none",T.NoneSerializer),e.Client=t.Client,e.MatchMakeError=t.MatchMakeError,Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return i.ErrorCode}}),Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return i.Protocol}}),e.Room=n.Room,e.Auth=y.Auth,e.ServerError=S.ServerError,e.SchemaSerializer=r.SchemaSerializer,e.getStateCallbacks=r.getStateCallbacks,e.registerSerializer=s.registerSerializer}(M0)),M0}var dm=$M();class KM{constructor(t,i){yt(this,"room",null),yt(this,"scene"),yt(this,"stateCallbacksSetup",!1),yt(this,"gameUI"),yt(this,"lastClickPosition",null),this.scene=t,this.gameUI=i,this.setupClickTracking()}setGameUI(t){this.gameUI=t}setupClickTracking(){this.scene.input.on("pointerdown",t=>{this.lastClickPosition={x:t.x,y:t.y}})}async connect(t){const i=this.showConnectionStatus("Connecting..."),n=new dm.Client(t);try{console.log(" Connecting to Colyseus:",t),this.room=await n.joinOrCreate("game",{name:"Pet Game",addressWallet:Mi.getState().addressWallet}),console.log(" Connected to Colyseus!"),i.setText(" Connected!"),i.setStyle({color:"#00ff00"}),this.setupEventListeners(),this.hideStatusAfterDelay(i,3e3)}catch(y){console.error(" Connection failed:",y),i.setText(" Connection failed!"),i.setStyle({color:"#ff0000"}),this.room=null}}isConnected(){return!!this.room}sendMessage(t,i){if(!this.room){console.warn(" Cannot send message - room is null");return}if(!this.isConnected()){console.warn(" Cannot send message - not connected");return}console.log(` Sending: ${t}`,i);try{this.room.send(t,i)}catch(n){console.error(" Failed to send message:",n)}}setupEventListeners(){this.room&&(this.room.onStateChange(t=>{console.log(" State changed"),this.setupStateCallbacks(t)}),this.room.onMessage("*",(t,i)=>{console.log(" Message:",t,i),typeof t=="string"&&this.handleMessage(t,i)}),this.room.onError((t,i)=>{console.error(" Room error:",t,i)}),this.room.onLeave(t=>{console.log(" Left room:",t)}))}handleMessage(t,i){switch(t){case"purchase-response":this.handlePurchaseResponse(i);break;case"feed-pet-response":case"play-pet-response":case"clean-pet-response":this.handlePetActionResponse(i);break;case"player-state-sync":this.handlePlayerSync(i);break;case"pets-state-sync":this.handlePetsSync(i);break;case"welcome":this.requestPlayerState();break}}handlePurchaseResponse(t){var i,n;if(console.log(" Purchase response:",t),t.success)t.currentTokens!==void 0&&(Mi.getState().setNomToken(t.currentTokens),console.log(` Tokens updated: ${t.currentTokens}`));else{const y=(i=this.lastClickPosition)==null?void 0:i.x,S=(n=this.lastClickPosition)==null?void 0:n.y;this.gameUI.showNotification(` ${t.message}`,y,S)}}handlePetActionResponse(t){console.log(" Pet action response:",t),t.success?(this.gameUI&&this.gameUI.showNotification&&this.gameUI.showNotification(` ${t.message}`),t.petStats&&console.log(" Pet stats updated:",t.petStats)):this.gameUI&&this.gameUI.showNotification&&this.gameUI.showNotification(` ${t.message}`)}handlePlayerSync(t){if(console.log(" Player sync:",t),t.tokens!==void 0){const i=Mi.getState().nomToken;i!==t.tokens&&(Mi.getState().setNomToken(t.tokens),console.log(` Tokens synced: ${i} -> ${t.tokens}`),this.gameUI&&this.gameUI.updateUI&&this.gameUI.updateUI())}t.inventory&&(console.log(" Inventory synced:",t.inventory),this.gameUI&&this.gameUI.updateUI&&this.gameUI.updateUI()),t.playerData&&console.log(" Player data synced:",t.playerData)}handlePetsSync(t){console.log(" Pets sync:",t);const i=this.getPetManager();if(!i){console.warn(" PetManager not found - cannot sync pets");return}if(!t.pets||!Array.isArray(t.pets)){console.log(" No pets to sync or invalid pets data");return}const n=new Set(i.getAllPets().map(r=>r.id)),y=new Set(t.pets.map(r=>r.id));console.log(` Local pets: [${Array.from(n).join(", ")}]`),console.log(` Server pets: [${Array.from(y).join(", ")}]`);let S=[];for(const r of n)y.has(r)||(console.log(` Removing pet ${r} (not on server)`),i.removePet(r));if(t.pets.forEach(r=>{let T=i.getPet(r.id);if(!T){if(console.log(` Creating new pet ${r.id}`),T=i.createPet(r.id,400,300),!T){console.error(` Failed to create pet ${r.id}`);return}S.push(r.id),this.gameUI&&this.gameUI.showNotification&&this.gameUI.showNotification(` New pet appeared: ${r.id}`)}T&&console.log(` Pet ${r.id} synced: hunger=${r.hunger}, happiness=${r.happiness}, cleanliness=${r.cleanliness}`)}),S.length>0){if(!i.getActivePet()&&S.length>0){const r=S[S.length-1];i.setActivePet(r),console.log(` Set newest pet ${r} as active`),this.gameUI&&this.gameUI.showNotification&&this.gameUI.showNotification(` Switched to new pet: ${r}`)}console.log(` Created ${S.length} new pets: [${S.join(", ")}]`)}console.log(` Pet sync completed. Total pets: ${i.getAllPets().length}`),this.gameUI&&this.gameUI.updateUI&&(this.gameUI.updateUI(),console.log(" Forced UI update after pet sync"))}setupStateCallbacks(t){if(this.stateCallbacksSetup)return;this.stateCallbacksSetup=!0;const i=dm.getStateCallbacks(this.room);console.log(" Setting up state callbacks..."),i(t).players.onAdd((n,y)=>{console.log(` Player added: ${y}`),this.room&&y===this.room.sessionId&&(console.log(" Setting up callbacks for current player"),i(n).listen("tokens",(S,r)=>{console.log(` Tokens changed: ${r} -> ${S}`),Mi.getState().setNomToken(S),this.gameUI&&this.gameUI.updateUI&&(this.gameUI.updateUI(),console.log(" UI updated due to token change"))}),i(n).inventory.onChange(()=>{console.log(" Inventory changed on server"),this.requestPlayerState()}),i(n).onChange(()=>{console.log(" Player state changed on server"),this.requestPlayerState()}))}),i(t).players.onRemove((n,y)=>{console.log(` Player removed: ${y}`)}),console.log(" State callbacks setup completed"),setTimeout(()=>{this.isConnected()?(this.requestPlayerState(),console.log(" Requested initial player state")):console.warn(" Cannot request initial state - not connected")},2e3)}getPetManager(){const t=this.scene;if(console.log(" Getting PetManager from scene:",t),t.getPetManager&&typeof t.getPetManager=="function"){const i=t.getPetManager();return console.log(" PetManager found:",i),i}else return console.warn(" getPetManager method not found on scene"),null}requestPlayerState(){console.log(" Requesting player state from server..."),this.sendMessage("request_player_state",{}),setTimeout(()=>{this.sendMessage("request_pets_state",{})},500)}showConnectionStatus(t){return this.scene.add.text(10,70,t).setStyle({color:"#ff0000",fontSize:"12px"}).setPadding(4)}hideStatusAfterDelay(t,i){this.scene.time.delayedCall(i,()=>{t&&t.destroy()})}purchaseItem(t,i,n=1){this.sendMessage("buy_food",{itemType:t,itemName:i,quantity:n})}feedPet(t,i){this.sendMessage("feed_pet",{petId:t,foodType:i})}playWithPet(t){this.sendMessage("play_with_pet",{petId:t})}cleanPet(t){this.sendMessage("clean_pet",{petId:t})}getStoreCatalog(){this.sendMessage("get_store_catalog",{})}getInventory(){this.sendMessage("get_inventory",{})}forceSyncState(){console.log(" Force syncing all state from server..."),this.requestPlayerState(),setTimeout(()=>{this.sendMessage("get_store_catalog",{})},1e3),setTimeout(()=>{this.sendMessage("get_inventory",{})},1500),console.log(" Sync requests sent")}}class JM{constructor(t,i){yt(this,"pets",new Map),yt(this,"scene"),yt(this,"colyseusClient"),yt(this,"activePetId",null),yt(this,"sharedDroppedFood",[]),yt(this,"sharedFoodShadows",[]),yt(this,"sharedFoodTimers",[]),yt(this,"foodTargets",new Map),yt(this,"safetyTimer"),this.scene=t,this.colyseusClient=i,this.startSafetyCheck()}createPet(t,i,n){var y;console.log(` Creating pet: ${t}`);const S=new MO(this.scene);S.createAnimations(),S.create(i,n);const r=new BO(S,this.scene),T=new kO(S),s=new IO(this.scene,S,this.colyseusClient),o={id:t,pet:S,feedingSystem:s,movementSystem:r,activitySystem:T};return S.onStopChasing=()=>{this.releaseFoodTarget(t)},this.pets.set(t,o),this.activePetId||(this.activePetId=t),(y=this.colyseusClient)!=null&&y.isConnected()&&(console.log(` Sending create-pet message to server for ${t}`),this.colyseusClient.sendMessage("create_pet",{petId:t,x:i,y:n,petType:"chog"})),console.log(` Pet ${t} created successfully`),o}removePet(t){var i;const n=this.pets.get(t);if(!n)return!1;if((i=this.colyseusClient)!=null&&i.isConnected()&&(console.log(` Sending remove-pet message to server for ${t}`),this.colyseusClient.sendMessage("remove_pet",{petId:t})),n.pet.destroy(),n.feedingSystem.destroy(),this.pets.delete(t),this.activePetId===t){const y=Array.from(this.pets.keys());this.activePetId=y.length>0?y[0]:null}return console.log(` Pet ${t} removed`),!0}getPet(t){return this.pets.get(t)}getActivePet(){return this.activePetId?this.pets.get(this.activePetId):void 0}setActivePet(t){return this.pets.has(t)?(this.activePetId=t,console.log(` Active pet changed to: ${t}`),!0):!1}getAllPets(){return Array.from(this.pets.values())}getPetData(t){return this.pets.get(t)}getAllPetsData(){return this.pets}syncPetWithServer(t,i){const n=this.getPetData(t);n&&((Math.abs(n.pet.sprite.x-i.x)>5||Math.abs(n.pet.sprite.y-i.y)>5)&&n.pet.sprite.setPosition(i.x,i.y),n.pet.speed=i.speed,n.feedingSystem&&typeof i.hungerLevel=="number"&&(n.feedingSystem.hungerLevel=i.hungerLevel),n.pet.setActivity(i.currentActivity),i.isChasing?n.pet.startChasing(i.targetX,i.targetY):n.pet.stopChasing(),console.log(` Pet ${t} synced with server data`))}addSharedFoodFromServer(t,i){console.log(" Adding shared food from server:",t,i);const n=this.scene.add.sprite(i.x,i.y,"hamburger");n.setScale(.5);const y=this.scene.add.ellipse(i.x,i.y+10,30,15,0,.3),S=this.scene.time.delayedCall(3e5,()=>{this.removeSharedFoodByServerId(t)}),r=n;r.serverId=t,r.droppedAt=i.droppedAt||Date.now(),this.sharedDroppedFood.push(n),this.sharedFoodShadows.push(y),this.sharedFoodTimers.push(S),this.notifyPetsAboutFood()}removeSharedFoodByServerId(t){const i=this.sharedDroppedFood.findIndex(n=>n.serverId===t);if(i!==-1){console.log(" Removing shared food by server ID:",t);const n=this.sharedDroppedFood[i],y=this.sharedFoodShadows[i],S=this.sharedFoodTimers[i];this.handleFoodRemovalForPets(n),n.destroy(),y.destroy(),S.destroy(),this.sharedDroppedFood.splice(i,1),this.sharedFoodShadows.splice(i,1),this.sharedFoodTimers.splice(i,1)}}handleFoodRemovalForPets(t){for(const i of this.pets.values())i.pet.chaseTarget&&i.pet.chaseTarget===t&&(console.log(` Pet ${i.id} target food removed, returning to walk`),i.pet.stopChasing(),i.pet.isUserControlled=!1,i.pet.setActivity("walk"));this.foodTargets.delete(t)}update(){for(const t of this.pets.values()){const i=t.pet.currentActivity,n=t.pet.sprite.x,y=t.pet.sprite.y,S=t.movementSystem.update();S&&"reachedTarget"in S&&S.reachedTarget&&S.targetX!==void 0&&S.targetY!==void 0&&this.checkSharedFoodEating(t,S.targetX,S.targetY),t.activitySystem.update(),t.feedingSystem.update();const r=t.pet.currentActivity,T=t.pet.sprite.x,s=t.pet.sprite.y,o=Math.abs(T-n)>5||Math.abs(s-y)>5;(r!==i||o)&&console.log(` Pet ${t.id} activity/position changed locally`)}}buyFood(t="hamburger"){const i=this.getActivePet();return i?i.feedingSystem.buyFood(t):!1}buyAndDropFood(t,i,n="hamburger"){var y;const S=this.getActivePet();return S?S.feedingSystem.foodInventory>0?(console.log(" Using existing food from inventory"),this.dropFood(t,i),!0):this.buyFood(n)?(console.log(" Food purchased successfully, now dropping"),(y=this.colyseusClient)!=null&&y.isConnected()?(S.feedingSystem.foodInventory+=1,this.dropFood(t,i)):this.dropFood(t,i),!0):(console.log(" Failed to buy food for dropping"),!1):(console.log(" No active pet for buyAndDropFood"),!1)}dropFood(t,i){const n=this.getActivePet();n&&n.feedingSystem.foodInventory>0&&(n.feedingSystem.foodInventory-=1,this.dropSharedFood(t,i))}dropSharedFood(t,i){const n=this.scene.cameras.main.height,y=this.scene.cameras.main.width,S=Ci.getFoodFinalY(n),r=Ci.getPetBoundaries(y),T=Phaser.Math.Clamp(t,r.minX,r.maxX);console.log(` Dropping food: requested x=${t}, clamped x=${T}, pet bounds=[${r.minX}, ${r.maxX}], finalY=${S}`);const s=this.scene.add.image(T,Ci.getFoodDropY(n),"hamburger");s.setScale(1.5),s.setAlpha(.9),this.scene.tweens.add({targets:s,y:Ci.getFoodFinalY(n),duration:500,ease:"Bounce.easeOut",onComplete:()=>{this.scene.tweens.add({targets:s,scaleX:1.7,scaleY:1.2,duration:100,yoyo:!0})}});const o=this.scene.add.ellipse(T,S+5,30,12,0,.3);this.scene.tweens.add({targets:o,scaleX:1.3,alpha:.5,duration:500,ease:"Power2.easeOut"}),this.sharedDroppedFood.push(s),this.sharedFoodShadows.push(o);const m=this.scene.time.delayedCall(2e4,()=>{const f=this.sharedDroppedFood.indexOf(s);f!==-1&&(this.removeSharedFoodAtIndex(f),console.log("Shared food auto-despawned after 20 seconds"))});this.sharedFoodTimers.push(m),this.notifyPetsAboutFood(),console.log(`Dropped shared food at (${T}, ${S})`)}removeSharedFoodAtIndex(t){if(t<0||t>=this.sharedDroppedFood.length)return;const i=this.sharedDroppedFood[t],n=this.sharedFoodShadows[t],y=this.sharedFoodTimers[t],S=this.foodTargets.get(i);let r=!1,T;S&&(T=this.pets.get(S),T&&T.pet.isChasing&&T.pet.chaseTarget&&(r=Phaser.Math.Distance.Between(T.pet.chaseTarget.x,T.pet.chaseTarget.y,i.x,i.y)<10)),this.foodTargets.delete(i),y&&!y.hasDispatched&&y.destroy(),this.scene.tweens.add({targets:i,scaleX:0,scaleY:0,alpha:0,duration:300,ease:"Power2.easeIn",onComplete:()=>{i.destroy()}}),this.scene.tweens.add({targets:n,alpha:0,duration:300,onComplete:()=>{n.destroy()}}),this.sharedDroppedFood.splice(t,1),this.sharedFoodShadows.splice(t,1),this.sharedFoodTimers.splice(t,1),r&&T&&(console.log(` Pet ${T.id} was chasing food that disappeared, handling gracefully`),T.pet.stopChasing(),this.scene.time.delayedCall(30,()=>{T.feedingSystem.hungerLevel<100&&this.sharedDroppedFood.length>0?(console.log(` Pet ${T.id} looking for another food after target disappeared`),this.checkPetShouldChaseSharedFood(T)):(console.log(` Pet ${T.id} returning to walk mode after target disappeared`),T.pet.isUserControlled=!1,T.pet.setActivity("walk"))})),console.log("Shared food removed at index:",t)}notifyPetsAboutFood(){for(const t of this.pets.values())this.checkPetShouldChaseSharedFood(t)}checkPetShouldChaseSharedFood(t){if(this.sharedDroppedFood.length===0||t.pet.isChasing||t.pet.currentActivity==="chew")return;const i=t.feedingSystem.hungerLevel,n=i<Dr.HUNGER_THRESHOLD;if(console.log(` Checking chase for Pet ${t.id}: hunger=${i}%, hungry=${n}`),n){const y=this.sharedDroppedFood.filter(S=>!this.foodTargets.has(S));if(console.log(` Available food count: ${y.length}/${this.sharedDroppedFood.length}`),y.length>0){let S=null,r=1/0;for(const T of y){const s=Phaser.Math.Distance.Between(t.pet.sprite.x,t.pet.sprite.y,T.x,T.y);s<r&&(r=s,S=T)}S&&(this.foodTargets.set(S,t.id),t.pet.startChasing(S.x,S.y),console.log(` Pet ${t.id} started chasing food locally`),console.log(` Pet ${t.id} started chasing closest shared food at (${S.x}, ${S.y}), distance: ${r.toFixed(1)}`))}else console.log(` Pet ${t.id} wants to chase food but all food is being chased`)}}checkSharedFoodEating(t,i,n){const y=this.sharedDroppedFood.findIndex(S=>Phaser.Math.Distance.Between(S.x,S.y,i,n)<40);if(y!==-1){console.log(` Pet ${t.id} is eating food at index ${y}`),this.releaseFoodTarget(t.id),this.removeSharedFoodAtIndex(y);const S=t.feedingSystem.hungerLevel;return t.feedingSystem.hungerLevel=Math.min(100,t.feedingSystem.hungerLevel+20),console.log(` Pet ${t.id} hunger: ${S}  ${t.feedingSystem.hungerLevel}`),t.pet.stopChasing(),t.pet.setActivity("chew"),this.handlePetPostEating(t),!0}return!1}handlePetPostEating(t){console.log(` Pet ${t.id} started eating, will check for next action in 2 seconds`),t.pet.isUserControlled=!0,this.scene.time.delayedCall(2e3,()=>{t.pet.currentActivity==="chew"||t.pet.isUserControlled?t.feedingSystem.hungerLevel<100&&this.sharedDroppedFood.length>0?(t.pet.isUserControlled=!1,t.pet.isChasing=!1,t.pet.chaseTarget=null,this.forceStartChasing(t)):this.forceReturnToWalk(t):this.forceReturnToWalk(t)})}forceReturnToWalk(t){this.releaseFoodTarget(t.id),t.pet.isUserControlled=!1,t.pet.isChasing=!1,t.pet.chaseTarget=null,t.pet.lastEdgeHit="",t.pet.setActivity("walk"),this.scene.time.delayedCall(500,()=>{(t.pet.isUserControlled||t.pet.currentActivity!=="walk")&&(t.pet.isUserControlled=!1,t.pet.isChasing=!1,t.pet.chaseTarget=null,t.pet.lastEdgeHit="",t.pet.setActivity("walk"))}),console.log(` Pet ${t.id} forced back to walk mode`)}getFoodInventory(){const t=this.getActivePet();return t?.feedingSystem.foodInventory||0}getPetStats(){const t=this.getAllPets().map(i=>({id:i.id,isActive:i.id===this.activePetId,hungerLevel:i.feedingSystem.hungerLevel,currentActivity:i.pet.currentActivity,foodInventory:i.feedingSystem.foodInventory}));return{activePetId:this.activePetId,totalPets:this.pets.size,pets:t,totalFoodInventory:this.getFoodInventory()}}cleanup(){this.safetyTimer&&(this.safetyTimer.destroy(),this.safetyTimer=void 0);for(const t of this.pets.values())t.pet.destroy(),t.feedingSystem.destroy();for(this.pets.clear(),this.activePetId=null;this.sharedDroppedFood.length>0;)this.removeSharedFoodAtIndex(0);this.foodTargets.clear()}releaseFoodTarget(t){for(const[i,n]of this.foodTargets.entries())if(n===t){this.foodTargets.delete(i),console.log(`Pet ${t} released food target`);break}}startSafetyCheck(){this.safetyTimer=this.scene.time.addEvent({delay:5e3,callback:()=>{this.performSafetyCheck()},loop:!0})}performSafetyCheck(){console.log(" Performing safety check on all pets...");for(const t of this.pets.values())t.pet.currentActivity==="chew"&&!t.pet.isChasing&&(console.log(` SAFETY: Pet ${t.id} stuck in chew mode, forcing to walk`),this.forceReturnToWalk(t)),t.pet.isUserControlled&&!t.pet.isChasing&&!t.pet.chaseTarget&&(console.log(` SAFETY: Pet ${t.id} user controlled but not chasing, releasing control`),t.pet.isUserControlled=!1,t.pet.setActivity("walk")),t.pet.isChasing&&!t.pet.chaseTarget&&(t.pet.isChasing=!1,t.pet.isUserControlled=!1,t.pet.setActivity("walk"))}forceResetAllPets(){for(const t of this.pets.values())this.forceReturnToWalk(t);this.foodTargets.clear()}debugPetsStatus(){console.log("=== PETS STATUS DEBUG ===");const t=this.scene.cameras.main.width,i=this.scene.cameras.main.height,n=Ci.getPetBoundaries(t),y=Ci.getPetY(i);console.log(`Camera: ${t}x${i}`),console.log(`Pet Boundaries: [${n.minX}, ${n.maxX}]`),console.log(`Correct Ground Y: ${y}`);for(const S of this.pets.values())console.log(`Pet ${S.id}:`),console.log(`  Position: (${S.pet.sprite.x.toFixed(1)}, ${S.pet.sprite.y.toFixed(1)})`),console.log(`  Stored Ground Y: ${S.pet.groundY}`),console.log(`  Activity: ${S.pet.currentActivity}`),console.log(`  Is Chasing: ${S.pet.isChasing}`),console.log(`  Is User Controlled: ${S.pet.isUserControlled}`),console.log(`  Direction: ${S.pet.direction}`),console.log(`  Hunger: ${S.feedingSystem.hungerLevel}%`),console.log(`  In Bounds: ${S.pet.sprite.x>=n.minX&&S.pet.sprite.x<=n.maxX}`),console.log(`  Chase Target: ${S.pet.chaseTarget?`(${S.pet.chaseTarget.x}, ${S.pet.chaseTarget.y})`:"None"}`);console.log(`Food Targets: ${this.foodTargets.size}`),console.log(`Shared Food: ${this.sharedDroppedFood.length}`),console.log("=== END DEBUG ===")}forceStartChasing(t){if(!(t.feedingSystem.hungerLevel<80)||this.sharedDroppedFood.length===0){t.pet.isUserControlled=!1,t.pet.setActivity("walk"),console.log(` Pet ${t.id} not hungry or no food, returning to walk mode`);return}if(t.pet.isChasing){console.log(` Pet ${t.id} already chasing, not forcing new chase`);return}const i=this.sharedDroppedFood.filter(n=>!this.foodTargets.has(n));if(i.length>0){let n=null,y=1/0;for(const S of i){const r=Phaser.Math.Distance.Between(t.pet.sprite.x,t.pet.sprite.y,S.x,S.y);r<y&&(y=r,n=S)}n&&(this.foodTargets.set(n,t.id),t.pet.startChasing(n.x,n.y),console.log(` Pet ${t.id} force started chasing food at (${n.x}, ${n.y})`))}else t.pet.isUserControlled=!1,t.pet.setActivity("walk"),console.log(` Pet ${t.id} no available food, returning to walk mode`)}}const ZM=8;class QM{constructor(t,i){yt(this,"scene"),yt(this,"petManager"),yt(this,"inventoryText"),yt(this,"hungerBar"),this.scene=t,this.petManager=i}create(){console.log(" Creating Feeding UI...");const t=this.petManager.getActivePet();console.log("Active pet for UI:",t?t.id:"None"),this.inventoryText=this.scene.add.text(10,10,`Food: ${this.petManager.getFoodInventory()}`,{fontSize:"16px",color:"#333333",backgroundColor:"#ffffff",padding:{x:ZM,y:4}}),this.scene.add.rectangle(10,40,100,10,16711680).setOrigin(0,.5),this.hungerBar=this.scene.add.rectangle(10,40,t?.feedingSystem.hungerLevel||100,10,65280).setOrigin(0,.5),console.log(" Feeding UI created")}update(){const t=this.petManager.getPetStats(),i=this.petManager.getActivePet();this.inventoryText&&this.inventoryText.setText(`Food: ${t.totalFoodInventory}`),this.hungerBar&&i&&this.hungerBar.setSize(i.feedingSystem.hungerLevel,10)}}const qM="monospace",_M=16115379,tA=12755277,eA="#a86c00",iA=70,sA=28;class rA{constructor(t){yt(this,"scene"),yt(this,"tokenText"),this.scene=t}create(){const t=this.scene.cameras.main.width-30,i=18;this.scene.add.rectangle(t,i,iA,sA,_M,.98).setStrokeStyle(2,tA).setOrigin(1,0),this.tokenText=this.scene.add.text(t-8,i+2,"",{fontSize:"16px",color:eA,fontStyle:"bold",fontFamily:qM,padding:{x:4,y:2}}).setOrigin(1,0),this.update()}update(){const t=Mi.getState().nomToken;this.tokenText.setText(` ${t}`)}}const fm="monospace",nA=16115379,aA=12755277,cm="#a86c00",oA=70,hA=28,vm=32;class lA{constructor(t,i,n){yt(this,"scene"),yt(this,"petManager"),yt(this,"notificationUI"),yt(this,"tokenText"),yt(this,"foodIcon"),yt(this,"foodPriceText"),yt(this,"onFoodIconClick"),this.scene=t,this.petManager=i,this.notificationUI=n}create(){console.log(" Creating Mini Shop...");const t=this.scene.cameras.main.width-30,i=18;this.scene.add.rectangle(t,i,oA,hA,nA,.98).setStrokeStyle(2,aA).setOrigin(1,0),this.tokenText=this.scene.add.text(t-8,i+2,"",{fontSize:"16px",color:cm,fontStyle:"bold",fontFamily:fm,padding:{x:4,y:2}}).setOrigin(1,0),this.updateTokenUI();const n=t-80,y=i+14;this.foodIcon=this.scene.add.image(n,y,"hamburger").setDisplaySize(vm,vm).setOrigin(.5).setInteractive({useHandCursor:!0});const S=Mn.getFoodPrice("hamburger");this.foodPriceText=this.scene.add.text(n,y+22,S.toString(),{fontSize:"14px",color:cm,fontStyle:"bold",fontFamily:fm}).setOrigin(.5,0),this.scene.add.text(n+16,y+22,"",{fontSize:"14px"}).setOrigin(.5,0),this.foodIcon.on("pointerdown",()=>{const r=Mn.getFoodPrice("hamburger"),T=this.petManager.getFoodInventory()>0,s=Mi.getState().nomToken>=r;T||s?this.onFoodIconClick&&this.onFoodIconClick():this.notificationUI.showNotification("You do not have enough NOM tokens!")}),console.log(" Mini Shop created successfully")}updateTokenUI(){const t=Mi.getState().nomToken;this.tokenText.setText(` ${t}`)}updatePriceDisplay(){if(this.foodPriceText){const t=Mn.getFoodPrice("hamburger");this.foodPriceText.setText(t.toString())}}setFoodDropState(t){this.foodIcon.setAlpha(t?.6:1),this.foodPriceText.setAlpha(t?.6:1)}setOnFoodIconClick(t){this.onFoodIconClick=t}getFoodIcon(){return this.foodIcon}}const uA="monospace",pm=180,dA=2500,fA=16098851;class cA{constructor(t){yt(this,"scene"),this.scene=t}showNotification(t,i,n){const y=i!==void 0?i:this.scene.cameras.main.width/2,S=n!==void 0?n:this.scene.cameras.main.height/2,r=this.scene.rexUI.add.dialog({x:y,y:S,width:pm,background:this.scene.rexUI.add.roundRectangle(0,0,0,0,12,fA),content:this.scene.add.text(0,0,t,{fontSize:"14px",color:"#fff",fontFamily:uA,padding:{x:8,y:4},wordWrap:{width:pm-30},align:"center"}),space:{content:10,left:10,right:10,top:10,bottom:10}}).layout().setDepth(1e3).popUp(300);this.scene.time.delayedCall(dA,()=>{r.destroy()})}}const Jn=50;class vA{constructor(t,i,n){yt(this,"scene"),yt(this,"petManager"),yt(this,"notificationUI"),this.scene=t,this.petManager=i,this.notificationUI=n}showBuyPetModal(){console.log(" Showing DOM Buy Pet Modal...");const t=Mi.getState().nomToken,i=t>=Jn,n=document.createElement("div");if(n.id="pet-buy-modal",n.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(145deg, #4A90E2, #357ABD);
      border: 3px solid #2E5C8A;
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      color: white;
      width: 350px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      z-index: 10000;
      font-family: monospace;
      animation: modalSlideIn 0.3s ease-out;
    `,!document.getElementById("modal-styles")){const f=document.createElement("style");f.id="modal-styles",f.textContent=`
        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translate(-50%, -60%) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
          }
        }
      `,document.head.appendChild(f)}const y=document.createElement("div");y.style.cssText=`
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    `;const S=document.createElement("h2");S.textContent=" Buy New Pet",S.style.cssText=`
      margin: 0;
      font-size: 24px;
      color: white;
    `;const r=document.createElement("button");r.textContent="",r.style.cssText=`
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    `,r.onmouseover=()=>{r.style.background="rgba(255, 255, 255, 0.3)"},r.onmouseout=()=>{r.style.background="rgba(255, 255, 255, 0.2)"},r.onclick=()=>{this.closeModal()},y.appendChild(S),y.appendChild(r);const T=document.createElement("p"),s=i?`Do you want to buy a new pet for ${Jn} tokens?

Your tokens: ${t}`:`Not enough tokens!

Need: ${Jn} tokens
Your tokens: ${t}`;T.textContent=s,T.style.cssText=`
      margin: 0 0 30px 0;
      font-size: 16px;
      line-height: 1.5;
      white-space: pre-line;
    `;const o=document.createElement("div");if(o.style.cssText=`
      display: flex;
      gap: 20px;
      justify-content: center;
    `,i){const f=document.createElement("button");f.textContent="Buy Pet",f.style.cssText=`
        background: #4CAF50;
        border: 2px solid #388E3C;
        color: white;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 8px;
        cursor: pointer;
        font-family: monospace;
      `,f.onmouseover=()=>{f.style.background="#66BB6A"},f.onmouseout=()=>{f.style.background="#4CAF50"},f.onclick=()=>{this.processPetPurchase(),this.closeModal()};const u=document.createElement("button");u.textContent="Cancel",u.style.cssText=`
        background: #F44336;
        border: 2px solid #D32F2F;
        color: white;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 8px;
        cursor: pointer;
        font-family: monospace;
      `,u.onmouseover=()=>{u.style.background="#EF5350"},u.onmouseout=()=>{u.style.background="#F44336"},u.onclick=()=>{this.closeModal()},o.appendChild(f),o.appendChild(u)}else{const f=document.createElement("button");f.textContent="Close",f.style.cssText=`
        background: #757575;
        border: 2px solid #616161;
        color: white;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 8px;
        cursor: pointer;
        font-family: monospace;
      `,f.onmouseover=()=>{f.style.background="#9E9E9E"},f.onmouseout=()=>{f.style.background="#757575"},f.onclick=()=>{this.closeModal()},o.appendChild(f)}n.appendChild(y),n.appendChild(T),n.appendChild(o),document.body.appendChild(n);const m=f=>{f.key==="Escape"&&(this.closeModal(),document.removeEventListener("keydown",m))};document.addEventListener("keydown",m),console.log(" DOM Modal shown")}closeModal(){const t=document.getElementById("pet-buy-modal");t&&(t.remove(),console.log(" DOM modal closed"))}processPetPurchase(){console.log(" Processing pet purchase...");const t=Mi.getState().nomToken;if(t<Jn){this.notificationUI.showNotification("Not enough tokens!");return}Mi.getState().setNomToken(t-Jn);const i=`pet_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,n=this.scene.cameras.main.height-40,y=Math.random()*(this.scene.cameras.main.width-200)+100,S=n;this.petManager.createPet(i,y,S),this.notificationUI.showNotification("New pet purchased! "),console.log(` Pet ${i} purchased successfully for ${Jn} tokens`)}}const pA="monospace";class gA{constructor(t,i,n,y){yt(this,"scene"),yt(this,"petManager"),yt(this,"notificationUI"),yt(this,"shopUI"),yt(this,"isDroppingFood",!1),yt(this,"dropHintText"),this.scene=t,this.petManager=i,this.notificationUI=n,this.shopUI=y}setupInputHandlers(){console.log(" Setting up input handlers...");let t=0,i=null,n=null;const y=300,S=()=>{this.isDroppingFood=!1,this.shopUI.setFoodDropState(!1),this.scene.input.setDefaultCursor("url(/assets/images/cursor/navigation_nw.png), pointer"),this.dropHintText&&this.dropHintText.setVisible(!1),n&&(n.destroy(),n=null),i=null,console.log(" Exited food dropping mode")};this.shopUI.setOnFoodIconClick(()=>{this.isDroppingFood=!0,this.shopUI.setFoodDropState(!0),this.scene.input.setDefaultCursor("url(./src/assets/images/food/hambuger.png), pointer"),this.dropHintText?(this.dropHintText.setText("Left click to place, double click to cancel"),this.dropHintText.setY(20),this.dropHintText.setVisible(!0)):this.dropHintText=this.scene.add.text(this.scene.cameras.main.width/2,10,"Left click to place, double click to cancel",{fontSize:"10px",color:"#fff",fontFamily:pA,stroke:"#000",strokeThickness:3,align:"center"}).setOrigin(.5,0)}),this.scene.input.on("pointerdown",r=>{if(!this.isDroppingFood)return;const T=this.shopUI.getFoodIcon().getBounds();if(Phaser.Geom.Rectangle.Contains(T,r.x,r.y))return;const s=Date.now(),o=s-t;if(t=s,o<y&&i){S();return}i={x:r.x,y:r.y},n&&n.destroy(),n=this.scene.time.delayedCall(y,()=>{i&&this.isDroppingFood&&(this.petManager.buyAndDropFood(i.x,i.y)||this.notificationUI.showNotification("You do not have enough NOM tokens!",i.x,i.y)),i=null,n=null})}),console.log(" Input handlers set up successfully")}}const mA=50;class xA{constructor(t,i){yt(this,"scene"),yt(this,"petManager"),yt(this,"feedingUI"),yt(this,"tokenUI"),yt(this,"shopUI"),yt(this,"notificationUI"),yt(this,"petShopModal"),yt(this,"inputManager"),yt(this,"buyPetButton"),this.scene=t,this.petManager=i,this.notificationUI=new cA(t),this.feedingUI=new QM(t,i),this.tokenUI=new rA(t),this.shopUI=new lA(t,i,this.notificationUI),this.petShopModal=new vA(t,i,this.notificationUI),this.inputManager=new gA(t,i,this.notificationUI,this.shopUI)}create(){console.log(" Creating GameUI..."),this.feedingUI.create(),this.tokenUI.create(),this.shopUI.create(),this.createBuyPetButton(),this.inputManager.setupInputHandlers(),console.log(" GameUI created successfully")}createBuyPetButton(){console.log(" Creating Buy Pet Button...");const t=this.scene.cameras.main.width-100,i=60,n=80,y=30;this.buyPetButton=this.scene.add.rectangle(t,i,n,y,5025616,.9).setStrokeStyle(2,3706428).setOrigin(.5).setInteractive({useHandCursor:!0}),this.scene.add.text(t,i,`Buy Pet
${mA}`,{fontSize:"12px",color:"#ffffff",fontStyle:"bold",fontFamily:"monospace",align:"center"}).setOrigin(.5),this.buyPetButton.on("pointerdown",()=>{this.petShopModal.showBuyPetModal()}),this.buyPetButton.on("pointerover",()=>{this.buyPetButton.setFillStyle(6732650)}),this.buyPetButton.on("pointerout",()=>{this.buyPetButton.setFillStyle(5025616)}),console.log(" Buy Pet Button created successfully")}showNotification(t,i,n){this.notificationUI.showNotification(t,i,n)}updateUI(){this.feedingUI.update(),this.tokenUI.update(),this.shopUI.updateTokenUI(),this.shopUI.updatePriceDisplay()}showPetStats(){const t=this.petManager.getPetStats();console.log(" Pet Manager Stats:",t),t.pets.forEach(i=>{console.log(`Pet ${i.id} ${i.isActive?"(ACTIVE)":""}:`),console.log(`  Hunger: ${i.hungerLevel.toFixed(1)}%`),console.log(`  Activity: ${i.currentActivity}`),console.log(`  Food Inventory: ${i.foodInventory}`)})}}async function yA(){console.log(" Initializing game...");try{return await Mn.loadConfig(),console.log(" Game configuration loaded"),!0}catch(e){return console.error(" Game initialization failed:",e),!1}}class mt{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){mt.prototype[t]=i}}var TA=function(e){return e===void 0&&(e=CA),this.getFrameNameCallback=e,this},CA=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function _e(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>_e(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=_e(e[i]));return t}var SA=function(e,t,i,n){Array.isArray(t)&&(n=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],n=[arguments[4],void 0,arguments[5]]):i===void 0&&n===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,n=this.rows.data):(i=_e(i),n=_e(n)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var y=this.scene.sys.textures.get(e);if(!y)return this.clear(),this;if(!i||!n)return this.clear(),this;for(var S=y.get(t),r=S.width,T=0,s=0,o=i.length;s<o;s++)i[s]===void 0?T++:typeof i[s]=="number"?r-=i[s]:r-=i[s].width;for(var m=T>0?r/T:0,f=S.height,u=0,s=0,o=n.length;s<o;s++)n[s]===void 0?u++:typeof n[s]=="number"?f-=n[s]:f-=n[s].width;for(var h=u?f/u:0,a,l,c,d,v,p=0,g=0,x=0,C=n.length;x<C;x++){n[x]===void 0&&(n[x]=h),typeof n[x]=="number"&&(n[x]={height:n[x],stretch:x%2}),a=n[x],c=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:c,p=0;for(var s=0,P=i.length;s<P;s++){if(i[s]===void 0&&(i[s]=m),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),l=i[s],d=l.width,x===0&&(this.columns.stretch+=l.stretch|0,this.columns.minWidth+=l.stretch>0?0:d),d>=1&&c>=1){v=this.getFrameNameCallback(s,x,t);var w=typeof v;(w==="string"||w==="number")&&y.add(v,0,p+S.cutX,g+S.cutY,d,c)}p+=d}g+=c}return this.updateTexture(),this},PA=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,n=this.width-t,y=this.height-i,S=n>=0?this.maxFixedPartScaleX:this.width/t,r=y>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var T=Math.min(S,r);if(S>T){var s=(S-T)*t;n>=0?n+=s:n=s,S=T}if(r>T){var o=(r-T)*i;y>=0?y+=o:y=o,r=T}}this.columns.scale=S,this.rows.scale=r;var m;n>0?m=this.columns.stretch>0?n/this.columns.stretch:0:m=0;var f;y>0?f=this.rows.stretch>0?y/this.rows.stretch:0:f=0;var u,h,a,l,c,d=0,v=0,p;this._beginDraw();for(var g=0,x=this.rows.count;g<x;g++){a=this.rows.data[g],c=a.stretch===0?a.height*r:f*a.stretch,d=0;for(var C=0,P=this.columns.count;C<P;C++)h=this.columns.data[C],l=h.stretch===0?h.width*S:m*h.stretch,u=this.getFrameNameCallback(C,g,this.baseFrameName),e.has(u)&&l>0&&c>0&&(a.stretch===0&&h.stretch===0||this.getStretchMode(C,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,u,d,v,l,c):this._drawTileSprite(this.textureKey,u,d,v,l,c)),d+=l;v+=c}this._endDraw()};const EA=Phaser.Utils.Objects.IsPlainObject,gm=Phaser.Utils.Objects.GetValue;var wA=function(e){return EA(e)?(this.stretchMode.edge=mf(gm(e,"edge",0)),this.stretchMode.internal=mf(gm(e,"internal",0))):(e=mf(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},mf=function(e){return typeof e=="string"&&(e=bA[e]),e};const bA={scale:0,repeat:1};var OA=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},MA=function(e,t){return OA.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},AA=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},RA=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},We=function(){};const LA={_beginDraw:We,_drawImage:We,_drawTileSprite:We,_endDraw:We,setGetFrameNameCallback:TA,setBaseTexture:SA,updateTexture:PA,setStretchMode:wA,getStretchMode:MA,setPreserveRatio:AA,setMaxFixedPartScale:RA},Qa=Phaser.Utils.Objects.IsPlainObject,Jt=Phaser.Utils.Objects.GetValue;var WC=function(e,t){class i extends e{constructor(y,S,r,T,s,o,m,f,u,h){if(Qa(S)?(h=S,S=Jt(h,"x",0),r=Jt(h,"y",0),T=Jt(h,"width",1),s=Jt(h,"height",1),o=Jt(h,"key",void 0),m=Jt(h,"baseFrame",void 0),f=Jt(h,"columns",void 0),u=Jt(h,"rows",void 0)):Qa(T)?(h=T,T=Jt(h,"width",1),s=Jt(h,"height",1),o=Jt(h,"key",void 0),m=Jt(h,"baseFrame",void 0),f=Jt(h,"columns",void 0),u=Jt(h,"rows",void 0)):Qa(o)?(h=o,o=Jt(h,"key",void 0),m=Jt(h,"baseFrame",void 0),f=Jt(h,"columns",void 0),u=Jt(h,"rows",void 0)):Qa(m)?(h=m,m=Jt(h,"baseFrame",void 0),f=Jt(h,"columns",void 0),u=Jt(h,"rows",void 0)):Array.isArray(m)?(h=u,u=f,f=m,m=Jt(h,"baseFrame",void 0)):Qa(f)&&(h=f,f=Jt(h,"columns",void 0),u=Jt(h,"rows",void 0)),m===void 0&&(m=Jt(h,"frame",void 0)),f===void 0){var a=Jt(h,"leftWidth",void 0),l=Jt(h,"rightWidth",void 0);a!==void 0&&l!==void 0&&(f=[a,void 0,l])}if(u===void 0){var c=Jt(h,"topHeight",void 0),d=Jt(h,"bottomHeight",void 0);c!==void 0&&d!==void 0&&(u=[c,void 0,d])}super(y),this.type=t,this.setPosition(S,r).setSize(T,s).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Jt(h,"getFrameNameCallback",void 0)),this.setStretchMode(Jt(h,"stretchMode",0)),this.setPreserveRatio(Jt(h,"preserveRatio",!0));var v=Jt(h,"maxFixedPartScale",1),p=Jt(h,"maxFixedPartScaleX",v),g=Jt(h,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(o,m,f,u)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(y,S){return this.width===y&&this.height===S?this:(super.resize?super.resize(y,S):super.setSize(y,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,LA),i};const FA=Phaser.Game;var mm=function(e){return e instanceof FA};const DA=Phaser.Scene;var An=function(e){return e instanceof DA},Fn=function(e){if(e==null||typeof e!="object")return null;if(mm(e))return e;if(mm(e.game))return e.game;if(An(e))return e.sys.game;if(An(e.scene))return e.scene.sys.game};const IA=Phaser.GameObjects;var mr=void 0,HC=function(e,t){if(mr||(mr={},Fn(e).events.once("destroy",function(){for(var n in mr)mr[n].destroy();mr=void 0})),!mr.hasOwnProperty(t)){var i=Fn(e).scene.systemScene,e=new IA[t](i);e.setOrigin(0),mr[t]=e}return mr[t]},BA=function(e,t,i,n,y,S){var r=HC(this,"Image").setTexture(e,t).setDisplaySize(y,S);this.draw(r,i,n)},kA=function(e,t,i,n,y,S){var r=HC(this,"TileSprite").setTexture(e,t).setSize(y,S);this.draw(r,i,n)};const NA=Phaser.GameObjects.RenderTexture;let Wu=class extends WC(NA,"rexNinePatch"){};var GA={_drawImage:BA,_drawTileSprite:kA};Object.assign(Wu.prototype,GA);var jC=function(e){return e==null||e===""||e.length===0},zA=function(e,t,i){var n=e;if(!jC(t)){typeof t=="string"&&(t=t.split("."));for(var y,S=0,r=t.length;S<r;S++){if(y=t[S],n[y]==null||typeof n[y]!="object"){var T;S===r-1?T={}:T={},n[y]=T}n=n[y]}}return n},pt=function(e,t,i,n){if(n===void 0&&(n="."),typeof e=="object"){if(jC(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(n));var y=t.pop(),S=zA(e,t);S[y]=i}return e}};mt.register("ninePatch",function(e,t,i,n,y,S,r,T){var s=new Wu(this.scene,e,t,i,n,y,S,r,T);return this.scene.add.existing(s),s});pt(window,"RexPlugins.UI.NinePatch",Wu);const UA=Phaser.GameObjects.GetCalcMatrix;var XA=function(e,t,i,n){var y=t.getRenderList();if(y.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),r=t.frame.glTexture,T=S.setGameObject(t),s=i.roundPixels,o=UA(t,i,n),m=S.calcMatrix.copyFrom(o.calc),f=t._displayOriginX,u=t._displayOriginY,h=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,l=y.length;a<l;a++)y[a].webglRender(S,m,h,f,u,r,T,s);e.pipelines.postBatch(t)}};const VA=Phaser.Renderer.Canvas.SetTransform;var YA=function(e,t,i,n){var y=e.currentContext,S=t.getRenderList();if(!(S.length===0||!VA(e,y,t,i,n))){i.addToRenderList(t);var r=i.roundPixels,T=-t._displayOriginX,s=-t._displayOriginY;y.translate(T,s);for(var o=0,m=S.length;o<m;o++)S[o].canvasRender(y,T,s,r);y.restore()}};const WA={renderWebGL:XA,renderCanvas:YA};var HA=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},xm=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},jA=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const $A=Phaser.Utils.Array.Remove;var KA=function(e){return this.poolManager&&this.poolManager.free(e),$A(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},ym=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},JA=function(){return this.lastAppendedChildren},ZA=function(){return this.children.list};const QA={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var $C={setTexture:HA,resize:xm,setSize:xm,addChild:jA,removeChild:KA,removeChildren:ym,clear:ym,getLastAppendedChildren:JA,getChildren:ZA};Object.assign($C,QA);class zs{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const qA=Phaser.Utils.Objects.GetValue;var _A={};let tR=class{constructor(e){this.pools=qA(e,"pools",_A)}destroy(){this.pools=void 0}free(e){if(!this.pools)return this;var t=e.type;return this.pools.hasOwnProperty(t)||(this.pools[t]=new zs),this.pools[t].push(e),e.onFree(),this}freeMultiple(e){if(!this.pools)return this;for(var t=0,i=e.length;t<i;t++)this.free(e[t]);return this}allocate(e){return!this.pools||!this.pools.hasOwnProperty(e)?null:this.pools[e].pop()}};const eR=60;var Tm=!1,Hu=function(e){if(!Tm){e===void 0&&(e=eR);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var n=parseInt(t[1]);n<e&&console.error(`Minimum supported version : ${i}.${n}`)}else console.error(`Can't supported version : ${i}`);Tm=!0}};Hu();const iR=Phaser.GameObjects.GameObject,sR=Phaser.Utils.Objects.IsPlainObject,qa=Phaser.Utils.Objects.GetValue,rR=Phaser.Structs.List,nR=Phaser.Utils.Array.StableSort;class KC extends iR{constructor(t,i,n,y,S,r){sR(i)&&(r=i,i=qa(r,"x",0),n=qa(r,"y",0),y=qa(r,"texture"),S=qa(r,"frame")),i===void 0&&(i=0),n===void 0&&(n=0),super(t,"rexBlitter"),this.children=new rR,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=qa(r,"reuseBob",!0);this.poolManager=T?new tR(r):void 0,this.setTexture(y,S),this.setPosition(i,n),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,n=0,y=i.length;n<y;n++){var S=i[n];aR(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&nR(this.renderList,oR),this.displayListDirty=!1}return this.renderList}}var aR=function(e){return e.active&&e.visible&&e.alpha>0},oR=function(e,t){return e._depth-t._depth};const Yi=Phaser.GameObjects.Components;Phaser.Class.mixin(KC,[Yi.Alpha,Yi.BlendMode,Yi.ComputedSize,Yi.Depth,Yi.GetBounds,Yi.Mask,Yi.Origin,Yi.Pipeline,Yi.PostPipeline,Yi.ScrollFactor,Yi.Transform,Yi.Visible,WA,$C]);const JC="image";var ie=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var n=t,y=e,S=i,r=0;r<n.length;r++)if(t=n[r],y.hasOwnProperty(t))S=y[t],y=S;else{S=i;break}return S},Yr=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const ju={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:ie(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Yr(this.data),this}};let ZC=class{constructor(e,t){this.type=t,this.data=void 0,this.setParent(e).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(e){return this.parent=e,this}setDisplayListDirty(e){return e&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(e){this.setDisplayListDirty(this._active!=e),this._active=e}setActive(e){return e===void 0&&(e=!0),this.active=e,this}modifyPorperties(e){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(ZC.prototype,ju);const hR=Phaser.Math.DegToRad,lR=Phaser.Math.RadToDeg,Zn=Phaser.Utils.Objects.GetValue;let uR=class extends ZC{get visible(){return this._visible}set visible(e){this.setDisplayListDirty(this._visible!=e),this._visible=e}setVisible(e){return e===void 0&&(e=!0),this.visible=e,this}get alpha(){return this._alpha}set alpha(e){this.setDisplayListDirty(!!this._alpha!=!!e),this._alpha=e}setAlpha(e){return this.alpha=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setPosition(e,t){return this.x=e,this.y=t,this}setRotation(e){return this.rotation=e,this}get angle(){return lR(this.rotation)}set angle(e){this.rotation=hR(e)}setAngle(e){return this.angle=e,this}setScaleX(e){return this.scaleX=e,this}get width(){return this._width}set width(e){this._width=e}setWidth(e,t){return t===void 0&&(t=!1),this.width=e,t&&(this.scaleY=this.scaleX),this}setScaleY(e){return this.scaleY=e,this}setScale(e,t){return t===void 0&&(t=e),this.scaleX=e,this.scaleY=t,this}get height(){return this._height}set height(e){this._height=e}setHeight(e,t){return t===void 0&&(t=!1),this.height=e,t&&(this.scaleX=this.scaleY),this}setScale(e,t){return t===void 0&&(t=e),this.scaleX=e,this.scaleY=t,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(e){this.scaleX=e/this._width}setDisplayWidth(e,t){return t===void 0&&(t=!1),this.displayWidth=e,t&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(e){this.scaleY=e/this._height}setDisplayHeight(e,t){return t===void 0&&(t=!1),this.displayHeight=e,t&&(this.scaleX=this.scaleY),this}setOriginX(e){return this.originX=e,this._displayOriginX=this.width*e,this}setOriginY(e){return this.originY=e,this._displayOriginY=this.height*e,this}setOrigin(e,t){return t===void 0&&(t=e),this.setOriginX(e).setOriginY(t),this}get depth(){return this._depth}set depth(e){this.setDisplayListDirty(this._depth!=e),this._depth=e}setDepth(e){return e===void 0&&(e=0),this.depth=e,this}modifyPorperties(e){if(!e)return this;e.hasOwnProperty("x")&&this.setX(e.x),e.hasOwnProperty("y")&&this.setY(e.y),e.hasOwnProperty("rotation")?this.setRotation(e.rotation):e.hasOwnProperty("angle")&&this.setAngle(e.angle),e.hasOwnProperty("alpha")&&this.setAlpha(e.alpha);var t=Zn(e,"width",void 0),i=Zn(e,"height",void 0),n=Zn(e,"scale",void 0),y=Zn(e,"scaleX",n),S=Zn(e,"scaleY",n);t!==void 0?i===void 0&&S===void 0?this.setWidth(t,!0):this.setWidth(t):y!==void 0?this.setScaleX(y):e.hasOwnProperty("displayWidth")&&this.setDisplayWidth(e.displayWidth),i!==void 0?t===void 0&&y===void 0?this.setHeight(i,!0):this.setHeight(i):S!==void 0?this.setScaleY(S):e.hasOwnProperty("displayHeight")&&this.setDisplayHeight(e.displayHeight);var r=Zn(e,"origin",void 0);return r!==void 0?this.setOrigin(r):(e.hasOwnProperty("originX")&&this.setOriginX(e.originX),e.hasOwnProperty("originY")&&this.setOriginY(e.originY)),e.hasOwnProperty("depth")&&this.setDepth(e.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(e,t,i,n,y,S,r,T){}canvasRender(e,t,i,n){}};const dR=Phaser.GameObjects.Components.TransformMatrix,fR=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Uh=new dR,cR=function(e,t,i,n,y,S,r,T){var s=this.frame;if(s){var o=this._width,m=this._height,f=o*this.originX,u=m*this.originY,h=this.x-n,a=this.y-y,l,c,d,v,p,g,x,C;if(this.isCropped){var P=this._crop;(P.flipX!==this.flipX||P.flipY!==this.flipY)&&s.updateCropUVs(P,this.flipX,this.flipY),l=P.u0,c=P.v0,d=P.u1,v=P.v1,x=P.width,C=P.height,p=P.x,g=P.y}else l=this.frame.u0,c=this.frame.v0,d=this.frame.u1,v=this.frame.v1,x=o,C=m,p=0,g=0;var w=1,E=1;this.flipX&&(h+=o-f*2,w=-1),this.flipY&&(a+=m-u*2,E=-1),Uh.applyITRS(h,a,this.rotation,this.scaleX*w,this.scaleY*E),t.multiply(Uh,Uh);var b=-f+p,O=-u+g,M=b+x,A=O+C,F=Uh.setQuad(b,O,M,A,T),R=fR(this.tint,this.alpha*i);e.batchQuad(this.parent,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],l,c,d,v,R,R,R,R,this.tintFill,S,r)}},vR=function(e,t,i,n){var y=this.frame;if(y){e.save();var S=this._width,r=this._height,T=S*this.originX,s=r*this.originY,o=this.x-T,m=this.y-s,f,u,h,a;if(this.isCropped){var l=this._crop;(l.flipX!==this.flipX||l.flipY!==this.flipY)&&y.updateCropUVs(l,this.flipX,this.flipY),h=l.cw,a=l.ch,f=l.cx,u=l.cy}else h=y.cutWidth,a=y.cutHeight,f=y.cutX,u=y.cutY;var c=1,d=1;this.flipX&&(o+=S,c=-1),this.flipY&&(m+=r,d=-1);var v=y.source.resolution,p=h/v,g=a/v;n&&(o=Math.floor(o+.5),m=Math.floor(m+.5),p+=.5,g+=.5),e.translate(o,m),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*d),e.drawImage(y.source.image,f,u,h,a,0,0,p,g),e.restore()}};const pR=Phaser.Utils.Objects.IsPlainObject;let QC=class extends uR{constructor(e,t){super(e,JC),this._crop=gR(),this.setFrame(t)}get width(){return this._width}set width(e){}get height(){return this._height}set height(e){}setFrame(e){return arguments.length>0&&!pR(e)&&(e=this.parent.texture.get(e)),this.frame=e,e?(this._width=e.realWidth,this._height=e.realHeight):(this._width=0,this._height=0),this}setFlipX(e){return e===void 0&&(e=!0),this.flipX=e,this}setFlipY(e){return e===void 0&&(e=!0),this.flipY=e,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(e){this._tint=e}setTint(e){return this.tint=e,this.tintFill=!1,this}setTintFill(e){return this.tint=e,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(e){this._tintFill=e}setCrop(e,t,i,n){return e===void 0?(this.isCropped=!1,this):this.frame?e===0&&t===0&&i===this._width&&n===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,e,t,i,n,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(e){return e?(e.hasOwnProperty("width")&&(e.displayWidth=e.width,delete e.width),e.hasOwnProperty("height")&&(e.displayHeight=e.height,delete e.height),e.hasOwnProperty("frame")&&this.setFrame(e.frame),super.modifyPorperties(e),e.hasOwnProperty("flipX")&&this.setFlipX(e.flipX),e.hasOwnProperty("flipY")&&this.setFlipY(e.flipY),e.hasOwnProperty("tint")&&this.setTint(e.tint),e.hasOwnProperty("tintFill")&&this.setTintFill(e.tintFill),this):this}};var gR=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},mR={webglRender:cR,canvasRender:vR};Object.assign(QC.prototype,mR);var qC=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(JC):null;return i===null?i=new QC(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},xR=function(e,t,i,n,y,S){qC(this,{frame:t,x:i,y:n,width:y,height:S})},yR=function(e,t,i,n,y,S){var r=this.texture.get(t),T=r.width,s=r.height,o=y%T,m=S%s;o===0&&(o=T),m===0&&(m=s);for(var f=Math.ceil(y/T),u=Math.ceil(S/s),h=f-1,a=u-1,l=0;l<f;l++)for(var c=0;c<u;c++){let p=qC(this,{frame:t,x:i+l*T,y:n+c*s});var d=l===h?o:T,v=c===a?m:s;(d!==T||v!==s)&&p.setCrop(0,0,d,v)}};const TR={_drawImage:xR,_drawTileSprite:yR};class $v extends WC(KC,"rexNinePatch2"){setBaseTexture(t,i,n,y){return this.setTexture(t,i),super.setBaseTexture(t,i,n,y),this}}Object.assign($v.prototype,TR);mt.register("ninePatch2",function(e,t,i,n,y,S,r,T){var s=new $v(this.scene,e,t,i,n,y,S,r,T);return this.scene.add.existing(s),s});pt(window,"RexPlugins.UI.NinePatch2",$v);var CR=Phaser.Renderer.WebGL.Utils,_C=function(e,t,i,n,y,S){for(var r=CR.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),T=i.pathData,s=i.pathIndexes,o=0;o<s.length;o+=3){var m=s[o]*2,f=s[o+1]*2,u=s[o+2]*2,h=T[m+0]-y,a=T[m+1]-S,l=T[f+0]-y,c=T[f+1]-S,d=T[u+0]-y,v=T[u+1]-S,p=t.getX(h,a),g=t.getY(h,a),x=t.getX(l,c),C=t.getY(l,c),P=t.getX(d,v),w=t.getY(d,v);e.batchTri(i,p,g,x,C,P,w,0,0,1,1,r,r,r,2)}},SR=Phaser.Renderer.WebGL.Utils,$u=function(e,t,i,n,y){var S=e.strokeTint,r=SR.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=r,S.TR=r,S.BL=r,S.BR=r;var T=t.pathData,s=T.length-1,o=t.lineWidth,m=o/2,f=T[0]-n,u=T[1]-y;t.closePath||(s-=2);for(var h=2;h<s;h+=2){var a=T[h]-n,l=T[h+1]-y;e.batchLine(f,u,a,l,m,m,o,h-2,t.closePath?h===s-1:!1),f=a,u=l}};const PR=Phaser.GameObjects.GetCalcMatrix;var ER=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=PR(t,i,n),r=y.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&_C(y,r,t,o,T,s),t.isStroked&&$u(y,t,o,T,s),e.pipelines.postBatch(t)},qo=function(e,t,i,n){var y=t.fillColor,S=t.fillAlpha,r=(y&16711680)>>>16,T=(y&65280)>>>8,s=y&255;e.fillStyle="rgba("+r+","+T+","+s+","+S+")"},_o=function(e,t,i,n){var y=t.strokeColor,S=t.strokeAlpha,r=(y&16711680)>>>16,T=(y&65280)>>>8,s=y&255;e.strokeStyle="rgba("+r+","+T+","+s+","+S+")",e.lineWidth=t.lineWidth};const wR=Phaser.Renderer.Canvas.SetTransform;var bR=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var y=e.currentContext;if(wR(e,y,t,i,n)){var S=t._displayOriginX,r=t._displayOriginY,T=t.pathData,s=T.length-1,o=T[0]-S,m=T[1]-r;y.beginPath(),y.moveTo(o,m),t.closePath||(s-=2);for(var f=2;f<s;f+=2){var u=T[f]-S,h=T[f+1]-r;y.lineTo(u,h)}y.closePath(),t.isFilled&&(qo(y,t),y.fill()),t.isStroked&&(_o(y,t),y.stroke()),y.restore()}};const OR={renderWebGL:ER,renderCanvas:bR},MR=Phaser.GameObjects.Shape;class Kv extends MR{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=n,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(Kv.prototype,OR);const Ir=Phaser.Utils.Objects.GetValue;let Jv=class{constructor(e,t,i,n,y){e===void 0&&(e=0),t===void 0&&(t=e),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,t,i,n,y)}setTo(e,t,i,n,y){return this.setPosition(e,t),this.setRadius(y),this.setSize(i,n),this}setPosition(e,t){return this.x=e,this.y=t,this}setRadius(e){return e===void 0&&(e=0),this.radius=e,this}setSize(e,t){return this.width=e,this.height=t,this}get minWidth(){var e=this.cornerRadius;return Math.max(e.tl.x+e.tr.x,e.bl.x+e.br.x)}get minHeight(){var e=this.cornerRadius;return Math.max(e.tl.y+e.bl.y,e.tr.y+e.br.y)}get width(){return this._width}set width(e){e==null&&(e=0),this._width=Math.max(e,this.minWidth)}get height(){return this._height}set height(e){e==null&&(e=0),this._height=Math.max(e,this.minHeight)}get radius(){var e=this.cornerRadius;return Math.max(e.tl.x,e.tl.y,e.tr.x,e.tr.y,e.bl.x,e.bl.y,e.br.x,e.br.y)}set radius(e){var t,i;typeof e=="number"?(t=e,i=e):(t=Ir(e,"x",0),i=Ir(e,"y",0));var n=this.cornerRadius;n.tl=Xh(Ir(e,"tl",void 0),t,i),n.tr=Xh(Ir(e,"tr",void 0),t,i),n.bl=Xh(Ir(e,"bl",void 0),t,i),n.br=Xh(Ir(e,"br",void 0),t,i)}get radiusTL(){var e=this.cornerRadius.tl;return Math.max(e.x,e.y)}set radiusTL(e){Vh(this.cornerRadius.tl,e)}get radiusTR(){var e=this.cornerRadius.tr;return Math.max(e.x,e.y)}set radiusTR(e){Vh(this.cornerRadius.tr,e)}get radiusBL(){var e=this.cornerRadius.bl;return Math.max(e.x,e.y)}set radiusBL(e){Vh(this.cornerRadius.bl,e)}get radiusBR(){var e=this.cornerRadius.br;return Math.max(e.x,e.y)}set radiusBR(e){Vh(this.cornerRadius.br,e)}};var Xh=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),tS(e),e},Vh=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Ir(t,"x",0),e.y=Ir(t,"y",0)),tS(e)},tS=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},me=function(e){return e.x>0&&e.y>0},Ke=function(e,t,i){var n=i.length;if(n>=2){var y=i[n-2],S=i[n-1];if(e===y&&t===S)return i}return i.push(e,t),i};const Cm=Phaser.Math.DegToRad;var Je=function(e,t,i,n,y,S,r,T,s){r&&S>y?S-=360:!r&&S<y&&(S+=360);var o=S-y,m=Cm(o)/T;y=Cm(y);for(var f=0;f<=T;f++){var u=y+m*f,h=e+i*Math.cos(u),a=t+n*Math.sin(u);Ke(h,a,s)}return s};const AR=Phaser.Utils.Objects.IsPlainObject,Sm=Phaser.Utils.Objects.GetValue,RR=Phaser.Geom.Polygon.Earcut;let Bn=class extends Kv{constructor(e,t,i,n,y,S,r,T){var s,o,m,f;if(AR(t)){var u=t;t=u.x,i=u.y,n=u.width,y=u.height,S=u.radius,r=u.color,T=u.alpha,s=u.strokeColor,o=u.strokeAlpha,m=u.strokeWidth,f=u.shape}t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=1),y===void 0&&(y=n),S===void 0&&(S=0),f===void 0&&(f=0);var h=new Jv;if(super(e,"rexRoundRectangleShape",h),this.setShapeType(f),this.shapeType===0){var a=Sm(S,"radius",S);h.setTo(0,0,n,y,a)}else{var a={x:n/2,y:y/2};h.setTo(0,0,n,y,a)}this.setIteration(Sm(S,"iteration",void 0)),this.setPosition(t,i),this.setFillStyle(r,T),m===void 0&&(m=2),this.setStrokeStyle(m,s,o),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var e=this.geom,t=this.pathData;t.length=0;var i=e.width,n=e.height,y=e.cornerRadius,S,r=this.iteration+1;if(S=y.tl,me(S))if(S.convex){var T=S.x,s=S.y;Je(T,s,S.x,S.y,180,270,!1,r,t)}else{var T=0,s=0;Je(T,s,S.x,S.y,90,0,!0,r,t)}else Ke(0,0,t);if(S=y.tr,me(S))if(S.convex){var T=i-S.x,s=S.y;Je(T,s,S.x,S.y,270,360,!1,r,t)}else{var T=i,s=0;Je(T,s,S.x,S.y,180,90,!0,r,t)}else Ke(i,0,t);if(S=y.br,me(S))if(S.convex){var T=i-S.x,s=n-S.y;Je(T,s,S.x,S.y,0,90,!1,r,t)}else{var T=i,s=n;Je(T,s,S.x,S.y,270,180,!0,r,t)}else Ke(i,n,t);if(S=y.bl,me(S))if(S.convex){var T=S.x,s=n-S.y;Je(T,s,S.x,S.y,90,180,!1,r,t)}else{var T=0,s=n;Je(T,s,S.x,S.y,360,270,!0,r,t)}else Ke(0,n,t);return t.push(t[0],t[1]),this.pathIndexes=RR(t),this}setShapeType(e){return typeof e=="string"&&(e=LR[e]),this.shapeType=e,this}setSize(e,t){return t===void 0&&(t=e),this.geom.width===e&&this.geom.height===t?this:(this.geom.setSize(e,t),this.shapeType===1&&this.setRadius({x:e/2,y:t/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(e,t),this)}get radius(){return this.geom.radius}set radius(e){this.geom.setRadius(e),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(e){this.geom.radiusTL=e,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(e){this.geom.radiusTR=e,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(e){this.geom.radiusBL=e,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(e){this.geom.radiusBR=e,this.dirty=!0}setRadius(e){return e===void 0&&(e=0),this.radius=e,this}setRadiusTL(e){return e===void 0&&(e=0),this.radiusTL=e,this}setRadiusTR(e){return e===void 0&&(e=0),this.radiusTR=e,this}setRadiusBL(e){return e===void 0&&(e=0),this.radiusBL=e,this}setRadiusBR(e){return e===void 0&&(e=0),this.radiusBR=e,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(e){this.radius=e}setCornerRadius(e){return this.setRadius(e)}get iteration(){return this._iteration}set iteration(e){if(this._iteration===void 0){this._iteration=e;return}this._iteration!==e&&(this._iteration=e,this.dirty=!0)}setIteration(e){return e===void 0&&(e=6),this.iteration=e,this}};const LR={rectangle:0,circle:1};mt.register("roundRectangle",function(e,t,i,n,y,S,r){var T=new Bn(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});pt(window,"RexPlugins.UI.RoundRectangle",Bn);const FR=Phaser.Renderer.WebGL.Utils;var DR=function(e,t,i,n){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,T=FR.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.resolution,r/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,o),e.pipelines.postBatch(t)}},IR=function(e,t,i,n){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const BR={renderWebGL:DR,renderCanvas:IR},kR=Phaser.Display.Color,NR={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,n,y,S,r,T,s,o){var m=this.scene.sys.textures.getFrame(e,t);if(!m)return this;var f=m.cutWidth,u=m.cutHeight;i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=f),S===void 0&&(S=u),r===void 0&&(r=0),T===void 0&&(T=0),s===void 0&&(s=f),o===void 0&&(o=u);var h=m.cutX+r,a=m.cutY+T;return this.context.drawImage(m.source.image,h,a,s,o,i,n,y,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new kR);var n=this.context.getImageData(e,t,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel(e,t,i,n,y,S){if(typeof i!="number"){var r=i;i=r.red,n=r.green,y=r.blue,S=r.alpha}S===void 0&&(S=i!==0||n!==0||y!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=i,T.data[1]=n,T.data[2]=y,T.data[3]=S,this.context.putImageData(T,e,t),this.dirty=!0,this}};var eS=function(e,t,i,n,y,S,r){var T=e.sys.textures,s=e.renderer;n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=t.width),r===void 0&&(r=t.height);var o;T.exists(i)?o=T.get(i):o=T.createCanvas(i,S,r);var m=o.getSourceImage();m.width!==S&&(m.width=S),m.height!==r&&(m.height=r);var f=m.getContext("2d",{willReadFrequently:!0});f.clearRect(0,0,S,r),f.drawImage(t,n,y,S,r),s.gl&&o&&s.canvasToTexture(m,o.source[0].glTexture,!0,0)};const GR={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(e,t,i,n,y){var S=this.canvas;return n===void 0?n=S.width:n*=this.resolution,y===void 0?y=S.height:y*=this.resolution,eS(this.scene,S,e,t,i,n,y),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Hu();const Pm=Phaser.Display.Canvas.CanvasPool,zR=Phaser.GameObjects.GameObject,UR=Phaser.Utils.String.UUID;let Zr=class extends zR{constructor(e,t,i,n,y,S){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=1),y===void 0&&(y=1),S===void 0&&(S=1),super(e,"rexCanvas"),this.renderer=e.sys.game.renderer,this._width=n,this._height=y,this.resolution=S,n=Math.max(Math.ceil(n*this.resolution),1),y=Math.max(Math.ceil(y*this.resolution),1),this.canvas=Pm.create(this,n,y),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(t,i),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=UR(),this.texture=e.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){Pm.remove(this.canvas),this.canvas=null,this.context=null;var e=this.texture;e&&e.destroy()}setResolution(e){if(this.resolution===e)return this;this.resolution=e;var t=Math.max(Math.ceil(this.width*e),1),i=Math.max(Math.ceil(this.height*e),1);return this.canvas.width=t,this.canvas.height=i,this.frame.source.resolution=e,this.dirty=!0,this}get width(){return this._width}set width(e){this.setSize(e,this._height)}get height(){return this._height}set height(e){this.setSize(this._width,e)}setCanvasSize(e,t){return this._width===e&&this._height===t?this:(this._width=e,this._height=t,this.updateDisplayOrigin(),e=Math.max(Math.ceil(e*this.resolution),1),t=Math.max(Math.ceil(t*this.resolution),1),this.canvas.width=e,this.canvas.height=t,this.frame.setSize(e,t),this.dirty=!0,this)}setSize(e,t){return this.setCanvasSize(e,t),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(e){this.scaleX=e/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(e){this.scaleY=e/this._height}setDisplaySize(e,t){return this.displayWidth=e,this.displayHeight=t,this}getCanvas(e){return e||(this.dirty=!0),this.canvas}getContext(e){return e||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(e,t){return this.setSize(e,t),this}};const Pi=Phaser.GameObjects.Components;Phaser.Class.mixin(Zr,[Pi.Alpha,Pi.BlendMode,Pi.Crop,Pi.Depth,Pi.Flip,Pi.GetBounds,Pi.Mask,Pi.Origin,Pi.Pipeline,Pi.PostPipeline,Pi.ScrollFactor,Pi.Tint,Pi.Transform,Pi.Visible,BR,NR,GR]);const XR=Phaser.Utils.String.Pad;var Ut=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${XR(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const Em=Phaser.Math.DegToRad;var iS=function(e,t,i,n,y,S,r){var T=new Jv(t,i,n,y,S),s=T.minWidth,o=T.minHeight,m=n>=s?1:n/s,f=y>=o?1:y/o,u=T.cornerRadius,h,a,l,c,d,v,p;e.save(),e.beginPath(),e.translate(t,i),h=u.tl,Wh(h)?(a=h.x*m,l=h.y*f,Yh(h)?(c=a,d=l,xr(e,c,d,a,l,180,270,!1,r)):(c=0,d=0,xr(e,c,d,a,l,90,0,!0,r)),v=0,p=l):(e.lineTo(0,0),v=0,p=0),h=u.tr,Wh(h)?(a=h.x*m,l=h.y*f,Yh(h)?(c=n-a,d=l,xr(e,c,d,a,l,270,360,!1,r)):(c=n,d=0,xr(e,c,d,a,l,180,90,!0,r))):e.lineTo(n,0),h=u.br,Wh(h)?(a=h.x*m,l=h.y*f,Yh(h)?(c=n-a,d=y-l,xr(e,c,d,a,l,0,90,!1,r)):(c=n,d=y,xr(e,c,d,a,l,270,180,!0,r))):e.lineTo(n,y),h=u.bl,Wh(h)?(a=h.x*m,l=h.y*f,Yh(h)?(c=a,d=y-l,xr(e,c,d,a,l,90,180,!1,r)):(c=0,d=y,xr(e,c,d,a,l,360,270,!0,r))):e.lineTo(0,y),e.lineTo(v,p),e.closePath(),e.restore()},Yh=function(e){return!e.hasOwnProperty("convex")||e.convex},Wh=function(e){return e.x>0&&e.y>0},xr=function(e,t,i,n,y,S,r,T,s){if(T&&r>S?r-=360:!T&&r<S&&(r+=360),S=Em(S),r=Em(r),s==null)e.ellipse(t,i,n,y,0,S,r,T);else{s+=1;for(var o,m,f,u=(r-S)/s,h=0;h<=s;h++)f=S+u*h,o=t+n*Math.cos(f),m=i+y*Math.sin(f),e.lineTo(o,m)}},VR=function(e,t,i,n,y,S,r,T,s,o,m,f,u){if(iS(t,i,n,y,S,r,u),T!=null){if(m!=null){var h;f?h=t.createLinearGradient(0,0,y,0):h=t.createLinearGradient(0,0,0,S),h.addColorStop(0,T),h.addColorStop(1,m),T=h}t.fillStyle=T,t.fill()}s!=null&&o>0&&(t.strokeStyle=s,t.lineWidth=o,t.stroke())},Zv=function(e,t,i,n,y,S,r,T){if(!(t==null&&i==null)){var s=e.canvas.width,o=e.canvas.height;i==null&&(n=0);var m=n/2;s=Math.max(1,s-n),o=Math.max(1,o-n),VR(e.canvas,e.context,m,m,s,o,y,t,i,n,S,r,T)}},YR=function(){Zv(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const wm=Phaser.Utils.Objects.GetValue;let sS=class extends Zr{constructor(e,t,i,n,y,S,r,T,s,o,m,f){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=1),y===void 0&&(y=n),S===void 0&&(S=0),f===void 0&&(f=1),super(e,t,i,n,y,f),this.type="rexRoundRectangleCanvas";var u=wm(S,"radius",S),h=wm(S,"iteration",void 0);this.setRadius(u),this.setIteration(h),this.setFillStyle(r,o,m),this.setStrokeStyle(T,s)}get radius(){return this._radius}set radius(e){this.dirty|=this._radius!=e,this._radius=e}setRadius(e){return this.radius=e,this}get iteration(){return this._iteration}set iteration(e){this.dirty|=this._iteration!=e,this._iteration=e}setIteration(e){return this.iteration=e,this}get fillStyle(){return this._fillStyle}set fillStyle(e){e=Ut(e,this.canvas,this.context),this.dirty|=this._fillStyle!=e,this._fillStyle=e}get fillColor2(){return this._fillColor2}set fillColor2(e){e=Ut(e,this.canvas,this.context),this.dirty|=this._fillColor2!=e,this._fillColor2=e}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(e){this.dirty|=this._isHorizontalGradient!=e,this._isHorizontalGradient=e}setFillStyle(e,t,i){return i===void 0&&(i=!0),this.fillStyle=e,this.fillColor2=t,this.isHorizontalGradient=i,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){e=Ut(e,this.canvas,this.context),this.dirty|=this._strokeStyle!=e,this._strokeStyle=e}get lineWidth(){return this._lineWidth}set lineWidth(e){this.dirty|=this._lineWidth!=e,this._lineWidth=e}setStrokeStyle(e,t){return this.strokeStyle=e,this.lineWidth=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),YR.call(this)},this),this}};mt.register("roundRectangleCanvas",function(e,t,i,n,y,S,r,T,s,o){var m=new sS(this.scene,e,t,i,n,y,S,r,T,s,o);return this.scene.add.existing(m),m});pt(window,"RexPlugins.UI.RoundRectangleCanvas",sS);var _t=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},yr=function(e,t,i){!t||_t(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(n){i.x=n,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(n){i.y=n,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(n){i.t=n,e.dirty=!0}}))};const WR={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,n){var y=this.geom.topSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,T=y.length;r<T;r++)S=y[r],this.geom.insertTopSidePoint(S.t,S.x,S.y),yr(this,S.key,y[y.length-1]);else this.geom.insertTopSidePoint(e,t,i),yr(this,n,y[y.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,n){var y=this.geom.rightSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,T=y.length;r<T;r++)S=y[r],this.geom.insertRightSidePoint(S.t,S.x,S.y),yr(this,S.key,y[y.length-1]);else this.geom.insertRightSidePoint(e,t,i),yr(this,n,y[y.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,n){var y=this.geom.bottomSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,T=y.length;r<T;r++)S=y[r],this.geom.insertBottomSidePoint(S.t,S.x,S.y),yr(this,S.key,y[y.length-1]);else this.geom.insertBottomSidePoint(e,t,i),yr(this,n,y[y.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,n){var y=this.geom.leftSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,T=y.length;r<T;r++)S=y[r],this.geom.insertLeftSidePoint(S.t,S.x,S.y),yr(this,S.key,y[y.length-1]);else this.geom.insertLeftSidePoint(e,t,i),yr(this,n,y[y.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class HR{constructor(t,i,n,y){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),y===void 0&&(y=0),this.setTo(t,i,n,y),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,n,y){return this.setPosition(t,i),this.setSize(n,y),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,n){return Hh(this.topSidePoints,t,i,n),this}insertRightSidePoint(t,i,n){return Hh(this.rightSidePoints,t,i,n),this}insertBottomSidePoint(t,i,n){return Hh(this.bottomSidePoints,t,i,n),this}insertLeftSidePoint(t,i,n){return Hh(this.leftSidePoints,t,i,n),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var Hh=function(e,t,i,n){if(typeof t!="number"){var y=t;t=y.t,i=y.x,n=y.y}e.push({t,x:i,y:n})};const jR=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue,Tr=Phaser.Math.Linear,$R=Phaser.Geom.Polygon.Earcut;class Qv extends Kv{constructor(t,i,n,y,S,r,T){var s,o,m;if(jR(i)){var f=i;i=f.x,n=f.y,y=f.width,S=f.height,r=f.color,T=f.alpha,s=f.strokeColor,o=f.strokeAlpha,m=f.strokeWidth}i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y);var u=new HR;super(t,"rexQuadShape",u),u.setTo(0,0,y,S),this.setPosition(i,n),this.setFillStyle(r,T),s!==void 0&&m===void 0&&(m=2),this.setStrokeStyle(m,s,o),this.setTLPosition(Wi(f,"tlx",0),Wi(f,"tly",0)).setTRPosition(Wi(f,"trx",0),Wi(f,"try",0)).setBLPosition(Wi(f,"blx",0),Wi(f,"bly",0)).setBRPosition(Wi(f,"brx",0),Wi(f,"bry",0));var h=Wi(f,"leftSidePoints");h&&this.insertLeftSidePoint(h);var a=Wi(f,"topSidePoints");a&&this.insertTopSidePoint(a);var l=Wi(f,"rightSidePoints");l&&this.insertRightSidePoint(l);var c=Wi(f,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,y=t.height,S=0+t.tlx,r=0+t.tly,T=n+t.trx,s=0+t.try,o=n+t.brx,m=y+t.bry,f=0+t.blx,u=y+t.bly,h=t.topSidePoints,a=t.rightSidePoints,l=t.bottomSidePoints,c=t.leftSidePoints;Ke(S,r,i),jh(h);for(var d=0,v=h.length;d<v;d++){var p=h[d],g=Tr(S,T,p.t)+p.x,x=Tr(r,s,p.t)+p.y;Ke(g,x,i)}Ke(T,s,i),jh(a);for(var d=0,v=a.length;d<v;d++){var p=a[d],g=Tr(T,o,p.t)+p.x,x=Tr(s,m,p.t)+p.y;Ke(g,x,i)}Ke(o,m,i),jh(l);for(var d=l.length-1;d>=0;d--){var p=l[d],g=Tr(f,o,p.t)+p.x,x=Tr(u,m,p.t)+p.y;Ke(g,x,i)}Ke(f,u,i),jh(c);for(var d=c.length-1;d>=0;d--){var p=c[d],g=Tr(S,f,p.t)+p.x,x=Tr(r,u,p.t)+p.y;Ke(g,x,i)}return i.push(i[0],i[1]),this.pathIndexes=$R(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var jh=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(Qv.prototype,WR);mt.register("QuadShape",function(e,t,i,n,y,S){var r=new Qv(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.QuadShape",Qv);var KR=Phaser.Renderer.WebGL.Utils,JR=function(e,t,i,n){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,T=KR.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),o=s.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.style.resolution,r/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,o),e.pipelines.postBatch(t)}},ZR=function(e,t,i,n){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const QR={renderWebGL:JR,renderCanvas:ZR},xf=Phaser.Display.Canvas.CanvasPool;var qR=function(e,t,i){i===void 0&&(i={});var n=xf.create(this),y=n.getContext("2d",{willReadFrequently:!0});e.syncFont(n,y);var S=y.measureText(t),r=Math.ceil(S.width*e.baselineX),T=r,s=2*T;if(T=T*e.baselineY|0,n.width=r,n.height=s,y.fillStyle="#f00",y.fillRect(0,0,r,s),y.font=e._font,y.textBaseline="alphabetic",y.fillStyle="#000",y.fillText(e.testString,0,T),i.left=0,r===0||s===0||!y.getImageData(0,0,r,s))return xf.remove(n),i;for(var o=y.getImageData(0,0,r,s).data,m=!1,f=0;f<r;f++){for(var u=0;u<s;u++){var h=(u*r+f)*4;if(o[h]!==255){i.left=f,m=!0;break}}if(m)break}return xf.remove(n),i};Hu();const _R=Phaser.GameObjects.GameObject;class rS extends _R{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,n){return this.style.setBackgroundColor(t,i,n)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,n,y,S,r){return this.style.setShadow(t,i,n,y,S,r)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,n){return this.style.setUnderline(t,i,n)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,n){return this.style.setStrikethrough(t,i,n)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return qR(this.style,t,i)}}const xi=Phaser.GameObjects.Components;Phaser.Class.mixin(rS,[xi.Alpha,xi.BlendMode,xi.ComputedSize,xi.Crop,xi.Depth,xi.Flip,xi.GetBounds,xi.Mask,xi.Origin,xi.Pipeline,xi.PostPipeline,xi.ScrollFactor,xi.Tint,xi.Transform,xi.Visible,QR]);var tL={backgroundColor:["backgroundColor",null,Ut],backgroundColor2:["backgroundColor2",null,Ut],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ut],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ut],stroke:["stroke","#fff",Ut],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ut],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ut],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ut],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const $h=Phaser.Display.Canvas.CanvasPool;var bm=function(e){var t=$h.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var n=i.measureText(e.testString);if("actualBoundingBoxAscent"in n){var y=n.actualBoundingBoxAscent,S=n.actualBoundingBoxDescent,o={ascent:y,descent:S,fontSize:y+S};return $h.remove(t),o}var r=Math.ceil(n.width*e.baselineX),T=r,s=2*T;T=T*e.baselineY|0,t.width=r,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,r,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,T);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,s))return o.ascent=T,o.descent=T+6,o.fontSize=o.ascent+o.descent,$h.remove(t),o;var m=i.getImageData(0,0,r,s).data,f=m.length,u=r*4,h,a,l=0,c=!1;for(h=0;h<T;h++){for(a=0;a<u;a+=4)if(m[l+a]!==255){c=!0;break}if(!c)l+=u;else break}for(o.ascent=T-h,l=f-u,c=!1,h=s;h>T;h--){for(a=0;a<u;a+=4)if(m[l+a]!==255){c=!0;break}if(!c)l-=u;else break}return o.descent=h-T,o.fontSize=o.ascent+o.descent,$h.remove(t),o},Be={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const gu={none:Be.NO_WRAP,word:Be.WORD_WRAP,char:Be.CHAR_WRAP,character:Be.CHAR_WRAP,mix:Be.MIX_WRAP},eL=Phaser.Utils.Objects.GetAdvancedValue,Fi=Phaser.Utils.Objects.GetValue;let qv=class{constructor(e,t,i){this.parent=e,i===void 0&&(i=tL),this.propertyMap=i,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(t,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Be.NO_WRAP&&this.wrapWidth===0}setStyle(e,t,i){if(t===void 0&&(t=!0),i===void 0&&(i=!1),e&&e.hasOwnProperty("wordWrap")){var n=e.wordWrap;n.hasOwnProperty("width")&&(e.wrap={mode:"word",width:n.width})}if(e&&e.hasOwnProperty("wrap")){var y=e.wrap;if(y.hasOwnProperty("mode")){var S=y.mode;typeof S=="string"&&(y.mode=gu[S])}else y.hasOwnProperty("width")&&(y.mode=1)}e&&e.rtl&&i&&!e.hasOwnProperty("halign")&&(e.halign="right"),e&&e.hasOwnProperty("fontSize")&&typeof e.fontSize=="number"&&(e.fontSize=e.fontSize.toString()+"px");var r=this.propertyMap;for(var T in r){var s=r[T],o=s[0],m=i?s[1]:this[T],f=s[2];if(T==="wrapCallback"||T==="wrapCallbackScope")this[T]=Fi(e,o,m);else{var u=eL(e,o,m);f&&(u=f(u)),this[T]=u}}var h=Fi(e,"font",null);h===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=h;var a=Fi(e,"fill",null);a!==null&&(this.color=Ut(a));var l=Fi(e,"metrics",!1);return l?this.metrics={ascent:Fi(l,"ascent",0),descent:Fi(l,"descent",0),fontSize:Fi(l,"fontSize",0)}:(t||!this.metrics)&&(this.metrics=bm(this)),t?this.parent.updateText():this.parent}syncFont(e,t){t.font=this._font}syncStyle(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"}syncShadow(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)}update(e){return e&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=bm(this)),this.parent.updateText(e)}buildFont(){var e=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return e!==this._font&&(this._font=e),this}setFont(e){return typeof e=="string"?(this.fontFamily=e,this.fontSize="",this.fontStyle=""):(this.fontFamily=Fi(e,"fontFamily","Courier"),this.fontSize=Fi(e,"fontSize","16px"),this.fontStyle=Fi(e,"fontStyle","")),this.update(!0)}setFontFamily(e){return this.fontFamily=e,this.update(!0)}setFontStyle(e){return this.fontStyle=e,this.update(!0)}setFontSize(e){return typeof e=="number"&&(e=e.toString()+"px"),this.fontSize=e,this.update(!0)}setTestString(e){return this.testString=e,this.update(!0)}setFixedSize(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(this.isWrapFitMode)}setResolution(e){return this.resolution=e,this.update(!1)}setXOffset(e){return this.xOffset=e,this.update(!1)}setBackgroundColor(e,t,i){return i===void 0&&(i=!0),this.backgroundColor=Ut(e,this.parent.canvas,this.parent.context),this.backgroundColor2=Ut(t,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=i,this.update(!1)}setBackgroundStrokeColor(e,t){return this.backgroundStrokeColor=Ut(e,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=t,this.update(!1)}setBackgroundCornerRadius(e,t){return this.backgroundCornerRadius=e,this.backgroundCornerIteration=t,this.update(!1)}setFill(e){return this.color=Ut(e,this.parent.canvas,this.parent.context),this.update(!1)}setColor(e){return this.color=Ut(e,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(e,t){return e===void 0?this.strokeThickness=0:(t===void 0&&(t=this.strokeThickness),this.stroke=Ut(e,this.parent.canvas,this.parent.context),this.strokeThickness=t),this.update(!0)}setShadow(e,t,i,n,y,S){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i="#000"),n===void 0&&(n=0),y===void 0&&(y=!1),S===void 0&&(S=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=Ut(i,this.parent.canvas,this.parent.context),this.shadowBlur=n,this.shadowStroke=y,this.shadowFill=S,this.update(!1)}setShadowOffset(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)}setShadowColor(e){return e===void 0&&(e="#000"),this.shadowColor=Ut(e,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(e){return e===void 0&&(e=0),this.shadowBlur=e,this.update(!1)}setShadowStroke(e){return this.shadowStroke=e,this.update(!1)}setShadowFill(e){return this.shadowFill=e,this.update(!1)}setUnderline(e,t,i){return e===void 0&&(e="#000"),t===void 0&&(t=0),i===void 0&&(i=0),this.underlineColor=Ut(e,this.parent.canvas,this.parent.context),this.underlineThickness=t,this.underlineOffset=i,this.update(!1)}setUnderlineColor(e){return e===void 0&&(e="#000"),this.underlineColor=Ut(e,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(e){return e===void 0&&(e=0),this.underlineThickness=e,this.update(!1)}setUnderlineOffset(e){return e===void 0&&(e=0),this.underlineOffset=e,this.update(!1)}setStrikethrough(e,t,i){return e===void 0&&(e="#000"),t===void 0&&(t=0),i===void 0&&(i=0),this.strikethroughColor=Ut(e,this.parent.canvas,this.parent.context),this.strikethroughThickness=t,this.strikethroughOffset=i,this.update(!1)}setStrikethroughColor(e){return e===void 0&&(e="#000"),this.strikethroughColor=Ut(e,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(e){return e===void 0&&(e=0),this.strikethroughThickness=e,this.update(!1)}setStrikethroughOffset(e){return e===void 0&&(e=0),this.strikethroughOffset=e,this.update(!1)}setWrapMode(e){return typeof e=="string"&&(e=gu[e.toLowerCase()]||0),this.wrapMode=e,this.update(!0)}setWrapWidth(e){return this.wrapWidth=e,this.update(!1)}setAlign(e,t){return e===void 0&&(e="left"),t===void 0&&(t="top"),this.halign=e,this.valign=t,this.update(!1)}setHAlign(e){return e===void 0&&(e="left"),this.halign=e,this.update(!1)}setVAlign(e){return e===void 0&&(e="top"),this.valign=e,this.update(!1)}setMaxLines(e){return e===void 0&&(e=0),this.maxLines=e,this.update(!1)}getTextMetrics(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}}setTextMetrics(e,t){return this.metrics.ascent=e.ascent,this.metrics.descent=e.descent,this.metrics.fontSize=e.fontSize,t&&(typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Fi(t,"fontFamily",this.fontFamily),this.fontSize=Fi(t,"fontSize",this.fontSize),this.fontStyle=Fi(t,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var e={},t=this.propertyMap;for(var i in t)e[i]=this[i];return e.metrics=this.getTextMetrics(),e}destroy(){this.parent=void 0}};var Aa=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const iL={draw(e,t,i,n){var y=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var r=this.defaultStyle;this.clear(),Zv(this,r.backgroundColor,r.backgroundStrokeColor,r.backgroundStrokeLineWidth,r.backgroundCornerRadius,r.backgroundColor2,r.backgroundHorizontalGradient,r.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=r.halign,s=r.valign,o,m=r.lineHeight,f=y.lines,u=f.length,h=r.maxLines,a,l,c;h>0&&u>h?(a=h,s==="center"?l=Math.floor((u-a)/2):s==="bottom"?l=u-a:l=0):(a=u,l=0),c=l+a;var d,v,p=this.rtl,g=p?this.parent.width:void 0;s==="center"?v=Math.max((n-a*m)/2,0):s==="bottom"?v=Math.max(n-a*m-2,0):v=0,v+=t;for(var x=l;x<c;x++)if(o=y.getLineWidth(x),o!==0){for(var C=f[x],P=C.length,w=T,E=0;E<P;E++){var b=C[E].prop.align;if(b!==void 0){w=b;break}}w==="center"?d=(i-o)/2:w==="right"?d=p?0:i-o:d=p?i-o:0,d+=e;for(var E=0;E<P;E++)this.drawPen(C[E],d,v,g)}S.restore()},drawPen(e,t,i,n){t+=e.x,i+=e.y+(e.prop.y||0),n!==void 0&&(t=n-t);var y=this.canvas,S=this.context;S.save();var r=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(r.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,s=i-T.ascent,o=T.fontSize;this.drawRectangle(t,s,e.width,o,r.bgcolor,r)}if(r.underlineThickness>0&&e.width>0){var m=i+r.underlineOffset-r.underlineThickness/2;this.drawLine(t,m,e.width,r.underlineThickness,r.underlineColor,r)}if(e.isTextPen&&(r.buildFont(),r.syncFont(y,S),r.syncStyle(y,S),this.drawText(t,i,e.text,r)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,r),r.strikethroughThickness>0&&e.width>0){var m=i+r.strikethroughOffset-r.strikethroughThickness/2;this.drawLine(t,m,e.width,r.strikethroughThickness,r.strikethroughColor,r)}if(S.restore(),e.hasAreaMarker&&e.width>0){var f,u=e.prop.area;if(u)f={key:u};else{var h=e.prop.url;f={key:`url:${h}`,url:h}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,f)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,n,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;r.fillStyle=y,r.fillRect(e,t,i,n)},drawLine(e,t,i,n,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;S.syncShadow(r,S.shadowStroke);var T=r.lineCap;r.lineCap="butt",r.strokeStyle=y,r.lineWidth=n,r.beginPath(),r.moveTo(e,t),r.lineTo(e+i,t),r.stroke(),r.lineCap=T},drawText(e,t,i,n){this.autoRound&&(e=Math.round(e),t=Math.round(t));var y=this.context;n.stroke&&n.stroke!=="none"&&n.strokeThickness>0&&(n.syncShadow(y,n.shadowStroke),y.strokeText(i,e,t)),n.color&&n.color!=="none"&&(n.syncShadow(y,n.shadowFill),y.fillText(i,e,t))},drawImage(e,t,i,n,y){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,n,this.autoRound)}},sn=Phaser.Utils.Objects.GetValue,sL=Be.NO_NEWLINE,Om=Be.RAW_NEWLINE;class rL{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=sn(t,"text",""),this.x=sn(t,"x",0),this.y=sn(t,"y",0),this.width=sn(t,"width",0);var i=sn(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=sn(t,"newLineMode",0),this.startIndex=sn(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Om&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==sL&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Om&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var ms=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Yr(t),i){t.length=e.length;for(var n=0,y=e.length;n<y;n++)t[n]=e[n]}else for(var S in e)t[S]=e[S];return t};const Mm=Phaser.Utils.Objects.GetFastValue,Am=Be.NO_NEWLINE,nL=Be.WRAPPED_NEWLINE;class _v{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=Mm(t,"tagToText",We),this.tagToTextScope=Mm(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,n,y,S,r){var T=this.pensPool.pop();return T==null&&(T=new rL),rn.text=t,rn.x=i,rn.y=n,rn.width=y,rn.prop=S,rn.newLineMode=r,T.resetFromJSON(rn),this.addPen(T),this}addImagePen(t,i,n,y){return this.addTextPen("",t,i,n,y,Am),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,n=t?t.y:0,y=t?ms(t.prop):null;return this.addTextPen("",i,n,0,y,nL),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var n=this.lastLine;n==null&&(n=this.linesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==Am&&(n=this.linesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new _v),t.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var y=this.lines[i],S=0,r=y.length;S<r;S++){var T=y[S];t.addPen(T.text,T.x,T.y,T.width,ms(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,n=!1,y;for(i=t;i>=0&&(y=this.lines[i],n=y!=null&&y.length>0,!n);i--);if(!n)return 0;var S=y[y.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var n=i[i.length-1];if(n==null)return 0;var y=n.lastX;return y}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,n=0,y=this.lines.length;n<y;n++)t=this.getLineWidth(n),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,n=this.lines.length;i<n;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,n=0,y=i.length;n<y;n++)t+=i[n].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,n=0,y=this.pens.length;n<y;n++)t+=i[n].rawTextLength;return t}getSliceTagText(t,i,n){var y=this.lastPen;if(y==null)return"";var S=y.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),n===void 0&&(n=!1);for(var r="",T,s,o,m,f,u,h,a=0,l=this.pens.length;a<l&&(T=this.pens[a],m=T.endIndex,!(!(m<=t)&&(T=this.pens[a],s=n?T.wrapText:T.plainText,u=T.prop,o=T.startIndex,f=o>=t&&m<=i,f||(s=s.substring(t-o,i-o)),this.tagToTextScope?r+=this.tagToText.call(this.tagToTextScope,s,u,h):r+=this.tagToText(s,u,h),h=u,m>=i)));a++);return r}get length(){return this.lines.length}set length(t){this.clear()}}var rn={};const aL=Phaser.Geom.Rectangle;var Rm=new zs;class oL{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return Rm.pushMultiple(this.hitAreas),this}add(t,i,n,y,S){S===void 0&&(S={});var r=Rm.pop();return r===null?r=new aL(t,i,n,y):r.setTo(t,i,n,y),r.data=S,this.hitAreas.push(r),this}getFirst(t,i){for(var n=0,y=this.hitAreas.length;n<y;n++){var S=this.hitAreas[n];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,n=this.hitAreas.length;i<n;i++){var y=this.hitAreas[i];if(y.data.key===t)return y}return null}drawBounds(t,i,n){i===void 0&&(i=16777215),n&&t.save().translateCanvas(n.x,n.y).rotateCanvas(n.rotation).scaleCanvas(n.scaleX,n.scaleY);for(var y=0,S=this.hitAreas.length;y<S;y++){var r=this.hitAreas[y];t.lineStyle(1,i).strokeRect(r.x,r.y,r.width,r.height)}return n&&t.restore(),this}}var hL=function(){this.parent.on("pointerdown",lL,this).on("pointerup",uL,this).on("pointermove",yf,this).on("pointerover",yf,this).on("pointerout",function(e,t){yf.call(this,e,null,null,t)},this)},lL=function(e,t,i,n){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data.key;Ra.call(this,"areadown",S,e,t,i,n),y.data&&(y.data.isDown=!0)}},uL=function(e,t,i,n){var y=this.hitAreaManager.getFirst(t,i);if(y!==null){var S=y.data.key;if(Ra.call(this,"areaup",S,e,t,i,n),!!y.data){if(y.data.isDown){if(Ra.call(this,"areaclick",S,e,t,i,n),!y.data)return;var r=y.data.url;r&&window.open(r,"_blank")}y.data.isDown=!1}}},yf=function(e,t,i,n){if(t===null){if(this.lastHitAreaKey!==null){Ra.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var y=this.hitAreaManager.getByKey(this.lastHitAreaKey);y&&y.data&&(y.data.isDown=!1),this.lastHitAreaKey=null}return}var y=this.hitAreaManager.getFirst(t,i),S=y?y.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){Ra.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var r=this.hitAreaManager.getByKey(this.lastHitAreaKey);r&&(this.urlTagCursorStyle&&Lm(this.scene,r,""),r.data.isDown=!1)}S!==null&&(Ra.call(this,"areaover",S,e,t,i,n),y.data&&this.urlTagCursorStyle&&Lm(this.scene,y,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},Ra=function(e,t,i,n,y,S){this.parent.emit(`${e}-${t}`,i,n,y,S),this.parent.emit(e,t,i,n,y,S)},Lm=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)};const Fm=Phaser.GameObjects.Components.TransformMatrix,dL=Phaser.Math.TransformXY;var nS=function(e,t,i,n,y){n===void 0&&(n=e.scene.cameras.main),y===void 0?y={}:y===!0&&(y=fL);var S=n.scrollX,r=n.scrollY,T=t+S*e.scrollFactorX-S,s=i+r*e.scrollFactorY-r;return e.parentContainer?(Kh===void 0&&(Kh=new Fm,Dm=new Fm),e.getWorldTransformMatrix(Kh,Dm),Kh.applyInverse(T,s,y)):dL(T,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,y),y.x+=e.displayOriginX,y.y+=e.displayOriginY,y},Kh,Dm,fL={},cL=function(e,t,i){var n=nS(this.parent,e,t,i,!0),y=this.hitAreaManager.getFirst(n.x,n.y);if(y!==null)return y.data.key},vL=/^[\x00-\x7F]+$/,Bo=function(e){return vL.test(e)};const pL=Be.NO_NEWLINE,gL=Be.RAW_NEWLINE,Tf=Be.WRAPPED_NEWLINE,Im=Be.NO_WRAP,mL=Be.WORD_WRAP,aS=Be.CHAR_WRAP,xL=Be.SPLITREGEXP;var oS=function(e,t,i,n,y,S){n<=0&&(i=Im);var r=[];if(!e||!e.length)return r;for(var T=i===Im,s=e.split(xL),o,m,f,u=0,h=s.length;u<h;u++){if(o=s[u],f=u===h-1?pL:gL,T){var a=t.measureText(o).width;r.push(S.getLine(o,a,f));continue}if(m=u===0?n-y:n,o.length<=100){var a=t.measureText(o).width;if(a<=m){r.push(S.getLine(o,a,f));continue}}for(var l=yL(o,i),c,d,v="",p=0,g,x=0,C=l.length;x<C;x++){if(c=l[x],d=t.measureText(c).width,d>n&&TL(c)){v!==""?r.push(S.getLine(v,p,Tf)):x===0&&y>0&&r.push(S.getLine("",0,Tf)),r.push(...oS(c,t,aS,n,0,S));var P=r.pop();v=P.text,p=P.width,S.freeLine(P),v===" "&&(v="",p=0);continue}g=p+d,g>m?(r.push(S.getLine(v,p,Tf)),v=c,p=d,m=n):(v+=c,p=g),x===C-1&&r.push(S.getLine(v,p,f))}}return r},yL=function(e,t){var i;switch(t){case mL:i=[],e=e.split(" ");for(var n=0,y=e.length;n<y;n++){var S=e[n];n<y-1?i.push(S+" "):S!==""&&i.push(S)}break;case aS:i=e.split("");break;default:i=[],e=e.split(" ");for(var n=0,y=e.length;n<y;n++){var S=e[n];n<y-1?Bo(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(Bo(S)?i.push(S):i.push(...S.split("")))}break}return i},TL=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Cf=Phaser.Utils.Objects.GetValue,CL=Be.NO_WRAP,Bm=Be.NO_NEWLINE,SL=Be.WRAPPED_NEWLINE;class hS{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Cf(t,"context",null),this.canvas=this.context.canvas,this.parser=Cf(t,"parser",null),this.defaultStyle=Cf(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new oL,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,n,y,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var r=this.parent.style;if(r.isWrapFitMode){var T=this.parent.padding;n=r.fixedWidth-T.left-T.right}for(var s=this.canvas,o=this.context,m=0,f=0,u=r.wrapCallback,h=r.wrapCallbackScope,a=!0,l,c,d,v=this.parser.splitText(t),p,g,x=this.wrapTextLinesPool,C=0,P=v.length;C<P;C++)if(p=this.parser.tagTextToProp(v[C],c),l=p.plainText,c=p.prop,c.img){var w=this.imageManager.getOuterWidth(c.img);n>0&&i!==CL&&n<m+w&&(S.addNewLinePen(),f+=y,m=0),S.addImagePen(m,f,w,ms(c)),m+=w}else if(l!==""){if(o.save(),d=this.parser.propToContextStyle(this.defaultStyle,c),d.buildFont(),d.syncFont(s,o),d.syncStyle(s,o),!u)g=oS(l,o,i,n,m,x);else{g=u.call(h,l,o,n,m),typeof g=="string"&&(g=g.split(`
`));for(var E,b=0,O=g.length;b<O;b++)E=g[b],typeof E=="string"?g[b]=x.getLine(E,o.measureText(E).width,b<O-1?SL:Bm):a=!1}for(var E,b=0,O=g.length;b<O;b++)E=g[b],S.addTextPen(E.text,m,f,E.width,ms(c),E.newLineMode),E.newLineMode!==Bm?(m=0,f+=y):m+=E.width;a&&x.freeLines(g),g=null,o.restore()}for(var C=0,P=this.lines.length;C<P;C++){var M=this.lines[C],A=M[M.length-1];A&&(A.width+=this.parser.getStrokeThinkness(this.defaultStyle,A.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new _v({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,n){var y;if(t==null)y=this.penManager.plainText;else{var S=this.parser.splitText(t,1);y="";for(var r=0,T=S.length;r<T;r++)y+=S[r]}return(i!=null||n!=null)&&(i==null&&(i=0),n==null&&(n=y.length),y=y.substring(i,n)),y}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,i),i}getText(t,i,n,y){if(t==null)return this.penManager.getSliceTagText(i,n,y);var S=this.tmpPenManager,r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,S),S.getSliceTagText(i,n,y)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var PL={setInteractive:hL,getHitArea:cL};Object.assign(hS.prototype,iL,PL);class km extends zs{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,n){var y=this.pop();return y===null&&(y={}),y.text=t,y.width=i,y.newLineMode=n,y}}const EL=Phaser.Utils.Objects.IsPlainObject,Qn=Phaser.Utils.Objects.GetValue;var Sf=function(e,t){EL(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,n=t.frame,y=t.width,S=t.height;if(y===void 0||S===void 0){var r=this.textureManager.getFrame(i,n),T=r?r.cutWidth:0,s=r?r.cutHeight:0;y===void 0&&S===void 0?(y=T,S=s):y===void 0?y=T*(S/s):S===void 0&&(S=s*(y/T))}this.images[e]={key:i,frame:n,width:y,height:S,y:Qn(t,"y",0),left:Qn(t,"left",0),right:Qn(t,"right",0),originX:Qn(t,"originX",0),originY:Qn(t,"originY",0),tintFill:Qn(t,"tintFill",!1)}};const Nm=Phaser.Display.Canvas.CanvasPool;var lS=function(e,t,i,n,y,S,r,T){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=e.cutWidth),S===void 0&&(S=e.cutHeight),T===void 0&&(T=!1),T&&(i=Math.round(i),n=Math.round(n));var s=t.getContext("2d",{willReadFrequently:!0});if(r){var o=Nm.create(null,y,S,Phaser.CANVAS,!0),m=o.getContext("2d",{willReadFrequently:!0});m.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,y,S),m.globalCompositeOperation="source-in",m.fillStyle=r,m.fillRect(0,0,y,S),s.drawImage(o,0,0,y,S,i,n,y,S),Nm.remove(o)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,n,y,S)},wL=function(e,t,i,n,y,S){var r=this.get(e);if(r){var T=this.textureManager.getFrame(r.key,r.frame),s=r.width,o=r.height;i+=r.left-r.originX*s,n+=r.y-r.originY*o,r.tintFill||(y=void 0),lS(T,t.canvas,i,n,s,o,y,S)}};class tp{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")Sf.call(this,t,i);else if(Array.isArray(t))for(var n=t,y=0,S=n.length;y<S;y++)Sf.call(this,n[y]);else{var n=t;for(var t in n)Sf.call(this,t,n[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var bL={draw:wL};Object.assign(tp.prototype,bL);var uS=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const OL=Phaser.Utils.Objects.IsPlainObject,Gm=Phaser.DOM.AddToDOM,zm=Phaser.Display.Canvas.CanvasPool,ML=Phaser.GameObjects.GameObject,Ei=Phaser.Utils.Objects.GetValue,AL=Phaser.DOM.RemoveFromDOM,RL=Be.SPLITREGEXP,LL=Phaser.Utils.String.UUID;var qn=null,Pf=null,Ef=null;class ep extends rS{constructor(t,i,n,y,S,r,T){if(OL(i)){var s=i;i=Ei(s,"x",0),n=Ei(s,"y",0),y=Ei(s,"text",""),S=Ei(s,"style")}if(i===void 0&&(i=0),n===void 0&&(n=0),super(t,r),this.renderer=t.sys.game.renderer,this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=zm.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var o=S.align;delete S.align,S.halign=o}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new qv(this,S);var m=Ei(S,"images",void 0);m&&this.addImage(m),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=LL(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var f=Ei(S,"sharedPool",!0),u,h,a;f?(qn||(qn={},Pf=new zs,Ef=new km,this.scene.game.events.once("destroy",function(){qn=null,Pf=null,Ef=null})),qn.hasOwnProperty(r)||(qn[r]=new zs),u=qn[r],h=Pf,a=Ef):(u=new zs,h=new zs,a=new km),this.canvasText=new hS({parent:this,context:this.context,parser:T,style:this.style,pensPool:u,linesPool:h,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(y),this.setUrlTagCursorStyle(Ei(S,"urlTagCursorStyle","pointer")),Ei(S,"interactive",!1)&&this.setInteractive()}preDestroy(){AL(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),zm.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Gm(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Gm(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var n=this._imageManager.images;for(var y in n)n[y].originX=1-n[y].originX}return this}setText(t){return t=Aa(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,n,y){if(typeof t=="object"){var S=t,r=Ei(S,"x",null);r!==null?(t=r,n=r):(t=Ei(S,"left",0),n=Ei(S,"right",t));var T=Ei(S,"y",null);T!==null?(i=T,y=T):(i=Ei(S,"top",0),y=Ei(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),y===void 0&&(y=i);return this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=y,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,n=this.style;t&&i.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var y=this.padding,S,r,T=Math.ceil(i.linesWidth);n.fixedWidth===0?(this.width=T+y.left+y.right,S=T):(this.width=n.fixedWidth,S=this.width-y.left-y.right,S<T&&(S=T)),n.fixedHeight===0?(this.height=i.linesHeight+y.top+y.bottom,r=i.linesHeight):(this.height=n.fixedHeight,r=this.height-y.top-y.bottom,r<i.linesHeight&&(r=i.linesHeight));var s=this.width,o=this.height;this.updateDisplayOrigin();var m=n.resolution;s*=m,o*=m,s=Math.max(Math.ceil(s),1),o=Math.max(Math.ceil(o),1);var f=this.canvas,u=this.context;f.width!==s||f.height!==o?(f.width=s,f.height=o,this.frame.setSize(s,o)):u.clearRect(0,0,s,o),u.save(),u.scale(m,m);var h=this.style.rtl?y.right:y.left,a=y.top;i.draw(h,a,S,r),u.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=this.width,l.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,n){var y=!!this.input;return ML.prototype.setInteractive.call(this,t,i,n),y||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),t=this.canvasText.getText(t,i,n,!0),t.split(RL)}getPlainText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,n)}getText(t,i,n,y){return typeof t=="number"&&(y=n,n=i,i=t,t=void 0),y===void 0&&(y=!1),this.canvasText.getText(t,i,n,y)}getSubString(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.getText(t,i,n)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new tp(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,n,y,S){var r=this.canvas;return y===void 0?y=r.width:y*=this.resolution,S===void 0?S=r.height:S*=this.resolution,eS(this.scene,r,t,i,n,y,S),this}getHitArea(t,i,n){return this.canvasText.getHitArea(t,i,n)}}var FL={appendText:uS};Object.assign(ep.prototype,FL);var DL=function(e,t){for(var i=this.tagRegex,n=[],y=0,S=!1,r=!1;;){var T=i.RE_SPLITTEXT.exec(e);if(!T)break;var s=T[0];if(r)if(i.RE_ESC_CLOSE.test(s))r=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(s))S=!1;else continue;else i.RE_ESC_OPEN.test(s)?r=!0:i.RE_RAW_OPEN.test(s)&&(S=!0);var o=i.RE_SPLITTEXT.lastIndex,m=o-s.length;if(y<m){var f=e.substring(y,m);n.push(f)}t===void 0&&n.push(s),y=o}var u=e.length;return y<u&&n.push(e.substring(y,u)),n};const Pe=!1,ge=!0;var IL={plainText:null,prevProp:null},BL=function(e,t){var i=this.tagRegex;t==null&&(t={});var n="";if(t.img&&zt(t,Pe,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?zt(t,Pe,"esc"):n=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?zt(t,Pe,"raw"):n=e;else if(i.RE_ESC_OPEN.test(e))zt(t,ge,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))zt(t,Pe,"esc");else if(i.RE_RAW_OPEN.test(e))zt(t,ge,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))zt(t,Pe,"raw");else if(i.RE_BLOD_OPEN.test(e))zt(t,ge,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))zt(t,Pe,"b");else if(i.RE_ITALICS_OPEN.test(e))zt(t,ge,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))zt(t,Pe,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var y=e.match(i.RE_WEIGHT_OPEN);zt(t,ge,"weight",y[1])}else if(i.RE_WEIGHT_CLOSE.test(e))zt(t,Pe,"weight");else if(i.RE_SIZE_OPEN.test(e)){var y=e.match(i.RE_SIZE_OPEN);zt(t,ge,"size",`${y[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))zt(t,Pe,"size");else if(i.RE_FAMILY_OPEN.test(e)){var y=e.match(i.RE_FAMILY_OPEN);zt(t,ge,"family",y[1])}else if(i.RE_FAMILY_CLOSE.test(e))zt(t,Pe,"family");else if(i.RE_COLOR_OPEN.test(e)){var y=e.match(i.RE_COLOR_OPEN);zt(t,ge,"color",y[1])}else if(i.RE_COLOR_CLOSE.test(e))zt(t,Pe,"color");else if(i.RE_UNDERLINE_OPEN.test(e))zt(t,ge,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var y=e.match(i.RE_UNDERLINE_OPENC);zt(t,ge,"u",y[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))zt(t,Pe,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))zt(t,ge,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var y=e.match(i.RE_STRIKETHROUGH_OPENC);zt(t,ge,"s",y[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))zt(t,Pe,"s");else if(i.RE_SHADOW_OPEN.test(e))zt(t,ge,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var y=e.match(i.RE_SHADOW_OPENC);zt(t,ge,"shadow",y[1])}else if(i.RE_SHADOW_CLOSE.test(e))zt(t,Pe,"shadow");else if(i.RE_STROKE_OPEN.test(e))zt(t,ge,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var y=e.match(i.RE_STROKE_OPENC);zt(t,ge,"stroke",y[1])}else if(i.RE_STROKE_CLOSE.test(e))zt(t,Pe,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var y=e.match(i.RE_BGCOLOR_OPEN);zt(t,ge,"bgcolor",y[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))zt(t,Pe,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var y=e.match(i.RE_OFFSETY_OPEN);zt(t,ge,"y",parseFloat(y[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))zt(t,Pe,"y");else if(i.RE_IMAGE_OPEN.test(e)){var y=e.match(i.RE_IMAGE_OPEN);zt(t,ge,"img",y[1])}else if(i.RE_IMAGE_CLOSE.test(e))zt(t,Pe,"img");else if(i.RE_AREA_OPEN.test(e)){var y=e.match(i.RE_AREA_OPEN);zt(t,ge,"area",y[1])}else if(i.RE_AREA_CLOSE.test(e))zt(t,Pe,"area");else if(i.RE_URL_OPEN.test(e)){var y=e.match(i.RE_URL_OPEN);zt(t,ge,"url",y[1])}else if(i.RE_URL_CLOSE.test(e))zt(t,Pe,"url");else if(i.RE_ALIGN_OPEN.test(e)){var y=e.match(i.RE_ALIGN_OPEN);zt(t,ge,"align",y[1])}else if(i.RE_ALIGN_CLOSE.test(e))zt(t,Pe,"align");else if(i.RE_ID_OPEN.test(e)){var y=e.match(i.RE_ID_OPEN);zt(t,ge,"id",y[1])}else i.RE_ID_CLOSE.test(e)?zt(t,Pe,"id"):n=e;var S=IL;return S.plainText=n,S.prop=t,S},zt=function(e,t,i,n){return t===ge?e[i]=n:e.hasOwnProperty(i)&&delete e[i],e},kL=function(e,t){var i=GL;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var n=t.size;typeof n=="number"&&(n=`${n}px`),i.fontSize=n}else i.fontSize=e.fontSize;i.fontStyle=NL(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},NL=function(e){var t=e.b,i=e.weight,n=e.i;return t||i||n?n?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},GL=new qv,zL=function(e,t,i){i==null&&(i=UL);var n=this.delimiters[0],y=this.delimiters[1],S=[];for(var r in i)t.hasOwnProperty(r)||S.push(`${n}/${r}${y}`);for(var r in t){var T=t[r];if(!(r!=="img"&&i[r]===T))switch(r){case"size":S.push(`${n}size=${T.replace("px","")}${y}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${n}${r}=${T}${y}`);break;case"u":case"s":T===!0?S.push(`${n}${r}${y}`):S.push(`${n}${r}=${T}${y}`);break;default:S.push(`${n}${r}${y}`);break}}return S.push(e),S.join("")},UL={},Da=function(e){return e.replace(XL,"\\$&").replace(VL,"\\x2d")},XL=/[|\\{}()[\]^$+*?.]/g,VL=/-/g,Um,Xm,Vt={},Te=function(e,t,i,n){return n===void 0?`${e}${i}${t}`:`${e}${i}=(${n})${t}`},Ve=function(e,t,i){return`${e}/${i}${t}`},YL=function(e){return`[^${e}]+`},wf="[-.0-9]+",WL=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],_n=WL.join("|"),dS=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(Um===e&&Xm===t)return!1;Um=e,Xm=t,e=Da(e),t=Da(t);var n=YL(t),y="esc",S=Te(e,t,y),r=Ve(e,t,y),T="raw",s=Te(e,t,T),o=Ve(e,t,T),m="b",f=Te(e,t,m),u=Ve(e,t,m),h="i",a=Te(e,t,h),l=Ve(e,t,h),c="weight",d=Te(e,t,c,wf),v=Ve(e,t,c),p="size",g=Te(e,t,p,wf),x=Ve(e,t,p),C="family",P=Te(e,t,C,n),w=Ve(e,t,C),E="color",b=Te(e,t,E,_n),O=Ve(e,t,E),M="u",A=Te(e,t,M),F=Te(e,t,M,_n),R=Ve(e,t,M),L="s",D=Te(e,t,L),I=Te(e,t,L,_n),z=Ve(e,t,L),U="shadow",H=Te(e,t,U),W=Te(e,t,U,_n),N=Ve(e,t,U),X="stroke",B=Te(e,t,X),V=Te(e,t,X,_n),k=Ve(e,t,X),j="bgcolor",$=Te(e,t,j,_n),J=Ve(e,t,j),Z="y",_=Te(e,t,Z,wf),it=Ve(e,t,Z),at="img",st=Te(e,t,at,n),ft=Ve(e,t,at),ct="area",ut=Te(e,t,ct,n),Et=Ve(e,t,ct),Mt="url",At=Te(e,t,Mt,n),vt=Ve(e,t,Mt),Ct="align",St=Te(e,t,Ct,n),kt=Ve(e,t,Ct),Ht="id",re=Te(e,t,Ht,n),Xt=Ve(e,t,Ht);return Vt.RE_ESC_OPEN=new RegExp(S,"i"),Vt.RE_ESC_CLOSE=new RegExp(r,"i"),Vt.RE_RAW_OPEN=new RegExp(s,"i"),Vt.RE_RAW_CLOSE=new RegExp(o,"i"),Vt.RE_BLOD_OPEN=new RegExp(f,"i"),Vt.RE_BLOD_CLOSE=new RegExp(u,"i"),Vt.RE_ITALICS_OPEN=new RegExp(a,"i"),Vt.RE_ITALICS_CLOSE=new RegExp(l,"i"),Vt.RE_WEIGHT_OPEN=new RegExp(d,"i"),Vt.RE_WEIGHT_CLOSE=new RegExp(v,"i"),Vt.RE_SIZE_OPEN=new RegExp(g,"i"),Vt.RE_SIZE_CLOSE=new RegExp(x,"i"),Vt.RE_FAMILY_OPEN=new RegExp(P,"i"),Vt.RE_FAMILY_CLOSE=new RegExp(w,"i"),Vt.RE_COLOR_OPEN=new RegExp(b,"i"),Vt.RE_COLOR_CLOSE=new RegExp(O,"i"),Vt.RE_UNDERLINE_OPEN=new RegExp(A,"i"),Vt.RE_UNDERLINE_OPENC=new RegExp(F,"i"),Vt.RE_UNDERLINE_CLOSE=new RegExp(R,"i"),Vt.RE_STRIKETHROUGH_OPEN=new RegExp(D,"i"),Vt.RE_STRIKETHROUGH_OPENC=new RegExp(I,"i"),Vt.RE_STRIKETHROUGH_CLOSE=new RegExp(z,"i"),Vt.RE_SHADOW_OPEN=new RegExp(H,"i"),Vt.RE_SHADOW_OPENC=new RegExp(W,"i"),Vt.RE_SHADOW_CLOSE=new RegExp(N,"i"),Vt.RE_STROKE_OPEN=new RegExp(B,"i"),Vt.RE_STROKE_OPENC=new RegExp(V,"i"),Vt.RE_STROKE_CLOSE=new RegExp(k,"i"),Vt.RE_BGCOLOR_OPEN=new RegExp($,"i"),Vt.RE_BGCOLOR_CLOSE=new RegExp(J,"i"),Vt.RE_OFFSETY_OPEN=new RegExp(_,"i"),Vt.RE_OFFSETY_CLOSE=new RegExp(it,"i"),Vt.RE_IMAGE_OPEN=new RegExp(st,"i"),Vt.RE_IMAGE_CLOSE=new RegExp(ft,"i"),Vt.RE_AREA_OPEN=new RegExp(ut,"i"),Vt.RE_AREA_CLOSE=new RegExp(Et,"i"),Vt.RE_URL_OPEN=new RegExp(At,"i"),Vt.RE_URL_CLOSE=new RegExp(vt,"i"),Vt.RE_ALIGN_OPEN=new RegExp(St,"i"),Vt.RE_ALIGN_CLOSE=new RegExp(kt,"i"),Vt.RE_ID_OPEN=new RegExp(re,"i"),Vt.RE_ID_CLOSE=new RegExp(Xt,"i"),Vt.RE_SPLITTEXT=new RegExp([s,o,S,r,f,u,a,l,d,v,g,x,P,w,b,O,A,F,R,D,I,z,H,W,N,B,V,k,$,J,_,it,st,ft,ut,Et,At,vt,St,kt,re,Xt].join("|"),"ig"),!0},Vm=function(e,t){return e!==void 0&&dS(e,t),Object.assign({},Vt)};const HL=Phaser.Utils.Objects.GetValue;let fS=class{constructor(e){var t=HL(e,"delimiters","[]");this.tagRegex=Vm(t),this.delimiters=t}getStrokeThinkness(e,t){var i;return t.hasOwnProperty("stroke")?i=e.strokeThickness:i=0,i}setDelimiters(e,t){return dS(e,t)&&(this.tagRegex=Vm()),this}};var jL={splitText:DL,tagTextToProp:BL,propToContextStyle:kL,propToTagText:zL};Object.assign(fS.prototype,jL);class ip extends ep{constructor(t,i,n,y,S){var r=new fS(S);super(t,i,n,y,S,"rexBBCodeText",r)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}mt.register("BBCodeText",function(e,t,i,n){var y=new ip(this.scene,e,t,i,n);return this.scene.add.existing(y),y});pt(window,"RexPlugins.UI.BBCodeText",ip);var $L={plainText:null,prevProp:null},KL=new qv;let JL=class{constructor(e){e===void 0&&(e={}),this.tags=e}addTag(e,t){this.tags[e]=t}getTag(e){return this.tags[e]}splitText(e,t){for(var i=[],n=0;;){var y=bf.exec(e);if(!y)break;var S=y[0],r=bf.lastIndex-S.length;if(n<r&&i.push(e.substring(n,r)),t===void 0)i.push(S);else if(t===1){if(Wm.test(S)){var T=S.match(Hm);i.push(T[2])}else if(jm.test(S)){var T=S.match($m);i.push(T[2])}}n=bf.lastIndex}var s=e.length;return n<s&&i.push(e.substring(n,s)),i}tagTextToProp(e,t){var i,n;if(Wm.test(e)){var y=e.match(Hm);if(y!=null){var S=y[1],r=this.tags;r.hasOwnProperty(S)?n=r[S]:n={},n._class=S,i=y[2]}}else if(jm.test(e)){var y=e.match($m);if(y!=null){var T=y[1];n=ZL(T),n._style=T,i=y[2]}}i==null&&(i=e),n==null&&(n={});var s=$L;return s.plainText=i,s.prop=n,s}propToContextStyle(e,t){var i=KL;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")||t.hasOwnProperty("fontFamily")||t.hasOwnProperty("font-family")){var n=t.hasOwnProperty("family")?t.family:t.hasOwnProperty("fontFamily")?t.fontFamily:t["font-family"];i.fontFamily=n}else i.fontFamily=e.fontFamily;if(t.hasOwnProperty("size")||t.hasOwnProperty("fontSize")||t.hasOwnProperty("font-size")){var y=t.hasOwnProperty("size")?t.size:t.hasOwnProperty("fontSize")?t.fontSize:t["font-size"];typeof y=="number"&&(y=`${y}px`),i.fontSize=y}else i.fontSize=e.fontSize;if(t.hasOwnProperty("style")||t.hasOwnProperty("fontStyle")||t.hasOwnProperty("font-style")){var S=t.hasOwnProperty("style")?t.style:t.hasOwnProperty("fontStyle")?t.fontStyle:t["font-style"];i.fontStyle=S}else i.fontStyle=e.fontStyle;if(t.hasOwnProperty("color")||t.hasOwnProperty("font-color")){var r=t.hasOwnProperty("color")?t.color:t["font-color"];i.color=r}else i.color=e.color;if(t.hasOwnProperty("stroke")){var T=t.stroke;i.stroke=T.hasOwnProperty("color")?T.color:e.stroke,i.strokeThickness=T.hasOwnProperty("thickness")?T.thickness:e.strokeThickness}else i.stroke=e.stroke,i.strokeThickness=e.strokeThickness}if(t.hasOwnProperty("shadow")){var s=t.shadow;i.shadowColor=s.hasOwnProperty("color")?s.color:e.shadowColor,i.shadowOffsetX=s.hasOwnProperty("offsetX")?s.offsetX:e.shadowOffsetX,i.shadowOffsetY=s.hasOwnProperty("offsetY")?s.offsetY:e.shadowOffsetY,i.shadowBlur=s.hasOwnProperty("blur")?s.blur:e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=e.shadowStroke,i.shadowFill=e.shadowFill;if(t.hasOwnProperty("u")||t.hasOwnProperty("underline")){var o=t.hasOwnProperty("u")?t.u:t.underline;i.underlineColor=o.hasOwnProperty("color")?o.color:e.underlineColor,i.underlineThickness=o.hasOwnProperty("thickness")?o.thickness:e.underlineThickness,i.underlineOffset=o.hasOwnProperty("offset")?o.offset:e.underlineOffset}else i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset;if(t.hasOwnProperty("s")||t.hasOwnProperty("strikethrough")){var m=t.hasOwnProperty("s")?t.s:t.strikethrough;i.strikethroughColor=m.hasOwnProperty("color")?m.color:e.strikethroughColor,i.strikethroughThickness=m.hasOwnProperty("thickness")?m.thickness:e.strikethroughThickness,i.strikethroughOffset=m.hasOwnProperty("offset")?m.offset:e.strikethroughOffset}else i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset;return i}getStrokeThinkness(e,t){var i;if(t.hasOwnProperty("stroke")){var n=t.stroke;i=n.hasOwnProperty("thickness")?n.thickness:e.strokeThickness}else i=e.strokeThickness;return i}propToTagText(e,t,i){return t.hasOwnProperty("_class")?e===""&&this.isTextTag(t._class)?"":`<class='${t._class}'>${e}</class>`:t.hasOwnProperty("_style")?`<style='${t._style}'>${e}</style>`:e}destroy(){this.tags=void 0}isTextTag(e){var t=this.tags[e];return t?t.img==null:!1}};var ZL=function(e){e=e.split(";");for(var t={},i,n,y,S=0,r=e.length;S<r;S++)if(i=e[S].split(":"),n=i[0],y=i[1],!(Ym(n)||Ym(y))){switch(n){case"stroke":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.offsetX=parseInt(T[1].replace("px",""))),s>=3&&(y.offsetY=parseInt(T[2].replace("px",""))),s>=4&&(y.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=y.split(" "),s=T.length;y={},s>=1&&(y.color=T[0]),s>=2&&(y.thickness=parseInt(T[1].replace("px",""))),s>=3&&(y.offset=parseInt(T[2].replace("px",""))),n==="underline"?n="u":n==="strikethrough"&&(n="s");break;case"y":y=parseFloat(y);break}t[n]=y}return t},Ym=function(e){return e=e.replace(QL,""),e.length===0},bf=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,Wm=/<\s*class=/i,Hm=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,jm=/<\s*style=/i,$m=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,QL=/^\s+|\s+$/;const qL=Phaser.Utils.Objects.GetValue;class cS extends ep{constructor(t,i,n,y,S){var r=qL(S,"tags",void 0),T=new JL(r);super(t,i,n,y,S,"rexTagText",T)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}mt.register("tagText",function(e,t,i,n){var y=new cS(this.scene,e,t,i,n);return this.scene.add.existing(y),y});pt(window,"RexPlugins.UI.TagText",cS);const Jh=Phaser.Utils.Objects.GetValue;var ru=function(e,t){return t===void 0?e:e[t]},Wr=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var n=typeof t;return n==="string"?e[t]=i:n==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Jh(t,"left",0),e.right=Jh(t,"right",0),e.top=Jh(t,"top",0),e.bottom=Jh(t,"bottom",0)),e};let sp=class{constructor(e,t){this.setParent(e),this.type=t,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(e){return this.parent=e,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(e){return e&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(e){this.setDirty(this._active!=e),this._active=e}setActive(e){return e===void 0&&(e=!0),this.active=e,this}modifyPorperties(e){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(e,t){return!1}};Object.assign(sp.prototype,ju);const _L={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},t3=Phaser.Math.RotateAround;var e3=function(e,t,i,n){return n===void 0?n={}:n===!0&&(Of===void 0&&(Of={}),n=Of),n.x=(e-i.drawX)/i.scaleX,n.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&t3(n,0,0,-i.rotation),n},Of;const i3=Phaser.Geom.Rectangle;var s3=function(e,t){if(this.width===0||this.height===0)return!1;var i=e3(e,t,this,!0);return r3(this).contains(i.x,i.y)},r3=function(e){Zh===void 0&&(Zh=new i3);var t=e.drawTLX,i=e.drawTLY;return Zh.setTo(t,i,e.drawTRX-t,e.drawBLY-i),Zh},Zh;const n3=Phaser.Math.RotateAround;var vS=function(e,t,i,n){return n===void 0?n={}:n===!0&&(Mf===void 0&&(Mf={}),n=Mf),n.x=t,n.y=i,e.rotation!==0&&n3(n,0,0,e.rotation),n.x=n.x*e.scaleX+e.drawX,n.y=n.y*e.scaleY+e.drawY,n},Mf;const Km=Phaser.GameObjects.Components.TransformMatrix;var a3=function(e,t,i,n){n===void 0?n={}:n===!0&&(n=o3);var y=t-e.width*e.originX,S=i-e.height*e.originY;return _a===void 0&&(_a=new Km,Jm=new Km),e.parentContainer?e.getWorldTransformMatrix(_a,Jm):_a.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),_a.transformPoint(y,S,n),n},_a,Jm,o3={},h3=function(e,t,i,n,y){var S=vS(t,i,n,!0),r=a3(e,S.x,S.y,y);return r},pS=function(e,t,i,n,y){typeof i!="number"&&(y=i,i=0,n=0);var S=t.drawCenterX+i,r=t.drawCenterY+n;return h3(e,t,S,r,y)},l3=function(e,t,i){return pS(this.parent,this,e,t,i)},gS={contains:s3,getWorldPosition:l3};Object.assign(gS,_L);const u3=Phaser.Math.DegToRad,d3=Phaser.Math.RadToDeg,Qh=Phaser.Utils.Objects.GetValue;class kn extends sp{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return d3(this._rotation)}set angle(t){this.rotation=u3(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Qh(t,"width",void 0),n=Qh(t,"height",void 0),y=Qh(t,"scaleX",void 0),S=Qh(t,"scaleY",void 0);return i!==void 0?n===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):y!==void 0&&this.setScaleX(y),n!==void 0?i===void 0&&y===void 0?this.setHeight(n,!0):this.setHeight(n):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(kn.prototype,gS);var Xr=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const nn=Phaser.Utils.Objects.GetValue;class f3 extends kn{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(nn(i,"color",null),nn(i,"color2",null),nn(i,"horizontalGradient",!0)),this.setStroke(nn(i,"stroke",null),nn(i,"strokeThickness",2)),this.setCornerRadius(nn(i,"cornerRadius",0),nn(i,"cornerIteration",null))}set color(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Xr("color2",t,this),Xr("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Xr("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Xr("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){Zv(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Cr=Phaser.Utils.Objects.GetValue;class c3 extends kn{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(Cr(i,"color",null),Cr(i,"color2",null),Cr(i,"horizontalGradient",!0)),this.setStroke(Cr(i,"stroke",null),Cr(i,"strokeThickness",2))}set color(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=Ut(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Cr(t,"color2",null),Cr(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Cr(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,n=t.top,y=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,r=this.context;if(this.color!=null){var T;if(this.color2!=null){var s;this.horizontalGradient?s=r.createLinearGradient(0,0,y,0):s=r.createLinearGradient(0,0,0,S),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),T=s}else T=this.color;r.fillStyle=T,r.fillRect(i,n,y,S)}this.stroke!=null&&this.strokeThickness>0&&(r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.strokeRect(i,n,y,S))}}const Le=Phaser.Utils.Objects.GetValue;class Ku{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Le(t,"bold",!1)),this.setItalic(Le(t,"italic",!1)),this.setFontSize(Le(t,"fontSize","16px")),this.setFontFamily(Le(t,"fontFamily","Courier")),this.setColor(Le(t,"color","#fff")),this.setStrokeStyle(Le(t,"stroke",null),Le(t,"strokeThickness",0)),this.setShadow(Le(t,"shadowColor",null),Le(t,"shadowOffsetX",0),Le(t,"shadowOffsetY",0),Le(t,"shadowBlur",0)),this.setOffset(Le(t,"offsetX",0),Le(t,"offsetY",0)),this.setSpace(Le(t,"leftSpace",0),Le(t,"rightSpace",0)),this.setAlign(Le(t,"align",void 0)),this.setBackgroundColor(Le(t,"backgroundColor",null)),this.setBackgroundHeight(Le(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Le(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(Le(t,"backgroundLeftX",0)),this.setBackgroundRightX(Le(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Xr("stroke",t,this),Xr("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Xr("shadowOffsetX",t,this),Xr("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Ku(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ut(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Ut(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ut(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,n,y){return this.setShadowColor(t).setShadowOffset(i,n).setShadowBlur(y),this}setBackgroundColor(t){return this.backgroundColor=Ut(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,n=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=n?this.stroke:"#000",t.lineWidth=n?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var v3=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},p3=function(e,t){var i=this.padding,n=i.left,y=i.right,S=i.top,r=i.bottom;return Wr(i,e,t),this.dirty=this.dirty||n!=i.left||y!=i.right||S!=i.top||r!=i.bottom,this},g3=function(e){return ru(this.padding,e)},m3=function(e){return this.textStyle.modify(e),this},x3=function(e){return this.defaultTextStyle.modify(e),this},y3=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},T3=function(e){return this.testString=e,this};const C3=Phaser.Utils.Array.Remove;var S3=function(e){return this.poolManager.free(e),C3(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},P3=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const E3=Phaser.Utils.Array.Remove;var w3=function(e){return E3(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},b3=function(){return this.setText(),this},O3=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const nr="text",mS="image",xS="drawer",yS="space",rp="command";var TS=function(e){return e.type===nr&&e.text===`
`},CS=function(e){return e.type===nr&&e.text==="\f"},M3=function(e){return e.type===nr&&e.text===" "},Rn=function(e){return e.type===nr},A3=function(e){return e.type===rp};class SS extends kn{constructor(t,i,n){super(t,nr),this.updateTextFlag=!1,this.style=new Ku(this,n),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var n,y;"actualBoundingBoxAscent"in i?(n=i.actualBoundingBoxAscent,y=i.actualBoundingBoxDescent):(n=0,y=0),this.textHeight=n+y,this.ascent=n,this.descent=y}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var n=this.drawTLX+i.backgroundLeftX,y=this.drawTRX+i.backgroundRightX,S=n,r=y-n+1;if(r>0){var T=i.backgroundBottomY;T==null&&(T=this.drawBLY);var s=i.backgroundHeight;s==null&&(s=T-this.drawTLY);var o=T-s;t.fillRect(S,o,r,s)}}var m=i.hasFill,f=i.hasStroke;!m&&!f||(i.syncFont(t).syncStyle(t),f&&(i.syncShadow(t),t.strokeText(this.text,0,0)),m&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var R3=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(nr);return i===null?i=new SS(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},L3=function(e,t){t&&this.textStyle.modify(t);for(var i=[],n=0,y=e.length;n<y;n++){var S=e.charAt(n),r=this.poolManager.allocate(nr);r===null?r=new SS(this,S,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(r)}return i},th=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},F3=function(e,t){return e===void 0&&(e=""),this.removeChildren(),th.call(this,e,t),this.dirty=!0,this},D3=function(e,t,i){var n=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(n,e),this},I3=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var n=this.getCharChildIndex(e,!0);if(n===void 0)break;this.removeChild(this.children[n])}return this},B3=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class k3 extends kn{constructor(t,i,n){super(t,mS),this.setTexture(i,n),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){lS(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var N3=function(e,t,i){var n=this.poolManager.allocate(mS);return n===null?n=new k3(this,e,t):n.setParent(this).setActive().setTexture(e,t),n.modifyPorperties(i),n},PS=function(e,t,i){var n=this.createImageChild(e,t,i);return this.addChild(n),this};class G3 extends kn{constructor(t,i,n,y){super(t,xS),this.setRenderCallback(i),this.setDrawerSize(n,y)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var z3=function(e,t,i){var n=this.poolManager.allocate(xS);return n===null?n=new G3(this,e,t,i):n.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),n},U3=function(e,t,i){var n=this.createDrawerChild(e,t,i);return this.addChild(n),this};let X3=class extends kn{constructor(e,t){super(e,yS),this.setSpaceWidth(t)}get width(){return this.spaceWidth*this.scaleX}set width(e){this.spaceWidth>0?this.scaleX=e/this.spaceWidth:this.scaleX=1}setSpaceWidth(e){return this.spaceWidth=e,this}};var V3=function(e){var t=this.poolManager.allocate(yS);return t===null?t=new X3(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},ES=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class Y3 extends sp{constructor(t,i,n,y,S){super(t,rp),this.setName(i).setParameter(y).setCallback(n,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var W3=function(e,t,i,n){var y=this.poolManager.allocate(rp);return y===null?y=new Y3(this,e,t,i,n):y.setParent(this).setActive().setName(e).setCallback(t,n).setParameter(i),y},It=function(e,t,i,n){var y=this.createCommandChild(e,t,i,n);return this.addChild(y),this},H3=function(e){return e===void 0?e={}:typeof e=="object"&&(e=_e(e)),this.wrapConfig=e,this},wS=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const j3={none:0,word:1,char:2,character:2,mix:3};var $3=function(e,t,i,n){n===void 0&&(n={word:[],width:0}),n.word.length=0;for(var y=i===2,S=i===3,r=!y&&!S,T=e.length,s=t,o=n.word,m=0,f=!1;s<T;){var u=e[s];if(!u.renderable){o.push(u),s++;continue}var h=u.type===nr?u.text:null;if(h===null||h===`
`||h==="\f"){s===t&&(o.push(u),m+=u.outerWidth);break}if(r){if(o.push(u),m+=u.outerWidth,h===" ")break;s++}else if(y){o.push(u),m+=u.outerWidth;break}else if(S)if(Bo(h)){if(o.push(u),m+=u.outerWidth,h===" ")break;s++,f=!0}else{if(f)break;o.push(u),m+=u.outerWidth;var a=e[s+1];a&&a.type===nr&&a.text===" "&&(o.push(a),m+=a.outerWidth);break}}return n.width=m,n},bS=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.align!==void 0)return n.align}},OS=function(e,t,i){if(!(t===0&&i===0))for(var n=0,y=e.length;n<y;n++){var S=e[n];S.renderable&&(S.x+=t,S.y+=i)}},K3=function(e,t,i){for(var n=e.hAlign,y=e.vAlign,S=e.justifyPercentage,r=e.lines,T,s,o=0,m=r.length;o<m;o++){var f=r[o],u=f.width,h=f.children,a=bS(h);switch(a===void 0&&(a=n),a){case 0:case"left":T=0;break;case 1:case"center":var l=t-u;T=l/2;break;case 2:case"right":var l=t-u;T=l;break;case 3:case"justify":case"justify-left":var l=t-u,c=l/t;c<S&&Af(h,l),T=0;break;case 4:case"justify-center":var l=t-u,c=l/t;c<S?(Af(h,l),T=0):T=l/2;break;case 5:case"justify-right":var l=t-u,c=l/t;c<S?(Af(h,l),T=0):T=l;break;default:T=0;break}var d=e.linesHeight;switch(y){case 1:case"center":s=(i-d)/2;break;case 2:case"bottom":s=i-d;break;default:s=0;break}OS(h,T,s)}},Af=function(e,t){for(var i=t/e.length,n=0,y=e.length;n<y;n++){var S=e[n];S.renderable&&(S.x+=i*n)}},Zm=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),qh.ascent=t,qh.descent=i,qh.height=t+i,qh},qh={};const yi=Phaser.Utils.Objects.GetValue;var J3=function(e){var t=yi(e,"start",0);Wr(this.wrapPadding,yi(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=yi(e,"lineHeight"),S=yi(e,"ascent",y),r;if(y===void 0){var T=yi(e,"useDefaultTextHeight",!1);if(r=yi(e,"maxLines",0),this.fixedHeight>0&&!T){var J=this.fixedHeight-i;if(r>0)y=J/r;else{var s=Zm.call(this);y=s.height,S=s.ascent,r=Math.floor((J-S)/y)}}else{var s=Zm.call(this);y=s.height,S=s.ascent}}else if(this.fixedHeight>0){if(r=yi(e,"maxLines"),r===void 0){var J=this.fixedHeight-i;r=Math.floor(J/y)}}else r=yi(e,"maxLines",0);S===void 0&&(S=y);var o=r===0,m=yi(e,"wrapMode");if(m===void 0){var f=yi(e,"charWrap",!1);m=f?"char":"word"}typeof m=="string"&&(m=j3[m]);var u=yi(e,"wrapWidth",void 0);u===void 0&&(this.fixedWidth>0?u=this.fixedWidth-n:(u=1/0,m=0));for(var h=yi(e,"letterSpacing",0),a=yi(e,"hAlign",0),l=yi(e,"vAlign",0),c=yi(e,"justifyPercentage",.25),d=wS({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:h,maxLines:r,hAlign:a,vAlign:l,justifyPercentage:c,ascent:S,lineHeight:y,wrapWidth:u,wrapMode:m}),v=this.children,p=0,g=v.length;p<g;p++)v[p].setActive(!1);u+=h;for(var x=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+S,P=x,w=C,E=u,b=t,O=v.length,M=d.children,A=d.lines,F=[],R=0,L=0,D,I=!1;b<O;){D=$3(v,b,m,D);var z=D.word,U=z.length,H=D.width+U*h;b+=U;var W=TS(z[0]);I=CS(z[0]);var N=W||I;if(E<H||N){if(N){var X=z[0];X.setActive().setPosition(P,w),M.push(X),F.push(X)}P=x,w+=y,E=u,A.push({children:F,width:R}),L=Math.max(L,R),R=0,F=[];var B=I||!o&&A.length===r;if(B)break;if(N)continue}E-=H,R+=H;for(var p=0,g=z.length;p<g;p++){var V=z[p];V.setActive(),M.push(V),F.push(V),V.renderable&&(V.setPosition(P,w),P+=V.outerWidth+h)}}F.length>0&&(A.push({children:F,width:R}),L=Math.max(L,R)),d.start+=M.length,d.isLastPage=!I&&d.start===O,d.maxLineWidth=L,d.linesHeight=A.length*y;var k=this.fixedWidth>0?this.fixedWidth:d.maxLineWidth+n,j=this.fixedHeight>0?this.fixedHeight:d.linesHeight+i,$=k-n,J=j-i;K3(d,$,J),this.setCanvasSize(k,j);for(var p=0,g=M.length;p<g;p++){var V=M[p];V.renderable&&(V.x0=V.x,V.y0=V.y)}return d};const Z3=Phaser.Utils.Objects.Merge;var Q3=function(e){return e===void 0&&(e={}),J3.call(this,Z3(e,this.wrapConfig))},q3=function(e,t,i){var n=e.hAlign,y=e.vAlign,S,r,T=e.rtl,s=e.lines,o=e.lineWidth,m=e.linesWidth;switch(n){case 1:case"center":S=(t-m)/2;break;case 2:case"right":S=t-m;break;default:S=0;break}T&&(S+=o);for(var f=0,u=s.length;f<u;f++){var h=s[T?u-f-1:f],a=h.children,l=h.height,c=bS(a);switch(c===void 0&&(c=y),c){case 1:case"center":r=(i-l)/2;break;case 2:case"bottom":r=i-l;break;default:r=0;break}OS(a,S,r),S+=o}};const Di=Phaser.Utils.Objects.GetValue;var _3=function(e){var t=Di(e,"start",0);Wr(this.wrapPadding,Di(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=Di(e,"lineWidth",void 0),S;if(y===void 0)if(S=Di(e,"maxLines",0),this.fixedWidth>0){var W=this.fixedWidth-n;y=W/S}else y=0;else if(this.fixedWidth>0){if(S=Di(e,"maxLines",void 0),S===void 0){var W=this.fixedWidth-n;S=Math.floor(W/y)+1}}else S=Di(e,"maxLines",0);var r=S===0,T=Di(e,"fixedCharacterHeight",void 0);if(T===void 0){var s=Di(e,"charPerLine",void 0);if(s!==void 0){var N=this.fixedHeight-i;T=Math.floor(N/s)}}var o=Di(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var m=Di(e,"letterSpacing",0),f=Di(e,"rtl",!0),u=Di(e,"hAlign",f?2:0),h=Di(e,"vAlign",0),a=wS({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:m,maxLines:S,hAlign:u,vAlign:h,lineWidth:y,fixedCharacterHeight:T,wrapHeight:o,rtl:f}),l=this.children,c=0,d=l.length;c<d;c++)l[c].setActive(!1);o+=m;for(var v=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=v,x=p,C=o,P=t,w=l.length,E=a.children,b=a.lines,O=[],M=0,A=0;P<w;){var F=l[P];if(P++,!F.renderable){F.setActive(),E.push(F),O.push(F);continue}var R=(T!==void 0?T:F.height)+m,L=TS(F),D=CS(F),I=L||D;if(C<R||I){L&&(F.setActive().setPosition(g,x).setOrigin(.5),E.push(F),O.push(F)),g=v,x=p,C=o,b.push({children:O,height:M}),A=Math.max(A,M),M=0,O=[];var z=D||!r&&b.length===S;if(z)break;if(I)continue}C-=R,M+=R,F.setActive().setPosition(g,x).setOrigin(.5),E.push(F),O.push(F),x+=R}O.length>0&&(b.push({children:O,height:M}),A=Math.max(A,M)),a.start+=E.length,a.isLastPage=a.start===w,a.maxLineHeight=A,a.linesWidth=b.length*y;var U=this.fixedWidth>0?this.fixedWidth:a.linesWidth+n,H=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,W=U-n,N=H-i;q3(a,W,N),this.setCanvasSize(U,H);for(var c=0,d=E.length;c<d;c++){var F=E[c];F.renderable&&(F.x0=F.x,F.y0=F.y)}return a};const tF=Phaser.Utils.Objects.Merge;var eF=function(e){return e===void 0&&(e={}),_3.call(this,tF(e,this.wrapConfig))};const Qm=Phaser.Utils.Objects.GetValue;var iF=function(e){var t=Qm(this.wrapConfig,"callback");return t||(t=Qm(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const sF={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},rF={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var nF=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},aF=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active)}),y=0,S=n.length;y<S;y++){var r=n[y],T;if(t?T=e.call(this,r,y,n):T=e(r,y,n),T)break}return this},oF=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active||!s.renderable||s.removed)}),y=0,S=n.length;y<S;y++){var r=n[y],T;if(t?T=e.call(this,r,y,n):T=e(r,y,n),T)break}return this},hF=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active||!Rn(s)||s.removed)}),y=0,S=n.length;y<S;y++){var r=n[y],T;if(t?T=e.call(this,r,y,n):T=e(r,y,n),T)break}return this},lF=function(){return this.children};const uF=Phaser.Utils.Array.GetAll;var dF=function(){return uF(this.children,"active",!0)},fF=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},cF=function(){return this.lastAppendedChildren},vF=function(e,t,i,n){typeof t!="number"&&(n=t,t=0,i=0);var y=e.drawCenterX+t,S=e.drawCenterY+i;return vS(e,y,S,n)};const pF=Phaser.Math.Distance.BetweenPointsSquared;var gF=function(e,t){var i={x:e,y:t},n=1/0,y=null;return this.forEachRenderableChild(function(S){var r=pF(i,vF(S,!0));n>r&&(n=r,y=S)}),y},mF=function(e,t,i,n){return typeof e=="number"&&(e=this.getCharChild(e,!0)),pS(this,e,t,i,n)},xF=function(){for(var e=this.children,t=0,i=0,n=0,y=e.length;n<y;n++){var S=e[n];if(!(!S.renderable||!S.active||!S.visible)){var r=S.x0!==void 0?S.x0:S.x,T=S.y0!==void 0?S.y0:S.y;t=Math.max(t,r),i=Math.max(i,T)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(s,o)),this},yF=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,y=i.length;n<y;n++){var S=i[n];if(!(t&&!S.active)&&Rn(S)&&!S.removed){if(e===0)return n;e--}}},TF=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,y=i.length;n<y;n++){var S=i[n];if(!(t&&!S.active)&&Rn(S)&&!S.removed){if(e===0)return S;e--}}},CF=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var n=0,y=0;y<e;y++){var S=i[y];t&&!S.active||Rn(S)&&!S.removed&&n++}return n},SF=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},np=function(e,t,i){for(var e=e,n=0,y=e.length;n<y;n++){var S=e[n];if(!(!S.active||!S.renderable)&&S.contains(t,i))return S}return null},PF=function(){return this.on("pointerdown",EF,this).on("pointerdown",wF,this).on("pointermove",Rf,this).on("pointerover",Rf,this).on("pointerout",function(e,t){Rf.call(this,e,null,null,t)},this),this},EF=function(e,t,i,n){if(this.childrenInteractiveEnable){var y=np(this.children,t,i);y&&this.emit("child.pointerdown",y,e,t,i,n)}},wF=function(e,t,i,n){if(this.childrenInteractiveEnable){var y=np(this.children,t,i);y&&this.emit("child.pointerup",y,e,t,i,n)}},Rf=function(e,t,i,n){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,n),this.lastOverChild=null);return}var y=np(this.children,t,i);y!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,n),y!==null&&this.emit("child.pointerover",y,e,t,i,n),this.lastOverChild=y)}};const bF=Phaser.GameObjects.GameObject;var OF=function(e,t,i){var n=!!this.input;return bF.prototype.setInteractive.call(this,e,t,i),n||PF.call(this),this};const MF=Phaser.Utils.Array.BringToTop,AF=Phaser.Utils.Array.SendToBack,RF=Phaser.Utils.Array.MoveUp,LF=Phaser.Utils.Array.MoveDown,FF=Phaser.Utils.Array.MoveAbove,DF=Phaser.Utils.Array.MoveBelow,IF={moveChildToFist(e){return AF(this.children,e),this},moveChildToLast(e){return MF(this.children,e),this},movechildUp(e){return RF(this.children,e),this},movechildDown(e){return LF(this.children,e),this},movechildAbove(e,t){return FF(this.children,e,t),this},movechildBelow(e,t){return DF(this.children,e,t),this}},BF={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},kF={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var MS={setFixedSize:v3,setPadding:p3,getPadding:g3,modifyTextStyle:m3,modifyDefaultTextStyle:x3,resetTextStyle:y3,setTestString:T3,removeChild:S3,removeChildren:P3,popChild:w3,clearContent:b3,addChild:O3,createCharChild:R3,createCharChildren:L3,setText:F3,appendText:th,insertText:D3,removeText:I3,getText:B3,createImageChild:N3,appendImage:PS,createDrawerChild:z3,appendDrawer:U3,createSpaceChild:V3,appendSpace:ES,createCommandChild:W3,appendCommand:It,setWrapConfig:H3,runWordWrap:Q3,runVerticalWrap:eF,runWrap:iF,renderContent:nF,forEachChild:aF,forEachRenderableChild:oF,forEachCharChild:hF,getChildren:lF,getActiveChildren:dF,getCharChildren:fF,getLastAppendedChildren:cF,getNearestChild:gF,getCharWorldPosition:mF,setToMinSize:xF,getCharChildIndex:yF,getCharChild:TF,getCharIndex:CF,setChildrenInteractiveEnable:SF,setInteractive:OF};Object.assign(MS,IF,BF,kF,sF,rF);const NF=Phaser.Utils.Objects.GetFastValue;var GF={};class zF{constructor(t){this.pools=NF(t,"pools",GF)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new zs),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Lf=Phaser.Utils.Objects.IsPlainObject,ei=Phaser.Utils.Objects.GetValue;class za extends Zr{constructor(t,i,n,y,S,r,T){Lf(i)?(T=i,i=ei(T,"x",0),n=ei(T,"y",0),y=ei(T,"width",0),S=ei(T,"height",0),r=ei(T,"resolution",1)):Lf(y)?(T=y,y=ei(T,"width",0),S=ei(T,"height",0),r=ei(T,"resolution",1)):Lf(r)&&(T=r,r=ei(T,"resolution",1));var s=y===0?1:y,o=S===0?1:S;super(t,i,n,s,o,r),this.type="rexDynamicText",this.autoRound=!0,this.padding=Wr(),this.wrapPadding=Wr();var m=ei(T,"style",void 0);this.defaultTextStyle=new Ku(null,m),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(ei(T,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new f3(this,ei(T,"background",void 0)),this.innerBounds=new c3(this,ei(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new zF(T),this.setFixedSize(y,S),this.setPadding(ei(T,"padding",0)),this.setWrapConfig(ei(T,"wrap",void 0)),this.setChildrenInteractiveEnable(ei(T,"childrenInteractive",!1));var f=ei(T,"text",void 0);f&&this.setText(f)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(za.prototype,MS);mt.register("dynamicText",function(e,t,i,n,y){var S=new za(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.DynamicText",za);const eh={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},UF={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(u){var t=u.property,i=u.value,n=u.duration,y=u.delay,S=u.ease,r=u.repeat,T=u.yoyo,s=u.from,o=u.complete,m=u.target;if(n===void 0&&(n=1e3),y===void 0&&(y=0),S===void 0&&(S="Linear"),r===void 0&&(r=0),T===void 0&&(T=!1),m===void 0&&(m=this.gameObject),s){var f=i;i=m[t],m[t]=f}var u={targets:m,duration:n,delay:y,ease:S,repeat:r,yoyo:T,onComplete:o};return u[t]=i,this.addTweenTask(t,u),this},addTweenTask(e,t){var i=this.tweens,n=i[e];n&&n.remove();var y=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,y&&y(t.targets,e)},n=this.scene.tweens.add(t),n.timeScale=this.timeScale,i[e]=n,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},XF={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},VF={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class ap{constructor(t,i,n){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,n)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var n in i){var y=i[n];y&&(y.timeScale=t)}return this}}Object.assign(ap.prototype,UF,XF,VF);var ih=function(e){for(var t in e)return!1;return!0},wn=function(e){return e&&e.charAt(0)!=="!"};const YF={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(wn(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var n=i;return n.forEach(function(y){t.push(y.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var n=this.bobs[i].gameObject,y;if(t?y=e.call(t,n,i,this):y=e(n,i,this),y)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var ko=function(e){return e>>16&255},No=function(e){return e>>8&255},Go=function(e){return e&255},qm=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const WF=65535,HF=16711935,jF=16776960;var $F=function(e,t){return(t&255)<<16|e&WF},KF=function(e,t){return(t&255)<<8|e&HF},JF=function(e,t){return t&255|e&jF},ZF=function(e,t,i,n){return(t&255)<<16|(i&255)<<8|n&255},QF=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=ko(t),n=No(t),y=Go(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=ko(t),n=No(t),y=Go(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=$F(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return n},set:function(S){S=Math.floor(S)&255,n!==S&&(n=S,e.tint=KF(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return y},set:function(S){S=Math.floor(S)&255,y!==S&&(y=S,e.tint=JF(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+n+y)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||n!==S||y!==S)&&(i=S,n=S,y=S,e.tint=ZF(t,S,S,S))}}),e.tint=t,e};const qF=Phaser.Events.EventEmitter;var _F=function(e){if(e.events)return e;var t=new qF,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(r){i!==r&&(i=r,t.emit("update",e))}});var n=e.y;Object.defineProperty(e,"y",{get:function(){return n},set:function(r){n!==r&&(n=r,t.emit("update",e))}});var y=e.width;Object.defineProperty(e,"width",{get:function(){return y},set:function(r){y!==r&&(y=r,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(r){S!==r&&(S=r,t.emit("update",e))}}),e.events=t,e},t4=function(e,t,i,n,y,S){return S===void 0?S={}:S===!0&&(S=e4),typeof i!="number"&&(i=0,n=0),S.x=y.x+y.width*e+i,S.y=y.y+y.height*t+n,S},e4={},i4=function(e,t,i,n,y,S,r){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(r=i,i=void 0),typeof y=="function"&&(r=y,y=void 0),i===void 0&&(i=.5),n===void 0&&(n=.5),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=t4),_F(t);var T=t.events;e.vp=t;var s=function(){r(i,n,y,S,t,e)};T.on("update",s),e.once("destroy",function(){T.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(o){i!==o&&(i=o,s())}}),Object.defineProperty(e,"vpy",{get:function(){return n},set:function(o){n!==o&&(n=o,s())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return y},set:function(o){y!==o&&(y=o,s())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(o){S!==o&&(S=o,s())}}),s()},vi=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},Me=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,n=0,y=i.length;n<y;n++)e[i[n]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},s4=function(e){if(_t(e,"barrel"))return e;var t=vi(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,Me(e,"barrel"),e},ni=function(e,t,i){if(_t(e,t))return e;var n=vi(e);if(!n)return e;var y=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(r){if(S!==r)if(S=r,S===null||S===!1)e[y]&&(n.remove(e[y]),e[y]=void 0);else{e[y]||(e[y]=n.addColorMatrix());var T=e[y];T[t](i===1?r:void 0)}}}),e[t]=null,Me(e,t),e},r4=function(e){return ni(e,"blackWhite"),e},n4=function(e){if(_t(e,"bloomColor"))return e;var t=vi(e);if(!t)return e;var i,n=1,y=1,S=1,r=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,n,y,S,r,T),t.setPadding(Math.max(n,y)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return n},set:function(s){if(n!==s&&(n=s,e._bloom)){var o=Math.max(n,y);t.setPadding(o+1),e._bloom.offsetX=n}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return y},set:function(s){if(y!==s&&(y=s,e._bloom)){var o=Math.max(n,y);t.setPadding(o+1),e._bloom.offsetY=y}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(s){S!==s&&(S=s,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._bloom&&(e._bloom.strength=r))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(s){T!==s&&(T=s,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,Me(e,"bloomColor"),e},a4=function(e){if(_t(e,"blurColor"))return e;var t=vi(e);if(!t)return e;var i,n=0,y=1,S=1,r=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(n,y,S,r,i,T),t.setPadding(Math.max(y,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return n},set:function(s){n!==s&&(n=s,e._blur&&(e._blur.quality=n))}}),Object.defineProperty(e,"blurX",{get:function(){return y},set:function(s){if(y!==s&&(y=s,e._blur)){var o=Math.max(y,S);t.setPadding(o+1),e._blur.x=y}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(s){if(S!==s&&(S=s,e._blur)){var o=Math.max(y,S);t.setPadding(o+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._blur&&(e._blur.strength=r))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(s){T!==s&&(T=s,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,Me(e,"blurColor"),e},o4=function(e){if(_t(e,"bokehRadius"))return e;var t=vi(e);if(!t)return e;var i,n=1,y=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,n,y)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return n},set:function(S){n!==S&&(n=S,e._bokeh&&(e._bokeh.amount=n))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return y},set:function(S){y!==S&&(y=S,e._bokeh&&(e._bokeh.contrast=y))}}),e.bokehRadius=null,Me(e,"bokehRadius"),e},h4=function(e){return ni(e,"brightness",1),e},l4=function(e){return ni(e,"brown"),e},u4=function(e){if(_t(e,"circleColor"))return e;var t=vi(e);if(!t)return e;var i,n=8,y=0,S=.4,r=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(n,i,y,r,T),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return n},set:function(s){n!==s&&(n=s,e._circle&&(e._circle.thickness=n))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return y},set:function(s){y!==s&&(y=s,e._circle&&(e._circle.backgroundColor=y))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(s){S!==s&&(S=s,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return r},set:function(s){r!==s&&(r=s,e._circle&&(e._circle.scale=r))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(s){T!==s&&(T=s,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,Me(e,"circleColor"),e},d4=function(e){return ni(e,"contrast",1),e},f4=function(e){return ni(e,"desaturate",1),e},c4=function(e){return ni(e,"desaturateLuminance"),e},v4=function(e){if(_t(e,"displacementKey"))return e;var t=vi(e);if(!t)return e;var i,n=.005,y=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,n,y)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return n},set:function(S){n!==S&&(n=S,e._displacement&&(e._displacement.x=n))}}),Object.defineProperty(e,"displacementY",{get:function(){return y},set:function(S){y!==S&&(y=S,e._displacement&&(e._displacement.y=y))}}),e.displacementKey=null,Me(e,"displacementKey"),e},p4=function(e){if(_t(e,"glowColor"))return e;var t=vi(e);if(!t)return e;var i,n=4,y=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,n,y),t.setPadding(n+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return n},set:function(S){n!==S&&(n=S,e._glow&&(t.setPadding(n+1),e._glow.outerStrength=n))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return y},set:function(S){y!==S&&(y=S,e._glow&&(e._glow.innerStrength=y))}}),e.glowColor=null,Me(e,"glowColor"),e},g4=function(e){if(_t(e,"gradientColor"))return e;var t=vi(e);if(!t)return e;var i,n,y=.5,S=0,r=0,T=0,s=1,o=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,n]},set:function(m){var f,u;m===null||m===!1?(f=null,u=null):(f=m[0],u=m[1]),!(i===f&&n===u)&&(i=f,n=u,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,n,y,S,r,T,s,o)),e._gradient.color1=i,e._gradient.color2=n))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(m){if(m===null||m===!1){e.gradientColor=m;return}i!==m&&(i=m,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return n},set:function(m){if(m===null||m===!1){e.gradientColor=m;return}n!==m&&(n=m,e._gradient&&(e._gradient.color2=n))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return y},set:function(m){y!==m&&(y=m,e._gradient&&(e._gradient.alpha=y))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(m){S!==m&&(S=m,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return r},set:function(m){r!==m&&(r=m,e._gradient&&(e._gradient.fromY=r))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(m){T!==m&&(T=m,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return s},set:function(m){s!==m&&(s=m,e._gradient&&(e._gradient.toY=s))}}),Object.defineProperty(e,"gradientSize",{get:function(){return o},set:function(m){o!==m&&(o=m,e._gradient&&(e._gradient.size=o))}}),e.gradientColor=null,Me(e,"gradientColor"),e},m4=function(e){return ni(e,"grayscale",1),e},x4=function(e){return ni(e,"hue",1),e},y4=function(e){return ni(e,"kodachrome"),e},T4=function(e){return ni(e,"lsd"),e},C4=function(e){return ni(e,"negative"),e},S4=function(e){if(_t(e,"pixelate"))return e;var t=vi(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,Me(e,"pixelate"),e},P4=function(e){return ni(e,"polaroid"),e},E4=function(e){if(_t(e,"revealLeft"))return e;var t=vi(e);if(!t)return e;var i,n,y,S,r=.1,T=function(){i=null,n=null,y=null,S=null},s=function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return n},set:function(o){n!==o&&(T(),n=o,n===null||n===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=n))}}),Object.defineProperty(e,"revealUp",{get:function(){return y},set:function(o){y!==o&&(T(),y=o,y===null||y===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=y))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(o){S!==o&&(T(),S=o,S===null||S===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return r},set:function(o){r!==o&&(r=o,e._revealEffect&&(e._revealEffect.wipeWidth=r))}}),e.revealLeft=null,Me(e,"revealLeft"),Me(e,"revealRight"),Me(e,"revealUp"),Me(e,"revealDown"),e},w4=function(e){return ni(e,"saturate",1),e},b4=function(e){return ni(e,"sepia"),e},O4=function(e){if(_t(e,"shadowColor"))return e;var t=vi(e);if(!t)return e;var i,n=0,y=0,S=.1,r=1,T=6,s=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(n,y,S,r,i,T,s)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return n},set:function(o){n!==o&&(n=o,e._shadow&&(e._shadow.x=n))}}),Object.defineProperty(e,"shadowY",{get:function(){return y},set:function(o){y!==o&&(y=o,e._shadow&&(e._shadow.y=y))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(o){S!==o&&(S=o,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return r},set:function(o){r!==o&&(r=o,e._shadow&&(e._shadow.power=r))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(o){T!==o&&(T=o,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return s},set:function(o){s!==o&&(s=o,e._shadow&&(e._shadow.intensity=s))}}),e.shadowColor=null,Me(e,"shadowColor"),e},M4=function(e){return ni(e,"shiftToBGR"),e},A4=function(e){if(_t(e,"shineSpeed"))return e;var t=vi(e);if(!t)return e;var i,n=.5,y=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,n,y)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return n},set:function(S){n!==S&&(n=S,e._shine&&(e._shine.lineWidth=n))}}),Object.defineProperty(e,"shineGradient",{get:function(){return y},set:function(S){y!==S&&(y=S,e._shine&&(e._shine.gradient=y))}}),e.shineSpeed=null,Me(e,"shineSpeed"),e},R4=function(e){return ni(e,"technicolor"),e},L4=function(e){if(_t(e,"tiltShiftRadius"))return e;var t=vi(e);if(!t)return e;var i,n=1,y=.2,S=1,r=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,n,y,S,r,T)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return n},set:function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.amount=n))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return y},set:function(s){y!==s&&(y=s,e._tiltShift&&(e._tiltShift.contrast=y))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(s){S!==s&&(S=s,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return r},set:function(s){r!==s&&(r=s,e._tiltShift&&(e._tiltShift.blurY=r))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(s){T!==s&&(T=s,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,Me(e,"tiltShiftRadius"),e},F4=function(e){if(_t(e,"vignetteRadius"))return e;var t=vi(e);if(!t)return e;var i,n=.5,y=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(n,y,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return n},set:function(r){n!==r&&(n=r,e._vignette&&(e._vignette.x=n))}}),Object.defineProperty(e,"vignetteY",{get:function(){return y},set:function(r){y!==r&&(y=r,e._vignette&&(e._vignette.y=y))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(r){S!==r&&(S=r,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,Me(e,"vignetteRadius"),e},D4=function(e){return ni(e,"vintagePinhole"),e},I4=function(e){if(_t(e,"wipeLeft"))return e;var t=vi(e);if(!t)return e;var i,n,y,S,r=.1,T=function(){i=null,n=null,y=null,S=null},s=function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return n},set:function(o){n!==o&&(T(),n=o,n===null||n===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=n))}}),Object.defineProperty(e,"wipeUp",{get:function(){return y},set:function(o){y!==o&&(T(),y=o,y===null||y===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=y))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(o){S!==o&&(T(),S=o,S===null||S===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return r},set:function(o){r!==o&&(r=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=r))}}),e.wipeLeft=null,Me(e,"wipeLeft"),Me(e,"wipeRight"),Me(e,"wipeUp"),Me(e,"wipeDown"),e};const _h={barrel:s4,blackWhite:r4,bloom:n4,blur:a4,bokeh:o4,brightness:h4,brown:l4,circle:u4,contrast:d4,desaturate:f4,desaturateLuminance:c4,displacement:v4,glow:p4,gradient:g4,grayscale:m4,hue:x4,kodachrome:y4,lsd:T4,negative:C4,pixelate:S4,polaroid:P4,reveal:E4,saturate:w4,sepia:b4,shadow:O4,shiftToBGR:M4,shine:A4,technicolor:R4,tiltShift:L4,vignette:F4,vintagePinhole:D4,wipe:I4};var Ua=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},n=0,y=i.length;n<y;n++)t[i[n]]=!0;if(t===!0)for(var S in _h)_h[S](e);else for(var S in t)t[S]&&_h[S]&&_h[S](e);return e};const B4=Phaser.Utils.Array.Remove,k4={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&QF(t),this.viewportCoordinateEnable&&i4(t,this.viewport),this.effectPropertiesConfig&&Ua(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){B4(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,n=this.createGameObjectScope,y=i.call(n,this.scene,...t);this.addGO(e,y),this.gameObjectDepth!=null&&y.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},N4={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=this;return i.forEach(function(y){delete n.bobs[y.name];var S=y.gameObject;n.removedGOs.push(S),S.setName(),t?y.destroy():n.fadeBob(y,void 0,0,function(){y.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},G4={hasProperty(e,t){var i=wn(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=wn(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),n.forEach(function(y){y.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=t.value,y=t.property;return this.symbols&&typeof n=="string"&&this.isNumberProperty(e,y)&&n in this.symbols&&(t.value=this.symbols[n]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=wn(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=wn(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},z4={hasMethod(e,t){var i=wn(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(y){y.call(t,...i)}),this}},U4={hasData(e,t){var i=wn(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(y){y.setData(t,i)}),this}},AS=0,RS=1,yv=2,LS=3,FS=4,Tv=5,X4={tint:AS,alpha:RS,revealUp:yv,revealDown:LS,revealLeft:FS,revealRight:Tv},V4={setGOFadeMode(e){return typeof e=="string"&&(e=X4[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===AS)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===RS)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=yv&&this.fadeMode<=Tv&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,n){var y=e.gameObject;if(this.useTintFadeEffect(y))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useAlphaFadeEffect(y))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useRevealEffect(y)){Ua(y,"reveal");var S;switch(this.fadeMode){case yv:S="revealUp";break;case LS:S="revealDown";break;case FS:S="revealLeft";break;case Tv:S="revealRight";break}t===void 0&&(t=0),y[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n}),e.getTweenTask(S).once("complete",function(){y[S]=null})}else n&&n(y);return this}};var te=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},ee=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const _m=Phaser.Geom.Rectangle,Xs=Phaser.Math.Vector2,Y4=Phaser.Math.RotateAround,W4=Phaser.GameObjects.Container;var op=function(e,t){if(t===void 0?t=new _m:t===!0&&(Ff===void 0&&(Ff=new _m),t=Ff),e.getBounds&&!(e instanceof W4))return e.getBounds(t);var i,n,y,S,r,T,s,o;if(e.parentContainer){var m=e.parentContainer.getBoundsTransformMatrix();bn(e,t),m.transformPoint(t.x,t.y,t),i=t.x,n=t.y,zo(e,t),m.transformPoint(t.x,t.y,t),y=t.x,S=t.y,Uo(e,t),m.transformPoint(t.x,t.y,t),r=t.x,T=t.y,Cv(e,t),m.transformPoint(t.x,t.y,t),s=t.x,o=t.y}else bn(e,t),i=t.x,n=t.y,zo(e,t),y=t.x,S=t.y,Uo(e,t),r=t.x,T=t.y,Cv(e,t),s=t.x,o=t.y;return t.x=Math.min(i,y,r,s),t.y=Math.min(n,S,T,o),t.width=Math.max(i,y,r,s)-t.x,t.height=Math.max(n,S,T,o)-t.y,t},Ff=void 0,bn=function(e,t,i){return t===void 0?t=new Xs:t===!0&&(Si===void 0&&(Si=new Xs),t=Si),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-te(e)*e.originX,t.y=e.y-ee(e)*e.originY,sh(e,t,i))},zo=function(e,t,i){return t===void 0?t=new Xs:t===!0&&(Si===void 0&&(Si=new Xs),t=Si),e.getTopRight?e.getTopRight(t):(t.x=e.x-te(e)*e.originX+te(e),t.y=e.y-ee(e)*e.originY,sh(e,t,i))},Uo=function(e,t,i){return t===void 0?t=new Xs:t===!0&&(Si===void 0&&(Si=new Xs),t=Si),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-te(e)*e.originX,t.y=e.y-ee(e)*e.originY+ee(e),sh(e,t,i))},Cv=function(e,t,i){return t===void 0?t=new Xs:t===!0&&(Si===void 0&&(Si=new Xs),t=Si),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-te(e)*e.originX+te(e),t.y=e.y-ee(e)*e.originY+ee(e),sh(e,t,i))},tx=function(e,t,i){t===void 0?t=new Xs:t===!0&&(Si===void 0&&(Si=new Xs),t=Si);var n=te(e),y=ee(e);return t.x=e.x+n*(.5-e.originX),t.y=e.y+y*(.5-e.originY),sh(e,t,i)},Si=void 0,sh=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&Y4(t,e.x,e.y,e.rotation),i&&e.parentContainer){var n=e.parentContainer.getBoundsTransformMatrix();n.transformPoint(t.x,t.y,t)}return t};const to=Phaser.Utils.Objects.GetValue;var DS=function(e,t,i){var n,y,S,r,T;if(typeof i=="number"?n=i:(n=to(i,"color"),y=to(i,"lineWidth"),S=to(i,"fillColor"),r=to(i,"fillAlpha",1),T=to(i,"padding",0)),Array.isArray(e))for(var s=0,o=e.length;s<o;s++)ex(e[s],t,n,y,S,r,T);else ex(e,t,n,y,S,r,T)},ex=function(e,t,i,n,y,S,r){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){i===void 0&&(i=16777215),n===void 0&&(n=1),y===void 0&&(y=null),S===void 0&&(S=1),r===void 0&&(r=0);var s=bn(e,ta[0]);s.x-=r,s.y-=r;var o=zo(e,ta[1]);o.x+=r,o.y-=r;var m=Cv(e,ta[2]);m.x+=r,m.y+=r;var f=Uo(e,ta[3]);f.x-=r,f.y+=r,y!==null&&t.fillStyle(y,S).fillPoints(ta,!0,!0),i!==null&&t.lineStyle(n,i).strokePoints(ta,!0,!0)}},ta=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],H4=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):DS(i,e,t)}),this},IS=function(e,t){var i=e.cameras,n;if(t===void 0)n=i.main;else{var y=typeof t;switch(y){case"string":n=i.getCamera(t);break;case"number":n=i.cameras[t];break;default:n=t;break}}return n};const j4={setCamera(e,t){var i=this.get(e);if(!i)return this;var n=IS(this.scene,t);return n?(i.gameObject.cameraFilter=4294967295^n.id,i.camera=n,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var BS={drawGameObjectsBounds:H4};Object.assign(BS,YF,k4,N4,G4,z4,U4,V4,j4);const $4=Phaser.Cameras.Scene2D.BaseCamera;var K4=function(e){return e instanceof $4};const kS=Phaser.Geom.Rectangle;var Xa=function(e,t,i){return K4(t)||(i=t,t=void 0),i===void 0?i=new kS:i===!0&&(i=J4),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},J4=new kS;const wi=Phaser.Utils.Objects.GetValue;class Ia{constructor(t,i){this.scene=t,this.BobClass=wi(i,"BobClass",ap),this.setCreateGameObjectCallback(wi(i,"createGameObject"),wi(i,"createGameObjectScope")),this.setEventEmitter(wi(i,"eventEmitter",void 0)),this.setGameObjectDepth(wi(i,"depth",void 0));var n=wi(i,"fade",500);typeof n=="number"?(this.setGOFadeMode(),this.setGOFadeTime(n)):(this.setGOFadeMode(wi(n,"mode")),this.setGOFadeTime(wi(n,"time",500)));var y=wi(i,"viewportCoordinate",!1);y!==!1?(this.setViewportCoordinateEnable(wi(i,"enable",!0)),this.setViewport(wi(y,"viewport"))):this.setViewportCoordinateEnable(!1);var S=wi(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(wi(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=wi(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var n in i)i[n].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Xa(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return ih(this.bobs)&&this.removedGOs.length===0}}Object.assign(Ia.prototype,eh,BS);const Z4=Phaser.GameObjects.GameObject,Q4=Phaser.GameObjects.Layer;var Li=function(e){return e instanceof Z4||e instanceof Q4};const q4=Phaser.GameObjects.Layer;var Lo=function(e){return e instanceof q4},NS=function(e){var t=e.displayList;return Lo(t)?t:null},ts=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,n=0,y=e.length;n<y;n++){var S=e[n];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(r,T){return i.indexOf(T)-i.indexOf(r)}):e.sort(function(r,T){return i.indexOf(r)-i.indexOf(T)}),e};const _4={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),ts(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var n=0,y=t.length;n<y;n++){var S=t[n];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var n=this.getGO(e);if(!n){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(n,i):(n.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var n=i.getAll(),y=0,S=n.length;y<S;y++)n[y].destroy();else i.removeAll();return this}},t5={setScrollFactor(e,t,i){i===void 0&&(i=t);var n=this.getLayer(e);if(!n)return this;n.scrollFactorX=t,n.scrollFactorY=i;for(var y=n.getAll(),S=0,r=y.length;S<r;S++)y[S].setScrollFactor(t,i);return this}},Ju=Phaser.Utils.Array,e5=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Ju.BringToTop(e,this),this):this},i5=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Ju.SendToBack(e,this),this):this},GS=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Ju.MoveBelow(t,this,e),this):this},zS=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Ju.MoveAbove(t,this,e),this):this},tl={bringMeToTop:e5,sendMeToBack:i5,moveMyDepthBelow:GS,moveMyDepthAbove:zS},s5={bringLayerToTop(e){var t=this.getLayer(e);return t?(tl.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(tl.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(tl.moveMyDepthBelow.call(i,n),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(tl.moveMyDepthAbove.call(i,n),this)}},r5=Ia.prototype.setCamera,n5={setCamera(e,t){var i=IS(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),r5.call(this,e,i),this}};var US={};Object.assign(US,_4,t5,s5,n5);const el=Phaser.Utils.Objects.GetValue;class Zu extends Ia{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var n=el(i,"rootLayer");this.setRootLayer(n);var y=el(i,"layers");if(y)for(var S=0,r=y.length;S<r;S++){var T=y[S];if(typeof T=="string")this.add(T);else{var s=T.name;this.add(s);var o=T.scrollFactor,m=el(T,"scrollFactorX",o),f=el(T,"scrollFactorY",o);m!==void 0&&this.setScrollFactor(s,m,f),this.setCamera(s,T.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=a5),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(Li(t)){var n=NS(t);if(!n||(t=n.name,!t))return}return super.get(t,i)}}var a5=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(Zu.prototype,US);var o5=function(e){return An(e)?e.sys.sound:e.sound},h5=function(e){return this.sound.game.cache.audio.has(e)},Va=function(e){return e==null||typeof e!="object"?null:An(e)?e:e.scene&&An(e.scene)?e.scene:e.parent&&e.parent.scene&&An(e.parent.scene)?e.parent.scene:null};const l5=Phaser.Utils.Objects.GetValue;class ye{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(l5(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=Va(t),this.game=Fn(t),this}}Object.assign(ye.prototype,eh);const u5=Phaser.Utils.Objects.GetValue;class Qu extends ye{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(u5(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=d5[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const d5={no:0,lazy:1,always:2},f5=Phaser.Utils.Objects.GetValue;class c5 extends Qu{constructor(t,i){super(t,i);var n=this.scene?"update":"step";this.tickEventName=f5(i,"tickEventName",n),this.isSceneTicker=!v5(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var v5=function(e){return e==="step"||e==="poststep"};const $s=Phaser.Utils.Objects.GetValue,ix=Phaser.Math.Clamp;let XS=class{constructor(e){this.resetFromJSON(e)}resetFromJSON(e){this.state=$s(e,"state",eo),this.timeScale=$s(e,"timeScale",1),this.delay=$s(e,"delay",0),this.repeat=$s(e,"repeat",0),this.repeatCounter=$s(e,"repeatCounter",0),this.repeatDelay=$s(e,"repeatDelay",0),this.duration=$s(e,"duration",0),this.nowTime=$s(e,"nowTime",0),this.justRestart=$s(e,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(e){return this.timeScale=e,this}setDelay(e){return e===void 0&&(e=0),this.delay=e,this}setDuration(e){return this.duration=e,this}setRepeat(e){return this.repeat=e,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(e){return this.repeatDelay=e,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?ea:io,this.repeatCounter=0,this}stop(){return this.state=eo,this}update(e,t){this.state===eo||this.state===il||t===0||this.timeScale===0||(this.nowTime+=t*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=sx)):(this.nowTime=this.duration,this.state=il):this.nowTime>=0&&(this.state=ea))}get t(){var e;switch(this.state){case eo:case io:case sx:e=0;break;case ea:e=this.nowTime/this.duration;break;case il:e=1;break}return ix(e,0,1)}set t(e){e=ix(e,-1,1),e<0?(this.state=io,this.nowTime=-this.delay*e):(this.state=ea,this.nowTime=this.duration*e,e===1&&this.repeat!==0&&this.repeatCounter++)}setT(e){return this.t=e,this}get isIdle(){return this.state===eo}get isDelay(){return this.state===io}get isCountDown(){return this.state===ea}get isRunning(){return this.state===io||this.state===ea}get isDone(){return this.state===il}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const eo=0,io=1,ea=2,sx=3,il=-1;class p5 extends c5{constructor(t,i){super(t,i),this.timer=new XS}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const so=Phaser.Utils.Objects.GetValue,rx=Phaser.Utils.Objects.GetAdvancedValue,g5=Phaser.Tweens.Builders.GetEaseFunction;class Nn extends p5{resetFromJSON(t){return this.timer.resetFromJSON(so(t,"timer")),this.setEnable(so(t,"enable",!0)),this.setTarget(so(t,"target",this.parent)),this.setDelay(rx(t,"delay",0)),this.setDuration(rx(t,"duration",1e3)),this.setEase(so(t,"ease","Linear")),this.setRepeat(so(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=g5(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var n=this.target,y=this.timer;return y.update(t,i),y.isDelay||this.updateTarget(n,y),this.emit("update",n,this),y.isDone&&this.complete(),this}updateTarget(t,i){}}const m5=Phaser.Sound.BaseSound;var hp=function(e){return e instanceof m5};const nx=Phaser.Utils.Objects.GetValue,ax=Phaser.Utils.Objects.GetAdvancedValue,x5=Phaser.Math.Linear;let VS=class extends Nn{constructor(e,t,i){hp(e)&&(i=t,t=e,e=void 0),t.active=!0,t.scene=e,t.game=t.manager.game,super(t,i),this.volume={},this.resetFromJSON(i)}resetFromJSON(e){return super.resetFromJSON(e),this.setMode(nx(e,"mode",0)),this.setEnable(nx(e,"enable",!0)),this.setVolumeRange(ax(e,"volume.start",this.parent.volume),ax(e,"volume.end",0)),this}setMode(e){return typeof e=="string"&&(e=y5[e]),this.mode=e,this}setVolumeRange(e,t){return this.volume.start=e,this.volume.end=t,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(e,t){e.volume=x5(this.volume.start,this.volume.end,t.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const y5={stop:1,destroy:2};var qu=function(e,t,i,n,y){hp(e)&&(y=n,n=i,i=t,t=e,e=void 0),n===void 0&&(n=1),y===void 0&&(y=0);var S={mode:0,volume:{start:y,end:n},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var r;return t.hasOwnProperty("_fade")?(r=t._fade,r.stop().resetFromJSON(S)):(r=new VS(e,t,S),t._fade=r),r.start(),t.isPlaying||t.setVolume(y).play(),t},Ba=function(e,t,i,n){hp(e)&&(n=i,i=t,t=e,e=void 0),n===void 0&&(n=!0);var y={mode:n?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(y)):(S=new VS(e,t,y),t._fade=S),S.start(),t.isPlaying||t.play(),t};const ro=Phaser.Utils.Objects.GetValue,T5={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:ro(t,"loop",this.backgroundMusicLoop),mute:ro(t,"mute",this.backgroundMusicMute),volume:ro(t,"volume",this.backgroundMusicVolume),detune:ro(t,"detune",0),rate:ro(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&qu(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Ba(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},no=Phaser.Utils.Objects.GetValue,C5={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:no(t,"loop",this.backgroundMusicLoop),mute:no(t,"mute",this.backgroundMusic2Mute),volume:no(t,"volume",this.backgroundMusic2Volume),detune:no(t,"detune",0),rate:no(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&qu(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Ba(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},ox=Phaser.Utils.Array.Remove,sl=Phaser.Utils.Objects.GetValue,S5={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:sl(t,"mute",this.soundEffectsMute),volume:sl(t,"volume",this.soundEffectsVolume),detune:sl(t,"detune",0),rate:sl(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&ox(this.soundEffects,i)},this).once("destroy",function(){this.sound&&ox(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&qu(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Ba(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Ba(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,y=i.length;n<y;n++)i[n].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,y=i.length;n<y;n++)i[n].setRate(e);return this}},hx=Phaser.Utils.Array.Remove,rl=Phaser.Utils.Objects.GetValue,P5={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:rl(t,"mute",this.soundEffects2Mute),volume:rl(t,"volume",this.soundEffects2Volume),detune:rl(t,"detune",0),rate:rl(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&hx(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&hx(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&qu(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Ba(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Ba(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,y=i.length;n<y;n++)i[n].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,y=i.length;n<y;n++)i[n].setRate(e);return this}};var YS={hasAudio:h5};Object.assign(YS,T5,C5,S5,P5);const Hi=Phaser.Utils.Objects.GetValue;class WS{constructor(t,i){this.sound=o5(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Hi(i,"bgm.volume",1),this._backgroundMusicMute=Hi(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Hi(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Hi(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Hi(i,"bgm2.volume",1),this._backgroundMusic2Mute=Hi(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Hi(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Hi(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Hi(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Hi(i,"soundEffect2.volume",1);var n=Hi(i,"bgm.initial",void 0);n&&this.setCurrentBackgroundMusic(n);var y=Hi(i,"bgm2.initial",void 0);y&&this.setCurrentBackgroundMusic2(y)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,n=0,y=i.length;n<y;n++)i[n].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,n=0,y=i.length;n<y;n++)i[n].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,n=0,y=soundEffects2.length;n<y;n++)i[n].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,n=0,y=i.length;n<y;n++)i[n].setVolume(t)}}Object.assign(WS.prototype,YS);const Df=Phaser.Utils.Objects.GetValue;class E5 extends Qu{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=Df(t,"isRunning",!1),this.timeScale=Df(t,"timeScale",1),this.now=Df(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class HS extends E5{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var ue=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const lx=Phaser.Math.Clamp;class w5{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,n,y){return this.target=t,this.onStart=i,this.onProgress=n,this.onComplete=y,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=lx(t,0,1),this.yoyo&&(t=ue(t)),t}setProgress(t){t=lx(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var n=this.remainder<=0;return n&&this.runCallback(this.onComplete),n}}let b5=class extends zs{allocate(){return this.pop()}free(e){e.onFree(),this.push(e)}freeMultiple(e){for(var t=0,i=e.length;t<i;t++)this.free(e[t]);return this}};const O5=Phaser.Utils.Objects.GetValue,M5=new b5;class A5 extends HS{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=O5(i,"pool",M5)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new w5(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,n,y){var S=this.addTimer({duration:t,onComplete:function(r,T,s){n===void 0&&(n=[]),n.push(s),i.apply(y,n)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var n=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){n.remove(),n=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],n=[this.addedTimers,this.timers],y=0,S=n.length;y<S;y++)for(var r=n[y],T=0,s=r.length;T<s;T++){var o=r[T];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var n=[],y=0,S=this.timers.length;y<S;y++){var r=this.timers[y],T=r.update(this.now,this.delta);T?this.timerPool.free(r):n.push(r)}this.timers=n,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const R5="_wait.complete",L5="_remove.wait";var F5=function(e,t,i,n,y){var S=Va(e),r=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(n,y)})});return r};let jS=class{constructor(e){e||(this.setEventEmitter(!0),e=this),this.parent=e,this.waitId=0,this.waitCompleteEventName=R5,this.removeWaitEventsEventName=L5}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(e,t,i){var n=this.getWaitCompleteTriggerCallback(i);return e.once(t,n,this),this.parent.once(this.removeWaitEventsEventName,function(){e.off(t,n,this)}),this.parent}getWaitCompleteTriggerCallback(e){e===void 0&&(e=!0);var t=this.waitId,i=this,n=function(){t<i.waitId||(i.waitId++,i.removeWaitEvents(),i.parent.emit(i.waitCompleteEventName))};if(e){var y=function(){F5(i.parent,0,n)};return y}else return n}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(e,t){return this.parent.on(this.waitCompleteEventName,e,t),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(jS.prototype,eh);const D5={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var I5=function(e,t){var i=`(?<!\\\\)\\${t}`,n=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(y){return y.replace(n,t)})};const B5={setClickTarget(e){return this.clickTarget=e,e?An(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=I5(e,"|"),n=0,y=i.length;n<y;n++)this.waitEvent(t,`keydown-${i[n].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},k5={waitGameObjectTweenComplete(e,t,i){var n=this.parent.getGameObjectTweenTask(e,t,i);return n?this.waitEvent(n,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,n){var y=this.parent.getGameObject(e,t);if(!y)return this.waitTime(0);if(y.getData(i)===n)return this.waitTime(0);var S=`changedata-${i}`,r=function(T,s,o){s=!!s,s===n&&T.emit("_dataFlagMatch")};return y.on(S,r),this.parent.once(this.removeWaitEventsEventName,function(){y.off(S,r)}),this.waitEvent(y,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,n=!1;for(var y in i)n=!0,this.waitEvent(i[y],"empty");return n?this.parent:this.waitTime(0)}}},N5={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var n,y;switch(e){case"camera.fadein":n=i.fadeEffect,y="camerafadeincomplete";break;case"camera.fadeout":n=i.fadeEffect,y="camerafadeoutcomplete";break;case"camera.flash":n=i.flashEffect,y="cameraflashcomplete";break;case"camera.shake":n=i.shakeEffect,y="camerashakecomplete";break;case"camera.zoom":n=i.zoomEffect,y="camerazoomcomplete";break;case"camera.rotate":n=i.rotateToEffect,y="camerarotatecomplete";break;case"camera.scroll":n=i.panEffect,y="camerapancomplete";break}return n.isRunning?this.waitEvent(i,y):this.waitTime(0)}},G5={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var z5=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var n=i.split(".");if(n.length===2){var y=n[0],S=n[1],r=this.parent.getGameObjectManager(void 0,y);if(!r)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,y);var T=r.getProperty(y,S);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,y,S);continue}var s=S,o=s.startsWith("!");if(o&&(s=s.substring(1)),r.hasData(y,S)){t=!0,this.waitGameObjectDataFlag(void 0,y,s,!o);continue}this.waitEvent(gameObject,S);continue}else n.length;break}return t||this.waitTime(0),this.parent},$S={waitAny:z5};Object.assign($S,D5,B5,k5,N5,G5);class KS extends jS{constructor(t,i){super(t),this.waitCompleteEventName=ie(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(ie(i,"clickTarget",this.scene)),this.setClickShortcutKeys(ie(i,"clickShortcutKeys",void 0)),this.setCameraTarget(ie(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(KS.prototype,$S);const nl=Phaser.Utils.Objects.GetValue;var U5=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=nl(t,"layers",!1);if(i!==!1){var n=new Zu(e,{name:"LAYER",layers:i,rootLayer:nl(t,"rootLayer",void 0),depth:nl(t,"layerDepth",void 0)});this.addGameObjectManager(n),this.layerManager=n}var y=nl(t,"sounds");return y!==!1&&(this.soundManager=new WS(e,y)),this.timeline=new A5(this),this.waitEventManager=new KS(this,t),this},X5=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},V5=function(){return this.timeline.timeScale},Y5=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const JS={addGameObjectManager(e,t){var i;return e instanceof Ia?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Ia),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},W5={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...n){return this.getGameObjectManager(e,t).call(t,i,...n),this},setGameObjectProperty(e,t,i,n){return this.getGameObjectManager(e,t).setProperty(t,i,n),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(!n)return i;if(typeof t=="string")return n.getGO(t);i===void 0&&(i=[]);var y=t;y===void 0&&(y=Object.keys(n.bobs));for(var S=Array.isArray(i),r=0,T=y.length;r<T;r++){t=y[r];var s=n.getGO(t);s&&(S?i.push(s):i[t]=s)}return i},addGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")n.addGO(t,i);else{var y=t;for(t in y)n.addGO(t,y[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var n=0,y=e.length;n<y;n++)this.getGameObjectManager(e[n]).drawGameObjectsBounds(t,i);return this}};var H5=function(e){class t extends e{}var i={initManagers:U5,setTimeScale:X5,getTimeScale:V5,destroyManagers:Y5};return Object.assign(t.prototype,i,JS,W5),t},ux={exports:{}},dx;function j5(){return dx||(dx=1,function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function y(s,o,m){this.fn=s,this.context=o,this.once=m||!1}function S(s,o,m,f,u){if(typeof m!="function")throw new TypeError("The listener must be a function");var h=new y(m,f||s,u),a=i?i+o:o;return s._events[a]?s._events[a].fn?s._events[a]=[s._events[a],h]:s._events[a].push(h):(s._events[a]=h,s._eventsCount++),s}function r(s,o){--s._eventsCount===0?s._events=new n:delete s._events[o]}function T(){this._events=new n,this._eventsCount=0}T.prototype.eventNames=function(){var s=[],o,m;if(this._eventsCount===0)return s;for(m in o=this._events)t.call(o,m)&&s.push(i?m.slice(1):m);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},T.prototype.listeners=function(s){var o=i?i+s:s,m=this._events[o];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,u=m.length,h=new Array(u);f<u;f++)h[f]=m[f].fn;return h},T.prototype.listenerCount=function(s){var o=i?i+s:s,m=this._events[o];return m?m.fn?1:m.length:0},T.prototype.emit=function(s,o,m,f,u,h){var a=i?i+s:s;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,d,v;if(l.fn){switch(l.once&&this.removeListener(s,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,o),!0;case 3:return l.fn.call(l.context,o,m),!0;case 4:return l.fn.call(l.context,o,m,f),!0;case 5:return l.fn.call(l.context,o,m,f,u),!0;case 6:return l.fn.call(l.context,o,m,f,u,h),!0}for(v=1,d=new Array(c-1);v<c;v++)d[v-1]=arguments[v];l.fn.apply(l.context,d)}else{var p=l.length,g;for(v=0;v<p;v++)switch(l[v].once&&this.removeListener(s,l[v].fn,void 0,!0),c){case 1:l[v].fn.call(l[v].context);break;case 2:l[v].fn.call(l[v].context,o);break;case 3:l[v].fn.call(l[v].context,o,m);break;case 4:l[v].fn.call(l[v].context,o,m,f);break;default:if(!d)for(g=1,d=new Array(c-1);g<c;g++)d[g-1]=arguments[g];l[v].fn.apply(l[v].context,d)}}return!0},T.prototype.on=function(s,o,m){return S(this,s,o,m,!1)},T.prototype.once=function(s,o,m){return S(this,s,o,m,!0)},T.prototype.removeListener=function(s,o,m,f){var u=i?i+s:s;if(!this._events[u])return this;if(!o)return r(this,u),this;var h=this._events[u];if(h.fn)h.fn===o&&(!f||h.once)&&(!m||h.context===m)&&r(this,u);else{for(var a=0,l=[],c=h.length;a<c;a++)(h[a].fn!==o||f&&!h[a].once||m&&h[a].context!==m)&&l.push(h[a]);l.length?this._events[u]=l.length===1?l[0]:l:r(this,u)}return this},T.prototype.removeAllListeners=function(s){var o;return s?(o=i?i+s:s,this._events[o]&&r(this,o)):(this._events=new n,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=i,T.EventEmitter=T,e.exports=T}(ux)),ux.exports}var $5=j5();const K5=Cw($5);class ZS extends K5{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const QS={setEventEmitter(e,t){return t===void 0&&(t=ZS),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var J5=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Z5=/^0x[0-9A-F]+$/i,lp=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(J5.test(e))e=parseFloat(e);else if(Z5.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let qS=class{constructor(e){this.setEventEmitter(ie(e,"eventEmitter",void 0)),this.setValueConverter(ie(e,"valueConvert",!0)),this.setLoopEnable(ie(e,"loop",!1)),this.setMultipleLinesTagEnable(ie(e,"multipleLinesTag",!1));var t=ie(e,"delimiters","<>");this.setDelimiters(t[0],t[1]),this.setTranslateTagNameCallback(ie(e,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(e){return e===void 0&&(e=!0),this.multipleLinesTagEnable=e,this}setDelimiters(e,t){t===void 0&&(t=e[1],e=e[0]),this.delimiterLeft=e,this.delimiterRight=t,e=Da(this.delimiterLeft),t=Da(this.delimiterRight);var i=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${e}(.+?)${t}`,i),this}setTranslateTagNameCallback(e){return this.translateTagNameCallback=e,this}setValueConverter(e){return e===!0?e=lp:e||(e=Q5),this.valueConverter=e,this}setLoopEnable(e){return e===void 0&&(e=!0),this.loopEnable=e,this}setSource(e){return this.source=e,this}resetIndex(e){return e===void 0&&(e=0),this.progressIndex=e,this.reSplit.lastIndex=e,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(e){return this.setSource(e).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var e=this.source,t=e.length;for(this.reSplit.lastIndex=this.progressIndex;;){var i=this.reSplit.exec(e);if(!i){if(this.progressIndex<t&&(this.onContent(e.substring(this.progressIndex,t)),this.isPaused)){this.progressIndex=t;break}this.onComplete(),this.isRunning=!1;return}var n=this.reSplit.lastIndex,y=n-i[0].length;if(this.progressIndex<y&&(this.onContent(e.substring(this.progressIndex,y)),this.isPaused)){this.progressIndex=y;break}if(this.lastTagSource=i[0],this.onTag(i[1]),this.lastTagSource=void 0,this.progressIndex=n,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(e,t){return this.isPaused?this:(this.pause(),e.once(t,function(){this.next()},this),this)}onContent(e){this.skipEventFlag=!1,this.emit("content",e),this.lastContent=e}onTag(e){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const Q5=function(e){return e};Object.assign(qS.prototype,QS);var q5=function(e,t,i){if(e==null)return[];t===void 0&&(t=lp),i===void 0&&(i=",");for(var n=e.split(i),y=0,S=n.length;y<S;y++)n[y]=t(n[y]);return n};class _5 extends qS{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(ie(t,"regex.tag",void 0)),this.setValueExpression(ie(t,"regex.value",void 0));var i=ie(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=al),this.tagExpression=t,this}setValueExpression(t){return t||(t=al),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var n=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(n,"i"),this.tagExpression!==al||this.valueExpression!==al){var y=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=Da(this.delimiterLeft),i=Da(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${y})|(${S}))${i}`,r)}return this}onTag(t){var i=t.match(this.reTag),n=i[1],y=n.charAt(0)==="/";if(y&&(n=n.substring(1,n.length)),this.translateTagNameCallback&&(n=this.translateTagNameCallback(n)),this.skipEventFlag=!1,y)this.emit(`-${n}`),this.skipEventFlag||this.emit("-",n),this.lastTagEnd=n;else{var S=q5(i[3],this.valueConverter);this.emit(`+${n}`,...S),this.skipEventFlag||this.emit("+",n,...S),this.lastTagStart=n}}}const al="[^=]+";var tD=function(e,t,i){var n="color",y;t.on("start",function(){y=e.textStyle.color}).on(`+${n}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setColor(y),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(y)})},eD=function(e,t,i){var n="stroke",y;t.on("start",function(){y=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(y)})},iD=function(e,t,i){var n="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${n}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},sD=function(e,t,i){var n="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${n}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},rD=function(e,t,i){var n="size",y;t.on("start",function(){y=e.textStyle.fontSize}).on(`+${n}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setFontSize(y),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(y)})},nD=function(e,t,i){var n="y",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},aD=function(e,t,i){var n="x",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},oD=function(e,t,i){var n="left",y;t.on("start",function(){y=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},hD=function(e,t,i){var n="right",y;t.on("start",function(){y=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},lD=function(e,t,i){var n="shadow",y;t.on("start",function(){y=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${n}`,function(S){S===void 0&&(S=y),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(y)})},uD=function(e,t,i){var n="align";t.on(`+${n}`,function(y){e.textStyle.setAlign(y),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},dD=function(e,t,i){var n="img";t.on(`+${n}`,function(y){var S=e.imageManager.get(y);S&&PS.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},fD=function(e,t,i){var n="space";t.on(`+${n}`,function(y){ES.call(e,y),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},cD=function(e,t,i){var n="speed";t.on(`+${n}`,function(y){fx(e,y),t.skipEvent()}).on(`-${n}`,function(){fx(e,void 0),t.skipEvent()})},vD=function(e){this.typeWriter.setTypingSpeed(e)},fx=function(e,t){It.call(e,"speed",vD,t,e)},pD=function(e,t,i){var n="se";t.on(`+${n}`,function(y,S){It.call(e,n,gD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2";t.on(`+${n}`,function(y,S){It.call(e,n,mD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},gD=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},mD=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},xD=function(e,t,i){var n="se.fadein";t.on(`+${n}`,function(y){It.call(e,n,yD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadein";t.on(`+${n}`,function(y){It.call(e,n,TD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},yD=function(e){this.soundManager.fadeInSoundEffect(e)},TD=function(e){this.soundManager.fadeInSoundEffect2(e)},CD=function(e,t,i){var n="se.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",It.call(e,n,SD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",It.call(e,n,PD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},SD=function(e){this.soundManager.fadeOutSoundEffect(...e)},PD=function(e){this.soundManager.fadeOutSoundEffect2(...e)},ED=function(e,t,i){var n="se.volume";t.on(`+${n}`,function(y){It.call(e,n,wD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.volume";t.on(`+${n}`,function(y){It.call(e,n,bD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},wD=function(e){this.soundManager.setSoundEffectVolume(e,!0)},bD=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},OD=function(e,t,i){var n="se.mute";t.on(`+${n}`,function(){It.call(e,n,MD,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.mute";t.on(`+${n}`,function(){It.call(e,n,AD,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se.unmute";t.on(`+${n}`,function(){It.call(e,n,RD,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.unmute";t.on(`+${n}`,function(){It.call(e,n,LD,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},MD=function(){this.soundManager.setSoundEffectMute(!0)},AD=function(){this.soundManager.setSoundEffect2Mute(!0)},RD=function(){this.soundManager.setSoundEffectMute(!1)},LD=function(){this.soundManager.setSoundEffect2Mute(!1)},FD=function(e,t,i){var n="bgm";t.on(`+${n}`,function(y,S){It.call(e,n,DD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){It.call(e,"bgm.stop",ID,void 0,e),t.skipEvent()});var n="bgm2";t.on(`+${n}`,function(y,S){It.call(e,n,BD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){It.call(e,"bgm2.stop",kD,void 0,e),t.skipEvent()})},DD=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},ID=function(){this.soundManager.stopBackgroundMusic()},BD=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},kD=function(){this.soundManager.stopBackgroundMusic2()},ND=function(e,t,i){var n="bgm.fadein";t.on(`+${n}`,function(y){It.call(e,n,GD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadein";t.on(`+${n}`,function(y){It.call(e,n,zD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},GD=function(e){this.soundManager.fadeInBackgroundMusic(e)},zD=function(e){this.soundManager.fadeInBackgroundMusic2(e)},UD=function(e,t,i){var n="bgm.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",It.call(e,n,XD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadeout";t.on(`+${n}`,function(y,S){S=S==="stop",It.call(e,n,VD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},XD=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},VD=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},YD=function(e,t,i){var n="bgm.cross";t.on(`+${n}`,function(y,S){It.call(e,n,WD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.cross";t.on(`+${n}`,function(y,S){It.call(e,n,HD,[y,S],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},WD=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},HD=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},jD=function(e,t,i){var n="bgm.pause";t.on(`+${n}`,function(){It.call(e,n,$D,void 0,e),t.skipEvent()}).on(`-${n}`,function(){It.call(e,"bgm.resume",KD,void 0,e),t.skipEvent()});var n="bgm2.pause";t.on(`+${n}`,function(){It.call(e,n,JD,void 0,e),t.skipEvent()}).on(`-${n}`,function(){It.call(e,"bgm2.resume",ZD,void 0,e),t.skipEvent()})},$D=function(){this.soundManager.pauseBackgroundMusic()},KD=function(){this.soundManager.resumeBackgroundMusic()},JD=function(){this.soundManager.pauseBackgroundMusic2()},ZD=function(){this.soundManager.resumeBackgroundMusic2()},QD=function(e,t,i){var n="bgm.volume";t.on(`+${n}`,function(y){It.call(e,n,qD,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.volume";t.on(`+${n}`,function(y){It.call(e,n,_D,y,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},qD=function(e){this.soundManager.setBackgroundMusicVolume(e)},_D=function(e){this.soundManager.setBackgroundMusicVolume2(e)},tI=function(e,t,i){var n="bgm.mute";t.on(`+${n}`,function(){It.call(e,n,eI,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.mute";t.on(`+${n}`,function(){It.call(e,n,iI,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm.unmute";t.on(`+${n}`,function(){It.call(e,n,sI,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.unmute";t.on(`+${n}`,function(){It.call(e,n,rI,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},eI=function(){this.soundManager.setBackgroundMusicMute(!0)},iI=function(){this.soundManager.setBackgroundMusic2Mute(!0)},sI=function(){this.soundManager.setBackgroundMusicMute(!1)},rI=function(){this.soundManager.setBackgroundMusic2Mute(!1)},nI=function(e,t,i){var n="camera.fadein";t.on(`+${n}`,function(y,S,r,T){It.call(e,n,aI,[y,S,r,T],e),t.skipEvent()})},aI=function(e){this.cameraTarget.fadeIn(...e)},oI=function(e,t,i){var n="camera.fadeout";t.on(`+${n}`,function(y,S,r,T){It.call(e,n,hI,[y,S,r,T],e),t.skipEvent()})},hI=function(e){this.cameraTarget.fadeOut(...e)},lI=function(e,t,i){var n="camera.shake";t.on(`+${n}`,function(y,S){It.call(e,n,uI,[y,S],e),t.skipEvent()})},uI=function(e){this.cameraTarget.shake(...e)},dI=function(e,t,i){var n="camera.flash";t.on(`+${n}`,function(y,S,r,T){It.call(e,n,fI,[y,S,r,T],e),t.skipEvent()})},fI=function(e){this.cameraTarget.flash(...e)},cI=function(e,t,i){var n="camera.zoom";t.on(`+${n}`,function(y){It.call(e,n,vI,y,e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r){It.call(e,"camera.zoom.to",pI,[y,S,r],e),t.skipEvent()})},vI=function(e){this.cameraTarget.setZoom(e)},pI=function(e){this.cameraTarget.zoomTo(...e)};const cx=Phaser.Math.DegToRad;var gI=function(e,t,i){var n="camera.rotate";t.on(`+${n}`,function(y){y=cx(y),It.call(e,n,mI,y,e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r){y=cx(y),It.call(e,"camera.rotate.to",xI,[y,S,r],e),t.skipEvent()})},mI=function(e){this.cameraTarget.setRotation(e)},xI=function(e){var t=e[0],i=e[1],n=e[2];this.cameraTarget.rotateTo(t,!1,i,n)},yI=function(e,t,i){var n="camera.scroll";t.on(`+${n}`,function(y,S){It.call(e,n,TI,[y,S],e),t.skipEvent()}).on(`+${n}.to`,function(y,S,r,T){It.call(e,"camera.scroll.to",CI,[y,S,r,T],e),t.skipEvent()})},TI=function(e){this.cameraTarget.setScroll(...e)},CI=function(e){var t=e[0],i=e[1],n=e[2],y=e[3],S=this.cameraTarget,r=S.scrollX,T=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(r,T),S.pan(t,i,n,y)},SI=function(e,t,i){var n="wait",y="click";t.on(`+${n}`,function(S){vx(e,S),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()}).on(`+${y}`,function(){vx(e,"click"),t.skipEvent()}).on(`-${y}`,function(){t.skipEvent()})},PI=function(e){this.typeWriter.wait(e)},vx=function(e,t){It.call(e,"wait",PI,t,e)},EI=function(e,t,i){var n="r";t.on(`+${n}`,function(){th.call(e,`
`),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},wI=function(e,t,i){for(var n=["pagebreak","pb"],y=0,S=n.length;y<S;y++){var r=n[y];t.on(`+${r}`,function(){th.call(e,"\f"),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})}},bI=function(e,t,i){var n="content.off";t.on(`+${n}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},OI=function(e,t,i){var n="content.on";t.on(`+${n}`,function(){t.setContentOutputEnable(),t.skipEvent()})},MI=function(e,t,i){t.on("content",function(n){if(t.contentOutputEnable)th.call(e,n);else{var y=`+${t.lastTagStart}`;e.emit(`parser.${y}#content`,t,n)}})},AI=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(n,...y){if(!t.skipEventFlag){var S=`+${n}`,r=y;e.emit(`parser.${S}`,t,...y,r),px(e,S,r)}}).on("-",function(n){if(!t.skipEventFlag){var y=`-${n}`,S=[];e.emit(`parser.${y}`,t,S),px(e,y,S)}}).on("complete",function(){e.emit("parser.complete",t)})},RI=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},px=function(e,t,i){It.call(e,t,RI,i,e)};const gx=[tD,eD,iD,sD,rD,lD,uD,nD,aD,oD,hD,dD,fD,cD,pD,xD,CD,ED,OD,FD,ND,UD,YD,jD,QD,tI,nI,oI,lI,dI,cI,gI,yI,SI,EI,wI,bI,OI,MI,AI];var LI=function(e,t,i){for(var n=0,y=gx.length;n<y;n++)gx[n](e,t,i)},FI=function(e,t){for(var i=e.commentLineStart,n=t.split(`
`),y=0,S=n.length;y<S;y++){var r=n[y];r===""||(r.trim().length===0||i&&r.startsWith(i))&&(n[y]="")}return n.join("")};const DI=Phaser.Utils.Objects.GetValue;class II extends _5{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),LI(t,this,i),this.setCommentLineStartSymbol(DI(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(FI(this,t)),this}}const BI={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},Pn="page.fadeout",Sv="_remove.play",mx=[Pn,Sv];var kI=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(Pn),this;var e=this.children.filter(function(n){return n.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(Pn);else if(t.once)t.once("complete",function(){this.emit(Pn)},this);else if(t.then){var i=this;t.then(function(){i.emit(Pn)})}else this.emit(Pn);return this},_u=function(e,t){return new Promise(function(i,n){e.once(t,function(){i()})})},si=function(e){return _u(e,"complete")},NI=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),si(this)};const GI="delay",_S="anim";var tP=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var n=this.animationConfig;if(n.duration>0){var y=this.timeline.addTimer({name:_S,target:i,duration:n.duration,yoyo:n.yoyo,onStart:n.onStart,onProgress:n.onProgress,onComplete:n.onComplete});this.skipTypingAnimation&&y.seek(1)}else n.onStart&&n.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&M3(S))&&(t+=this.speed+e,e=0,t>0)){this.typingTimer=this.timeline.addTimer({name:GI,target:this,duration:t,onComplete:function(r,T,s){r.typingTimer=void 0,tP.call(r,s.remainder)}});break}}else A3(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},zI=function(){return this.timeline.pause(),this},UI=function(){return this.timeline.resume(),this},XI=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},VI=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},YI=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},WI=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},HI=function(e,t,i,n){var y=e.waitEventManager,S=t.split("."),r=S[0],T=e.getGameObjectManager(r),s=`wait.${r}`;switch(S.length){case 1:y.waitGameObjectManagerEmpty(r),e.emit(s);return;case 2:var o=S[1];y.waitGameObjectDestroy(r,o),e.emit(s,o);return;case 3:var o=S[1],m=S[2],f=T.getProperty(o,m);if(typeof f=="number"){y.waitGameObjectTweenComplete(r,o,m),e.emit(s,o,m);return}var u=m,h=u.startsWith("!");if(h&&(u=u.substring(1)),T.hasData(o,u)){y.waitGameObjectDataFlag(r,o,u,!h),e.emit(s,o,u);return}else{y.waitTime(0);return}}};const jI=Phaser.Input.Keyboard.KeyCodes;var eP=function(e,t,i,n){var y=e.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,r=t.length;S<r;S++){var T=t[S];if(T==null||T==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof T=="number"||!isNaN(T)){var o=parseFloat(T);y.waitTime(o),e.emit("wait.time",o)}else if(T==="click")y.waitClick(),e.emit("wait.click");else if(T==="se"){y.waitSoundEffectComplete();var m=e.soundManager.getLastSoundEffect();e.emit("wait.music",m)}else if(T==="se2"){y.waitSoundEffect2Complete();var m=e.soundManager.getLastSoundEffect2();e.emit("wait.music",m)}else if(T==="bgm"){y.waitBackgroundMusicComplete();var m=e.soundManager.getBackgroundMusic();e.emit("wait.music",m)}else if(T==="bgm2"){y.waitBackgroundMusic2Complete();var m=e.soundManager.getBackgroundMusic2();e.emit("wait.music",m)}else if(jI.hasOwnProperty(T.toUpperCase()))y.waitKeyDown(T),e.emit("wait.keydown",T);else if(YI(T))y.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(WI(e,T))HI(e,T);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,s)}}},$I=function(e){return this.ignoreWait?this:(this.pauseTyping(),eP(this.textPlayer,e,this.resumeTyping,this),this)},KI=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},JI=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},ZI=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(_S),i=0,n=t.length;i<n;i++)t[i].seek(1);return this},QI=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},qI=function(){return this.typingTimer&&this.typingTimer.seek(1),this},iP={fadeOutPage:kI,start:NI,typing:tP,pause:zI,resume:UI,pauseTyping:XI,resumeTyping:VI,wait:$I,setIgnoreWait:KI,setSkipSpaceEnable:JI,setSkipTypingAnimation:ZI,setSkipSoundEffect:QI,skipCurrentTypingDelay:qI};Object.assign(iP,BI);const ia=Phaser.Utils.Objects.GetValue;class sP{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(ia(i,"onTypingStart",t9)),this.setDefaultTypingSpeed(ia(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(ia(i,"skipSpace",!1)),this.setAnimationConfig(ia(i,"animation",void 0)),this.setMinSizeEnable(ia(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(ia(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=_I),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var _I=function(e){e.setVisible&&e.setVisible()},t9=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];n.setVisible&&n.setVisible(!1)}};Object.assign(sP.prototype,eh,iP);class e9 extends ap{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const i9={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var rP={};Object.assign(rP,i9);var nP=function(e){return!e||e==="sprite"?e=s9:e==="image"&&(e=r9),e},s9=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},r9=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class aP extends Ia{constructor(t,i){i===void 0&&(i={}),i.BobClass=e9,super(t,i)}setCreateGameObjectCallback(t,i){return t=nP(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(aP.prototype,rP);var xx=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},n9=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},a9=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T;if(xx(r,n))T=r[1];else return;It.call(e,`${n}.play`,o9,[n,T,S],e),t.skipEvent()}}).on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(n9(S,n))r=S[1];else return;It.call(e,`${n}.stop`,yx,[n,r],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(xx(S,n))r=S[1];else return;It.call(e,`${n}.stop`,yx,[n,r],e),t.skipEvent()}})},o9=function(e){var t,i,n;[t,i,n]=e;var y=n.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,y),n.length>0&&S.chainAnimation(i,n)},yx=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.stopAnimation(...i)},h9=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},l9=function(e,t,i){var n=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(h9(S,n))r=S[1];else return;It.call(e,`${n}.pause`,u9,[n,r],e),t.skipEvent()}})},u9=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.pauseAnimation(...i)},d9=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},f9=function(e,t,i){var n=i.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(d9(S,n))r=S[1];else return;var T=Array.prototype.slice.call(arguments,1);It.call(e,`${n}.chain`,c9,[n,r,T],e),t.skipEvent()}})},c9=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.chainAnimation(...i)};const v9=[a9,l9,f9];var p9=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=v9,e.createGameObject=nP(e.createGameObject),this.addGameObjectManager(e,aP)},Tx=function(e,t){return e.length===2&&e[0]===t},g9=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T;if(Tx(r,n))T=r[1];else return;It.call(e,`${n}.add`,m9,[n,T,...S],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(Tx(S,n))r=S[1];else return;It.call(e,`${n}.remove`,x9,[n,r],e),t.skipEvent()}})},m9=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.add(...i)},x9=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.remove(...i)},y9=function(e,t,i){var n=i.name;t.on("-",function(y){t.skipEventFlag||y===n&&(It.call(e,`${n}.removeall`,T9,n,e),t.skipEvent())})},T9=function(e){var t=this.getGameObjectManager(e);t.removeAll()},C9=function(e,t){return e.length===3&&e[0]===t},S9=function(e,t,i){var n=i.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),T,s;if(C9(r,n))T=r[1],s=r[2];else return;It.call(e,`${n}.call`,P9,[n,T,s,...S],e),t.skipEvent()}})},P9=function(e){var t,i,n,y;[t,i,n,...y]=e;var S=`${t}.${n}`;if(this.emit(S,i,...y),!(this.listenerCount(S)>0)){var r=this.getGameObjectManager(t);r.hasMethod(i,n)?r.call(i,n,...y):r.setProperty(i,n,y[0])}},E9={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},w9=function(e,t){return e.length===4&&e[0]===t&&E9[e[3]]},b9=function(e,t,i){var n=i.name;e.getGameObjectManager(n),t.on("+",function(y,S,r,T,s){if(!t.skipEventFlag){var o=y.split("."),m,f,u;if(w9(o,n))m=o[1],f=o[2],u=o[3];else return;typeof T=="number"&&(s=T,T=void 0),It.call(e,`${n}.ease`,O9,[n,m,f,S,r,T,s,u],e),t.skipEvent()}})},O9=function(e){var t,i,n,y,S,r,T,s;[t,i,n,y,S,r,T,s]=e;var o=this.getGameObjectManager(t),m=o.getProperty(i,n);if(typeof m=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?y=m-y:s.startsWith("from")&&(o.setProperty(i,n,m-y),y=m):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?y=m+y:s.startsWith("from")&&(o.setProperty(i,n,m+y),y=m):s==="from"&&(o.setProperty(i,n,y),y=m);var f=s.startsWith("yoyo");o.easeProperty(i,{property:n,value:y,duration:S,ease:r,repeat:T,yoyo:f})}};const Cx=[g9,y9,S9,b9],M9=JS.addGameObjectManager,A9={addGameObjectManager(e,t){e=e?ms(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var n=e.defaultLayer,y=e.createGameObject,S=this.layerManager;e.createGameObject=function(o,...m){var f=y.call(this,o,...m);return n&&S&&S.addToLayer(n,f),f},M9.call(this,e,t);var r=e.parseCallbacks;r?r=[...r,...Cx]:r=Cx;for(var T=0,s=r.length;T<s;T++)r[T](this,this.parser,e);return this}};var R9=function(e){return this.waitEventManager.setClickTarget(e),this},L9=function(e){return this.waitEventManager.setCameraTarget(e),this},F9=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,n){var y=t.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n);var S=y.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,n){eP(t,e,i,n)}:this.nextPageInput=null},D9=function(e,t){return this.imageManager.add(e,t),this};const I9={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=si(this);return this.play(e),t}};var Pv=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(Pn,B9,this).fadeOutPage(),this)},B9=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(Sv),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Pv.call(this):this.nextPageInput&&this.nextPageInput(Pv,this))};this.once(Sv,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const k9={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},N9={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var G9=function(e){return this.typeWriter.wait(e),this};const z9={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var U9=function(e){return this.typeWriter.setIgnoreWait(e),this},X9=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},V9=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,n=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(n)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const Y9={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},W9={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var oP={setClickTarget:R9,setCameraTarget:L9,setNextPageInput:F9,addImage:D9,typingNextPage:Pv,wait:G9,setIgnoreWait:U9,setIgnoreNextPageInput:X9,showPage:V9};Object.assign(oP,A9,I9,k9,N9,z9,Y9,W9);var H9=function(e){for(var t=0,i=mx.length;t<i;t++)e.emit(mx[t])};const Sx=Phaser.Utils.Objects.IsPlainObject,sa=Phaser.Utils.Objects.GetValue;class up extends H5(za){constructor(t,i,n,y,S,r){Sx(i)?r=i:Sx(y)&&(r=y),r===void 0&&(r={});var T=r.text;delete r.text,super(t,i,n,y,S,r),this.type="rexTextPlayer",this.initManagers(t,r),this.parser=new II(this,sa(r,"parser",void 0)),this.typeWriter=new sP(this,sa(r,"typing",void 0)),this._imageManager=void 0;var s=sa(r,"images",void 0);s&&this.addImage(s);var o=sa(r,"sprites");o!==!1&&o!==null&&p9.call(this,o),this.setIgnoreNextPageInput(sa(r,"ignoreNextPageInput",!1)),this.setNextPageInput(sa(r,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new tp(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(H9(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(up.prototype,oP);mt.register("textPlayer",function(e,t,i,n,y){var S=new up(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.TextPlayer",up);const hP={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},lP={direction:["direction",void 0]};var Nr=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var n=i;if(Array.isArray(n))for(var y=0,S=n.length;y<S;y++)Nr(e,t,n[y]);else for(var i in n)Nr(e,t,i)}},j9=function(e){e===void 0&&(e={});var t={};return Nr(e,t,"inputType"),Nr(e,t,"type"),Nr(e,t,"style"),Nr(e,t,lP),Nr(e,t,hP),t},dp=function(e,t,i,n,y){if(t)return!(i&&!i(e,t)||!Px(e,t)||n&&!n(e,t));y===void 0&&(y=!1);for(var S=e.scene.input.manager,r=S.pointersTotal,T=S.pointers,t,s=0;s<r;s++)if(t=T[s],!(i&&!i(e,t))&&Px(e,t)&&!(n&&!n(e,t)))return y?t:!0;return!1},Px=function(e,t){for(var i=e.scene,n=i.input.cameras.getCamerasBelowPointer(t),y=i.input.manager,S=[e],r=0,T=n.length;r<T;r++)if(y.hitTest(t,S,n[r],ol),ol.length>0)return ol.length=0,!0;return ol.length=0,!1},ol=[],Oa=void 0,$9=function(e){e!==Oa&&(Oa!==void 0&&Oa.close(),Oa=e)},K9=function(e){e===Oa&&(Oa=void 0)};const J9=Phaser.Utils.Objects.GetValue;var mu=function(e,t,i){i===void 0&&(i={});var n,y;for(var S in e)n=e[S],y=J9(t,S,n[1]),y!==void 0&&(i[n[0]]=y);return i},uP=function(e){e.addEventListener("touchstart",ra,!1),e.addEventListener("touchmove",ra,!1),e.addEventListener("touchend",ra,!1),e.addEventListener("mousedown",ra,!1),e.addEventListener("mouseup",ra,!1),e.addEventListener("mousemove",ra,!1)},ra=function(e){e.stopPropagation()},dP=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},Z9=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",dP,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(zS.call(this.clickOutSideTarget,this.parent),GS.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},Q9=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},q9=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",dP,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),Q9(this.node),this.node=void 0,this.emit("close",this)};const If=Phaser.Utils.Objects.GetValue;var _9=function(e,t){var i,n=If(t,"inputType",void 0);n===void 0&&(n=If(t,"type","text")),n==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=n);var y=If(t,"style",void 0),S=i.style;mu(lP,y,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",mu(hP,t,i),uP(i);var r=e.scene.sys.scale,T=r.isFullscreen?r.fullscreenTarget:document.body;return T.appendChild(i),i.addEventListener("focus",function(s){Z9.call(e)}),i.addEventListener("blur",function(s){q9.call(e)}),i},tB=function(){return this.isOpened?this:this.readOnly?this:($9(this),this.node||(this.node=_9(this,this.nodeConfig)),this.setFocus(),this)},eB=function(){return this.isOpened?(K9(this),this.setBlur(),this):this},iB={open:tB,close:eB};const Ks=Phaser.Utils.Objects.GetValue;class fp extends ye{constructor(t,i){super(t);var n=Ks(i,"inputType",void 0);n===void 0&&(n=Ks(i,"type","text")),this.setEnterCloseEnable(Ks(i,"enterClose",n!=="textarea"));var y=Ks(i,"onOpen",void 0);y||(y=Ks(i,"onFocus",void 0)),this.onOpenCallback=y,this.clickOutSideTarget=Ks(i,"clickOutSideTarget",void 0);var S=Ks(i,"onClose",void 0);S||(S=Ks(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=Ks(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=j9(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){dp(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(fp.prototype,iB);var fP=function(e,t,i){e=e.replace(" ","");var n=i.previousText;if(e===n)return e;if(isNaN(e)){i.emit("nan",e,i),e=n;var y=i.cursorPosition-1;i.setText(e),i.setCursorPosition(y)}else i.previousText=e;return e},sB=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,n=e.isOpened?e.selectionEnd:null,y=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(y===i&&S===n)){var r,T;y===null?(r=i,T=n):i===null?(r=y,T=S):(r=Math.min(y,i),T=Math.max(S,n));for(var s=r;s<T;s++){var o;y===null?o=!1:o=s>=y&&s<S;var m;if(i===null?m=!1:m=s>=i&&s<n,o!==m){var f=t.getCharChild(s);if(f){var u=o?"rangeout":"rangein";t.emit(u,f,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=n}},rB=function(e){var t=e.parent,i=0,n=t.width,y=0,S=t.height,r=e.drawX,T=e.drawY,s=r+e.drawTLX,o=r+e.drawTRX,m=T+e.drawTLY,f=T+e.drawBLY,u;s<i?u=i-s:o>n?u=n-o:u=0;var h;m<y?h=y-m:f>S?h=S-f:h=0,t._textOX+=u,t._textOY+=h},nB=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var n=e.cursorPosition;if(e.prevCursorPosition!==n){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var y=t.getCharChild(e.prevCursorPosition);y&&(y.text===`
`&&y.clearTextSize(),t.emit("cursorout",y,e.prevCursorPosition,t))}if(n!=null){var y=t.getCharChild(n);y&&(y.text===`
`&&y.copyTextSize(t.lastInsertCursor),rB(y),t.emit("cursorin",y,n,t))}t.emit("movecursor",n,e.prevCursorPosition,t),e.prevCursorPosition=n}},Ex=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,n=e.parent,y=t;y<i;y++){var S=n.getCharChild(y);S&&n.emit("cursorout",S,y,n)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},wx=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,n=i.getCharChild(t);n&&i.emit("cursorout",n,t,i),e.prevCursorPosition=null}};const aB=Phaser.Utils.Objects.GetValue;let oB=class extends fp{constructor(e,t){super(e,t),this.setSelectAllWhenFocusEnable(aB(t,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,e.on("pointerdown",function(i,n,y,S){var r=e.getNearestChild(n,y),T=e.getCharIndex(r);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(T),this.cursorMoveStartIndex=T,this.firstClickAfterOpen=!1},this).on("pointermove",function(i,n,y,S){if(i.isDown){var r=e.getNearestChild(n,y),T=e.getCharIndex(r);this.cursorMoveStartIndex<T?this.selectText(this.cursorMoveStartIndex,T+1):this.selectText(T,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,e.emit("open")},this).on("close",function(){e.emit("close")}).on("keydown-ENTER",function(){e.emit("keydown-ENTER")})}initText(){var e=this.parent;return this.prevCursorPosition=null,this.setText(e.text),this}updateText(){var e=this.parent,t=this.text;if(this.onUpdateCallback){var i=this.onUpdateCallback(t,e,this);i!=null&&(t=i)}return e.text!==t&&e.setText(t),this.isOpened?this.selectionStart!==this.selectionEnd?(wx(this),sB(this)):(Ex(this),nB(this)):(Ex(this),wx(this)),this}setNumberInput(){return this.onUpdateCallback=fP,this}setSelectAllWhenFocusEnable(e){return e===void 0&&(e=!0),this.selectAllWhenFocus=e,this}setRequestCursorPosition(e){return this.isOpened?(this.requestCursorPosition=e,this):this}};const hB=Phaser.Utils.Objects.GetValue,lB=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var uB=function(e,t){var i=hB(t,"edit");return i===void 0&&(i={}),Nr(t,i,lB),new oB(e,i)},tr=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),n=e,y=0;y<i.length;y++)if(n.hasOwnProperty(i[y]))n=n[i[y]];else return!1;return!0}else return!1},Ev=function(e){if(e.parentContainer)return Ev(e.parentContainer);var t=NS(e);return t?Ev(t):e},dB=function(e){for(var t=Ev(e).cameraFilter,i=e.scene.sys.cameras.cameras,n,y,S=0,r=i.length;S<r;S++)if(n=i[S],y=(t&n.id)>0,!y)return n;return null};class cP extends ye{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,n=dB(i);if(n){i.setScrollFactor(0).setOrigin(.5);var y=t.sys.scale.gameSize,S=y.width,r=y.height,T=1/n.zoom,s=S/2,o=r/2,m=S*T,f=r*T;(i.x!==s||i.y!==o)&&i.setPosition(s,o),(i.width!==m||i.height!==f)&&i.setSize(m,f)}}}const fB=Phaser.GameObjects.Zone;let cp=class extends fB{constructor(e){super(e,0,0,2,2),this.fullWindow=new cP(this)}};var cB=function(e,t){var i=!t.textArea;if(!tr(t,"wrap.vAlign")){var n=i?"center":"top";pt(t,"wrap.vAlign",n)}if(tr(t,"wrap.wrapMode")||pt(t,"wrap.wrapMode","char"),!tr(t,"wrap.maxLines")){var n=i?1:void 0;pt(t,"wrap.maxLines",n)}if(i&&pt(t,"wrap.wrapWidth",1/0),tr(t,"wrap.useDefaultTextHeight")||pt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!tr(t.edit,"inputType")){var n=i?"text":"textarea";pt(t.edit,"inputType",n)}if(t.clickOutSideTarget===!0){var y=new cp(e);e.add.existing(y),t.clickOutSideTarget=y}return t},nu=function(e,t,i,n){if(i===void 0&&(i="."),n===void 0&&(n={}),!e)return n;if(t in e)return Object.assign(n,e[t]);t+=i;for(var y in e)y.startsWith(t)&&(n[y.replace(t,"")]=e[y]);return n},vB=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},td=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var n,y=0,S=t.length;y<S;y++)n=t[y],i[n]=e[n];else for(var n in t)i[n]=e[n];return i},rh=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},pB=function(e){ih(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,n=td(t.style,i);rh(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},gB=function(e){ih(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,n=td(t.style,i);rh(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},mB=function(e){ih(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,n=td(t,i);rh(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},xB=function(e){var t=e.createCharChild("|");return t.text="",t};function hr(){}hr.prototype={diff(e,t,i={}){let n=i.callback;typeof i=="function"&&(n=i,i={}),this.options=i;let y=this;function S(h){return n?(setTimeout(function(){n(void 0,h)},0),!0):h}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let r=t.length,T=e.length,s=1,o=r+T;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let m=[{newPos:-1,components:[]}],f=this.extractCommon(m[0],t,e,0);if(m[0].newPos+1>=r&&f+1>=T)return S([{value:this.join(t),count:t.length}]);function u(){for(let h=-1*s;h<=s;h+=2){let a,l=m[h-1],c=m[h+1],d=(c?c.newPos:0)-h;l&&(m[h-1]=void 0);let v=l&&l.newPos+1<r,p=c&&0<=d&&d<T;if(!v&&!p){m[h]=void 0;continue}if(!v||p&&l.newPos<c.newPos?(a=TB(c),y.pushComponent(a.components,void 0,!0)):(a=l,a.newPos++,y.pushComponent(a.components,!0,void 0)),d=y.extractCommon(a,t,e,h),a.newPos+1>=r&&d+1>=T)return S(yB(y,a.components,t,e,y.useLongestToken));m[h]=a}s++}if(n)(function h(){setTimeout(function(){if(s>o)return n();u()||h()},0)})();else for(;s<=o;){let h=u();if(h)return h}},pushComponent(e,t,i){let n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,n){let y=t.length,S=i.length,r=e.newPos,T=r-n,s=0;for(;r+1<y&&T+1<S&&this.equals(t[r+1],i[T+1]);)r++,T++,s++;return s&&e.components.push({count:s}),e.newPos=r,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function yB(e,t,i,n,y){let S=0,r=t.length,T=0,s=0;for(;S<r;S++){let m=t[S];if(m.removed){if(m.value=e.join(n.slice(s,s+m.count)),s+=m.count,S&&t[S-1].added){let f=t[S-1];t[S-1]=t[S],t[S]=f}}else{if(!m.added&&y){let f=i.slice(T,T+m.count);f=f.map(function(u,h){let a=n[s+h];return a.length>u.length?a:u}),m.value=e.join(f)}else m.value=e.join(i.slice(T,T+m.count));T+=m.count,m.added||(s+=m.count)}}let o=t[r-1];return r>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[r-2].value+=o.value,t.pop()),t}function TB(e){return{newPos:e.newPos,components:e.components.slice(0)}}const CB=new hr;function SB(e,t,i){return CB.diff(e,t,i)}const bx=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,Ox=/\S/,vP=new hr;vP.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Ox.test(e)&&!Ox.test(t)};vP.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&bx.test(t[i])&&bx.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const pP=new hr;pP.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let y=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=y:(this.options.ignoreWhitespace&&(y=y.trim()),t.push(y))}return t};const PB=new hr;PB.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const EB=new hr;EB.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const wB=Object.prototype.toString,Xo=new hr;Xo.useLongestToken=!0;Xo.tokenize=pP.tokenize;Xo.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(n,y)=>typeof y>"u"?t:y}=this.options;return typeof e=="string"?e:JSON.stringify(wv(e,null,null,i),i,"  ")};Xo.equals=function(e,t){return hr.prototype.equals.call(Xo,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function wv(e,t,i,n,y){t=t||[],i=i||[],n&&(e=n(y,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let r;if(wB.call(e)==="[object Array]"){for(t.push(e),r=new Array(e.length),i.push(r),S=0;S<e.length;S+=1)r[S]=wv(e[S],t,i,n,y);return t.pop(),i.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),r={},i.push(r);let T=[],s;for(s in e)e.hasOwnProperty(s)&&T.push(s);for(T.sort(),S=0;S<T.length;S+=1)s=T[S],r[s]=wv(e[s],t,i,n,s);t.pop(),i.pop()}else r=e;return r}const bv=new hr;bv.tokenize=function(e){return e.slice()};bv.join=bv.removeEmpty=function(e){return e};const bB=Phaser.Utils.Array.Remove;var OB=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),bB(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var n=SB(i,t),y=0,S=0,r=n.length;S<r;S++){var T=n[S];T.removed?e.removeText(y,T.count):(T.added&&e.insertText(y,T.value),y+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const MB={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},hl=Phaser.Math.Clamp;var Mx=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var n=0,y=e.length;n<y;n++){var S=e[n];if(t<=S){i.lineIndex=n;break}t-=S}return i.position=t,i},Ax=function(e,t){var i=0,n=t.lineIndex;if(n<0)return i;for(var y=0,S=e.length;y<S;y++){var r=e[y];if(n>y)i+=r;else if(n===y)i+=Math.min(t.position,r);else break}return i};const AB={cursorMoveLeft(){if(!this.isOpened)return this;var e=hl(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=hl(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=Mx(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=hl(Ax(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=Mx(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=hl(Ax(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},Rx=Phaser.Utils.Objects.IsPlainObject;class nh extends za{constructor(t,i,n,y,S,r){Rx(i)?r=i:Rx(y)&&(r=y),r===void 0&&(r={}),cB(t,r);var T=r.text;T&&delete r.text;var s=nu(r.background,"focus"),o=nu(r.style,"cursor"),m=nu(r.style,"range");super(t,i,n,y,S,r),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=uB(this,r),vB.call(this),r.focusStyle&&Object.assign(s,r.focusStyle),mB.call(this,s),r.cursorStyle&&Object.assign(o,r.cursorStyle),pB.call(this,o),r.rangeStyle&&Object.assign(m,r.rangeStyle),ih(m)&&Object.assign(m,o),gB.call(this,m);var f=r.onAddChar;f&&this.on("addchar",f);var u=r.onCursorIn;u&&this.on("cursorin",u);var h=r.onCursorOut;h&&this.on("cursorout",h);var a=!r.onRangeIn&&!r.onRangeOut,l=a?r.onCursorIn:r.onRangeIn;l&&this.on("rangein",l);var c=a?r.onCursorOut:r.onRangeOut;c&&this.on("rangeout",c);var d=r.onMoveCursor;d&&this.on("movecursor",d),this.setParseTextCallback(r.parseTextCallback),this.lastInsertCursor=xB(this),T||(T=""),this.setText(T)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var n=t,y=0,S=n.length;y<S;y++){var t=n[y];Rn(t)&&this.emit("addchar",t,i+y,this)}else Rn(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(OB(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var n=i.lines,y=0,S=n.length;y<S;y++){for(var r=n[y].children,T=0,s=0,o=r.length;s<o;s++){var m=r[s];m.active&&!m.removed&&Rn(m)&&T++}this.characterCountOfLines.push(T)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=RB),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var RB=function(e){return e};Object.assign(nh.prototype,MB,AB);mt.register("canvasInput",function(e,t,i,n,y){var S=new nh(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.CanvasInput",nh);var vp=function(e){return Fn(e).loop.delta};const Lx=Phaser.Utils.Objects.GetValue,LB=Phaser.Math.Wrap;class gP extends fp{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=fP),super(t,i),this.setCursor(Lx(i,"cursor","|")),this.setCursorFlashDuration(Lx(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}if(this.isOpened&&this.hasCursor){var y=this.cursorPosition;i=i.substring(0,y)+this.cursor+i.substring(y),this.prevCursorPosition!==y&&(this.prevCursorPosition=y)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+vp(this.scene);return this.cursorFlashTimer=LB(i,0,this.cursorFlashDuration),t}}mt.register("hiddenEdit",function(e,t){var i=new gP(e,t);return i});pt(window,"RexPlugins.UI.HiddenEdit",gP);const FB=Phaser.GameObjects.GetCalcMatrix;var DB=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=FB(t,i,n),r=y.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,s=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var m=t.geom,f,u=0,h=m.length;u<h;u++)f=m[u],f.visible&&f.webglRender(y,r,o,T,s);e.pipelines.postBatch(t)};const IB=Phaser.Renderer.Canvas.SetTransform;var BB=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var y=e.currentContext;if(IB(e,y,t,i,n)){for(var S=t._displayOriginX,r=t._displayOriginY,T=t.geom,s,o=0,m=T.length;o<m;o++)s=T[o],s.visible&&s.canvasRender(y,S,r);y.restore()}};const kB={renderWebGL:DB,renderCanvas:BB},NB=Phaser.GameObjects.Shape,GB=Phaser.Utils.Array.Remove;class lr extends NB{constructor(t,i,n,y,S){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=y),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,n),this.setSize(y,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==n,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=n,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,n=t.length;i<n;i++){var y=t[i];y.dirty&&y.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Yr(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],GB(this.geom,i)),this}}Object.assign(lr.prototype,kB);const zB={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},UB={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var XB=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},VB=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const YB={fillStyle:XB,lineStyle:VB};class ed{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,n,y,S){}canvasRender(t,i,n){}updateData(){this.dirty=!1}}Object.assign(ed.prototype,YB,ju);const WB=Phaser.Geom.Polygon.Earcut;class ah extends ed{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=WB(this.pathData),super.updateData(),this}webglRender(t,i,n,y,S){this.isFilled&&_C(t,i,this,n,y,S),this.isStroked&&$u(t,this,n,y,S)}canvasRender(t,i,n){var y=this.pathData,S=y.length-1,r=y[0]-i,T=y[1]-n;t.beginPath(),t.moveTo(r,T),this.closePath||(S-=2);for(var s=2;s<S;s+=2){var o=y[s]-i,m=y[s+1]-n;t.lineTo(o,m)}this.closePath&&t.closePath(),this.isFilled&&(qo(t,this),t.fill()),this.isStroked&&(_o(t,this),t.stroke())}}const Fx=Phaser.Math.DegToRad;class Ya extends ah{constructor(t,i,n,y,S,r,T,s){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=360),T===void 0&&(T=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(n,y),this.setAngle(S,r,T),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,n){return n===void 0&&(n=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=n,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),Je(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,n){t.beginPath();var y=this.x-i,S=this.y-n,r=Fx(this.startAngle),T=Fx(this.endAngle);this.pie&&(t.moveTo(y,S),t.lineTo(y+Math.cos(r)*this.radiusX,S+Math.sin(r)*this.radiusY)),t.ellipse(y,S,this.radiusX,this.radiusY,0,r,T,this.anticlockwise),this.pie&&t.lineTo(y,S),this.isFilled&&(qo(t,this),t.fill()),this.isStroked&&(_o(t,this),t.stroke())}}class is extends Ya{constructor(t,i,n){super(t,i,n,n,0,360)}}class HB extends ah{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,n=t.length;i<n;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class jB extends Ya{constructor(t,i,n,y){super(t,i,n,y,0,360)}}class $r extends ah{constructor(t,i,n,y){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),super(),this.setP0(t,i),this.setP1(n,y)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var $B=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const Dx=Phaser.Math.Interpolation.QuadraticBezier;var KB=function(e,t,i,n,y,S){for(var r=S.length,T=S[r-2],s=S[r-1],o=1,m=y-1;o<=m;o++){var f=o/m;S.push(Dx(f,T,e,i),Dx(f,s,t,n))}return S};const Ix=Phaser.Math.Interpolation.CubicBezier;var JB=function(e,t,i,n,y,S,r,T){for(var s=T.length,o=T[s-2],m=T[s-1],f=1,u=r-1;f<=u;f++){var h=f/u;T.push(Ix(h,o,e,i,y),Ix(h,m,t,n,S))}return T};const Bx=Phaser.Math.Interpolation.CatmullRom;var ZB=function(e,t,i){for(var n=i.length,y=i[n-2],S=i[n-1],r=[y],T=[S],s=0,o=e.length;s<o;s+=2)r.push(e[s]),T.push(e[s+1]);for(var s=1,m=t-1;s<=m;s++){var f=s/m;i.push(Bx(r,f),Bx(T,f))}return i},mP=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],n=e[t-1];return e.push(i),e.push(n),e};const QB={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,$B(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Ke(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,n,y,S,r){return r===void 0&&(r=!1),Je(e,t,i,n,y,S,r,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,n,y,S){return this.ellipticalArc(e,t,i,i,n,y,S),this},quadraticBezierTo(e,t,i,n){return KB(e,t,i,n,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=n,this},cubicBezierTo(e,t,i,n,y,S){return JB(e,t,i,n,y,S,this.iterations,this.pathData),this.lastPointX=y,this.lastPointY=S,this},catmullRomTo(...e){return ZB(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return mP(this.pathData),this}},qB=Phaser.Math.RotateAround;var _B=function(e,t,i,n){for(var y={x:0,y:0},S=0,r=n.length-1;S<r;S+=2)y.x=n[S],y.y=n[S+1],qB(y,e,t,i),n[S]=y.x,n[S+1]=y.y;return n},t6=function(e,t,i,n,y){for(var S=0,r=y.length-1;S<r;S+=2){var T=y[S]-e,s=y[S+1]-t;T*=i,s*=n,y[S]=T+e,y[S+1]=s+t}return y},xP=function(e,t,i){for(var n=0,y=i.length-1;n<y;n+=2)i[n]+=e,i[n+1]+=t;return i};const e6=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const i6={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=e6(i),_B(e,t,i,this.pathData);var n=this.pathData.length;return this.lastPointX=this.pathData[n-2],this.lastPointY=this.pathData[n-1],this},scale(e,t,i,n){return this.pathData.length===0?this:(t6(e,t,i,n,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return xP(e,t,this.pathData),this}};var xu=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=t.length),e.length=n-i;for(var y=0,S=e.length;y<S;y++)e[y]=t[y+i];return e};const s6={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(xu(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},r6=Phaser.Math.Distance.Between,n6=Phaser.Math.Wrap,a6=Phaser.Math.Linear;var kx=function(e,t,i,n,y){if(n===void 0&&(n=i,i=0),i=Nx(i),n=Nx(n),i!==n){var S=t[t.length-1],r=S*i,T=S*n;i<n?Bf(e,t,r,T,y):(Bf(e,t,r,S,y),Bf(e,t,0,T,y)),mP(y)}},Bf=function(e,t,i,n,y){for(var S=i>0,r=0,T=t.length;r<T;r++){var s=r*2,o=t[r];if(S){if(o<i)continue;if(o==i)S=!1;else{var m=o-t[r-1],f=1-(o-i)/m;y.push(ll(e,s-2,s,f)),y.push(ll(e,s-1,s+1,f)),S=!1}}if(o<=n){if(y.push(e[s]),y.push(e[s+1]),o===n)break}else{var m=o-t[r-1],f=1-(o-n)/m;y.push(ll(e,s-2,s,f)),y.push(ll(e,s-1,s+1,f));break}}},ll=function(e,t,i,n){var y=e[t],S=e[i];return a6(y,S,n)},Nx=function(e){return e===0?0:e%1===0?1:n6(e,0,1)};const o6={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,n,y,S,r,T=0,s=0,o=t.length;s<o;s+=2)y=t[s],S=t[s+1],r=i===void 0?0:r6(i,n,y,S),T+=r,e.push(T),i=y,n=S;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,kx(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),kx(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},h6={draw(e,t,i){var n=this.toPoints();return t&&e.fillPoints(n,this.closePath,this.closePath),i&&e.strokePoints(n,this.closePath,this.closePath),this}};var l6=function(e,t){t===void 0&&(t=[]);for(var i=0,n=e.length-1;i<n;i+=2)t.push({x:e[i],y:e[i+1]});return t};const u6=Phaser.Geom.Polygon;var d6=function(e,t){return t===void 0&&(t=new u6),t.setTo(e),t};class yP{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return l6(this.pathData)}toPolygon(t){return d6(this.pathData,t)}}Object.assign(yP.prototype,QB,i6,s6,o6,h6);class ri extends ah{constructor(){super(),this.builder=new yP(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,n){return this.builder.lineTo(t,i,n),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,n,y,S,r,T){return this.builder.ellipticalArc(t,i,n,y,S,r,T),this.dirty=!0,this}arc(t,i,n,y,S,r){return this.builder.arc(t,i,n,y,S,r),this.dirty=!0,this}quadraticBezierTo(t,i,n,y){return this.builder.quadraticBezierTo(t,i,n,y),this.dirty=!0,this}cubicBezierTo(t,i,n,y,S,r){return this.builder.cubicBezierTo(t,i,n,y,S,r),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,n){return this.builder.rotateAround(t,i,n),this.dirty=!0,this}scale(t,i,n,y){return this.builder.scale(t,i,n,y),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,n){return this.builder.appendFromPathSegment(t.builder,i,n),this}copyPathFrom(t,i,n){return this.builder.clear().appendFromPathSegment(t.builder,i,n),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const f6=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let c6=class extends ed{constructor(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=i),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(e,t),this.setSize(i,n)}get x(){return this._x}set x(e){this.dirty=this.dirty||this._x!==e,this._x=e}get y(){return this._y}set y(e){this.dirty=this.dirty||this._y!==e,this._y=e}setTopLeftPosition(e,t){return this.x=e,this.y=t,this}get width(){return this._width}set width(e){this.dirty=this.dirty||this._width!==e,this._width=e}get height(){return this._height}set height(e){this.dirty=this.dirty||this._height!==e,this._height=e}setSize(e,t){return this.width=e,this.height=t,this}get centerX(){return this.x+this.width/2}set centerX(e){this.x=e-this.width/2}get centerY(){return this.y+this.height/2}set centerY(e){this.y=e-this.height/2}setCenterPosition(e,t){return this.centerX=e,this.centerY=t,this}updateData(){this.pathData.length=0;var e=this.x,t=e+this.width,i=this.y,n=i+this.height;return this.pathData.push(e,i),this.pathData.push(t,i),this.pathData.push(t,n),this.pathData.push(e,n),this.pathData.push(e,i),super.updateData(),this}webglRender(e,t,i,n,y){if(this.isFilled){var S=e.fillTint,r=f6(this.fillColor,this.fillAlpha*i);S.TL=r,S.TR=r,S.BL=r,S.BR=r,e.batchFillRect(-n+this.x,-y+this.y,this.width,this.height)}this.isStroked&&$u(e,this,i,n,y)}canvasRender(e,t,i){this.isFilled&&(qo(e,this),e.fillRect(-t,-i,this.width,this.height)),this.isStroked&&(_o(e,this),e.beginPath(),e.rect(-t,-i,this.width,this.height),e.stroke())}};const ul=Phaser.Utils.Objects.GetValue;class yu extends ah{constructor(t,i,n,y,S,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=n),S===void 0&&(S=0),r===void 0&&(r=6),super(),this.setTopLeftPosition(t,i),this.setSize(n,y),this.setRadius(S),this.setIterations(r),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=ul(t,"tl",0),this.radiusTR=ul(t,"tr",0),this.radiusBL=ul(t,"bl",0),this.radiusBR=ul(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,n=this.height,y,S=this.iterations+1;if(y=this.radiusTL,y>0)if(this._convexTL){var r=y,T=y;Je(r,T,y,y,180,270,!1,S,t)}else{var r=0,T=0;Je(r,T,y,y,90,0,!0,S,t)}else Ke(0,0,t);if(y=this.radiusTR,y>0)if(this._convexTR){var r=i-y,T=y;Je(r,T,y,y,270,360,!1,S,t)}else{var r=i,T=0;Je(r,T,y,y,180,90,!0,S,t)}else Ke(i,0,t);if(y=this.radiusBR,y>0)if(this._convexBR){var r=i-y,T=n-y;Je(r,T,y,y,0,90,!1,S,t)}else{var r=i,T=n;Je(r,T,y,y,270,180,!0,S,t)}else Ke(i,n,t);if(y=this.radiusBL,y>0)if(this._convexBL){var r=y,T=n-y;Je(r,T,y,y,90,180,!1,S,t)}else{var r=0,T=n;Je(r,T,y,y,360,270,!0,S,t)}else Ke(0,n,t);return t.push(t[0],t[1]),xP(this.x,this.y,t),super.updateData(),this}}const v6=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let p6=class extends ed{constructor(e,t,i,n,y,S){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),super(),this.pathData=[],this.closePath=!0,this.setP0(e,t),this.setP1(i,n),this.setP2(y,S)}get x0(){return this._x0}set x0(e){this.dirty=this.dirty||this._x0!==e,this._x0=e}get y0(){return this._y0}set y0(e){this.dirty=this.dirty||this._y0!==e,this._y0=e}setP0(e,t){return this.x0=e,this.y0=t,this}get x1(){return this._x1}set x1(e){this.dirty=this.dirty||this._x1!==e,this._x1=e}get y1(){return this._y1}set y1(e){this.dirty=this.dirty||this._y1!==e,this._y1=e}setP1(e,t){return this.x1=e,this.y1=t,this}get x2(){return this._x2}set x2(e){this.dirty=this.dirty||this._x2!==e,this._x2=e}get y2(){return this._y2}set y2(e){this.dirty=this.dirty||this._y2!==e,this._y2=e}setP2(e,t){return this.dirty=this.dirty||this.x2!==e||this.y2!==t,this.x2=e,this.y2=t,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(e,t,i,n,y){if(this.isFilled){var S=v6(this.fillColor,this.fillAlpha*i),r=this.x0-n,T=this.y0-y,s=this.x1-n,o=this.y1-y,m=this.x2-n,f=this.y2-y,u=t.getX(r,T),h=t.getY(r,T),a=t.getX(s,o),l=t.getY(s,o),c=t.getX(m,f),d=t.getY(m,f);e.batchTri(u,h,a,l,c,d,S,S,S)}this.isStroked&&$u(e,this,i,n,y)}canvasRender(e,t,i){var n=this.x1-t,y=this.y1-i,S=this.x2-t,r=this.y2-i,T=this.x3-t,s=this.y3-i;e.beginPath(),e.moveTo(n,y),e.lineTo(S,r),e.lineTo(T,s),e.closePath(),this.isFilled&&(qo(e,this),e.fill()),this.isStroked&&(_o(e,this),e.stroke())}};const g6={buildShapes(){this.addShape(new yu().setName("box")).addShape(new ri().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),n=i*2,y=e-i,S=t-i,r=this.boxLineWidth,T=Math.max(n/10,2),s=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var u=n*(1-this.boxSize)/2,m=r/2,f=n*this.boxSize-r;s.setTopLeftPosition(y+m+u,S+m+u).setSize(f,f),this.isCircleShape?s.setRadius(f/2):s.setRadius(0);var u=n*(1-this.checkerSize)/2,h=n*this.checkerSize/4,a=h*1,l=h*2,c=h*3;o.startAt(a,l).lineTo(l,c).lineTo(c,a).offset(y+u,S+u).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(r,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(T,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(r,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},Sr=Phaser.Utils.Objects.GetValue,m6=Phaser.Math.Linear;class xs extends Nn{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=Sr(t,"key","value");var n=i[this.propertyKey];return this.fromValue=Sr(t,"from",n),this.toValue=Sr(t,"to",n),this.setEase(Sr(t,"ease",this.ease)),this.setDuration(Sr(t,"duration",this.duration)),this.setRepeat(Sr(t,"repeat",0)),this.setDelay(Sr(t,"delay",0)),this.setRepeatDelay(Sr(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var n=i.t;n=this.easeFn(n),t[this.propertyKey]=m6(this.fromValue,this.toValue,n)}}const x6={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new xs(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var TP={};Object.assign(TP,zB,UB,g6,x6);const Fo=23730,y6=16777215,Ee=Phaser.Utils.Objects.GetValue,Gx=Phaser.Utils.Objects.IsPlainObject;class CP extends lr{constructor(t,i,n,y,S,r,T){Gx(i)?(T=i,i=Ee(T,"x",0),n=Ee(T,"y",0),y=Ee(T,"width",2),S=Ee(T,"height",2),r=Ee(T,"color",Fo)):Gx(r)&&(T=r,r=Ee(T,"color",Fo)),super(t,i,n,y,S),this.type="rexCheckbox",r===void 0&&(r=Fo),this.setBoxShape(Ee(T,"circleBox",!1)),this.setBoxFillStyle(r,Ee(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Ee(T,"uncheckedColor",null),Ee(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Ee(T,"boxLineWidth",4),Ee(T,"boxStrokeColor",r),Ee(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Ee(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Ee(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Ee(T,"checkerColor",y6),Ee(T,"checkerAlpha",1)),this.setBoxSize(Ee(T,"boxSize",1)),this.setCheckerSize(Ee(T,"checkerSize",1)),this.setCheckerAnimationDuration(Ee(T,"animationDuration",150)),this.buildShapes();var s=Ee(T,"checked");s===void 0&&(s=Ee(T,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(CP.prototype,TP);const ao=Phaser.Utils.Objects.GetValue;class ur extends ye{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(ao(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(ao(t,"enable",!0)),this.setMode(ao(t,"mode",1)),this.setClickInterval(ao(t,"clickInterval",100)),this.setDragThreshold(ao(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=T6[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,n,y){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,y),this.mode===0&&this.click(t.downTime,t,y))}onRelease(t,i,n,y){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,y),this.mode===1&&this.click(t.upTime,t,y),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,n,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,n,y){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,y),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,n){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,n),this;this.pointer=void 0;var y=this.lastClickTime;return y!==void 0&&t-y<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,n),this)}cancel(){return this.pointer=void 0,this}}const T6={press:0,pointerdown:0,release:1,pointerup:1},Pr=Phaser.Utils.Objects.GetValue,zx=Phaser.Utils.Objects.IsPlainObject;class pp extends CP{constructor(t,i,n,y,S,r,T){zx(i)?(T=i,i=Pr(T,"x",0),n=Pr(T,"y",0),y=Pr(T,"width",2),S=Pr(T,"height",2),r=Pr(T,"color",Fo)):zx(r)&&(T=r,r=Pr(T,"color",Fo)),super(t,i,n,y,S,r,T),this._click=new ur(this,Pr(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Pr(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}mt.register("checkbox",function(e,t,i,n,y,S){var r=new pp(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.Checkbox",pp);const C6={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},S6={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},P6={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kf=function(e,t,i){return(t-e)*i+e},E6=function(e,t,i){var n=kf(ko(e),ko(t),i),y=kf(No(e),No(t),i),S=kf(Go(e),Go(t),i);return(n&255)<<16|(y&255)<<8|S&255};const Ux=Phaser.Math.Linear,w6={buildShapes(){this.addShape(new yu().setName("track")).addShape(new yu().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,n=this.getShape("track");if(this.isSizeChanged){var y=e*this.trackWidth,S=t*this.trackHeight,r=(e-y)/2,T=(t-S)/2,s=t*this.trackRadius;n.setTopLeftPosition(r,T).setSize(y,S).setRadius(s)}var o=E6(this.falseValueTrackColor,this.trackFillColor,i),m=Ux(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);n.fillStyle(o,m);var f=this.getShape("thumb");if(this.isSizeChanged){var u=e*this.thumbWidth,h=t*this.thumbHeight,a=t*this.thumbRadius;f.setSize(u,h).setRadius(a)}var l=Ux(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(l=e-l);var c=t/2;f.setCenterPosition(l,c),f.fillStyle(this.thumbColor,this.thumbAlpha)}},b6={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new xs(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var SP={};Object.assign(SP,C6,S6,P6,w6,b6);var O6=function(e){var t=.3*ko(e)+.59*No(e)+.11*Go(e);return(t&255)<<16|(t&255)<<8|t&255};const we=Phaser.Utils.Objects.GetValue,Xx=Phaser.Utils.Objects.IsPlainObject,Nf=23730,M6=16777215;class PP extends lr{constructor(t,i,n,y,S,r,T){Xx(i)?(T=i,i=we(T,"x",0),n=we(T,"y",0),y=we(T,"width",2),S=we(T,"height",2),r=we(T,"color",Nf)):Xx(r)&&(T=r,r=we(T,"color",Nf)),super(t,i,n,y,S),this.type="rexToggleSwitch",r===void 0&&(r=Nf),this.setTrackFillStyle(r,we(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(we(T,"falseValueTrackColor",O6(r)),we(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(we(T,"thumbColor",M6),we(T,"thumbAlpha",1)),this.setTrackSize(we(T,"trackWidth",.9),we(T,"trackHeight",.5)),this.setTrackRadius(we(T,"trackRadius",this.trackHeight*.5));var s=we(T,"thumbHeight",void 0),o=we(T,"thumbWidth",s);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,s),this.setThumbRadius(we(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(we(T,"thumbLeft",.3),we(T,"thumbRight",void 0)),this.setRTL(we(T,"rtl",!1)),this.setToggleAnimationDuration(we(T,"animationDuration",150)),this.buildShapes(),this.setValue(we(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var n=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=n,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(PP.prototype,SP);const Vx=Phaser.Utils.Objects.GetValue;class gp extends PP{constructor(t,i,n,y,S,r,T){super(t,i,n,y,S,r,T),this._click=new ur(this,Vx(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Vx(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}mt.register("toggleSwitch",function(e,t,i,n,y,S){var r=new gp(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.ToggleSwitch",gp);const A6={loadFromURL(e,t){var i=this,n=new Image;return n.onload=function(){i.width!==n.width||i.height!==n.height?i.resize(n.width,n.height):i.clear(),i.context.drawImage(n,0,0),i.updateTexture(),t&&t(),n.onload=null,n.src="",n.remove()},n.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,n){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,n){t.loadFromFile(e,i)})}};class Gn extends Zr{}Object.assign(Gn.prototype,A6);mt.register("canvas",function(e,t,i,n){var y=new Gn(this.scene,e,t,i,n);return this.scene.add.existing(y),y});pt(window,"RexPlugins.UI.Canvas",Gn);const na=Phaser.Utils.Objects.GetValue;class EP extends Zr{constructor(t,i,n,y,S,r){super(t,i,n),this.type="rexCircleMaskImage",this.setTexture(y,S,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={maskType:n});var y=na(n,"maskType",0),S=na(n,"backgroundColor",void 0),r=na(n,"strokeColor",void 0),T=r!=null?10:0,s=na(n,"strokeWidth",T);if(y===void 0?y=0:typeof y=="string"&&(y=R6[y]),this._textureKey=t,this._frameName=i,y===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var m=this.canvas,f=this.context,u=m.width,h=m.height;S!=null&&(f.fillStyle=S,f.fillRect(0,0,u,h)),f.save(),f.beginPath();var a=s/2;switch(y){case 1:var p=Math.floor(u/2),g=Math.floor(h/2),l=p-a,c=g-a;f.ellipse(p,g,l,c,0,0,2*Math.PI);break;case 2:var d=na(n,"radius",0),v=na(n,"iteration",void 0);iS(f,a,a,u-s,h-s,d,v);break;default:var p=Math.floor(u/2),g=Math.floor(h/2),x=Math.min(p,g)-a;f.arc(p,g,x,0,2*Math.PI);break}return r!=null&&(f.strokeStyle=r,f.lineWidth=s,f.stroke()),f.clip(),this.loadTexture(t,i),f.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const R6={circle:0,ellipse:1,roundRectangle:2};mt.register("circleMaskImage",function(e,t,i,n,y){var S=new EP(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.CircleMaskImage",EP);const oo=Phaser.Utils.Objects.GetValue;class wP extends Zr{constructor(t,i,n,y,S,r){super(t,i,n),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(y,S,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={mask:{key:n}});var y=oo(n,"mask.key"),S=oo(n,"mask.frame"),r=oo(n,"mask.invertAlpha",!1),T=oo(n,"mask.scale"),s=oo(n,"backgroundColor");if(y){this._maskKey=y,this._maskFrame=S,this._maskScale=T;var o=y?this.scene.sys.textures.get(y):null;this.maskFrame=o?o.get(S):null}this._textureKey=t,this._frameName=i;var m=this.maskFrame;if(m===null)return this.loadTexture(t,i),this.dirty=!0,this;var f=s!=null;this.loadTexture(t,i);var u=this.canvas,h=this.context,a=u.width,l=u.height;h.save(),h.globalCompositeOperation=r?"destination-out":"destination-in";var c,d;this._maskScale!=null?(c=m.cutWidth*this._maskScale,d=m.cutHeight*this._maskScale):(c=a,d=l);var v=(a-c)/2,p=(l-d)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,p,c,d),h.restore(),f&&(h.save(),h.globalCompositeOperation="destination-over",h.fillStyle=s,h.fillRect(0,0,a,l),h.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}mt.register("alphaMaskImage",function(e,t,i,n,y){var S=new wP(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.AlphaMaskImage",wP);const L6=Phaser.Math.Linear,Yx=Phaser.Math.Percent,F6={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=Yx(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=Yx(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=L6(e,t,i)),i}},D6=Phaser.Math.Percent,I6={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=D6(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,n){return i===void 0&&(i=-1),n===void 0&&(n=0),this.easeValueTask===void 0&&(this.easeValueTask=new xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:n}),this}},ho=Phaser.Utils.Objects.GetValue,B6=Phaser.Math.Clamp;function Qr(e){class t extends e{bootProgressBase(n){this.eventEmitter=ho(n,"eventEmitter",this);var y=ho(n,"valuechangeCallback",null);if(y!==null){var S=ho(n,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",y,S)}return this.setEaseValuePropName("value").setEaseValueDuration(ho(n,"easeValue.duration",0)).setEaseValueFunction(ho(n,"easeValue.ease","Linear")),this}get value(){return this._value}set value(n){n=B6(n,0,1);var y=this._value,S=y!=n;this.dirty=this.dirty||S,this._value=n,S&&this.eventEmitter.emit("valuechange",this._value,y,this.eventEmitter)}}return Object.assign(t.prototype,F6,I6),t}const k6=Phaser.Math.RadToDeg,Wx=Phaser.Math.DegToRad;var Hx=function(e,t,i,n,y,S,r,T){var s=Math.abs(r-S)===360,o=Wx(S),m=Wx(r),f=Math.cos(o),u=Math.sin(o),h=Math.cos(m),a=Math.sin(m);return e.startAt(t+f*n,i+u*n),e.arc(t,i,n,S,r,T),s&&y===0||(e.lineTo(t+h*y,i+a*y),y>0&&e.arc(t,i,y,r,S,!0)),e.close(),e};const N6={buildShapes(){var e=this.iterations;this.addShape(new ri().setIterations(e).setName("track")).addShape(new ri().setIterations(e).setName("bar")).addShape(new is().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,n=i-t,y=this.getShape("track");this.trackColor!=null&&this.thickness>0?(y.fillStyle(this.trackColor),Hx(y,e,e,i,n,0,360,!1)):y.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var r,T,s;if(this.value===1)r=!1,T=0,s=360;else{r=this.anticlockwise,T=k6(this.startAngle);var o=360*(r?1-this.value:this.value);s=o+T}S.fillStyle(this.barColor),Hx(S,e,e,i+1,n-1,T,s,!1)}else S.reset();var m=this.getShape("center");this.centerColor&&n>0?m.setCenterPosition(e,e).setRadius(n).fillStyle(this.centerColor):m.reset()}},as=Phaser.Utils.Objects.GetValue,G6=Phaser.Utils.Objects.IsPlainObject,z6=Phaser.Math.Clamp,U6=Phaser.Math.DegToRad(270);let mp=class extends Qr(lr){constructor(e,t,i,n,y,S,r){G6(t)&&(r=t,t=as(r,"x",0),i=as(r,"y",0),n=as(r,"radius",1),y=as(r,"barColor",void 0),S=as(r,"value",0)),n===void 0&&(n=1);var T=n*2;super(e,t,i,T,T),this.type="rexCircularProgress",this.bootProgressBase(r),this.setRadius(n),this.setTrackColor(as(r,"trackColor",void 0)),this.setBarColor(y),this.setCenterColor(as(r,"centerColor",void 0)),this.setThickness(as(r,"thickness",.2)),this.setStartAngle(as(r,"startAngle",U6)),this.setAnticlockwise(as(r,"anticlockwise",!1)),this.iterations=as(r,"iterations",128),this.buildShapes(),this.setValue(S)}resize(e,t){return e=Math.floor(Math.min(e,t)),e===this.width?this:(super.resize(e,e),this.setRadius(e/2),this)}get radius(){return this._radius}set radius(e){this.dirty=this.dirty||this._radius!=e,this._radius=e;var t=e*2;this.resize(t,t)}setRadius(e){return this.radius=e,this}get trackColor(){return this._trackColor}set trackColor(e){this.dirty=this.dirty||this._trackColor!=e,this._trackColor=e}setTrackColor(e){return this.trackColor=e,this}get barColor(){return this._barColor}set barColor(e){this.dirty=this.dirty||this._barColor!=e,this._barColor=e}setBarColor(e){return this.barColor=e,this}get startAngle(){return this._startAngle}set startAngle(e){this.dirty=this.dirty||this._startAngle!=e,this._startAngle=e}setStartAngle(e){return this.startAngle=e,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(e){this.dirty=this.dirty||this._anticlockwise!=e,this._anticlockwise=e}setAnticlockwise(e){return e===void 0&&(e=!0),this.anticlockwise=e,this}get thickness(){return this._thickness}set thickness(e){e=z6(e,0,1),this.dirty=this.dirty||this._thickness!=e,this._thickness=e}setThickness(e){return this.thickness=e,this}get centerColor(){return this._centerColor}set centerColor(e){this.dirty=this.dirty||this._centerColor!=e,this._centerColor=e}setCenterColor(e){return this.centerColor=e,this}};Object.assign(mp.prototype,N6);mt.register("circularProgress",function(e,t,i,n,y,S){var r=new mp(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.CircularProgress",mp);var Gf=function(e,t,i,n,y,S,r,T,s,o,m,f){o===void 0&&(o=0),m===void 0&&(m=2*Math.PI),f===void 0&&(f=!1),t.beginPath(),t.ellipse(i,n,y,S,0,o,m,f),r!=null&&(t.fillStyle=r,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=s,t.stroke())};const jx=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],X6=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Ov={},$x;for(var dl=0,V6=jx.length;dl<V6;dl++)$x=jx[dl].toLowerCase(),Ov[$x]=X6[dl];var Y6=function(e){return e=e.toLowerCase(),Ov.hasOwnProperty(e)?Ov[e]:null},Mv=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=Y6(e)),e};const W6=Phaser.Math.DegToRad,zf=Phaser.Math.Linear;var H6=function(e,t,i,n,y,S,r,T,s,o,m,f,u){o===void 0&&(o=0),m===void 0&&(m=2*Math.PI),f===void 0&&(f=!1),u===void 0&&(u=2),r=Mv(r),T=Mv(T),lo=qm(r,lo),uo=qm(T,uo);var h=W6(u),a;f?a=o-m:a=m-o,a<0&&(a+=2*Math.PI);var l=Math.ceil(a/h),c=a/l;f&&(c=-c);for(var d=0;d<l;d++){var v=d/l,p=Math.round(zf(lo.r,uo.r,v)),g=Math.round(zf(lo.g,uo.g,v)),x=Math.round(zf(lo.b,uo.b,v)),C=o+d*c,P=C+c;d<l-1&&(P+=c/2),t.beginPath(),t.ellipse(i,n,y,S,0,C,P,f),t.strokeStyle=`rgb(${p},${g},${x})`,t.lineWidth=s,t.stroke()}},lo,uo,j6=function(e,t,i,n,y,S,r,T,s,o,m){s===void 0&&T!=null&&(s=2),t.font=S,t.textAlign=o,t.textBaseline=m,t.fillStyle=r,t.strokeStyle=T,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&s>0&&t.strokeText(y,i,n),r!=null&&r!=="none"&&t.fillText(y,i,n)};const Uf=Phaser.Math.PI2;var $6=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,n=this.radius-t,y=this.canvas,S=this.context,r=this.anticlockwise,T=this.startAngle,s=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),Gf(y,S,e,e,i,i,void 0,this.trackColor,t,T,s,r),S.restore()),this.barColor&&i>0){var m;this.value>=1?m=s:r?m=(T-o*this.value+Uf)%Uf:m=(T+o*this.value)%Uf,S.save(),this.barColor2?H6(y,S,e,e,i,i,this.barColor2,this.barColor,t,T,m,r):Gf(y,S,e,e,i,i,void 0,this.barColor,t,T,m,r),S.restore()}if(this.centerColor&&n>0){var f;this.centerColor2?(f=this.context.createRadialGradient(e,e,0,e,e,n),f.addColorStop(0,this.centerColor),f.addColorStop(1,this.centerColor2)):f=this.centerColor,S.save(),Gf(y,S,e,e,n,n,f),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),j6(y,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const Ce=Phaser.Utils.Objects.GetValue,K6=Phaser.Utils.Objects.IsPlainObject,J6=Phaser.Math.Clamp,Z6=Phaser.Math.DegToRad(270),Tu=Phaser.Math.PI2;class id extends Qr(Zr){constructor(t,i,n,y,S,r,T){K6(i)&&(T=i,i=Ce(T,"x",0),n=Ce(T,"y",0),y=Ce(T,"radius",1),S=Ce(T,"barColor",void 0),r=Ce(T,"value",0));var s=y*2,o=Ce(T,"resolution",1);super(t,i,n,s,s,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(y),this.setTrackColor(Ce(T,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(Ce(T,"barColor2",void 0)),this.setCenterColor(Ce(T,"centerColor",void 0)),this.setThickness(Ce(T,"thickness",.2)),this.setAnticlockwise(Ce(T,"anticlockwise",!1)),this.setStartAngle(Ce(T,"startAngle",Z6));var m=Ce(T,"endAngle");m===void 0&&(this.anticlockwise?m=this.startAngle-Tu:m=this.startAngle+Tu),this.setEndAngle(Ce(T,"endAngle",m)),this.setTextColor(Ce(T,"textColor",void 0)),this.setTextStrokeColor(Ce(T,"textStrokeColor",void 0),Ce(T,"textStrokeThickness",void 0));var f=Ce(T,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(Ce(T,"textSize","16px"),Ce(T,"textFamily","Courier"),Ce(T,"textStyle","")),this.setTextFormatCallback(Ce(T,"textFormatCallback",void 0),Ce(T,"textFormatCallbackScope",void 0)),this.setValue(r)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Xf(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Xf(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Xf(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=J6(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,n){var y;return i===void 0?y=t:y=n+" "+t+" "+i,this.textFont=y,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),$6.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var Xf=function(e,t,i){return i?e<=t?Tu+e-t:e-t:e>=t?Tu+t-e:t-e};mt.register("circularProgressCanvas",function(e,t,i,n,y,S){var r=new id(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.CircularProgressCanvas",id);var Q6=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.getShape("trackFill");n.fillStyle(this.trackColor),n.isFilled&&Vf(n,0,0,t,i,e);var y=this.getShape("bar");if(y.fillStyle(this.barColor),y.isFilled){var S,r;this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),Vf(y,S,0,r,i,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Vf(T,0,0,t,i,e)},Vf=function(e,t,i,n,y,S){var r=(t+n)/2;return S>=0?e.startAt(r+S,i).lineTo(n+S,i).lineTo(n,y).lineTo(t,y).lineTo(t+S,i).lineTo(r+S,i):e.startAt(r,i).lineTo(n,i).lineTo(n-S,y).lineTo(t-S,y).lineTo(t,i).lineTo(r,i),e.close(),e};const fo=Phaser.Utils.Objects.GetValue,Yf=Phaser.Utils.Objects.IsPlainObject;let sd=class extends Qr(lr){constructor(e,t,i,n,y,S,r,T){Yf(t)?(T=t,t=T.x,i=T.y,n=T.width,y=T.height,S=T.barColor,r=T.value):Yf(n)?(T=n,n=T.width,y=T.height,S=T.barColor,r=T.value):Yf(S)&&(T=S,S=T.barColor,r=T.value),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=2),y===void 0&&(y=n),r===void 0&&(r=0),super(e,t,i,n,y,T),this.type="rexLineProgress",this.bootProgressBase(T),this.addShape(new ri().setName("trackFill")).addShape(new ri().setName("bar")).addShape(new ri().setName("trackStroke")),this.setTrackColor(fo(T,"trackColor",void 0)),this.setBarColor(S),this.setTrackStroke(fo(T,"trackStrokeThickness",2),fo(T,"trackStrokeColor",void 0)),this.setSkewX(fo(T,"skewX",0)),this.setRTL(fo(T,"rtl",!1)),this.setValue(r)}get trackColor(){return this._trackColor}set trackColor(e){this.dirty=this.dirty||this._trackColor!=e,this._trackColor=e}setTrackColor(e){return this.trackColor=e,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(e){this.dirty=this.dirty||this._trackStrokeColor!=e,this._trackStrokeColor=e}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(e){this.dirty=this.dirty||this._trackStrokeThickness!=e,this._trackStrokeThickness=e}setTrackStroke(e,t){return this.trackStrokeThickness=e,this.trackStrokeColor=t,this}get barColor(){return this._barColor}set barColor(e){this.dirty=this.dirty||this._barColor!=e,this._barColor=e}setBarColor(e){return this.barColor=e,this}get skewX(){return this._skewX}set skewX(e){this.dirty=this.dirty||this._skewX!=e,this._skewX=e}setSkewX(e){return this.skewX=e,this}get rtl(){return this._rtl}set rtl(e){e=!!e,this.dirty=this.dirty||this._rtl!=e,this._rtl=e}setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};var q6={updateShapes:Q6};Object.assign(sd.prototype,q6);mt.register("lineProgress",function(e,t,i,n,y,S,r){var T=new sd(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});pt(window,"RexPlugins.UI.LineProgress",sd);var Av=function(e,t,i,n,y){e.setIterations(y).start();var T=n.tl;if(me(T))if(T.convex){var S=T.x,r=T.y;e.ellipticalArc(S,r,T.x,T.y,180,270,!1)}else{var S=0,r=0;e.ellipticalArc(S,r,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=n.tr;if(me(T))if(T.convex){var S=t-T.x,r=T.y;e.ellipticalArc(S,r,T.x,T.y,270,360,!1)}else{var S=t,r=0;e.ellipticalArc(S,r,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=n.br;if(me(T))if(T.convex){var S=t-T.x,r=i-T.y;e.ellipticalArc(S,r,T.x,T.y,0,90,!1)}else{var S=t,r=i;e.ellipticalArc(S,r,T.x,T.y,270,180,!0)}else e.lineTo(t,i);var T=n.bl;if(me(T))if(T.convex){var S=T.x,r=i-T.y;e.ellipticalArc(S,r,T.x,T.y,90,180,!1)}else{var S=0,r=i;e.ellipticalArc(S,r,T.x,T.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},fl=Phaser.Math.RadToDeg,_6=function(e,t,i,n,y){var S=t*y,o=n.tl;if(me(o)){var r;S>o.x?r=90:r=fl(Math.acos((o.x-S)/o.x));var T=o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,180,180+r,!1)}else e.lineTo(0,0);var o=n.tr;if(me(o)&&S>t-o.x){var r=90-fl(Math.acos((S-(t-o.x))/o.x)),T=t-o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,270,270+r,!1)}else e.lineTo(S,0);var o=n.br;if(me(o)&&S>t-o.x){var r=90-fl(Math.acos((S-(t-o.x))/o.x)),T=t-o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,90-r,90,!1)}else e.lineTo(S,i);var o=n.bl;if(me(o)){var r;S>o.x?r=90:r=fl(Math.acos((o.x-S)/o.x));var T=o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,180-r,180,!1)}else e.lineTo(0,i)},cl=Phaser.Math.RadToDeg,t8=function(e,t,i,n,y){var S=i*y,o=n.tl;if(me(o)){var r;S>o.y?r=90:r=cl(Math.acos((o.y-S)/o.y));var T=o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,270-r,270,!1)}else e.lineTo(0,0);var o=n.tr;if(me(o)){var r;S>o.y?r=90:r=cl(Math.acos((o.y-S)/o.y));var T=t-o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,270,270+r,!1)}else e.lineTo(t,0);var o=n.br;if(me(o)&&S>i-o.y){var r=90-cl(Math.acos((S-(i-o.y))/o.y)),T=t-o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,0,0+r,!1)}else e.lineTo(t,S);var o=n.bl;if(me(o)&&S>i-o.y){var r=90-cl(Math.acos((S-(i-o.y))/o.y)),T=o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,180-r,180,!1)}else e.lineTo(0,S)},vl=Phaser.Math.RadToDeg,e8=function(e,t,i,n,y){var S=t*y,o=n.tr;if(me(o)){var r;S>o.x?r=90:r=vl(Math.acos((o.x-S)/o.x));var T=t-o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,360-r,360,!1)}else e.lineTo(t,0);var o=n.br;if(me(o)){var r;S>o.x?r=90:r=vl(Math.acos((o.x-S)/o.x));var T=t-o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,0,0+r,!1)}else e.lineTo(t,i);var o=n.bl;if(me(o)&&S>t-o.x){var r=90-vl(Math.acos((S-(t-o.x))/o.x)),T=o.x,s=i-o.y;e.ellipticalArc(T,s,o.x,o.y,90,90+r,!1)}else e.lineTo(t-S,i);var o=n.tl;if(me(o)&&S>t-o.x){var r=90-vl(Math.acos((S-(t-o.x))/o.x)),T=o.x,s=o.y;e.ellipticalArc(T,s,o.x,o.y,270-r,270,!1)}else e.lineTo(t-S,0)},pl=Phaser.Math.RadToDeg,i8=function(e,t,i,n,y){var S=i*y,o=n.br;if(me(o)){S>o.y?s=90:s=pl(Math.acos((o.y-S)/o.y));var r=t-o.x,T=i-o.y;e.ellipticalArc(r,T,o.x,o.y,90-s,90,!1)}else e.lineTo(t,i);var o=n.bl;if(me(o)){S>o.y?s=90:s=pl(Math.acos((o.y-S)/o.y));var r=o.x,T=i-o.y;e.ellipticalArc(r,T,o.x,o.y,90,90+s,!1)}else e.lineTo(0,i);var o=n.tl;if(me(o)&&S>i-o.y){var s=90-pl(Math.acos((S-(i-o.y))/o.y)),r=o.x,T=o.y;e.ellipticalArc(r,T,o.x,o.y,180,180+s,!1)}else e.lineTo(0,i-S);var o=n.tr;if(me(o)&&S>i-o.y){var s=90-pl(Math.acos((S-(i-o.y))/o.y)),r=t-o.x,T=o.y;e.ellipticalArc(r,T,o.x,o.y,360-s,360,!1)}else e.lineTo(t,i-S)},s8=function(e,t,i,n,y,S,r,T){if(e.setIterations(T).start(),y===0)return e;if(y===1)return Av(e,t,i,n,T);var s;return S===0?s=r?e8:_6:s=r?i8:t8,s(e,t,i,n,y),e.close(),e},r8=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,n=this.value,y=this.orientation,S=this.rtl,r=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&Av(T,e,t,i,r);var s=this.getShape("bar");s.fillStyle(this.barColor),s.isFilled&&s8(s,e,t,i,n,y,S,r);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&Av(o,e,t,i,r)},n8={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},zn=function(e){return typeof e=="string"&&(e=n8[e]),e};const aa=Phaser.Utils.Objects.GetValue,Wf=Phaser.Utils.Objects.IsPlainObject;class xp extends Qr(lr){constructor(t,i,n,y,S,r,T,s,o){Wf(i)?(o=i,i=o.x,n=o.y,y=o.width,S=o.height,r=o.radius,T=o.barColor,s=o.value):Wf(y)?(o=y,y=o.width,S=o.height,r=o.radius,T=o.barColor,s=o.value):Wf(r)&&(o=r,r=o.radius,T=o.barColor,s=o.value),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),s===void 0&&(s=0),super(t,i,n,y,S,o),this.type="rexRoundRectangleProgress",this.rrGeom=new Jv,this.bootProgressBase(o),this.addShape(new ri().setName("trackFill")).addShape(new ri().setName("bar")).addShape(new ri().setName("trackStroke")),this.setTrackColor(aa(o,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(aa(o,"trackStrokeThickness",2),aa(o,"trackStrokeColor",void 0)),this.setOrientation(aa(o,"orientation",0)),this.setRTL(aa(o,"rtl",!1)),this.setRadius(r),this.setIteration(aa(r,"iteration",void 0)),this.setValue(s)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=zn(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var a8={updateShapes:r8};Object.assign(xp.prototype,a8);mt.register("roundRectanleProgress",function(e,t,i,n,y,S,r,T){var s=new xp(this.scene,e,t,i,n,y,S,r,T);return this.scene.add.existing(s),s});pt(window,"RexPlugins.UI.RoundRectangleProgress",xp);var o8=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var n=1,y=t.length;n<y;n++)i=t[n],e.lineTo(i.x,i.y);e.closePath(),e.restore()},Hf=function(e,t,i,n,y,S,r){r===void 0&&(r="round"),o8(t,i),t.lineJoin=r,n!=null&&(t.fillStyle=n,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=S,t.stroke())},h8=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.canvas,y=this.context;(this.trackColor||this.trackStrokeColor)&&Kx(0,0,t,i,e,this.trackPoints);var S,r;if(this.barColor&&(this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),Kx(S,0,r,i,e,this.barPoints)),this.trackColor&&(y.save(),Hf(n,y,this.trackPoints,this.trackColor),y.restore()),this.barColor){y.save();var T;if(this.barColor2){var s;if(this.isHorizontalGradient){var o=i/2;s=y.createLinearGradient(S,o,r,o)}else{var m=t/2;s=y.createLinearGradient(m,0,m,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=s}else T=this.barColor;Hf(n,y,this.barPoints,T),y.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(y.save(),Hf(n,y,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),y.restore())},Kx=function(e,t,i,n,y,S){S===void 0&&(S=[]),S.length=4;for(var r=0;r<4;r++)S[r]||(S[r]={});var T;return y>=0?(T=S[0],T.x=e+y,T.y=t,T=S[1],T.x=i+y,T.y=t,T=S[2],T.x=i,T.y=n,T=S[3],T.x=e,T.y=n):(T=S[0],T.x=e,T.y=t,T=S[1],T.x=i,T.y=t,T=S[2],T.x=i-y,T.y=n,T=S[3],T.x=e-y,T.y=n),S};const Ge=Phaser.Utils.Objects.GetValue,jf=Phaser.Utils.Objects.IsPlainObject;class yp extends Qr(Zr){constructor(t,i,n,y,S,r,T,s){jf(i)?(s=i,i=Ge(s,"x",0),n=Ge(s,"y",0),y=Ge(s,"width",2),S=Ge(s,"height",2),r=Ge(s,"barColor",void 0),T=Ge(s,"value",0)):jf(y)?(s=y,y=Ge(s,"width",2),S=Ge(s,"height",2),r=Ge(s,"barColor",void 0),T=Ge(s,"value",0)):jf(r)&&(s=r,r=Ge(s,"barColor",void 0),T=Ge(s,"value",0));var o=Ge(s,"resolution",1);super(t,i,n,y,S,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(Ge(s,"trackColor",void 0)),this.setBarColor(r,Ge(s,"barColor2",void 0),Ge(s,"isHorizontalGradient",void 0)),this.setTrackStroke(Ge(s,"trackStrokeThickness",2),Ge(s,"trackStrokeColor",void 0)),this.setSkewX(Ge(s,"skewX",0)),this.setRTL(Ge(s,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ut(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,n){return n===void 0&&(n=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=n,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),h8.call(this)},this),this}}mt.register("circularProgressCanvas",function(e,t,i,n,y,S,r){var T=new yp(this.scene,e,t,i,n,y,S,r);return this.scene.add.existing(T),T});pt(window,"RexPlugins.UI.LineProgressCanvas",yp);Phaser.Math.Wrap;const oa=Phaser.Math.Linear;var l8=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,n=0+t.left,y=this.height-t.bottom,S=0+t.top,r=(n+i)/2,T=(S+y)/2,s={0:{a:{x:n,y:S},b:{x:i,y:T},c:{x:n,y}},1:{a:{x:n,y:S},b:{x:r,y},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:n,y:T},c:{x:i,y}},3:{a:{x:n,y},b:{x:r,y:S},c:{x:i,y}}},o,m,f,u,h,a;if(this.previousDirection===void 0){var l=s[this.direction],c=l.a,d=l.b,v=l.c;o=c.x,m=c.y,f=d.x,u=d.y,h=v.x,a=v.y}else{var p=s[this.previousDirection],g=s[this.direction],x=this.easeDirectionProgress;o=oa(p.a.x,g.a.x,x),m=oa(p.a.y,g.a.y,x),f=oa(p.b.x,g.b.x,x),u=oa(p.b.y,g.b.y,x),h=oa(p.c.x,g.c.x,x),a=oa(p.c.y,g.c.y,x)}e.startAt(o,m).lineTo(f,u).lineTo(h,a),this.arrowOnly?e.end():e.close()};const u8=Phaser.Math.DegToRad,gl=u8(120);var d8=function(t){var t=this.getShape("triangle"),i=this.width/2,n=this.height/2,y=Math.min(i,n)*this.radius,S=this.verticeRotation;t.startAt(i+y*Math.cos(S+gl),n+y*Math.sin(S+gl)).lineTo(i+y*Math.cos(S),n+y*Math.sin(S)).lineTo(i+y*Math.cos(S-gl),n+y*Math.sin(S-gl)),this.arrowOnly?t.end():t.close()};const f8={buildShapes(){this.addShape(new ri().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?l8.call(this):d8.call(this)}},c8={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new xs(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},ha=Phaser.Utils.Objects.GetValue,v8=Phaser.Utils.Objects.IsPlainObject,p8=Phaser.Math.DegToRad,g8=Phaser.Math.RadToDeg;class oh extends lr{constructor(t,i,n,y,S,r,T){var s,o,m,f,u,h,a,l;if(v8(i)){var c=i;i=c.x,n=c.y,y=c.width,S=c.height,r=c.color,T=c.alpha,s=c.strokeColor,o=c.strokeAlpha,m=c.strokeWidth,f=c.arrowOnly,u=c.direction,h=c.easeDuration,a=c.padding,l=c.radius}i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=1),S===void 0&&(S=y),f===void 0&&(f=!1),u===void 0&&(u=0),h===void 0&&(h=0),a===void 0&&(a=0),l===void 0&&(l=void 0),super(t,i,n,y,S),this.type="rexTriangle",this.setFillStyle(r,T),s!==void 0&&m===void 0&&(m=2),this.setStrokeStyle(m,s,o),this.setArrowOnly(f),this.setDirection(u,h),this.setPadding(a),this.setRadius(l),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=x8(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,n,y){if(typeof t=="object"){var S=t,r=ha(S,"x",null);r!==null?(t=r,n=r):(t=ha(S,"left",0),n=ha(S,"right",t));var T=ha(S,"y",null);T!==null?(i=T,y=T):(i=ha(S,"top",0),y=ha(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),y===void 0&&(y=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=n||this.padding.bottom!=y,this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=y,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return g8(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=p8(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const m8={right:0,down:1,left:2,up:3};var x8=function(e){return typeof e=="string"&&(e=m8[e]),e=e%4,e};Object.assign(oh.prototype,f8,c8);mt.register("triangle",function(e,t,i,n,y,S){var r=new oh(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.Triangle",oh);Hu();const y8=Phaser.GameObjects.Zone,T8=Phaser.Utils.Array.Add,C8=Phaser.Utils.Array.Remove;let hh=class extends y8{constructor(e,t,i,n,y){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=1),y===void 0&&(y=1),super(e,t,i,n,y),this.children=[]}destroy(e){if(!(!this.scene||this.ignoreDestroy)){if(e)for(var t,i=this.children.length-1;i>=0;i--)t=this.children[i],!t.parentContainer&&!t.displayList&&t.destroy(e);this.clear(!e),super.destroy(e)}}contains(e){return this.children.indexOf(e)!==-1}add(e){var t=this;return T8(this.children,e,0,function(i){i.once("destroy",t.onChildDestroy,t)},this),this}remove(e,t){var i=this;return C8(this.children,e,function(n){n.off("destroy",i.onChildDestroy,i),t&&n.destroy()}),this}onChildDestroy(e,t){this.remove(e,!1)}clear(e){for(var t=this,i,n=0,y=this.children.length;n<y;n++)i=this.children[n],i.off("destroy",t.onChildDestroy,t),e&&i.destroy();return this.children.length=0,this}};const Jx=Phaser.GameObjects.Components;Phaser.Class.mixin(hh,[Jx.Alpha,Jx.Flip]);var Ui=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Ui(e);i&&i.name!==t;)i=Ui(i);return i},bP=function(e){for(var t=Ui(e);t;)e=t,t=Ui(t);return e};const S8=Phaser.Math.DegToRad,P8=Phaser.Math.RadToDeg;var Wt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return P8(this.rotation)},set:function(i){this.rotation=S8(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const E8={setParent(e,t){t===void 0&&(t=this);var i=Wt(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Ui(e,t)},getTopmostParent(e){return e===void 0&&(e=this),bP(e)}},an=Phaser.Utils.Objects.GetValue,OP=hh.prototype.add;var Zx=function(e,t){this.setParent(e);var i=Wt(e);return MP(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),OP.call(this,e),AP.call(this,e,i),this},$f=function(e,t){this.setParent(e);var i=Wt(e);return MP(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),OP.call(this,e),AP.call(this,e,i),this},MP=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=an(t,"syncPosition",!0),e.syncRotation=an(t,"syncRotation",!0),e.syncScale=an(t,"syncScale",!0),e.syncAlpha=an(t,"syncAlpha",!0),e.syncScrollFactor=an(t,"syncScrollFactor",!0),e.syncCameraFilter=an(t,"syncCameraFilter",!0),e.syncDisplayList=an(t,"syncDisplayList",!0))},AP=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const w8={add(e){return Array.isArray(e)?this.addMultiple(e):Zx.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):Zx.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,n=e.length;i<n;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):$f.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):$f.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)$f.call(this,e[t]);return this}},Qx=hh.prototype.remove,b8=hh.prototype.clear,O8={remove(e,t){return Ui(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),Qx.call(this,e,t),this)},unpin(e,t){return Ui(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),Qx.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,n=t.length;i<n;i++){var y=t[i];this.setParent(y,null),e||this.removeFromRenderLayer(y)}return b8.call(this,e),this}},M8={getLocalState(e){return Wt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},A8={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),n=e.x,y=e.y;return e.x=n*t-y*i,e.y=n*i+y*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),n=e.x,y=e.y;return e.x=n*t-y*i,e.y=n*i+y*t,e.x+=this.x,e.y+=this.y,e}};var Vo=function(e,t){return e===t?1:e/t};const R8={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Wt(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Wt(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Vo(e.scaleX,i.scaleX),t.scaleY=Vo(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var n=Wt(e);return n.x=t,n.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Wt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Wt(e);return t.x},getChildLocalY(e){var t=Wt(e);return t.y}},L8=Phaser.Math.DegToRad,F8={updateChildRotation(e){var t=Wt(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Wt(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=Wt(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=Wt(e);return i.rotation=L8(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Wt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Wt(e);return t.rotation}},D8={updateChildScale(e){var t=Wt(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Wt(e),i=t.parent;return t.scaleX=Vo(e.scaleX,i.scaleX),t.scaleY=Vo(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var n=Wt(e);return n.scaleX=t,n.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Wt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Wt(e);return t.scaleX},getChildLocalScaleY(e){var t=Wt(e);return t.scaleY}},I8={updateChildVisible(e){var t=Wt(e),i=t.parent,n=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,y=i?i.visible:!0;return e.visible=y&&t.visible&&n,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Wt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=Wt(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=Wt(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Wt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Wt(e);return t.visible}},B8={updateChildAlpha(e){var t=Wt(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Wt(e),i=t.parent;return t.alpha=Vo(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=Wt(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Wt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Wt(e);return t.alpha}},k8={updateChildActive(e){var t=Wt(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Wt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=Wt(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Wt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Wt(e);return t.active}},N8={updateChildScrollFactor(e){var t=Wt(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},G8={updateCameraFilter(e){var t=Wt(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},z8={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var ml=function(e){return e.filter(function(t){if(t.displayList||t.parentContainer)return!0})};const U8={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),n=0,y=i.length;n<y;n++)i[n].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,n=t.length;i<n;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ts(t,!1);for(var i=0,n=t.length;i<n;i++){var y=t[i];e.exists(y)&&e.bringToTop(y)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ts(t,!0);for(var i=0,n=t.length;i<n;i++){var y=t[i];e.exists(y)&&e.sendToBack(y)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ts(i,!1);for(var n=0,y=i.length;n<y;n++){var S=i[n];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ts(i,!0);for(var n=0,y=i.length;n<y;n++){var S=i[n];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ml(t),t=ts(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ml(i),i=ts(i,!1);for(var n=i[i.length-1],y=0,S=t.length;y<S;y++){var r=t[y];n!==r&&(r!==this&&n.displayList!==r.displayList||(n.displayList.moveAbove(r,n),n=r))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=ml(t),t=ts(t,!1)):t=[e];var i=this.getAllChildren([this]);i=ml(i),i=ts(i,!1);for(var n=i[0],y=t.length-1;y>=0;y--){var S=t[y];n!==S&&(S!==this&&n.displayList!==S.displayList||(n.displayList.moveBelow(S,n),n=S))}return this}};var RP=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var n=e.children,y=0,S=n.length;y<S;y++)RP(n[y],t)},Kf=function(e,t){for(var i=[e];i.length>0;){var n=i.shift(),y=t(n);!y&&n.isRexContainerLite&&i.push(...n.children)}};const on=Phaser.Utils.Array,X8={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Kf(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Kf(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Kf(t,e),this},dfs(e,t){return t===void 0&&(t=this),RP(t,e),this},contains(e){var t=Ui(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],n,y;i.length;){n=i.shift();for(var S=0,r=n.children.length;S<r;S++){if(y=n.children[S],y.name===e)return y;y.isRexContainerLite&&i.push(y)}}return null}else return on.GetFirst(this.children,"name",e)},getRandom(e,t){return on.GetRandom(this.children,e,t)},getFirst(e,t,i,n){return on.GetFirstElement(this.children,e,t,i,n)},getAll(e,t,i,n){return on.GetAll(this.children,e,t,i,n)},count(e,t,i,n){return on.CountAllMatching(this.children,e,t,i,n)},swap(e,t){return on.Swap(this.children,e,t),this},setAll(e,t,i,n){return on.SetAll(this.children,e,t,i,n),this}};var qx=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var y=e[i];y.hasOwnProperty("rexContainer")&&t.push(y.rexContainer)}return t},V8=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].scene;if(n)return n}return null},_x=function(e,t,i){if(!i.parent){e.remove();return}var n=i.parent,y=i.self;switch(t){case"x":case"y":n.updateChildPosition(y);break;case"angle":case"rotation":n.updateChildRotation(y);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":n.updateChildScale(y);break;case"alpha":n.updateChildAlpha(y);break;default:n.updateChildPosition(y),n.updateChildRotation(y),n.updateChildScale(y),n.updateChildAlpha(y);break}};const Y8={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||V8(t);if(i){e.targets=qx(t);var n=i.tweens.add(e);return n.on("update",_x),n}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=qx(t));var i=e.onUpdate;return e.onUpdate=function(n,y){i&&i(n,y),_x(n,void 0,y)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},W8=Phaser.GameObjects.Container;var H8=function(e){return e instanceof W8},LP=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},ty=function(e){var t=LP(this);t.indexOf(this)===-1&&t.push(this),ts(t),e.add(t)},ey=function(e,t,i){if(this.scene){var n=LP(this);ts(n,t),e.remove(n),i&&n.forEach(function(y){y.addToDisplayList()})}};const j8={addToContainer(e){return H8(e)?(this._setParentContainerFlag=!0,ty.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Lo(e)?(ty.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,ey.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Lo(this.displayList)?(ey.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Lo(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},$8={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=Wt(e);return i.layer=t,this},removeFromRenderLayer(e){var t=Wt(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},iy=Phaser.Geom.Rectangle,K8=Phaser.Geom.Rectangle.Union;var J8=function(e,t){t===void 0?t=new iy:t===!0&&(Jf===void 0&&(Jf=new iy),t=Jf),t.setTo(0,0,0,0);for(var i,n=!0,y=0,S=e.length;y<S;y++)if(i=e[y],!!i.getBounds){var r=op(i,!0);n?(t.setTo(r.x,r.y,r.width,r.height),n=!1):K8(r,t,t)}return t},Jf,hn=Phaser.Utils.Objects.GetValue,Tp=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,n=e.saveTexture,y=hn(e,"x",void 0),S=hn(e,"y",void 0),r=hn(e,"width",void 0),T=hn(e,"height",void 0),s=hn(e,"originX",0),o=hn(e,"originY",0),m=hn(e,"padding",0),f,u;if(r===void 0||T===void 0||y===void 0||S===void 0){var h=J8(t,!0),a=y!==void 0&&S!==void 0;a?(r=Math.max(y-h.left,h.right-y)*2,T=Math.max(S-h.top,h.bottom-S)*2,s=.5,o=.5):(y=h.x,S=h.y,r=h.width,T=h.height,s=0,o=0),f=h.x,u=h.y}else f=y+(0-s)*r,u=S+(0-o)*T;f-=m,u-=m,r+=m*2,T+=m*2;var l=t[0].scene,c=l.sys.textures;return n&&!i&&(i=c.addDynamicTexture(n,r,T)),i||(i=l.add.renderTexture(0,0,r,T)),i.setPosition&&i.setPosition(y,S),(i.width!==r||i.height!==T)&&i.setSize(r,T),i.setOrigin&&i.setOrigin(s,o),i.camera.setScroll(f,u),t=ts(ms(t)),i.draw(t),n&&(Li(i)?i.saveTexture(n):i.key!==n&&c.renameTexture(i.key,key)),i}};const Z8={snapshot(e){var t=this.scaleX,i=this.scaleY,n=t===1&&i===1;n||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var y=Tp(e),S=!!y.scene;return n||(this.setScale(t,i),S&&y.setScale(t,i)),S?y:this}},sy=Phaser.Utils.Objects.GetValue;var Q8=function(e,t){var i=sy(t,"drawContainer",!0),n=sy(t,"children");return n===void 0&&(n=this.getAllVisibleChildren([this])),i||(n=n.filter(function(y){return!y.isRexContainerLite})),DS(n,e,t),this};const q8=Phaser.Math.RotateAround;var _8=function(e,t,i){i===void 0&&(i=t);var n={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return q8(n,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+n.x,e.y=e.y+n.y,e},t7=function(e,t){this.syncChildrenEnable=!1,_8(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),n=0,y=i.length;n<y;n++)this.resetChildPositionState(i[n]);return this},FP={changeOrigin:t7,drawBounds:Q8};Object.assign(FP,E8,w8,O8,M8,A8,R8,F8,D8,I8,B8,k8,N8,G8,z8,U8,X8,Y8,j8,$8,Z8);class Xi extends hh{constructor(t,i,n,y,S,r){Array.isArray(y)&&(r=y,y=void 0,S=void 0),super(t,i,n,y,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,r&&this.add(r)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Ui(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Ui(this);return t?t.setParentContainerFlag:!1}}Object.assign(Xi.prototype,FP);var rd=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function e7(e){return e===void 0&&(e=this),rd(e)}var i7=function(e){var t=rd(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},s7=function(e){return e===void 0&&(e=Xa(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const be=Phaser.Display.Align,Wa={center:be.CENTER,left:be.LEFT_CENTER,right:be.RIGHT_CENTER,top:be.TOP_CENTER,bottom:be.BOTTOM_CENTER,"left-top":be.TOP_LEFT,"top-left":be.TOP_LEFT,"left-center":be.LEFT_CENTER,"center-left":be.LEFT_CENTER,"left-bottom":be.BOTTOM_LEFT,"bottom-left":be.BOTTOM_LEFT,"center-top":be.TOP_CENTER,"top-center":be.TOP_CENTER,"center-center":be.CENTER,"center-bottom":be.BOTTOM_CENTER,"bottom-center":be.BOTTOM_CENTER,"right-top":be.TOP_RIGHT,"top-right":be.TOP_RIGHT,"right-center":be.RIGHT_CENTER,"center-right":be.RIGHT_CENTER,"right-bottom":be.BOTTOM_RIGHT,"bottom-right":be.BOTTOM_RIGHT};var Rv=new Phaser.GameObjects.Zone({sys:{queueDepthSort:We,events:{once:We}}},0,0,1,1);Rv.setOrigin(0);var dr={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Cp=function(e){var t=ee(e);return e.y+t-t*e.originY},Sp=function(e){var t=te(e);return e.x-t*e.originX+t*.5},Pp=function(e,t){var i=ee(e);return e.y=t-i+i*e.originY,e},Ep=function(e,t){var i=te(e),n=i*e.originX;return e.x=t+n-i*.5,e},r7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Ep(e,Sp(t)+i),Pp(e,Cp(t)+n),e},wp=function(e){var t=te(e);return e.x-t*e.originX},bp=function(e,t){var i=te(e);return e.x=t+i*e.originX,e},n7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),bp(e,wp(t)-i),Pp(e,Cp(t)+n),e},Op=function(e){var t=te(e);return e.x+t-t*e.originX},Mp=function(e,t){var i=te(e);return e.x=t-i+i*e.originX,e},a7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Mp(e,Op(t)+i),Pp(e,Cp(t)+n),e},Ap=function(e,t){var i=ee(e),n=i*e.originY;return e.y=t+n-i*.5,e},o7=function(e,t,i){return Ep(e,t),Ap(e,i)},Rp=function(e){var t=ee(e);return e.y-t*e.originY+t*.5},h7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),o7(e,Sp(t)+i,Rp(t)+n),e},l7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),bp(e,wp(t)-i),Ap(e,Rp(t)+n),e},u7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Mp(e,Op(t)+i),Ap(e,Rp(t)+n),e},Lp=function(e){var t=ee(e);return e.y-t*e.originY},Fp=function(e,t){var i=ee(e);return e.y=t+i*e.originY,e},d7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Ep(e,Sp(t)+i),Fp(e,Lp(t)-n),e},f7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),bp(e,wp(t)-i),Fp(e,Lp(t)-n),e},c7=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),Mp(e,Op(t)+i),Fp(e,Lp(t)-n),e},Ws=[];Ws[dr.BOTTOM_CENTER]=r7;Ws[dr.BOTTOM_LEFT]=n7;Ws[dr.BOTTOM_RIGHT]=a7;Ws[dr.CENTER]=h7;Ws[dr.LEFT_CENTER]=l7;Ws[dr.RIGHT_CENTER]=u7;Ws[dr.TOP_CENTER]=d7;Ws[dr.TOP_LEFT]=f7;Ws[dr.TOP_RIGHT]=c7;var DP=function(e,t,i,n,y){return Ws[i](e,t,n,y)},lh=function(e,t,i,n,y,S){Rv.setPosition(t,i).setSize(n,y),DP(e,Rv,S)};const la=Phaser.Utils.Objects.GetValue,v7=Phaser.GameObjects.Group,p7=Phaser.GameObjects.Container;var g7=function(e,t){var i=e.scene,n,y,S,r,T;if(typeof t=="number")n=t;else{n=la(t,"color"),y=la(t,"lineWidth");var s=la(t,"name",!1);s&&(S=la(s,"createTextCallback",m7),r=la(s,"createTextCallbackScope",void 0),T=la(s,"align","left-top"),typeof T=="string"&&(T=Wa[T]))}if(n===void 0&&(n=16777215),y===void 0&&(y=1),S&&!e.children){e.children=new v7(i),e.once("destroy",function(l,c){l.children.destroy(!c),l.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var m=this.getAllShownChildren([this]);IP(m,m);for(var f,u,h=0,a=m.length;h<a;h++){if(f=m[h],f.getBounds||f.width!==void 0&&f.height!==void 0)ln=op(f,ln);else continue;n!=null&&e.lineStyle(y,n).strokeRectShape(ln),f.name&&S&&(r?u=S.call(r,i):u=S(i),u&&(u.setText(f.name),e.children.add(u),lh(u,ln.x,ln.y,ln.width,ln.height,T)))}return this},m7=function(e,t,i){return e.add.text(0,0,"")},IP=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,n=e.length;i<n;i++){var y=e[i];y instanceof p7&&(t.push(...y.list),IP(y.list,t))}return t},ln=void 0;const xl=Phaser.Utils.Objects.GetValue;var Un=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=xl(e,"left",0),t.right=xl(e,"right",0),t.top=xl(e,"top",0),t.bottom=xl(e,"bottom",0)),t};const x7=Xi.prototype.add;var uh=function(e){return x7.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const y7={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),uh.call(this,e),this.backgroundChildren.push(e);var n=this.getSizerConfig(e);return n.padding=Un(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var Hr=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=Hr(i)):i=null);else for(i=Hr(e);i&&i.name!==t;)i=Hr(i);return i},T7=function(e){for(var t=Hr(e);t;)e=t,t=Hr(t);return e};const Ha={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Hr(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),T7(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=Hr(t);i;){if(i===e)return!0;i=Hr(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},C7=Phaser.Utils.Array.Remove,S7=Xi.prototype.remove,ry=Ha.getParentSizer;var dh=function(e,t){for(var i=ry(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=ry(i);return this.isBackground(e)&&C7(this.backgroundChildren,e),S7.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const P7=Phaser.Utils.Array.Remove,E7=Ha.getParentSizer,w7={removeFromParentSizer(){var e=E7(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(P7(this.backgroundChildren,e),dh.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var ny=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},b7=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},O7=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),n=null;if(i.charAt(0)==="#")i=i.substring(1),n=this.getByName(i,t);else if(e.length===0&&t){var y=this.childrenMap;if(y)for(var S=[y],r;S.length;){y=S.shift();for(var T in y)if(r=y[T],T===i){n=r;break}else r&&typeof r=="object"&&r.childrenMap&&S.push(r.childrenMap);if(n)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(n=this.childrenMap[i]);else{var s=i.match(M7);if(s!=null&&this.childrenMap){var o=this.childrenMap[s[1]];o&&(n=o[s[2]])}}return e.length===0?n:n&&n.childrenMap?n.getElement(e):null}};const M7=/(\S+)\[(\d+)\]/i;var A7=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const R7={getInnerPadding(e){return ru(this.space,e)},setInnerPadding(e,t){return Wr(this.space,e,t),this},getOuterPadding(e){return ru(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Wr(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),ru(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Wr(this.getSizerConfig(e).padding,t,i),this}};var Dp=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},Ip=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},L7=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},Bp=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(n=t.resolveWidth(i),n===void 0&&(n=i)):n=i,t.runWidthWrap(n));return this},kp=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},Np=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},F7=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},Gp=function(e){var t,i,n;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(n=t.resolveHeight(i),n===void 0&&(n=i)):n=i,t.runHeightWrap(n));return this},D7=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var n=e.minWidth*e.scaleX;t=Math.max(n,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=te(e);return t},I7=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var n=e.minHeight*e.scaleY;t=Math.max(n,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=ee(e);return t},B7=function(e,t){return t},k7=function(e,t){return t},N7=function(){return 0},G7=function(){return 0},z7=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),n=e.length,y=t;y<n;y++)i[y].getAllChildrenSizers(e);return e},U7=function(e){return e===void 0&&(e=[]),e};const X7={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,n=0,y=t.length;n<y;n++)i=t[n],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var fh=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,n=e.length;i<n;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},V7=function(){return this.runLayout(),this},Y7=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=ay.length;t<i;t++){var n=ay[t];if(n&&e instanceof n)return!1}return!0},ay=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],W7=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=oy.length;t<i;t++){var n=oy[t];if(n&&e instanceof n)return!1}return!0},oy=[Phaser.GameObjects.BitmapText],ui=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(Y7(e)){var n,y;t===void 0?n=e.width:n=t/e.scaleX,i===void 0?y=e.height:y=i/e.scaleY,e.resize?e.resize(n,y):e.setSize(n,y)}else{var S=W7(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(S?e.displayHeight=i:e.scaleY=i/e.height)}},H7=function(e,t,i){if(this.ignoreLayout)return this;var n=!e;n&&this.preLayout();var y,S;n||e.runChildrenWrapFlag?(y=this.hasWidthWrap(),S=this.hasHeightWrap()):(y=!1,S=!1);var r=j7(this,t,i,y,S);r||console.error("Can't resolve size of ",this);var T=r.width,s=r.height;return ui(this,T,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,s),n&&this._anchor&&this._anchor.updatePosition(),this},j7=function(e,t,i,n,y){var S=hy(e,t,n),r=$7(e,i,y);return S===void 0&&(S=hy(e,t,n)),S!==void 0&&r!==void 0?{width:S,height:r}:!1},hy=function(e,n,i){var n=e.resolveWidth(n);return n!==void 0&&i&&(e.resolveChildrenWidth(n),e.runWidthWrap(n)),n},$7=function(e,n,i){var n=e.resolveHeight(n);return n!==void 0&&i&&(e.resolveChildrenHeight(n),e.runHeightWrap(n)),n},K7=function(){},J7=function(e,t,i){return this},Z7=function(e,t,i,n){ui(i,e,t)};const yl=Phaser.Utils.Objects.GetValue;class zp extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,n;t.x!==void 0?(i=null,n=t.x):t.left!==void 0?(i=0,n=t.left):t.right!==void 0?(i=1,n=t.right):t.centerX!==void 0&&(i=.5,n=t.centerX);var y,S;t.y!==void 0?(y=null,S=t.y):t.top!==void 0?(y=0,S=t.top):t.bottom!==void 0?(y=1,S=t.bottom):t.centerY!==void 0&&(y=.5,S=t.centerY);var r,T;n!==void 0&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),r=parseFloat(n[0])/100,T=n[1]===""?0:parseFloat(n[1]));var s,o;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(S[0])/100,o=S[1]===""?0:parseFloat(S[1]));var m=t.width,f,u;m!==void 0&&(m=m.split("%"),f=parseFloat(m[0])/100,u=m[1]===""?0:parseFloat(m[1]));var h=t.height,a,l;h!==void 0&&(h=h.split("%"),a=parseFloat(h[0])/100,l=h[1]===""?0:parseFloat(h[1])),this.setAlign(i,y),this.setPercentage(r,s),this.setOffset(T,o),this.setSizePercentage(f,a),this.setSizePadding(u,l);var c=yl(t,"onResizeCallback",Z7),d=yl(t,"onResizeCallbackScope");this.setResizeCallback(c,d);var v=yl(t,"onUpdateViewportCallback"),p=yl(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,n=this.anchorWidth,y=this.anchorHeight;if(!(n===void 0&&y===void 0||!t)){var S=this.parent;n===void 0&&(n=S.width),y===void 0&&(y=S.height),i?t.call(i,n,y,S,this):t(n,y,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Xa(this.scene,t,this.viewport);var i=this.viewport,n=this.onUpdateViewportCallback,y=this.onUpdateViewportCallbackScope;n&&(y?n.call(y,i,this.parent,this):n(i,this.parent,this))}}var Q7=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),n=e.hasOwnProperty("onResizeCallback");return(t||i)&&!n&&(e.onResizeCallback=function(y,S,r){t&&r.setMinWidth(y),i&&r.setMinHeight(S),r.layout()}),this._anchor===void 0?this._anchor=new zp(this,e):this._anchor.resetFromJSON(e),this};const q7=Phaser.Utils.Objects.GetValue,ua=Phaser.Utils.Objects.GetAdvancedValue,ly=Phaser.Math.Linear;class Yo extends Nn{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(q7(t,"mode",0)),this.setScaleRange(ua(t,"start",void 0),ua(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=_7[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=ua(t,"x",this.parent.scaleX),this.startY=ua(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=ua(i,"x",void 0),this.endY=ua(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasScaleX&&(t.scaleX=ly(this.startX,this.endX,n)),this.hasScaleY&&(t.scaleY=ly(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const _7={stop:0,destroy:1,yoyo:2};var Up=function(e,t,i,n,y){n===void 0&&(n="Cubic");var S,r;switch(i){case 0:case"x":S={x:0},r={x:e.scaleX};break;case 1:case"y":S={y:0},r={y:e.scaleY};break;default:S=0,r=e.scale;break}var T={mode:0,start:S,end:r,duration:t,ease:n};return y===void 0?y=new Yo(e,T):y.resetFromJSON(T),y.restart(),y},BP=function(e,t,i,n,y,S){n===void 0&&(n="Linear"),y instanceof Yo&&(S=y,y=void 0),y===void 0&&(y=!0);var r={};switch(r.mode=y?1:0,i){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0;break}return r.duration=t,r.ease=n,S===void 0?S=new Yo(e,r):S.resetFromJSON(r),S.restart(),S},tk=function(e,t,i,n,y,S,r){i===void 0&&(i=1.2),n===void 0&&(n=0),S===void 0&&(S="Cubic");var T,s;switch(y){case 0:case"x":T={x:e.scaleX},s={x:i};break;case 1:case"y":T={y:e.scaleX},s={y:i};break;default:T=e.scaleX,s=i;break}var o={mode:2,start:T,end:s,duration:t/2,ease:S,repeat:n};return r===void 0?r=new Yo(e,o):r.resetFromJSON(o),r.restart(),r};const Zf=Phaser.Utils.Objects.IsPlainObject,kP={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Zf(e)){var n=e;e=n.duration,t=n.orientation,i=n.ease}var y=this._scaleBehavior===void 0;return this._scaleBehavior=Up(this,e,t,i,this._scaleBehavior),y&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),si(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,n){if(Zf(e)){var y=e;e=y.duration,t=y.orientation,i=y.ease,n=y.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=BP(this,e,t,i,n,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,n){return this.scaleDownDestroy(e,t,i,n),si(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),si(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,n,y){if(Zf(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,n=S.orientation,y=S.ease}var r=this._scaleBehavior===void 0;return this._scaleBehavior=tk(this,e,t,i,n,y,this._scaleBehavior),r&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,n,y){return this.scaleYoyo(e,t,i,n,y),si(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var er={};Object.assign(er,kP);er.onInitScale=function(){kP.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=Ha.getParentSizer(e);i&&i.resetChildPositionState(e)})};const ek=Phaser.Utils.Objects.GetValue,uy=Phaser.Utils.Objects.GetAdvancedValue,ik=Phaser.Math.Linear;let Lv=class extends Nn{constructor(e,t){super(e,t),this.resetFromJSON(t),this.boot()}resetFromJSON(e){return super.resetFromJSON(e),this.setMode(ek(e,"mode",0)),this.setAlphaRange(uy(e,"start",this.parent.alpha),uy(e,"end",0)),this}setMode(e){return typeof e=="string"&&(e=sk[e]),this.mode=e,this}setAlphaRange(e,t){return this.alphaStart=e,this.alphaEnd=t,this}start(){if(this.timer.isRunning)return this;var e=this.parent;return e.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(e,t){var i=t.t;t.isOddIteration&&(i=1-i),e.alpha=ik(this.alphaStart,this.alphaEnd,i)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const sk={stop:0,destroy:1,yoyo:2},rk=Phaser.Utils.Objects.IsPlainObject;var nd=function(e,t,i,n){var y,S;rk(i)?(y=i.start,S=i.end):S=i,y===void 0&&(y=0),S===void 0&&(S=1);var r={mode:0,start:y,end:S,duration:t};return n===void 0?n=new Lv(e,r):n.resetFromJSON(r),n.restart(),n},ad=function(e,t,i,n){i instanceof Lv&&(n=i,i=void 0),i===void 0&&(i=!0);var y={mode:i?1:0,end:0,duration:t};return n===void 0?n=new Lv(e,y):n.resetFromJSON(y),n.restart(),n};const dy=Phaser.Utils.Objects.IsPlainObject,NP={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(dy(e)){var i=e;e=i.duration,t=i.alpha}var n=this._fade===void 0;return this._fade=nd(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),si(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(dy(e)){var i=e;e=i.duration,t=i.destroy}var n=this._fade===void 0;return this._fade=ad(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),si(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),si(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var Wo={};Object.assign(Wo,NP);Wo.onInitFade=function(){NP.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=Ha.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const nk=Phaser.Utils.Objects.GetValue,da=Phaser.Utils.Objects.GetAdvancedValue,fy=Phaser.Math.Linear;class Cu extends Nn{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(nk(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=da(t,"x",void 0),n=da(t,"y",void 0);this.setTargetPosition(i,n)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=ak[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var n=t;this.startX=da(n,"startX",void 0),this.startY=da(n,"startY",void 0),this.endX=da(n,"endX",void 0),this.endY=da(n,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasMoveX&&(t.x=fy(this.startX,this.endX,n)),this.hasMoveY&&(t.y=fy(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const ak={stop:0,destroy:1,yoyo:2};var Su=function(e,t){if(typeof e=="number")return e;var i=e[0],n=parseFloat(e.substr(2));switch(i){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},GP=function(e,t,i,n,y,S,r){S instanceof Cu&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,i!==void 0&&(T.startX=e.x,T.endX=Su(i,e.x)),n!==void 0&&(T.startY=e.y,T.endY=Su(n,e.y)),T.duration=t,T.ease=y===void 0?"Linear":y,r===void 0?r=new Cu(e,T):r.resetFromJSON(T),r.restart(),r},zP=function(e,t,i,n,y,S,r){S instanceof Cu&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,i!==void 0&&(T.startX=Su(i,e.x),T.endX=e.x),n!==void 0&&(T.startY=Su(n,e.y),T.endY=e.y),T.duration=t,T.ease=y===void 0?"Linear":y,r===void 0?r=new Cu(e,T):r.resetFromJSON(T),r.restart(),r};const cy=Phaser.Utils.Objects.IsPlainObject,vy=Phaser.Math.Distance.Between,UP={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,n,y){if(cy(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=vy(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var r=this._easeMove===void 0;return this._easeMove=zP(this,e,t,i,n,y,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,n,y){return this.moveFrom(e,t,i,n,y),si(this._easeMove)},moveFromDestroy(e,t,i,n){return this.moveFrom(e,t,i,n,!0),this},moveFromDestroyPromise(e,t,i,n){return this.moveFromDestroy(e,t,i,n),si(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,n,y){if(cy(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=vy(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,n=S.ease}var r=this._easeMove===void 0;return this._easeMove=GP(this,e,t,i,n,y,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,n,y){return this.moveTo(e,t,i,n,y),si(this._easeMove)},moveToDestroy(e,t,i,n){return this.moveTo(e,t,i,n,!0),this},moveToDestroyPromise(e,t,i,n){return this.moveToDestroy(e,t,i,n,!0),si(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var od={};Object.assign(od,UP);od.onInitEaseMove=function(){UP.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=Ha.getParentSizer(e);i&&i.resetChildPositionState(e)})};const ji=Phaser.Utils.Objects.GetValue;class Xp extends Qu{constructor(t,i){super(t,i),this.timer=new XS,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(ji(t,"timer")),this.setEnable(ji(t,"enable",!0)),this.setMode(ji(t,"mode",1)),this.isRunning=ji(t,"isRunning",!1),this.setMagnitudeMode(ji(t,"magnitudeMode",1)),this.setAxisMode(ji(t,"axis",0)),this.setDuration(ji(t,"duration",500)),this.setMagnitude(ji(t,"magnitude",10)),this.ox=ji(t,"ox",void 0),this.oy=ji(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=ok[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=lk[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=hk[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var n=t;i=ji(n,"magnitude",void 0),t=ji(n,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(!n.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=n.x,this.oy=n.y);var y=this.magnitude;this.magnitudeMode===1&&(y*=1-this.timer.t);var S=Math.random()*Math.PI*2,r=this.ox+Math.cos(S)*y,T=this.oy+Math.sin(S)*y;switch(this.axisMode){case 1:n.x=r;break;case 2:n.y=T;break;default:n.x=r,n.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const ok={effect:0,behavior:1},hk={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},lk={constant:0,decay:1},uk=Phaser.Utils.Objects.IsPlainObject;var dk=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const fk={shake(e,t,i){if(uk(e)){var n=e;e=n.duration,t=n.magnitude,i=n.magnitudeMode}return this._shake===void 0&&(this._shake=new Xp(this,{mode:0,magnitudeMode:1}),dk(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),si(this._shake)}},py=Phaser.Utils.Objects.IsPlainObject;class ck extends ye{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new xs(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,n,y){if(py(t)){var S=t;t=S.key,i=S.value,n=S.duration,y=S.ease;var r=S.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:i,duration:n,ease:y}),this}easeFrom(t,i,n,y){if(py(t)){var S=t;t=S.key,i=S.value,n=S.duration,y=S.ease;var r=S.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:i,duration:n,ease:y}),this}stopEase(t,i){i===void 0&&(i=!0);var n=this.easeTasks[t];return n&&n.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var vk=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const pk={easeDataTo(e,t,i,n){return this._easeData||(this._easeData=new ck(this),vk(this,this._easeData)),this._easeData.easeTo(e,t,i,n),this},easeDataToPromise(e,t,i,n){return this.easeDataTo(e,t,i,n),_u(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var gk=Phaser.Utils.Array.Remove,mk=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,n=t.length;i<n;i++)t[i].remove();e._delayCallTimers=void 0})};const XP={delayCall(e,t,i){var n=this._delayCallTimers;n===void 0&&mk(this);var y,S=this,r=function(){gk(S._delayCallTimers,y),i?t.call(i):t()};return y=this.scene.time.delayedCall(e,r),this._delayCallTimers.push(y),this}};var Gr=function(e){VP(e,!1)},zr=function(e){VP(e,!0)},Vp=function(e){if(!e)return!1;var t=rd(e);return!t.hidden},VP=function(e,t){if(e){var i=rd(e);i.hidden=t;var n=Ui(e);n?n.setChildVisible(e,!t):e.setVisible(!t)}};const xk={show(e){return e===void 0&&(e=this),Gr(e),this},hide(e){return e===void 0&&(e=this),zr(e),this},isShow(e){return e===void 0&&(e=this),Vp(e)}},yk=["next","exit","enter"];let YP=class{constructor(e){var t=ie(e,"states",void 0);t&&this.addStates(t);var i=ie(e,"extend",void 0);if(i)for(var n in i)(!this.hasOwnProperty(n)||this[n]===void 0)&&(this[n]=i[n]);var y=ie(e,"eventEmitter",void 0),S=ie(e,"EventEmitterClass",void 0);this.setEventEmitter(y,S),this._stateLock=!1,this.resetFromJSON(e)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(e){this.setEnable(ie(e,"enable",!0)),this.start(ie(e,"start",void 0));var t=ie(e,"init",void 0);return t&&t.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(e){return e===void 0&&(e=!0),this.enable=e,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(e){if(!(!this.enable||this._stateLock)&&this._state!==e){if(this._prevState=this._state,this._state=e,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var t="exit_"+this._prevState,i=this[t];i&&i.call(this),this.emit(t,this)}if(this._stateLock=!1,this._state!=null){var n="enter_"+this._state,y=this[n];y&&y.call(this),this.emit(n,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(e){return this._start=e,this._prevState=void 0,this._state=e,this}goto(e){return e!=null&&(this.state=e),this}next(){var e,t=this["next_"+this.state];return t&&(typeof t=="string"?e=t:e=t.call(this)),this.goto(e),this}get stateProperties(){return yk}addState(e,t){typeof e!="string"&&(t=e,e=t.name);for(var i=this.stateProperties,n=0,y=i.length;n<y;n++){var S=i[n],r=t[S];r&&(this[`${S}_${e}`]=r)}return this}addStates(e){if(Array.isArray(e))for(var t=0,i=e.length;t<i;t++)this.addState(e[t]);else for(var n in e)this.addState(n,e[n]);return this}runMethod(e,t,i,n,y,S){var r=this[e+"_"+this.state];if(r){var T=arguments.length;switch(T){case 1:return r.call(this);case 2:return r.call(this,t);case 3:return r.call(this,t,i);case 4:return r.call(this,t,i,n);case 5:return r.call(this,t,i,n,y);case 6:return r.call(this,t,i,n,y,S)}for(var s=new Array(T-1),o=1;o<T;o++)s[o-1]=arguments[o];return r.apply(this,s)}}};Object.assign(YP.prototype,QS);var Qf=function(e,t,i,n,y){y===void 0&&(y=!1);var S=e._events[t];if(!S)return!1;for(var r=0,T=S.length;r<T;r++){var s=S[r];if(s.fn===i&&s.context===n&&s.once===y)return!0}return!1};const Tk=["next","exit","enter","update","preupdate","postupdate"];class fr extends YP{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=ie(t,"scene",void 0),this}get stateProperties(){return Tk}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Qf(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Qf(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Qf(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Ck=class extends fr{constructor(e,t){super(t),this.parent=e;var i=t.initState||"IDLE";this.start(i)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var e=this.parent;if(e.transitInTime>0){var t=e.runTransitionInCallback();e.delayCall(t,this.next,this)}else this.next()}exit_TRANS_OPNE(){var e=this.parent;e.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var e=this.parent;e.onOpen()}exit_OPEN(){var e=this.parent;e.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var e=this.parent;if(e.transitOutTime>0){var t=e.runTransitionOutCallback();e.delayCall(t,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var e=this.parent;e.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var e=this.parent;e.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var Sk=function(e,t,i,n,y){var S=Va(e),r=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(n,y)})});return r};const Pk={delayCall(e,t,i){return this.delayCallTimer=Sk(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Ek={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=We),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=We),this.transitOutCallback=e,this}},wk={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},bk={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var WP={};Object.assign(WP,Pk,Ek,wk,bk);const fa=Phaser.Utils.Objects.GetValue;class hd extends ye{constructor(t,i){super(t,i),this.setTransitInTime(fa(i,"duration.in",200)),this.setTransitOutTime(fa(i,"duration.out",200)),this.setTransitInCallback(fa(i,"transitIn")),this.setTransitOutCallback(fa(i,"transitOut")),this.oneShotMode=fa(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new Ck(this,{eventEmitter:!1,initState:fa(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(hd.prototype,WP);const Ok=Phaser.GameObjects.Rectangle;class Yp extends Ok{constructor(t,i,n){super(t,0,0,2,2,i,1),this.fullWindow=new cP(this),this.setAlpha(n)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const qf=Phaser.Utils.Objects.GetValue;class ld extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(qf(t,"hitAreaMode",0)),this.setEnable(qf(t,"enable",!0)),this.setStopMode(qf(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerup",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointermove",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerover",function(t,i,n,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=Mk[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var Mk={default:0,fullWindow:1};const gy=Phaser.Utils.Objects.GetValue;class Wp extends Yp{constructor(t,i){var n=gy(i,"color",0),y=gy(i,"alpha",.8);super(t,n,y),this.touchEventStop=new ld(this,{hitAreaMode:1})}}var Ak=function(e,t){var i=e.scene,n=new Wp(i,t);return i.add.existing(n),e.isRexContainerLite?(e.pin(n,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(n)):i.children.moveBelow(n,e),n};const Tl={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Up(e,t)},scaleDown(e,t){BP(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,nd(e,t)},fadeOut(e,t){ad(e,t,!1)}};var Rk=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,nd(e,t,e.alpha)},Lk=function(e,t){ad(e,t,!1)},ud=function(e,t,i,n,y){if(!e||n&&!n(e,t,i))return!1;var S=op(e,!0);return!(!S.contains(t,i)||y&&!y(e,t,i))};const bs=Phaser.Utils.Objects.GetValue;let Fk=class extends hd{constructor(e,t){t===void 0&&(t={}),t.transitIn==null&&(t.transitIn=Er.popUp),t.transitOut==null&&(t.transitOut=Er.scaleDown),t.destroy=bs(t,"destroy",!0),super(e,t);var i=bs(t,"cover");this.cover=i!==!1?Ak(e,i):void 0,this.cover&&(this.setCoverTransitInCallback(bs(i,"transitIn",Rk)),this.setCoverTransitOutCallback(bs(i,"transitOut",Lk)));var n=bs(t,"touchOutsideClose",!1),y=bs(t,"duration.hold",-1),S=bs(t,"timeOutClose",y>=0),r=bs(t,"anyTouchClose",!1),T=bs(t,"manualClose",!1);T&&(n=!1,r=!1,S=!1),r&&(n=!1),S?this.setDisplayTime(y):this.setDisplayTime(-1),r?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),bs(t,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(e){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!e&&(this.cover.destroy(),this.cover=void 0),super.shutdown(e))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(e){this.clickOutsideTest&&ud(this.parent,e.worldX,e.worldY)||this.requestClose()}runTransitionInCallback(){var e=super.runTransitionInCallback(),t=this.cover;return t&&this.coverTransitInCallback&&this.coverTransitInCallback(t,e),e}runTransitionOutCallback(){var e=super.runTransitionOutCallback(),t=this.cover;return t&&this.coverTransitOutCallback&&this.coverTransitOutCallback(t,e),e}onOpen(){var e=this.displayTime;e>=0&&this.delayCall(e,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(e){return this.displayTime=e,this}setTransitInCallback(e){switch(typeof e=="string"&&(e=Er[e]),e){case Er.popUp:e=Tl.popUp;break;case Er.fadeIn:e=Tl.fadeIn;break}return super.setTransitInCallback(e),this}setTransitOutCallback(e){switch(typeof e=="string"&&(e=Er[e]),e){case Er.scaleDown:e=Tl.scaleDown;break;case Er.fadeOut:e=Tl.fadeOut;break}return super.setTransitOutCallback(e),this}setCoverTransitInCallback(e){return this.coverTransitInCallback=e,this}setCoverTransitOutCallback(e){return this.coverTransitOutCallback=e,this}};const Er={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Hp=function(e,t){var i=new Fk(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(n){e.emit("modal.close",n,i)}),e.on("modal.requestClose",i.requestClose,i),i},Dk=function(e,t){var i=Hp(e,t);return new Promise(function(n,y){i.once("close",function(S){n(S)})})},HP=function(e,t){e.emit("modal.requestClose",t)},ys=function(e){return e&&typeof e=="function"};const dd={modal(e,t){return ys(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Hp(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,n){t.modal(e,i)})},modalClose(e){return HP(this,e),this}};var Ik=function(e,t,i,n,y,S){return S===void 0&&(S=!1),t[S?"once":"on"](i,n,y),e.once("destroy",function(){t.off(i,n,y)}),e},Js=function(e,t,i,n,y){ys(t)&&(y=n,n=i,i=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,i,n,y),this};const Bk={bindEvent(e,t,i,n,y,S){return typeof t=="string"&&(S=y,y=n,n=i,i=t,t=e,e=this),Ik(e,t,i,n,y,S),this},bindScenePreupdateEvent(e,t,i,n){return Js.call(this,"preupdate",e,t,i,n),this},bindSceneUpdateEvent(e,t,i,n){return Js.call(this,"update",e,t,i,n),this},bindScenePostupdateEvent(e,t,i,n){return Js.call(this,"postupdate",e,t,i,n),this},bindSceneRenderEvent(e,t,i,n){return Js.call(this,"render",e,t,i,n),this},bindScenePauseEvent(e,t,i,n){return Js.call(this,"pause",e,t,i,n),this},bindSceneResumeEvent(e,t,i,n){return Js.call(this,"resume",e,t,i,n),this},bindSceneSleepEvent(e,t,i,n){return Js.call(this,"sleep",e,t,i,n),this},bindSceneWakeEvent(e,t,i,n){return Js.call(this,"wake",e,t,i,n),this},bindSceneShutdownEvent(e,t,i,n){return Js.call(this,"shutdown",e,t,i,n),this}};var Pu=function(e,t,i){var n=e.camera;return n?(i===void 0?i={}:i===!0&&(i=kk),n===t?(i.x=e.worldX,i.y=e.worldY):n.getWorldPoint(e.x,e.y,i),i):null},kk={},Nk=function(e,t,i,n,y){var S=e.scene.sys.cameras.main,r,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?i(e,t.x,t.y,n,y):(r=Pu(t,S,!0),r?i(e,r.x,r.y,n,y):!1);for(var s=e.scene.input.manager,o=s.pointersTotal,m=s.pointers,f=0;f<o;f++)if(t=m[f],T){if(i(e,t.x,t.y,n,y))return!0}else{if(r=Pu(t,S,!0),!r)continue;if(i(e,r.x,r.y,n,y))return!0}return!1},Vs=function(e,t,i,n){return Nk(e,t,ud,i,n)},Gk=function(e,t){return(Li(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Vs(t,e)},Ts=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Dn=function(e,t,i,n,y){return ud(e,t,i,zk(n),y)},my=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},zk=function(e){return e?function(t,i,n){return my(t)?(e(t,i,n),!0):!1}:my},jP=function(e,t,i,n,y){if(ys(i)||(y=i,i=void 0,n=void 0),y===void 0&&(this.sizerChildren?y=this.sizerChildren:this.isRexContainerLite?y=this.children:y=this.list),Ts(y)){for(var S,r=0,T=y.length;r<T;r++)if(S=y[r],Dn(S,e,t,i,n))return S}else{var S;for(var s in y)if(S=y[s],Dn(S,e,t,i,n))return S}return null},Uk=function(e,t){return t===void 0?t={}:t===!0&&(t=Xk),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},Xk={},ch=function(e){this.sizerEventsEnable&&(Uk(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},vh=function(e,t,i,n,y,S,r,T){r===void 0&&(r=0),T===void 0&&(T=0),lh(e,t,i,n,y,S),e.x+=r,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const Vk=Phaser.Display.Align.CENTER;var Yk=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,n=this.width*this.scaleX,y=this.height*this.scaleY,S,r,T,s,o,m,f,u=0,h=e.length;u<h;u++)S=e[u],r=S.rexSizer,!r.hidden&&(T=r.padding,ch.call(this,S),s=t+T.left*this.scaleX,o=i+T.top*this.scaleY,m=n-(T.left+T.right)*this.scaleX,f=y-(T.top+T.bottom)*this.scaleY,ui(S,m,f),vh.call(this,S,s,o,m,f,Vk,0,0))};const Wk=Phaser.Utils.Objects.IsPlainObject;var Hk=function(e,t,i){if(Wk(e)){var n=e;e=n.sensor,i=n.target,t=n.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var y=typeof e;if(y==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||y!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(r,T,s){var o=i===void 0?this.getTopmostSizer():i;o.x+=T-e.x,o.y+=s-e.y,o.emit("sizer.drag",r,T,s)},this).on("dragstart",function(r,T,s){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",r,T,s)},this).on("dragend",function(r,T,s,o){var m=i===void 0?this.getTopmostSizer():i;m.emit("sizer.dragend",r,T,s,o)},this).on("drop",function(r,T){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",r,T)}),e.input._rexUIDragSizer=!0),this};const jp={onClick(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new ur(e,n)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},co=Phaser.Utils.Objects.GetValue;class $p extends ye{constructor(t,i){super(t,i),this._enable=void 0;var n=co(i,"inputConfig",void 0);n&&t.setInteractive(n),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(co(t,"enable",!0)),this.setMode(co(t,"mode",1)),this.setClickInterval(co(t,"clickInterval",100)),this.setDragThreshold(co(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=jk[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,n=i.input?dp:Vs;return n(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,n,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var n=this.lastClickTime;return n!==void 0&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const jk={press:0,pointerdown:0,release:1,pointerup:1},$k={onClickOutside(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new $p(e,n)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class Kk extends fr{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const _f=Phaser.Utils.Objects.GetValue;class ka extends ye{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new Kk,this.parent.setInteractive(_f(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(_f(t,"enable",!0)),this.setCooldown(_f(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const Jk={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Vs(e):!1},onTouching(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new ka(e,n)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new ka(e,n)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Zk={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var $P=function(e,t,i,n){if(e==="parent"){for(var y,S=0,r=t.length;S<r;S++)if(y=t[S],!!Dn(y,i,n))return y.pointToChild?y.pointToChild(i,n):jP.call(y,i,n)}else for(var S=0,r=t.length;S<r;S++){var T=t[S];if(Dn(T,i,n))return T}return null},ss=function(e,t,i,n,y,S,r,T){var s;if(S===void 0)s=y;else{var o=i[0];if(!o)return;var m=r.camera,f=y+m.scrollX*(o.scrollFactorX-1),u=S+m.scrollY*(o.scrollFactorY-1);s=$P(n,i,f,u)}s&&e.emit(t,s,r,T)};const Qk=Phaser.Utils.Objects.GetValue;var qk=function(e){var t=Qk(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",_k,this))},_k=function(e,t,i,n){var y=this._childrenInteractive;ss(y.eventEmitter,`${y.eventNamePrefix}down`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,n)};const tN=Phaser.Utils.Objects.GetValue;var eN=function(e){var t=tN(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",iN,this))},iN=function(e,t,i,n){var y=this._childrenInteractive;ss(y.eventEmitter,`${y.eventNamePrefix}up`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,n)};const sN=Phaser.Utils.Objects.GetValue;var rN=function(e){var t=sN(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",xy,this).on("pointerover",xy,this).on("pointerout",nN,this))},xy=function(e,t,i,n){var y=this._childrenInteractive,S=y.targetSizers[0];if(S){var r=e.camera,T=e.worldX+r.scrollX*(S.scrollFactorX-1),s=e.worldY+r.scrollY*(S.scrollFactorY-1),o=$P(y.targetMode,y.targetSizers,T,s),m=y.lastOverChild;o&&m&&o===m||(y.lastOverChild=o,ss(y.eventEmitter,`${y.eventNamePrefix}out`,y.targetSizers,y.targetMode,m,void 0,e,n),ss(y.eventEmitter,`${y.eventNamePrefix}over`,y.targetSizers,y.targetMode,o,void 0,e,n))}},nN=function(e,t){var i=this._childrenInteractive,n=i.lastOverChild;i.lastOverChild=null,ss(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,n,void 0,e,t)};const aN=Phaser.Utils.Objects.GetValue;var oN=function(e){var t=aN(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new ur(this,t),this._click.on("click",function(n,y,S,r){ss(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,r)},this)}};const tc=Phaser.Utils.Objects.GetValue;class fd extends Qu{constructor(t,i){var n=Va(t);n===t&&(t=void 0),super(n,i),this.gameObject=t,t&&t.setInteractive(tc(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(tc(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(tc(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=ec,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=yy,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=ec,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointer===t;!n&&i||(n&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===yy&&this.onDragEnd(),this.pointer=void 0,this.tracerState=ec,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=hN,this}isPointerInGameObject(t,i,n){var y=this.lastPointer;return y?Vs(t,y,i,n):!1}}const ec=0,yy=1,hN="IDLE",un=Phaser.Utils.Objects.GetValue,lN=Phaser.Math.Distance.Between;class cd extends fd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.stop(),n.tapsCount=0,n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start(),n.tapsCount=0,n.emit("tappingstart",n,n.gameObject,n.lastPointer)}},RECOGNIZED:{enter:function(){n.start(),n.emit("tap",n,n.gameObject,n.lastPointer),n.emit(`${n.tapsCount}tap`,n,n.gameObject,n.lastPointer)}}},init:function(){this.state=dn},eventEmitter:!1};this.setRecongizedStateObject(new fr(y))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(un(t,"time",250)),this.setTapInterval(un(t,"tapInterval",200)),this.setDragThreshold(un(t,"threshold",9)),this.setTapOffset(un(t,"tapOffset",10));var i=un(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(un(t,"maxTaps",void 0)),this.setMinTaps(un(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case dn:this.state=ca;break;case ca:var t=this.lastPointer,i=lN(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=va,this.state=ca);break;case va:this.state=ca;break}}onDragEnd(){this.state===ca&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=va))}onDrag(){this.state!==dn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=dn)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===ca){var n=this.lastPointer;if(n.isDown){var y=t-n.downTime;y>this.holdTime&&(this.state=dn)}else{var S=t-n.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=va:this.state=dn)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===va&&(this.state=dn)}get isTapping(){return this.state===va}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const dn="IDLE",ca="BEGIN",va="RECOGNIZED",Ty=Phaser.Utils.Objects.GetValue;class vd extends fd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.start()},exit:function(){n.stop()}},RECOGNIZED:{enter:function(){n.emit("pressstart",n,n.gameObject,n.lastPointer)},exit:function(){n.emit("pressend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Cl},eventEmitter:!1};this.setRecongizedStateObject(new fr(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Ty(t,"threshold",9)),this.setHoldTime(Ty(t,"time",251)),this}onDragStart(){this.state=Cy,this.holdTime===0&&(this.state=ic)}onDragEnd(){this.state=Cl}onDrag(){this.state!==Cl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Cl)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===Cy){var n=t-this.pointer.downTime;n>=this.holdTime&&(this.state=ic)}}get isPressing(){return this.state===ic}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const Cl="IDLE",Cy="BEGIN",ic="RECOGNIZED",uN=Phaser.Utils.Objects.GetValue;class KP extends fd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{},BEGIN:{enter:function(){var S=n.pointer;n.startX=S.x,n.startY=S.y,n.startWorldX=S.worldX,n.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){n.emit("panstart",n,n.gameObject,n.lastPointer)},exit:function(){var S=n.lastPointer;n.endX=S.x,n.endY=S.y;var r=Pu(S,n.pointerCamera,!0);n.endWorldX=r.x,n.endWorldY=r.y,n.emit("panend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=Sy},eventEmitter:!1};this.setRecongizedStateObject(new fr(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(uN(t,"threshold",10)),this}onDragStart(){this.state=Py,this.dragThreshold===0&&(this.state=Sl)}onDragEnd(){this.state=Sy}onDrag(){switch(this.state){case Py:if(this.pointer.getDistance()>=this.dragThreshold){this.state=Sl,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var y=this.pointer;this.x=y.x,this.y=y.y,this.worldX=y.worldX,this.worldY=y.worldY}break;case Sl:var t=this.pointerCamera,i=this.pointer.position,n=this.pointer.prevPosition;this.dx=i.x-n.x,this.dy=i.y-n.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var y=this.pointer;this.x=y.x,this.y=y.y;var S=Pu(y,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===Sl}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const Sy="IDLE",Py="BEGIN",Sl="RECOGNIZED",dN=Phaser.Math.Distance.Between,fN=Phaser.Math.Angle.Between,cN={getDt:function(){var e=vp(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=dN(t.x,t.y,e.x,e.y),n=i/(this.getDt()*.001);return n},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),n=i/(this.getDt()*.001);return n},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),n=i/(this.getDt()*.001);return n},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=fN(t.x,t.y,e.x,e.y);return i}},vN={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var pN=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=gN),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},gN={};const sc=Phaser.Utils.Objects.GetValue,mN=Phaser.Math.RadToDeg;class ph extends fd{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var S=n.lastPointer;n.x=S.x,n.y=S.y,n.worldX=S.worldX,n.worldY=S.worldY}},BEGIN:{enter:function(){n.validDrag=!1}},RECOGNIZED:{enter:function(){n.start(),n.updateDirectionStates(),n.emit("swipe",n,n.gameObject,n.lastPointer)},exit:function(){n.stop(),n.clearDirectionStates()}}},init:function(){this.state=rc},eventEmitter:!1};this.setRecongizedStateObject(new fr(y)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(sc(t,"threshold",10)),this.setVelocityThreshold(sc(t,"velocityThreshold",1e3)),this.setDirectionMode(sc(t,"dir","8dir")),this}onDragStart(){this.state=Ey}onDragEnd(){this.state=rc}onDrag(){this.state===Ey&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=nc))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===nc&&(this.state=rc)}get isSwiping(){return this.state===nc}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=vN[t]),this.dirMode=t,this}updateDirectionStates(){var t=mN(this.getVelocityAngle());return pN(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(ph.prototype,cN);const rc="IDLE",Ey="BEGIN",nc="RECOGNIZED",Pl=Phaser.Utils.Objects.GetValue,xN=Phaser.Utils.Array.SpliceOne,yN=Phaser.Math.Distance.Between,TN=Phaser.Math.Angle.Between;class Kp{constructor(t,i){var n=Va(t);n===t&&(t=void 0);var y=n.input.manager.pointersTotal-1;y<2&&n.input.addPointer(2-y),this.scene=n,this.gameObject=t,t&&t.setInteractive(Pl(i,"inputConfig",void 0)),this.setEventEmitter(Pl(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(Pl(t,"enable",!0)),this.bounds=Pl(t,"bounds",void 0),this.tracerState=El,this.pointers.length=0,Yr(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Yr(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case El:this.tracerState=po,this.onDrag1Start();break;case po:this.tracerState=Os,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n!==-1)switch(delete this.movedState[t.id],xN(this.pointers,n),this.tracerState){case po:this.tracerState=El,this.onDrag1End();break;case Os:this.tracerState=po,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointers.indexOf(t)!==-1;if(!(!n&&i)){if(n&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case po:this.onDrag1();break;case Os:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Os&&this.onDrag2End(),this.pointers.length=0,Yr(this.movedState),this.tracerState=El,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Os)return 0;var t=this.pointers[0],i=this.pointers[1];return yN(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==Os)return 0;var t=this.pointers[0],i=this.pointers[1];return TN(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,n=t.prevPosition;vo.x=i.x-n.x,vo.y=i.y-n.y}else vo.x=0,vo.y=0;return vo}get centerX(){if(this.tracerState!==Os)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==Os)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==Os)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==Os)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=CN,this}isPointer0InGameObject(t,i,n){var y=this.pointers[0];return y?Vs(t,y,i,n):!1}isPointer1InGameObject(t,i,n){var y=this.pointers[1];return y?Vs(t,y,i,n):!1}}Object.assign(Kp.prototype,eh);var vo={};const El=0,po=1,Os=2,CN="IDLE",SN=Phaser.Utils.Objects.GetValue;class JP extends Kp{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.prevDistance=void 0,n.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("pinchstart",n)},exit:function(){n.emit("pinchend",n)}}},init:function(){this.state=wy},eventEmitter:!1};this.setRecongizedStateObject(new fr(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(SN(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=by,this.dragThreshold===0&&(this.state=wl)}onDrag2End(){this.state=wy}onDrag2(){switch(this.state){case by:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=wl}break;case wl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===wl}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const wy="IDLE",by="BEGIN",wl="RECOGNIZED",PN=Phaser.Math.RotateAround;var Oy=function(e,t,i,n){return PN(e,t,i,n),e.rotation+=n,e},EN=function(e,t,i,n){return n===void 0?n={}:n===!0&&(n=wN),i.getWorldPoint(e,t,n),n},wN={},bN=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY,y=EN(this.centerX,this.centerY,t,!0),S=y.x,r=y.y,T=this.rotation;if(Array.isArray(e))for(var s=e,o=0,m=s.length;o<m;o++)e=s[o],e.x+=i,e.y+=n,Oy(e,S,r,T);else e.x+=i,e.y+=n,Oy(e,S,r,T);return this};const ON=Phaser.Utils.Objects.GetValue,ac=Phaser.Math.Angle.WrapDegrees,My=Phaser.Math.Angle.ShortestBetween,oc=Phaser.Math.RadToDeg,MN=Phaser.Math.DegToRad;class Jp extends Kp{constructor(t,i){super(t,i);var n=this,y={states:{IDLE:{enter:function(){n.prevAngle=void 0,n.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("rotatestart",n)},exit:function(){n.emit("rotateend",n)}}},init:function(){this.state=Ay},eventEmitter:!1};this.setRecongizedStateObject(new fr(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(ON(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=ac(oc(this.angleBetween)),this.state=Ry,this.dragThreshold===0&&(this.state=bl)}onDrag2End(){this.state=Ay}onDrag2(){switch(this.state){case Ry:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=ac(oc(this.angleBetween));this.angle=My(this.prevAngle,t),this.prevAngle=t,this.state=bl}break;case bl:var t=ac(oc(this.angleBetween));this.angle=My(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===bl}get isRotated(){return this.isRotating}get rotation(){return MN(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var AN={spinObject:bN};Object.assign(Jp.prototype,AN);const Ay="IDLE",Ry="BEGIN",bl="RECOGNIZED",RN=Phaser.Utils.Objects.GetValue;var LN=function(e){var t=RN(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new cd(this,t),this._tap.on("tap",function(n,y,S){ss(i.eventEmitter,`${i.eventNamePrefix}${n.tapsCount}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),ss(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const FN=Phaser.Utils.Objects.GetValue;var DN=function(e){var t=FN(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new vd(this,t),this._press.on("pressstart",function(n,y,S){ss(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this).on("pressend",function(n,y,S){ss(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const IN=Phaser.Utils.Objects.GetValue;var BN=function(e){var t=IN(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new ph(this,t),this._swipe.on("swipe",function(n,y,S){var r=n.left?"left":n.right?"right":n.up?"up":"down";ss(i.eventEmitter,`${i.eventNamePrefix}swipe${r}`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n),ss(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,n.worldX,n.worldY,S,n)},this)}};const go=Phaser.Utils.Objects.GetValue;var pd=function(e,t){return e.setInteractive(),go(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:go(t,"targets",[e]),targetMode:go(t,"targetMode","parent"),eventEmitter:go(t,"eventEmitter",e),eventNamePrefix:go(t,"inputEventPrefix","child.")},qk.call(e,t),eN.call(e,t),rN.call(e,t),oN.call(e,t),LN.call(e,t),DN.call(e,t),BN.call(e,t),e},kN=function(e){return pd(this,e),this},NN=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var n=e[t];n.emit.apply(n,arguments)}return this},ZP={getSizerConfig:e7,getChildPrevState:i7,pushIntoBounds:s7,drawBounds:g7,resolveWidth:Dp,hasWidthWrap:Ip,resolveChildrenWidth:L7,runWidthWrap:Bp,resolveHeight:kp,hasHeightWrap:Np,resolveChildrenHeight:F7,runHeightWrap:Gp,getChildWidth:D7,getChildHeight:I7,getExpandedChildWidth:B7,getExpandedChildHeight:k7,getChildrenWidth:N7,getChildrenHeight:G7,addChildrenMap:ny,addElement:ny,removeChildrenMap:b7,getElement:O7,getChildIndex:A7,getAllChildrenSizers:z7,getChildrenSizers:U7,preLayout:fh,layout:V7,runLayout:H7,layoutChildren:K7,layoutBackgrounds:Yk,postLayout:J7,setAnchor:Q7,isInTouching:Gk,pointToChild:jP,setDraggable:Hk,setChildrenInteractive:kN,broadcastEvent:NN};Object.assign(ZP,R7,y7,w7,Ha,er,Wo,od,fk,pk,XP,jp,$k,Jk,Zk,xk,dd,X7,Bk);const Zs=Phaser.Utils.Objects.GetValue;let Xn=class extends Xi{constructor(e,t,i,n,y,S){super(e,t,i,1,1),this.isRexSizer=!0;var r=Zs(S,"origin",.5),T=Zs(S,"originX",r),s=Zs(S,"originY",r);this.setOrigin(T,s),this.setMinSize(n,y),this.setName(Zs(S,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var o=Zs(S,"anchor",void 0);o&&this.setAnchor(o),this.setInnerPadding(Zs(S,"space",0));var m=Zs(S,"draggable",!1);m&&this.setDraggable(m),this.setSizerEventsEnable(Zs(S,"sizerEvents",!1)),this.setDirty(!0),Zs(S,"enableLayer",!1)&&this.enableLayer()}destroy(e){if(!(!this.scene||this.ignoreDestroy)){if(e)for(var t=this.getAllChildrenSizers([this]),i=0,n=t.length;i<n;i++)t[i].sizerEventsEnable=!1;super.destroy(e),Yr(this.backgroundChildren),Yr(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(e,t){return this.setMinWidth(e).setMinHeight(t),this}setMinWidth(e){return e==null&&(e=0),this.minWidth=e,this}setMinHeight(e){return e==null&&(e=0),this.minHeight=e,this}setDirty(e){return e===void 0&&(e=!0),this.dirty=e,this}setSizerEventsEnable(e){return e===void 0&&(e=!0),this.sizerEventsEnable=e,this}enableLayoutWarn(e){return e===void 0&&(e=!0),this.layoutWarnEnable=e,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-te(this)*this.originX}set left(e){this.x+=e-this.left}alignLeft(e){return this.left=e,this}get right(){return this.left+te(this)}set right(e){this.x+=e-this.right}alignRight(e){return this.right=e,this}get centerX(){return this.left+te(this)/2}set centerX(e){this.x+=e-this.centerX}alignCenterX(e){return this.centerX=e,this}get top(){return this.y-ee(this)*this.originY}set top(e){this.y+=e-this.top}alignTop(e){return this.top=e,this}get bottom(){return this.top+ee(this)}set bottom(e){this.y+=e-this.bottom}alignBottom(e){return this.bottom=e,this}get centerY(){return this.top+ee(this)/2}set centerY(e){this.y+=e-this.centerY}alignCenterY(e){return this.centerY=e,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var e=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(e,0)}get minInnerHeight(){var e=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(e,0)}};Object.assign(Xn.prototype,ZP);var GN=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,y,S=!1;for(var r in t)i=t[r],y=this.getChildWidth(i),y===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,y+=(n.left+n.right)*this.scaleX,e=Math.max(y,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},zN=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,y,S=!1;for(var r in t)i=t[r],y=this.getChildHeight(i),y===void 0&&(S=!0),!S&&(n=i.rexSizer.padding,y+=(n.top+n.bottom)*this.scaleY,e=Math.max(y,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},UN=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(n.expandWidth){var y=t-(this.space.left+this.space.right)*this.scaleX,S=n.padding;i=y-(S.left+S.right)*this.scaleX}return i},XN=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(n.expandHeight){var y=t-(this.space.top+this.space.bottom)*this.scaleY,S=n.padding;i=y-(S.top+S.bottom)*this.scaleY}return i},VN=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var n in t)i=t[n],i.isRexSizer&&e.push(i);return e},Zp=function(e,t,i,n){if(i===void 0)i=0;else{var y=typeof i;y==="boolean"?(n=i,i=0):y==="string"&&(i=YN[i])}n===void 0?n={}:n===!0&&(n=WN);var S=t.width/e.width,r=t.height/e.height,T=i?Math.max(S,r):Math.min(S,r);return n.width=e.width*T,n.height=e.height*T,n};const YN={fit:0,FIT:0,envelop:1,ENVELOP:1};var WN={},Qp=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},HN=function(){var e,t,i,n=this.innerLeft,y=this.innerTop,S=this.innerWidth,r=this.innerHeight,T,s,o,m,f,u,h,a,l,c=this.sizerChildren;for(var d in c)e=c[d],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,ch.call(this,e),h=this.getExpandedChildWidth(e),a=this.getExpandedChildHeight(e),t.aspectRatio>0&&(hc.width=t.aspectRatio,hc.height=1,lc.width=h,lc.height=a,l=Zp(hc,lc,"FIT",!0),h=l.width,a=l.height),e.isRexSizer?(e.runLayout(this,h,a),Qp(e,this)):ui(e,h,a),T=n+i.left*this.scaleX,o=S-(i.left+i.right)*this.scaleX,s=y+i.top*this.scaleY,m=r-(i.top+i.bottom)*this.scaleY,h===void 0&&(h=te(e)),a===void 0&&(a=ee(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*h)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,vh.call(this,e,T,s,o,m,t.align,f,u))},hc={},lc={};const Ly=Phaser.Utils.Objects.IsPlainObject,Ii=Phaser.Utils.Objects.GetValue,Fy=Phaser.Display.Align.CENTER,jN=Phaser.Utils.String.UUID;var $N=function(e,t,i,n,y,S,r,T,s,o){var m,f;if(uh.call(this,e),Ly(t)){var h=t;t=Ii(h,"key",void 0),i=Ii(h,"align",Fy),n=Ii(h,"padding",0),y=Ii(h,"expand",!0),e.isRexSizer||(S=Ii(h,"minWidth",e._minWidth),r=Ii(h,"minHeight",e._minHeighted)),T=Ii(h,"offsetX",0),s=Ii(h,"offsetY",0),m=Ii(h,"offsetOriginX",0),f=Ii(h,"offsetOriginY",0),o=Ii(h,"aspectRatio",0)}var u=t!==void 0;u||(t=jN()),typeof i=="string"&&(i=Wa[i]),i===void 0&&(i=Fy),n===void 0&&(n=0),y===void 0&&(y=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),r===void 0&&(r=e._minHeight)),T===void 0&&(T=0),s===void 0&&(s=0),m===void 0&&(m=0),f===void 0&&(f=0),o===void 0?o=0:o===!0&&(o=te(e)/ee(e)),o>0&&(y=!0,S===void 0&&(S=0),r===void 0&&(r=0));var h=this.getSizerConfig(e);return h.align=i,h.padding=Un(n),Ly(y)?(h.expandWidth=Ii(y,"width",!1),h.expandHeight=Ii(y,"height",!1)):(h.expandWidth=y,h.expandHeight=y),e.isRexSizer||(h.expandWidth&&(e.minWidth=S===void 0?te(e):S),h.expandHeight&&(e.minHeight=r===void 0?ee(e):r)),h.alignOffsetX=T,h.alignOffsetY=s,h.alignOffsetOriginX=m,h.alignOffsetOriginY=f,h.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,u&&this.addChildrenMap(t,e),this};const KN={add:$N},JN=Xi.prototype.clear;var gd=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),JN.call(this,e),t)for(var n,y=0,S=i.length;y<S;y++)n=i[y],n.emit("sizer.remove",n,this),this.emit("remove",n,this);return this};const ZN={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),dh.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return gd.call(this,e),this}};var QP={getChildrenWidth:GN,getChildrenHeight:zN,getExpandedChildWidth:UN,getExpandedChildHeight:XN,getChildrenSizers:VN,layoutChildren:HN};Object.assign(QP,KN,ZN);var md=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const Dy=Phaser.Utils.Objects.IsPlainObject,pa=Phaser.Utils.Objects.GetValue;class rs extends Xn{constructor(t,i,n,y,S,r){Dy(i)?(r=i,i=pa(r,"x",0),n=pa(r,"y",0),y=pa(r,"width",void 0),S=pa(r,"height",void 0)):Dy(y)&&(r=y,y=pa(r,"width",void 0),S=pa(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return md(this.sizerChildren,t);return null}}Object.assign(rs.prototype,QP);var QN=Phaser.Math.Distance.Between,Eu=function(e,t,i){var n=e.width/2;return QN(n,n,t,i)<=n};const qN=Phaser.Math.Angle.Between,_N=Phaser.Math.Angle.Normalize;var Iy=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;if(Eu(n,t,i)){var y=n.width/2,S=n.startAngle,r=qN(y,y,t,i),T=n.anticlockwise?S-r:r-S,s=_N(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},tG=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Iy,this).on("pointermove",Iy,this).setInteractive()};const By=Phaser.Math.Angle.Between,eG=Phaser.Math.Angle.Wrap;var iG=function(e,t,i){if(!(!this.enable||this.panPointer)){var n=this.sizerChildren.knob;Eu(n,t,i)&&qP.call(this,e)}},sG=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;switch(this.panState){case qp:Eu(n,t,i)&&qP.call(this,e);break;case tE:Eu(n,t,i)?nG.call(this):_P.call(this);break}}},rG=function(e,t,i){!this.enable||this.panPointer!==e||_P.call(this)},qP=function(e){this.panPointer=e,this.panState=tE},_P=function(){this.panPointer=void 0,this.panState=qp},nG=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,n=By(i.x,i.y,e.x,e.y),y=By(i.x,i.y,t.x,t.y),S=i.anticlockwise?n-y:y-n,r=eG(S)/(Math.PI*2);this.stopEaseValue(),this.value+=r};const qp=0,tE=1;var aG=function(){var e=this.sizerChildren.knob;e.on("pointerdown",iG,this).on("pointermove",sG,this).on("pointerup",rG,this).setInteractive(),this.panPointer=void 0,this.panState=qp},oG=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},eE=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},hG=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(eE.call(this,e)),t.layout&&t.layout()),this};const lG={setTextFormatCallback:oG,getFormatText:eE,updateText:hG},os=Phaser.Utils.Objects.GetValue,uG=Phaser.Math.Snap.To;class _p extends Qr(rs){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var n=os(i,"background",void 0),y=os(i,"text",void 0);n&&this.addBackground(n),y&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(os(i,"textFormatCallback",void 0),os(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var S=new id(t,i);S.setDepth(os(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),y&&(this.add(y,"text","center",0,!1),t.children.moveBelow(S,y)),this.addChildrenMap("background",n),this.addChildrenMap("knob",S),this.addChildrenMap("text",y),this.setEnable(os(i,"enable",void 0)),this.setGap(os(i,"gap",void 0)),this.setValue(os(i,"value",0),os(i,"min",void 0),os(i,"max",void 0));var r=os(i,"input",0);switch(typeof r=="string"&&(r=dG[r]),r){case 0:aG.call(this);break;case 1:tG.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=uG(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var n=this.value;i!==n&&(this.updateText(),this.eventEmitter.emit("valuechange",n,i,this.eventEmitter))}}const dG={pan:0,drag:0,click:1,none:-1};Object.assign(_p.prototype,lG);mt.register("knob",function(e){var t=new _p(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Knob",_p);const fG={arc:Ya,circle:is,curve:HB,ellipse:jB,line:$r,lines:ri,rectangle:c6,roundRectangle:yu,triangle:p6},ky=Phaser.Utils.Objects.GetValue,cG=Phaser.Utils.Objects.IsPlainObject,vG=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},pG={createShape(e,t){var i=fG[e],n=new i;return t&&n.setName(t),n},buildShapes(e){var t=ky(e,"create",void 0);if(cG(t)){var i=t;for(var n in i){var y=i[n];switch(typeof y){case"number":for(var S=0;S<y;S++)this.addShape(this.createShape(n));break;case"string":this.addShape(this.createShape(n,y));break;default:for(var r=y,S=0,T=r.length;S<T;S++)this.addShape(this.createShape(n,r[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,T=i.length;S<T;S++){var s=i[S];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(ky(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=vG),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},mo=Phaser.Utils.Objects.GetValue,gG=Phaser.Utils.Objects.IsPlainObject;class xd extends lr{constructor(t,i,n,y,S,r){gG(i)&&(r=i,i=mo(r,"x",0),n=mo(r,"y",0),y=mo(r,"width",2),S=mo(r,"height",2)),super(t,i,n,y,S),this.type=mo(r,"type","rexCustomShapes"),this.buildShapes(r)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,n,y){return typeof n=="boolean"&&(y=n,n=void 0),nS(this,t,i,n,y)}}Object.assign(xd.prototype,pG);mt.register("customShapes",function(e,t,i,n,y){var S=new xd(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.CustomShapes",xd);const xo=Phaser.Utils.Objects.GetValue,mG=Phaser.Utils.Objects.IsPlainObject;class Hs extends Qr(xd){constructor(t,i,n,y,S,r){mG(i)&&(r=i,i=xo(r,"x",0),n=xo(r,"y",0),y=xo(r,"width",2),S=xo(r,"height",2)),r===void 0&&(r={}),r.type||(r.type="rexCustomProgress"),super(t,i,n,y,S,r),this.bootProgressBase(r),this.setValue(xo(r,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}mt.register("customProgress",function(e,t,i,n,y){var S=new Hs(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.CustomProgress",Hs);var xG=function(e){return this.easeValueTask||(this.easeValueTask=new xs(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},yG=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},TG=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},CG=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const SG={start:xG,stop:yG,pause:TG,resume:CG},hs=Phaser.Utils.Objects.GetValue;class iE extends lr{constructor(t,i){var n=hs(i,"x",0),y=hs(i,"y",0),S=hs(i,"width",64),r=hs(i,"height",64);super(t,n,y,S,r),this.resetFromConfig(i,!0),this.buildShapes(i),hs(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var n;return n=i?1e3:this.duration,this.setDuration(hs(t,"duration",n)),n=i?"Linear":this.ease,this.setEase(hs(t,"ease",n)),n=i?0:this.delay,this.setDelay(hs(t,"delay",n)),n=i?0:this.repeatDelay,this.setRepeatDelay(hs(t,"repeatDelay",n)),n=i?16777215:this.color,this.setColor(hs(t,"color",n)),n=i?0:this.value,this.setValue(hs(t,"value",n)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(iE.prototype,SG);const wr=Phaser.Math.DegToRad,PG=Phaser.Math.Linear,EG=Phaser.Math.Easing.Expo.In,wG={right:0,down:1,left:2,up:3};var bG=function(e,t,i,n,y,S,r,T,s,o,m){var f=ga(t,0,n,y,S,r,T,s,o,m);e.startAt(f.x,f.y);var u=ga(i,0,n,y,S,r,T,s,o,m);e.lineTo(u.x,u.y);var h=ga(i,i,n,y,S,r,T,s,o,m);e.lineTo(h.x,h.y);var a=ga(0,i,n,y,S,r,T,s,o,m);e.lineTo(a.x,a.y);var l=ga(0,t,n,y,S,r,T,s,o,m);e.lineTo(l.x,l.y);var c=ga(t,t,n,y,S,r,T,s,o,m);e.lineTo(c.x,c.y),e.close()},uc={},ga=function(e,t,i,n,y,S,r,T,s,o){var m=e*i,f=t*n;return uc.x=r*m+T*f+y,uc.y=s*m+o*f+S,uc};const Ol={setDirection(e){return typeof e=="string"&&(e=wG[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new ri)},updateShapes(){var e,t,i,n,y,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var r=wr(315);i=Math.cos(r),n=Math.sin(r);var T=wr(45);y=Math.cos(T),S=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var r=wr(135);i=Math.cos(r),n=Math.sin(r);var T=wr(225);y=Math.cos(T),S=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var r=wr(225);i=Math.cos(r),n=Math.sin(r);var T=wr(315);y=Math.cos(T),S=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var r=wr(45);i=Math.cos(r),n=Math.sin(r);var T=wr(135);y=Math.cos(T),S=Math.sin(T);break}for(var s=this.radius/7,o=this.getShapes(),m=0,f=o.length;m<f;m++){var u=o[m],h=(this.value+(f-m)*.1)%1;h=EG(ue(h));var a=PG(.25,1,h);u.fillStyle(this.color,a);var l=m*3+1,c=l+2;bG(u,l,c,s,s,e,t,i,n,y,S)}}},OG=Phaser.Math.Linear,MG={buildShapes(){for(var e=0;e<4;e++)this.addShape(new $r);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,y=t+i,S=i*2,r=this.getShapes(),T=r.length,s=i*2/T,o=s*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var m=0;m<T;m++){var f=r[m],u=this.prevValue===void 0?Math.random():f.getData("to");f.setData("from",u).setData("to",Math.random())}this.prevValue=this.value;for(var m=0;m<T;m++){var f=r[m],u=f.getData("from"),h=f.getData("to"),a=OG(u,h,this.value),l=a*S,c=n+s*(m+.5);f.lineStyle(o,this.color,1).setP0(c,y).setP1(c,y-l)}}},AG=Phaser.Math.Linear,RG={buildShapes(){for(var e=0;e<3;e++)this.addShape(new is)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=i*.1,y=Math.ceil(n*.25),S=1-ue(this.value),r=AG(.3,.9,S)*i,T=this.getShapes(),s=0,o=T.length;s<o;s++){var m=T[s],S=(this.value+s/o)%1,f=Math.PI*2*S;m.lineStyle(y,this.color).setRadius(n).setCenterPosition(e+Math.cos(f)*r,t+Math.sin(f)*r)}}},LG=Phaser.Math.Linear,FG=Phaser.Math.Easing.Expo.In,DG={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new $r;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,y=i*2,S=this.getShapes(),r=S.length,T=i*2/r,s=T*.7,o=0;o<r;o++){var m=S[o],f=(this.value+m.getData("offset"))%1;f=FG(ue(f));var u=LG(.4,1,f)*y,h=n+T*(o+.5);m.lineStyle(s,this.color,1).setP0(h,t-u/2).setP1(h,t+u/2)}}},IG={buildShapes(){this.addShape(new ri().setName("border")),this.addShape(new ri().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.7,y=e-n,S=t-n,r=n*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(y,S).lineTo(r,0,!0).lineTo(0,r,!0).lineTo(-r,0,!0).lineTo(0,-r,!0).close(),this.value<.5){var T=(.5-this.value)*2,s=r*T;this.getShape("fill").fillStyle(this.color,1).startAt(y,S).lineTo(r,0,!0).lineTo(0,s,!0).lineTo(-r,0,!0).lineTo(0,-s,!0).close()}else{var T=(this.value-.5)*2,o=180*T;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},Ny=Phaser.Math.RadToDeg,Gy=Phaser.Math.Angle.WrapDegrees,BG=Phaser.Math.Angle.Wrap,kG=Phaser.Math.Angle.ShortestBetween,NG=Phaser.Math.DegToRad,zy=Phaser.Math.DegToRad(270),GG={buildShapes(){this.addShape(new is().setName("border")),this.addShape(new $r().setName("minuteHand")),this.addShape(new $r().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),y=i-n/2,S=i*.8,r=i*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var s=Gy(Ny(T)),o=Gy(Ny(this.minuteHandAngle)),m=kG(s,o);this.hourHandAngle=BG(this.hourHandAngle+NG(m)/12),this.getShape("border").lineStyle(n,this.color).setRadius(y).setCenterPosition(e,t);var f=this.minuteHandAngle+zy;this.getShape("minuteHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(f)*S,t+Math.sin(f)*S);var f=this.hourHandAngle+zy;this.getShape("hourHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(f)*r,t+Math.sin(f)*r)}},Uy=Phaser.Math.Linear,zG=Phaser.Math.Easing.Expo.In,dc=2,fc=2,UG={buildShapes(){for(var e=dc*fc,t=0;t<e;t++){var i=new $r;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,y=t-i,S=i*2/fc,r=i*2/dc,T=this.getShapes(),s=T.length,o=0;o<s;o++){var m=o%fc,f=Math.floor(o/dc),u=n+S*(m+.5),h=y+r*(f+.5),a=T[o],l=(this.value+(s-o)*.1)%1;l=zG(ue(l));var c=(s-o)/s,d=Uy(.7,1,l)*r,v=Uy(.7,1,l)*S;a.lineStyle(v,this.color,c).setP0(u-d/2,h).setP1(u+d/2,h)}}},Xy=Phaser.Math.Linear,XG={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new is;this.addShape(i);var n=ue(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,y=this.getShapes(),S=y.length,r=i*2/S,T=r/2,s=0;s<S;s++){var o=y[s],m=(this.value+o.getData("offset"))%1;m=ue(m);var f=Xy(.25,1,m),u=Xy(.5,1,m)*T;o.fillStyle(this.color,f).setRadius(u).setCenterPosition(n+r*(s+.5),t)}}},Vy=Phaser.Math.Linear,VG=Phaser.Math.Easing.Expo.In,YG={buildShapes(){for(var e=0;e<3;e++){var t=new $r;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,y=this.getShapes(),S=y.length,r=i*2/S,T=i*2,s=0;s<S;s++){var o=y[s],m=(this.value+(S-s)*.1)%1;m=VG(ue(m));var f=(s+1)/S,u=Vy(.7,1,m)*T,h=Vy(.7,1,m)*r,a=n+r*(s+.5);o.lineStyle(h,this.color,f).setP0(a,t-u/2).setP1(a,t+u/2)}}},WG=Phaser.Math.Linear,vc=3,pc=3,HG={buildShapes(){for(var e=vc*pc,t=0;t<e;t++){var i=new is;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,y=e-i,S=t-i,r=i*2/pc,T=i*2/vc,s=Math.min(r,T)/2*.8,o=this.getShapes(),m=0,f=o.length;m<f;m++){var u=m%pc,h=Math.floor(m/vc),a=y+r*(u+.5),l=S+T*(h+.5),c=o[m],d=(this.value+c.getData("offset"))%1;d=ue(d),c.fillStyle(this.color,WG(.25,1,d)),n&&c.setRadius(s).setCenterPosition(a,l)}this.isInitialize=!1}},jG={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ri)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),y=i-n,S=y*.6,r=y*.7,T=y*1.2,s=this.getShapes(),o=0,m=s.length;o<m;o++){var f=s[o],u=(this.value+o/m)%1,h=ue(u),a=e,l=t-15*u,c=y*u,d=S*u,v=r*u,p=T*u;f.lineStyle(n,this.color,h).startAt(a,l).cubicBezierTo(a,l-d,a-c,l-d,a-c,l).cubicBezierTo(a-c,l+d,a,l+v,a,l+p).cubicBezierTo(a,l+v,a+c,l+d,a+c,l).cubicBezierTo(a+c,l-d,a,l-d,a,l).close()}}},$G=Phaser.Math.Linear,KG={buildShapes(){for(var e=0;e<12;e++)this.addShape(new $r);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,n=this.radius,y=n/2,S=Math.ceil(n/20),r=this.getShapes(),T=0,s=r.length;T<s;T++){var o=r[T],m=T/s,f=Math.PI*2*m,u=$G(.25,1,(1-this.value+m)%1);o.lineStyle(S,this.color,u),i&&o.setP0(e+Math.cos(f)*y,t+Math.sin(f)*y).setP1(e+Math.cos(f)*n,t+Math.sin(f)*n)}this.isInitialize=!1}},JG={buildShapes(){this.addShape(new is().setName("track")),this.addShape(new is().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.9,y=Math.ceil(n/25),S=i*.1,r=Math.PI*2*this.value;this.getShape("track").lineStyle(y,this.color,.7).setRadius(n).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(r)*n,t+Math.sin(r)*n)}},ZG={buildShapes(){this.addShape(new is().setName("track")),this.addShape(new Ya().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),y=i-n/2;this.getShape("track").lineStyle(n,this.color,.5).setRadius(y).setCenterPosition(e,t);var S=this.value*360,r=S+60;this.getShape("arc").lineStyle(n,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(S,r)}},QG=Phaser.Math.Linear,qG={buildShapes(){for(var e=0;e<4;e++){var t=new Ya().setPie();this.addShape(t),t.setData("speed",QG(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n;this.prevValue!==void 0&&(n=this.value-this.prevValue,this.prevValue>this.value&&(n+=1));for(var y=this.getShapes(),S=0,r=y.length;S<r;S++){var T=y[S],s=(S+1)/r;if(this.prevValue===void 0){var o=S/r*360,m=o+90;T.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,m).setData("angle",o)}else{var o=T.getData("angle")+T.getData("speed")*n;o=o%360;var m=o+90;T.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(o,m).setData("angle",o)}}this.prevValue=this.value}},_G={buildShapes(){this.addShape(new is)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*this.value,y=Math.ceil(i/25),S=ue(this.value);this.getShapes()[0].lineStyle(y,this.color,S).setRadius(n).setCenterPosition(e,t)}},tz=Phaser.Math.Linear,ez=Phaser.Math.Easing.Expo.In,iz={buildShapes(){this.addShape(new is().setName("center")),this.addShape(new ri().setName("arc0")),this.addShape(new ri().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,y=i*2/6,S=e-i+y,r=t+i-y,T=this.getShapes(),s=0,o=T.length;s<o;s++){var m=T[s],f=(this.value+(o-s)*.1)%1;f=ez(ue(f));var u=tz(.25,1,f);switch(m.name){case"center":m.fillStyle(this.color,u),n&&m.setRadius(y).setCenterPosition(S,r);break;case"arc0":if(m.fillStyle(this.color,u),n){var h=y*2,a=y*3;m.startAt(S,r-h).lineTo(S,r-a).setIterations(8).arc(S,r,a,270,360).lineTo(S+h,r).setIterations(6).arc(S,r,h,360,270,!0).close()}break;case"arc1":if(m.fillStyle(this.color,u),n){var h=y*4,a=y*5;m.startAt(S,r-h).lineTo(S,r-a).setIterations(8).arc(S,r,a,270,360).lineTo(S+h,r).setIterations(6).arc(S,r,h,360,270,!0).close()}break}}this.isInitialize=!1}},sz={buildShapes(){for(var e=0;e<2;e++)this.addShape(new is)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),y=i-n,S=this.getShapes(),r=0,T=S.length;r<T;r++){var s=S[r],o=(this.value+r/T)%1,m=ue(o);s.lineStyle(n,this.color,m).setRadius(o*y).setCenterPosition(e,t)}}},rz={buildShapes(){this.addShape(new Ya().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/10),y=i-n,S=this.value*720,r=ue(this.value)*180,T=S-r;this.getShape("arc").lineStyle(n,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(T+315,S+315)}};Phaser.Utils.Objects.GetValue;const Fv={leftArrow:Ol,rightArrow:Ol,upArrow:Ol,downArrow:Ol,audio:MG,ball:RG,bars:DG,box:IG,clock:GG,cube:UG,dots:XG,facebook:YG,grid:HG,hearts:jG,ios:KG,oribit:JG,oval:ZG,pie:qG,puff:_G,radio:iz,rings:sz,spinner:rz},Dv=[];for(var nz in Fv)Dv.push(nz);const Yy=Phaser.Utils.Array.GetRandom,az={setAnimationMode(e,t){Fv.hasOwnProperty(e)||(e=Yy(Dv)),this.animationMode=e;var i=Fv[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=Yy(Dv);return this.setAnimationMode(t,e),this}},oz=Phaser.Utils.Objects.GetValue;class tg extends iE{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(oz(i,"animationMode"))}}Object.assign(tg.prototype,az);mt.register("aioSpinner",function(e){var t=new tg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.AIOSpinner",tg);const hz={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var sE=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var n=this.images[t],y=Zp(n,this,e,!0),S=y.width/n.width;this.setChildLocalScale(n,S),n.biasScale=S}},au=function(e){this.scaleMode===0?this.resize(e.width,e.height):sE.call(this)};const Wy=Phaser.Utils.Objects.IsPlainObject,gc=Phaser.Utils.Objects.GetValue,lz=Phaser.Utils.Array.GetRandom;var uz={out:0,in:1},Ms=function(e,t,...i){for(var n=0,y=i.length;n<y;n++){var S=i[n];if(S&&S.hasOwnProperty(e))return S[e]}return t};const dz={setTransitionDirection(e){return typeof e=="string"&&(e=uz[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),au.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,Wy(e)){var n=e;e=gc(n,"key",void 0),t=gc(n,"frame",void 0),i=gc(n,"mode"),Array.isArray(i)&&(i=lz(i));var y;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(y=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(Ms("duration",this.duration,n,y)).setEaseFunction(Ms("ease",this.easeFunction,n,y)).setTransitionDirection(Ms("dir",this.dir,n,y));var S=Ms("mask",void 0,n,y);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var r=Ms("onStart",void 0,n,y),T=Ms("onProgress",void 0,n,y),s=Ms("onComplete",void 0,n,y);(r!==void 0||T!==void 0||s!==void 0)&&this.setTransitionStartCallback(r,Ms("onStartScope",void 0,n,y)).setTransitionProgressCallback(T,Ms("onProgressScope",void 0,n,y)).setTransitionCompleteCallback(s,Ms("onCompleteScope",void 0,n,y))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),Wy(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new xs(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},fz=Phaser.GameObjects.Graphics.prototype.setPosition;var cz=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),fz.call(this,e,t),this};const Hy=Phaser.Geom.Rectangle,jy=Phaser.Geom.Circle;var vz=function(e,t,i,n,y,S,r){switch(e){case 1:n=n.left;var T=-t*(y-.5),s=-i*(S-.5),o=Math.min(t,i)/2+n;(r===void 0||!(r instanceof jy))&&(r=new jy),r.setTo(T,s,o);break;default:var m=-(t*y)-n.left,f=-(i*S)-n.top,u=t+n.left+n.right,h=i+n.top+n.bottom;(r===void 0||!(r instanceof Hy))&&(r=new Hy),r.setTo(m,f,u,h);break}return r},rE=function(e,t,i,n,y){switch(this.geom=vz(this.shapeType,e,t,i,n,y,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},pz=function(e,t,i){var n=this.parent;e===void 0&&(e=n.width),t===void 0&&(t=n.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var y=this.width!==e||this.height!==t,S=this.padding!==i&&!rh(this.padding,i);return!y&&!S?this:(this.width=e,this.height=t,S&&ms(i,this.padding),this.originX=n.originX,this.originY=n.originY,rE.call(this,e,t,i,n.originX,n.originY),this)},gz=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,rE.call(this,this.width,this.height,this.padding,e,t),this)},mz=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},xz={setPosition:cz,resize:pz,setOrigin:gz,contains:mz};const yz=Phaser.GameObjects.Graphics;class wu extends yz{constructor(t,i,n){i===void 0&&(i=0),typeof i=="string"&&(i=Tz[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=Un(n),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const Tz={rectangle:0,circle:1};Object.assign(wu.prototype,xz);const Cz={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof wu)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new wu(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),n=0,y=i.length;n<y;n++)this.setImageMaskEnable(i[n],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var Sz=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(n,y){return`${n}${t}${y}`}:i=function(n,y){return`${e}_${n}${t}${y}`},i},Pz=function(e,t,i,n,y,S){i==null&&(i="__BASE"),S||(S=Sz(i,S));for(var r=e.sys.textures.get(t),T=typeof i=="object"?i:r.get(i),s=T.width,o=T.height,m,f,u,h=s/n,a=o/y,l=T.cutX,c=T.cutY,d=0,v=0,p=0;p<y;p++){d=0;for(var g=0;g<n;g++)u=S(g,p),m=d+l,f=v+c,r.add(u,0,m,f,h,a),d+=h;v+=a}return{getFrameNameCallback:S,cellWidth:h,cellHeight:a,columns:n,rows:y}};const Qs=Phaser.Utils.Objects.GetValue,Ez=Phaser.GameObjects.Image,wz=Phaser.Utils.Objects.IsPlainObject,bz=Phaser.Math.RotateAround;var Oz=function(e,t,i,n){wz(t)&&(n=t,t=Qs(n,"columns",1),i=Qs(n,"rows",1));var y=Qs(n,"createImageCallback");if(!y){var S=Qs(n,"ImageClass",Ez);y=function(D,I,z){return new S(D,0,0,I,z)}}for(var r=Qs(n,"originX",.5),T=Qs(n,"originY",.5),s=Qs(n,"add",!0),o=Qs(n,"align",s),m=Qs(n,"objectPool",void 0),f=e.scene,u=e.texture,h=e.frame,a=Pz(f,u,h,t,i),l=a.getFrameNameCallback,c=e.scaleX,d=e.scaleY,v=e.rotation,p=e.getTopLeft(),g=p.x,x=p.y,C=[],P=a.cellWidth*c,w=a.cellHeight*d,E=0;E<i;E++)for(var b=0;b<t;b++){var O,M=l(b,E);if(m&&m.length>0?O=m.pop().setTexture(u,M):O=y(f,u,M),s&&f.add.existing(O),o){var A=g+P*b,F=x+w*E,R=A+r*P,L=F+T*w;O.setOrigin(r,T).setPosition(R,L).setScale(c,d).setRotation(v),bz(O,g,x,v)}C.push(O)}return C};const Mz={gridCutImage(e,t,i,n){n===void 0&&(n={}),n.objectPool=this.imagesPool;for(var y=Oz(e,t,i,n),S,r=0,T=y.length;r<T;r++)S=y[r],S.setVisible(!0),this.add(S);return this.cellImages=y,this.setChildLocalVisible(e,!1),y},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,n,y=0,S=t.length;y<S;y++)i=t[y],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),n=i.frame.name,i.setTexture(),e.remove(n);return this.imagesPool.push(...t),t.length=0,this}},nE={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var aE={};Object.assign(aE,hz,dz,Cz,Mz,nE);var Az=function(e,t,i,n){},Rz=function(e,t,i,n){e.setChildLocalAlpha(t,1-n).setChildLocalAlpha(i,n)},Lz=function(e,t,i,n){e.setChildLocalAlpha(t,1)};const $y=Phaser.Utils.Objects.IsPlainObject,Ye=Phaser.Utils.Objects.GetValue,Fz=Phaser.Math.Clamp;class yd extends Xi{constructor(t,i,n,y,S,r){$y(i)?(r=i,i=Ye(r,"x",0),n=Ye(r,"y",0),y=Ye(r,"key",void 0),S=Ye(r,"frame",void 0)):$y(S)&&(r=S,S=void 0);var T=Ye(r,"back",void 0),s=Ye(r,"front",void 0);T||(T=t.add.image(i,n,y,S)),s||(s=t.add.image(i,n,y,S));var o=Ye(r,"width",void 0),m=Ye(r,"height",void 0),f=o!==void 0&&m!==void 0?1:0;o===void 0&&(o=s.width),m===void 0&&(m=s.height),super(t,i,n,o,m),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,f=Ye(r,"scaleMode",f),typeof f=="string"&&(f=Dz[f]),this.scaleMode=f,T.setVisible(!1),this.addMultiple([T,s]),this.backImage=T,this.frontImage=s,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var u=Ye(r,"onStart",void 0),h=Ye(r,"onProgress",void 0),a=Ye(r,"onComplete",void 0),l=Ye(r,"dir",0);u===void 0&&h===void 0&&a===void 0&&(u=Az,h=Rz,a=Lz,l=0),this.setTransitionStartCallback(u,Ye(r,"onStartScope",void 0)).setTransitionProgressCallback(h,Ye(r,"onProgressScope",void 0)).setTransitionCompleteCallback(a,Ye(r,"onCompleteScope",void 0)).setTransitionDirection(l).setDuration(Ye(r,"duration",1e3)).setEaseFunction(Ye(r,"ease","Linear"));var c=Ye(r,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,au.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=Fz(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,n=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),mc.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,n,t)),mc.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,n,t),t===1){mc.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,n,t);var y=n.texture.key,S=n.frame.name;this.frontImage.setTexture(y,S),this.backImage.setTexture(y,S),au.call(this,n),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),au.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&sE.call(this),this}}var mc=function(e,t,i,n,y,S){if(e){if(this.scaleMode){var r;n.biasScale>0&&(r=this.getChildLocalScaleX(n),r=r/n.biasScale,this.setChildLocalScale(n,r)),y.biasScale&&(r=this.getChildLocalScaleX(y),r=r/y.biasScale,this.setChildLocalScale(y,r))}if(t?e.call(t,i,n,y,S):e(i,n,y,S),this.scaleMode){var r;n.biasScale>0&&(r=this.getChildLocalScaleX(n),r=r*n.biasScale,this.setChildLocalScale(n,r)),y.biasScale&&(r=this.getChildLocalScaleX(y),r=r*y.biasScale,this.setChildLocalScale(y,r))}}};Object.assign(yd.prototype,aE);const Dz={fit:1,FIT:1,envelop:2,ENVELOP:2};mt.register("transitionImage",function(e,t,i,n,y){var S=new yd(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.TransitionImage",yd);const Iz="slideLeft",Bz="slideRight",kz="slideUp",Nz="slideDown",Gz="slideAwayLeft",zz="slideAwayRight",Uz="slideAwayUp",Xz="slideAwayDown",Vz="pushLeft",Yz="pushRight",Wz="pushUp",Hz="pushDown",jz="zoomOut",$z="zoomIn",Kz="zoomInOut",Jz="fade",Zz="crossFade",Qz="wipeLeft",qz="wipeRight",_z="wipeUp",tU="wipeDown",eU="irisOut",iU="irisIn",sU="irisInOut",rU="pieOut",nU="pieIn",aU="pieInOut",oU="blinds",hU="squares",lU="diamonds",uU="circles",dU="curtain",fU="pixellate",cU="dissolve",vU="revealLeft",pU="revealRight",gU="revealUp",mU="revealDown";var xU=function(e){e.addTransitionMode(zz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*y;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Gz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Xz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*y;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Uz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0)}})},yU=function(e){e.addTransitionMode(Bz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.width*(y-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Iz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.width*(1-y);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Nz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.height*(y-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(kz,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=n.height*(1-y);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(n,0,0)}})},TU=function(e){e.addTransitionMode(Yz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*y;t.setChildLocalPosition(i,S,0);var S=n.width*(y-1);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Vz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.width*-y;t.setChildLocalPosition(i,S,0);var S=n.width*(1-y);t.setChildLocalPosition(n,S,0)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Hz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*y;t.setChildLocalPosition(i,0,S);var S=n.height*(y-1);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Wz,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=i.height*-y;t.setChildLocalPosition(i,0,S);var S=n.height*(1-y);t.setChildLocalPosition(n,0,S)},onComplete:function(t,i,n,y){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}})},CU=function(e){e.addTransitionMode(jz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=1-y;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,n,y){t.setChildLocalScale(i,1,1)}}).addTransitionMode($z,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){var S=y;t.setChildLocalScale(n,S,S)},onComplete:function(t,i,n,y){t.setChildLocalScale(n,1,1)}}).addTransitionMode(Kz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){n.tint=0},onProgress:function(t,i,n,y){var S;y<.5?(S=1-ue(y),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-ue(y),t.setChildLocalScale(n,S,S))},onComplete:function(t,i,n,y){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(n,1,1),t.setChildVisible(n,!0),n.tint=16777215}})},SU=function(e){e.addTransitionMode(Jz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){n.tint=0},onProgress:function(t,i,n,y){var S;y<.5?(y=ue(y),S=Math.floor(255*(1-y)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),y=ue(y),S=Math.floor(255*(1-y)),n.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,n,y){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(n,!0),n.tint=16777215}}).addTransitionMode(Zz,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){},onProgress:function(t,i,n,y){t.setChildLocalAlpha(i,1-y),t.setChildLocalAlpha(n,y)},onComplete:function(t,i,n,y){t.setChildLocalAlpha(i,1)}})},PU=function(e){var t=new Hs(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),n=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*n,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*n,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*n).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*n).setTopLeftPosition(0,0);break}}});return t},EU=function(e){var t=PU(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(qz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Qz,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(tU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(_z,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},wU=function(e){var t=new Hs(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},bU=function(e){var t=wU(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(eU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(iU,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,y,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(sU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},OU=function(e){var t=new Hs(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,n=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-n,90+n).setPie()}});return t},MU=function(e){var t=OU(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(rU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(nU,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,y,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}}).addTransitionMode(aU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},AU=function(e,t){var i=new Hs(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var n=this.getShapes(),y=this.width/t,S=0;S<t;S++)n[S].fillStyle(16777215).setSize(y*this.value,this.height).setTopLeftPosition(y*S,0)}});return i},RU=function(e){var t=AU(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(oU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},LU=function(e,t,i){var n=new Hs(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var y=this.getShapes(),S=this.width/t,r=this.height/i,T=0;T<i;T++)for(var s=0;s<t;s++)y[s*i+T].fillStyle(16777215).setSize(S*this.value,r*this.value).setCenterPosition(S*(s+.5),r*(T+.5))}});return n},FU=function(e){var t=LU(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(hU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},DU=function(e,t,i){var n=new Hs(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/i,T=r*2,s=S*this.value,o=r*this.value,m=0;m<i;m++)for(var f=0;f<t;f++){var u=f*S,h=m*T+f%2*r;y[f*i+m].fillStyle(16777215).start(u+s,h).lineTo(u,h+o).lineTo(u-s,h).lineTo(u,h-o).lineTo(u+s,h).close()}}});return n},IU=function(e){var t=DU(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(lU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},BU=function(e,t,i){var n=new Hs(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/i,T=r*2,s=Math.max(S,r)*this.value,o=0;o<i;o++)for(var m=0;m<t;m++){var f=m*S,u=o*T+m%2*r;y[m*i+o].fillStyle(16777215).setCenterPosition(f,u).setRadius(s)}}});return n},kU=function(e){var t=BU(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(uU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){i.maskGameObject.setValue(S)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1)}})},NU=function(e,t){var i=new Hs(e,{type:"Graphics",create:{lines:t},update:function(){for(var n=this.getShapes(),y=this.width/t,S=y/2,r=0;r<t;r++){var T=y*r,s=this.height*this.value,o=T+S;n[r].fillStyle(16777215).start(T,0).horizontalLineTo(s).arc(o,s,S,180,0,!0).horizontalLineTo(-s).lineTo(T,0).close()}}});return i},GU=function(e){var t=NU(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(dU,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,y,S){y.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,y,S){var r;S<.5?(S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),S=ue(S),r=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,y,S){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(y,!0),y.tint=16777215}})},zU=function(e){e.addTransitionMode(fU,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,y){t.setChildVisible(n,!1),i.effect=i.preFX.addPixelate(0),n.effect=n.preFX.addPixelate(0)},onProgress:function(t,i,n,y){if(y<.5){y=ue(y);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*y)}else{i.visible&&t.setChildVisible(i,!1),n.visible||t.setChildVisible(n,!0),y=ue(y);var S=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(S*y)}},onComplete:function(t,i,n,y){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),n.preFX.remove(n.effect),delete n.effect}})};const UU=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,XU=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${UU}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,VU=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,ls=Phaser.Utils.Objects.GetValue,YU=Phaser.Math.Clamp;class xc extends VU{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:XU}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(ls(t,"progress",0)),this.setTransitionTargetTexture(ls(t,"toTexture","__DEFAULT"),ls(t,"toFrame",void 0),ls(t,"resizeMode",1)),this.setNoise(ls(t,"noiseX",void 0),ls(t,"noiseY",void 0),ls(t,"noiseZ",void 0)),this.setFromEdge(ls(t,"fromEdgeStart",.01),ls(t,"fromEdgeWidth",.05)),this.setToEdge(ls(t,"toEdgeStart",.01),ls(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=YU(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,n){t===void 0&&(t="__DEFAULT");var y=this.game.textures.getFrame(t,i);return y||(y=this.game.textures.getFrame("__DEFAULT")),this.toRatio=y.width/y.height,this.toFrame=y,this.targetTexture=y.glTexture,n!==void 0&&(this.resizeMode=n),this}setResizeMode(t){return typeof t=="string"&&(t=WU[t]),this.resizeMode=t,this}setNoise(t,i,n){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),n===void 0&&(n=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=n,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var WU={stretch:0,contain:1,cover:2},HU=function(e,t,i){Fn(e).renderer.pipelines.addPostPipeline(t,i)},jU=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var n=e.postPipelines[e.postPipelines.length-1];return n.resetFromJSON(i),i.name&&(n.name=i.name),n};const $U=Phaser.Utils.Array.SpliceOne;var KU=function(e,t,i){for(var y,S,n,y=e.postPipelines,S=y.length-1;S>=0;S--){var n=y[S];n instanceof t&&(n.destroy(),$U(y,S))}e.hasPostPipeline=e.postPipelines.length>0},JU=function(e){HU(e.scene.game,"rexDissolvePostFx",xc),e.addTransitionMode(cU,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,y){i.effect=jU(i,xc)},onProgress:function(t,i,n,y){i.effect.setProgress(y)},onComplete:function(t,i,n,y){KU(i,xc),delete i.effect}})};const Ml=.1,ZU=0,QU=0,qU=1,_U=1,Ky=0,Jy=1;var tX=function(e){e.addTransitionMode(pU,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Ml,ZU,Ky)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(vU,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Ml,qU,Ky)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(mU,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Ml,QU,Jy)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(gU,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,y){n.effect=n.preFX.addReveal(Ml,_U,Jy)},onProgress:function(t,i,n,y){n.effect.progress=y},onComplete:function(t,i,n,y){n.preFX.remove(n.effect),delete n.effect}})};const Zy=[xU,yU,TU,CU,SU,bU,MU,EU,RU,FU,IU,kU,GU,zU,JU,tX];class oE extends yd{constructor(t,i,n,y,S,r){super(t,i,n,y,S,r);for(var T=0,s=Zy.length;T<s;T++)Zy[T](this)}}mt.register("transitionImagePack",function(e,t,i,n,y){var S=new oE(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.TransitionImagePack",oE);var eX=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=Zp(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},hE={scaleImage:eX};Object.assign(hE,nE);var iX=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),ui(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const Qy=Phaser.Utils.Objects.IsPlainObject,qs=Phaser.Utils.Objects.GetValue;class Td extends Xi{constructor(t,i,n,y,S,r){Qy(i)?(r=i,i=qs(r,"x",0),n=qs(r,"y",0),y=qs(r,"key",void 0),S=qs(r,"frame",void 0)):Qy(S)&&(r=S,S=void 0);var T=qs(r,"image");T?T.setPosition(i,n).setOrigin(.5):(T=t.add.image(i,n,y,S),y===void 0&&T.setVisible(!1)),super(t,i,n,1,1),this.type="rexImageBox";var s=qs(r,"background");s&&this.add(s),this.background=s,this.add(T),this.image=T,this.scaleUp=qs(r,"scaleUp",!1);var o=qs(r,"width",T.width),m=qs(r,"height",T.height);this.resize(o,m)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),iX.call(this),this.scaleImage(),this}setTexture(t,i){var n=this.image;return n.setTexture(t,i),t!==null?(this.setChildVisible(n,!0),this.scaleImage()):this.setChildVisible(n,!1),this}}Object.assign(Td.prototype,hE);mt.register("imageBox",function(e,t,i,n,y){var S=new Td(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.ImageBox",Td);mt.register("fullWindowRectangle",function(e,t){var i=new Yp(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.FullWindowRectangle",Yp);mt.register("fullWindowZone",function(){var e=new cp(this.scene);return this.scene.add.existing(e),e});pt(window,"RexPlugins.UI.FullWindowZone",cp);mt.register("cover",function(e){var t=new Wp(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Cover",Wp);var eg=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const qy={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},_y={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},sX={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},t1=Phaser.Utils.Objects.GetValue;var lE=function(e,t,i,n){var y=t1(n,"preventDefault",!1),S=t1(n,"preTest");for(let r in i)t.addEventListener(r,function(T){(!S||S(e,r))&&e.emit(i[r],e,T),y&&T.preventDefault()})};const rX=Phaser.GameObjects.DOMElement,e1=Phaser.Utils.Objects.IsPlainObject,As=Phaser.Utils.Objects.GetValue;class Cd extends rX{constructor(t,i,n,y,S,r){e1(i)?(r=i,i=As(r,"x",0),n=As(r,"y",0),y=As(r,"width",0),S=As(r,"height",0)):e1(y)&&(r=y,y=As(r,"width",0),S=As(r,"height",0)),r===void 0&&(r={});var T,s=As(r,"inputType",void 0);s===void 0&&(s=As(r,"type","text")),s==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=s),mu(qy,r,T);var o=As(r,"style",void 0);o=mu(_y,r,o);var m=T.style;for(var f in r)if(!(f in qy||f in _y)){if(f in m)o[f]=r[f];else if(f in T){if(f==="type")continue;T[f]=r[f]}}o["box-sizing"]="border-box",super(t,i,n,T,o),this.type="rexInputText",this.resize(y,S),lE(this,T,sX),uP(T),As(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var nX={resize:eg};Object.assign(Cd.prototype,nX);mt.register("inputText",function(e){var t=new Cd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.InputText",Cd);const i1=Phaser.Utils.Objects.GetValue;var aX=function(e,t){var i=document.createElement("input");i.type="file";var n=i1(t,"accept",""),y=i1(t,"multiple",!1);return i.setAttribute("accept",n),y?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},uE=function(e,t){return e===void 0&&(e=0),new Promise(function(i,n){setTimeout(function(){i(t)},e)})},dE=function({game:e,fileInput:t,closeDelay:i}){return _u(Fn(e).events,"focus").then(function(){return uE(i)}).then(function(){var n={files:t.files};return Promise.resolve(n)})};const oX=Phaser.Utils.Objects.GetValue,hX=Phaser.DOM.RemoveFromDOM;var fE=function(e,t){var i=oX(t,"closeDelay",200),n=aX(e,t);return n.click(),dE({game:e,fileInput:n,closeDelay:i}).then(function(y){return hX(n),n.remove(),Promise.resolve(y)})},cE=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},lX=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=Fn(e);var n;return i==="textures"?n=e.textures:n=e.cache[i],n},vE=function(e,t,i,n,y,S){if(!(y===null||y===!1))if(ys(y))y();else{var r=lX(e,i,y);r.exists(n)&&r.remove(n)}var T=e.load;if(S&&T.once(`filecomplete-${i}-${n}`,function(o,m,f){S(f)}),ys(t))t();else{var s=window.URL.createObjectURL(t);T[i](n,s)}T.start()},uX=function(e,t,i,n,y){var S=this.scene;return vE(S,e,t,i,n,y),this},dX=function(e,t,i,n){var y=this.scene;return new Promise(function(S,r){var T=function(s){S(s)};vE(y,e,t,i,n,T)})};const pE={loadFile:uX,loadFilePromise:dX},fX=Phaser.GameObjects.DOMElement,s1=Phaser.Utils.Objects.IsPlainObject,Rs=Phaser.Utils.Objects.GetValue;class gh extends fX{constructor(t,i,n,y,S,r){s1(i)?(r=i,i=Rs(r,"x",0),n=Rs(r,"y",0),y=Rs(r,"width",0),S=Rs(r,"height",0)):s1(y)&&(r=y,y=Rs(r,"width",0),S=Rs(r,"height",0));var T=document.createElement("input");T.type="file";var s=T.style;s.display="none";var o=document.createElement("label");o.appendChild(T);var m=Rs(r,"style",void 0);super(t,i,n,o,m),this.type="rexFileChooser",this.resetFromJSON(r),this.resize(y,S);var f=this;T.onchange=function(){f.emit("change",f)},this.setCloseDelay(Rs(r,"closeDelay",200)),T.onclick=function(){dE({game:t,fileInput:T,closeDelay:f.closeDelay}).then(function(){f.emit("select",f)})}}resetFromJSON(t){return this.setAccept(Rs(t,"accept","")),this.setMultiple(Rs(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var cX={resize:eg,syncTo:cE};Object.assign(gh.prototype,cX,pE);mt.register("fileChooser",function(e){var t=new gh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.FileChooser",gh);const vX={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},pX={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var gE={resize:eg,syncTo:cE};Object.assign(gE,vX,pX,pE);const gX={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},mX=Phaser.GameObjects.DOMElement,r1=Phaser.Utils.Objects.IsPlainObject,_s=Phaser.Utils.Objects.GetValue;class ig extends mX{constructor(t,i,n,y,S,r){r1(i)?(r=i,i=_s(r,"x",0),n=_s(r,"y",0),y=_s(r,"width",0),S=_s(r,"height",0)):r1(y)&&(r=y,y=_s(r,"width",0),S=_s(r,"height",0)),r===void 0&&(r={});var T=document.createElement("div"),s=_s(r,"style",void 0);super(t,i,n,T,s),this.type="rexFileDropZone",this.resize(y,S),this._files=[],this.setDropEnable(_s(r,"dropEnable",!0));var o=_s(r,"filters");o&&this.addFilters(o),lE(this,T,gX,{preventDefault:!0,preTest(m){return m.dropEnable}}),this.on("drop",function(m,f){this._files=f.dataTransfer.files;var u=this._files;if(u&&this.filters)for(var h in this.filters){for(var a=this.filters[h],l=[],c=0,d=u.length;c<d;c++){var v=u[c];a(v,u)&&l.push(v)}l.length>0&&this.emit(`drop.${h}`,l)}},this)}get files(){return this._files}}Object.assign(ig.prototype,gE);mt.register("fileDropZone",function(e){var t=new ig(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.FileDropZone",ig);var xX=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,y,S,r,T,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,m=0,f=i.length;m<f;m++)n=i[m],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(T=this.getChildWidth(n),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(S!==0&&!this.hasProportion0Child?T=0:s=!0)):T=0,!s&&(r=n.rexSizer.padding,T+=(r.left+r.right)*this.scaleX,o?o=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var m=0,f=i.length;m<f;m++)n=i[m],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(T=this.getChildWidth(n),T===void 0&&(s=!0),!s&&(r=y.padding,T+=(r.left+r.right)*this.scaleX,t=Math.max(T,t))));if(!s)return t+(this.space.left+this.space.right)*this.scaleX},yX=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,y,S,r,T,s=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,m=i.length;o<m;o++)n=i[o],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(T=this.getChildHeight(n),T===void 0&&(s=!0),!s&&(r=y.padding,T+=(r.top+r.bottom)*this.scaleY,t=Math.max(T,t))));else for(var f=!0,o=0,m=i.length;o<m;o++)n=i[o],n.hasOwnProperty("rexSizer")&&(y=n.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(T=this.getChildHeight(n),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(S!==0&&!this.hasProportion0Child?T=0:s=!0)):T=0,!s&&(r=y.padding,T+=(r.top+r.bottom)*this.scaleY,f?f=!1:T+=this.space.item*this.scaleY,t+=T)));if(!s)return t+(this.space.top+this.space.bottom)*this.scaleY},TX=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(this.orientation===0)n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);else if(n.expand){var y=this.space,S=t-(y.left+y.right)*this.scaleX,r=n.padding;i=S-(r.left+r.right)*this.scaleX}return i},CX=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(this.orientation===0){if(n.expand){var y=this.space,S=t-(y.top+y.bottom)*this.scaleY,r=n.padding;i=S-(r.top+r.bottom)*this.scaleY}}else n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);return i},SX=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i.isRexSizer&&e.push(i);return e},PX=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,n=0,y=i.length;n<y;n++)e=i[n],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(ui(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,fh.call(this),this};const EX=Phaser.Math.Wrap;var wX=function(){for(var e=this.sizerChildren,t,i,n,y=this.innerLeft,S=this.innerTop,r=this.innerWidth,T=this.innerHeight,s=y,o=S,m,f,u,h,a,l,c,d,v,p=this.startChildIndex,g=0,x=e.length;g<x;g++)p===0?v=g:v=EX(g+p,0,x),this.rtl&&(v=x-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,n=i.padding,ch.call(this,t),t.isRexSpace?(c=0,d=0):(c=this.getExpandedChildWidth(t),d=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,d),Qp(t,this)):ui(t,c,d),c===void 0&&(c=te(t)),d===void 0&&(d=ee(t)),this.orientation===0?(m=s+n.left*this.scaleX,i.proportion===0||this.proportionLength===0?u=c:u=i.proportion*this.proportionLength,f=o+n.top*this.scaleY,h=T-(n.top+n.bottom)*this.scaleY):(m=s+n.left*this.scaleX,u=r-(n.left+n.right)*this.scaleX,f=o+n.top*this.scaleY,i.proportion===0||this.proportionLength===0?h=d:h=i.proportion*this.proportionLength),c===void 0&&(c=te(t)),d===void 0&&(d=ee(t)),a=(i.alignOffsetX+i.alignOffsetOriginX*c)*this.scaleX,l=(i.alignOffsetY+i.alignOffsetOriginY*d)*this.scaleY,vh.call(this,t,m,f,u,h,i.align,a,l),this.orientation===0?s+=u+(n.left+n.right)*this.scaleX+this.space.item*this.scaleX:o+=h+(n.top+n.bottom)*this.scaleY+this.space.item*this.scaleY)},bX=function(t){var t=Dp.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},OX=function(t){var t=kp.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},MX=function(){return this.hasRatioFitChild&&this.orientation===1?!0:Ip.call(this)},mE=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var n,y,S,r,T=this.sizerChildren,s=0,o=T.length;s<o;s++){var n=T[s],y=n.rexSizer;if(!y.hidden){var m=y.fitRatio;m&&(this.orientation===0?(r=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleY,S=r*m):(S=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleX,r=S/m),ui(n,S,r),n.isRexSizer&&n.setMinSize(S,r),y.resolved=!0)}}}},AX=function(e){this.wrapResult||(this.orientation===1&&mE.call(this,e,void 0),Bp.call(this,e))},RX=function(){return this.hasRatioFitChild&&this.orientation===0?!0:Np.call(this)},LX=function(e){this.wrapResult||(this.orientation===0&&mE.call(this,void 0,e),Gp.call(this,e))};const FX=Phaser.GameObjects.Zone;class sg extends FX{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var DX=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,y=1/0,S=0,r=i.length;S<r;S++){var T=i[S],s;this.orientation===0?s=Math.abs(T.left-e):s=Math.abs(T.top-t),y>s&&(y=s,n=S)}var T=i[i.length-1],s;return this.orientation===0?s=Math.abs(T.right-e):s=Math.abs(T.bottom-t),y>s&&(y=s,n=S+1),n};const xE=Phaser.Utils.Objects.IsPlainObject,Bi=Phaser.Utils.Objects.GetValue,n1=Phaser.Display.Align.CENTER,IX={min:0,full:-1};var yc=function(e,t,i,n,y,S,r,T,s,o){var m,f,u,h;uh.call(this,e);var a=e.isRexSpace,l=typeof t;if(t===null)return this;if(l!=="number"){if(l==="string")t=IX[t];else if(xE(t)){var c=t;t=Bi(c,"proportion",void 0),i=Bi(c,"align",n1),n=Bi(c,"padding",0),y=Bi(c,"expand",!1),S=Bi(c,"key",void 0),r=Bi(c,"index",void 0),e.isRexSizer||(T=Bi(c,"minWidth",void 0),s=Bi(c,"minHeight",void 0)),o=Bi(c,"fitRatio",0),m=Bi(c,"offsetX",0),f=Bi(c,"offsetY",0),u=Bi(c,"offsetOriginX",0),h=Bi(c,"offsetOriginY",0)}}typeof i=="string"&&(i=Wa[i]),t===void 0&&(t=a?1:0),i===void 0&&(i=n1),n===void 0&&(n=0),y===void 0&&(y=!1),T===void 0&&(a?T=0:e.isRexSizer||(T=e._minWidth)),s===void 0&&(a?s=0:e.isRexSizer||(s=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=te(e)/ee(e)),m===void 0&&(m=0),f===void 0&&(f=0),u===void 0&&(u=0),h===void 0&&(h=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=i,c.padding=Un(n),c.expand=y,c.fitRatio=t===0?o:0,c.alignOffsetX=m,c.alignOffsetY=f,c.alignOffsetOriginX=u,c.alignOffsetOriginY=h,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?te(e):T:e.minHeight=s===void 0?ee(e):s),y&&(this.orientation===0?e.minHeight=s:e.minWidth=T)),S!==void 0&&this.addChildrenMap(S,e),this};const BX={add:yc,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),yc.call(this,new sg(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,n,y,S,r,T){return xE(i)&&(i.index=e),yc.call(this,t,i,n,y,S,r,e,T),this},insertAtPosition(e,t,i,n,y,S,r,T,s){var o=DX.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,n,y,S,r,T,s),this}},kX=Phaser.Utils.Array.Remove,NX={remove(e,t){return this.getParentSizer(e)!==this?this:(kX(this.sizerChildren,e),dh.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,gd.call(this,e),this}},GX={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=Wa[t]),this.getSizerConfig(e).align=t,this}},zX={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},UX={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var XX=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],n=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?n||this.insertSpace(0):n&&this.remove(i,!0);var y=t.length-1,S=t[y],r=S&&S.isRexSpace;return e==="center"?r||this.insertSpace(y+1):r&&this.remove(S,!0),this};const rg={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,n){var y=i.getData(e),S=n.getData(e);return t?S-y:y-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,n){var y=i[e],S=n[e];return t?S-y:y-S}),this}};var yE={getChildrenWidth:xX,getChildrenHeight:yX,getExpandedChildWidth:TX,getExpandedChildHeight:CX,getChildrenSizers:SX,preLayout:PX,layoutChildren:wX,resolveWidth:bX,resolveHeight:OX,hasWidthWrap:MX,runWidthWrap:AX,hasHeightWrap:RX,runHeightWrap:LX,setChildrenAlignMode:XX};Object.assign(yE,BX,NX,GX,zX,UX,rg);var VX=function(){for(var e=0,t=this.sizerChildren,i,n,y=0,S=t.length;y<S;y++)i=t[y],!i.rexSizer.hidden&&(n=i.rexSizer.proportion,n>0?e+=n:n===0&&(this.hasProportion0Child=!0));return e};const Tc=Phaser.Utils.Objects.IsPlainObject,$i=Phaser.Utils.Objects.GetValue;class $t extends Xn{constructor(t,i,n,y,S,r,T){Tc(i)?(T=i,i=$i(T,"x",0),n=$i(T,"y",0),y=$i(T,"width",void 0),S=$i(T,"height",void 0),r=$i(T,"orientation",0)):Tc(y)?(T=y,y=$i(T,"width",void 0),S=$i(T,"height",void 0),r=$i(T,"orientation",0)):Tc(r)&&(T=r,r=$i(T,"orientation",0)),r===void 0&&(r=0),super(t,i,n,y,S,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(r),this.setItemSpacing($i(T,"space.item",0)),this.setStartChildIndex($i(T,"startChildIndex",0)),this.setRTL($i(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=zn(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=VX.call(this)),this._childrenProportion}}Object.assign($t.prototype,yE);var Al=function(e,t,i){if(e){var n=t==null,y=i==null;return n&&y||(n||(e.displayWidth=t),y||(e.displayHeight=i),n&&(e.scaleX=e.scaleY),y&&(e.scaleY=e.scaleX)),e}},YX=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var n=e.iconSize;n&&(this.setChildDisplaySize(i,n,n),this.iconWidth!==void 0&&this.setIconSize(n)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var y=this.childrenMap.action;if(y){e.action?this.show(y):this.hide(y);var S=e.actionSize;S&&(this.setChildDisplaySize(y,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},WX={appendText:uS,resetDisplayContent:YX};class ng extends $t{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var n=this.childrenMap.icon;return!n||!n.setTexture?this:(n.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Al(n,this.iconWidth,this.iconHeight),this.resetChildScaleState(n)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var n=this.childrenMap.action;return!n||!n.setTexture?this:(n.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Al(n,this.actionWidth,this.actionHeight),this.resetChildScaleState(n)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Al(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Al(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,n){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(ng.prototype,WX);var Cs=function(e,t,i,n){var y=new wu(t,i,n);if(e&&!e.isRexSizer){var S=y.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(y),y};const HX=Phaser.GameObjects.Text;var ag=function(e){return e instanceof HX};const jX=Phaser.GameObjects.BitmapText;var TE=function(e){return e instanceof jX};const di=0,fi=1,zi=2;var qr=function(e){var t;return TE(e)?t=zi:ag(e)?t=di:t=fi,t},$X=function(e,t){for(var i=[],n=e.split(`
`),y=t.style,S=y.wordWrapWidth,r=y.hasOwnProperty("wrapMode")?y.wrapMode:3,T=t.context,s=0,o=n.length;s<o;s++)JX(T,n[s],S,r,i);return i},KX=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var n=e.split(" "),y,S=0,r=n.length;S<r;S++)y=n[S],S<r-1?Bo(y)?i.push(y+" "):(i.push(...y.split("")),i.push(" ")):y!==""&&(Bo(y)?i.push(y):i.push(...y.split("")))}return i},JX=function(e,t,i,n,y){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return y.push(t),y}for(var r=KX(t,n),T,s,o=[],m=i,f=0,u=r.length;f<u;f++)T=r[f],s=e.measureText(T).width,m-=s,m<0&&(y.push(o.join("")),o.length=0,m=i-s),o.push(T);return o.length>0&&y.push(o.join("")),y},Iv=function(e,t){var i=qr(e);switch(i){case di:switch(typeof t=="string"&&(t=gu[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=$X;break;case 1:default:e.style.wordWrapCallback=null;break}break;case fi:typeof t=="string"&&(t=gu[t]||0),e.style.wrapMode=t;break}},ZX=function(e){var t=function(i){var n=e.padding,y=i-(n.left+n.right)*e.scaleX,S=e.style;return ag(e)?(S.wordWrapWidth=y,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=y,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},QX=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},qX=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},_X=function(e){return e instanceof za},bu=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=_X(e)?QX(e):TE(e)?qX(e):ZX(e),e};const Cc=65535;var Ou=function(e,t,i){if(t==null)return e;if(t===0)return Sc(e,0,i),e;var n=e.text.length;if(n===0)return Sc(e,t,i),e;var y=Math.floor(t*1.5/n);i!==void 0&&y>i&&(y=Math.floor(i));for(var S={},r=o1(e,y,t,i,S),T=0;T<=Cc&&r!==0;T++){if(y+=r,y<0){y=0;break}r=o1(e,y,t,i,S)}return T===Cc&&console.warn(`FontSizeFit: Test count exceeds ${Cc}`),e.setFontSize(y),Sc(e,t,i),e},a1=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},o1=function(e,t,i,n,y){var S=a1(e,t,y),r=a1(e,t+1,y),T;if(n!==void 0)if(S.height<=n&&r.height>n)T=0;else{if(S.height>n)return-1;T=Math.floor(n-S.height)}var s;if(S.width<=i&&r.width>i)return 0;if(S.width>i)return-1;var s=Math.floor(i-S.width);return T===void 0?s:Math.min(s,T)},Sc=function(e,t,i){var n=e.style;n&&(n.fixedWidth=t,n.parent.width=t,i!==void 0&&(n.fixedHeight=i,n.parent.height=i),n.update(!1))};const Pc=Phaser.Utils.Objects.GetValue;var Mu=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=Pc(t,"minWidth",0),n=Pc(t,"minHeight",0),y=Pc(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=n,y?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,r){return Ou(e,S,r),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),Ou(e,S,void 0),e},e.resize=function(S,r){return e.width===S&&e.height===r||e.setFixedSize(S,r),e}),e};const Qt=Phaser.Utils.Objects.GetValue;class cr extends ng{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var n=Qt(i,"background",void 0),y=Qt(i,"icon",void 0),S=Qt(i,"iconMask",void 0),r=Qt(i,"text",void 0),T=Qt(i,"action",void 0),s=Qt(i,"actionMask",void 0),o=Qt(i,"align",void 0);if(n&&this.addBackground(n),y){var m;this.orientation===0?(r||T)&&(m={right:Qt(i,"space.icon",0),top:Qt(i,"space.iconTop",0),bottom:Qt(i,"space.iconBottom",0),left:Qt(i,"space.iconLeft",0)}):(r||T)&&(m={bottom:Qt(i,"space.icon",0),left:Qt(i,"space.iconLeft",0),right:Qt(i,"space.iconRight",0),top:Qt(i,"space.iconTop",0)});var f=Qt(i,"squareFitIcon",!1)?1:0;if(this.add(y,{proportion:0,padding:m,fitRatio:f}),S&&(S=Cs.call(this,y,y,1)),!f){var u=Qt(i,"iconSize",void 0);this.setIconSize(Qt(i,"iconWidth",u),Qt(i,"iconHeight",u))}}if(r){var h=Qt(i,"wrapText",!1),a=Qt(i,"adjustTextFontSize",!1);h?(h===!0&&(h="word"),Iv(r,h),i.expandTextWidth=!0,bu(r)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Mu(r,{fitHeight:!0}));var l=Qt(i,"space.text",0),c=Qt(i,"expandTextWidth",!1),d=Qt(i,"expandTextHeight",!1),v,m,p;this.orientation===0?(v=c?1:0,T&&(m={right:l}),p=d):(v=d?1:0,T&&(m={bottom:l}),p=c),this.add(r,{proportion:v,expand:p,padding:m})}if(T){var m;this.orientation===0?m={top:Qt(i,"space.actionTop",0),bottom:Qt(i,"space.actionBottom",0),right:Qt(i,"space.actionRight",0)}:m={left:Qt(i,"space.actionLeft",0),right:Qt(i,"space.actionRight",0),bottom:Qt(i,"space.actionBottom",0)};var f=Qt(i,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:m,fitRatio:f}),s&&(s=Cs.call(this,T,T,1)),!f){var g=Qt(i,"actionSize");this.setActionSize(Qt(i,"actionWidth",g),Qt(i,"actionHeight",g))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",n),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",r),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",s)}}const Br=Phaser.Utils.Objects.GetValue;var tV=function(e,t){var i=Br(t,"canvas"),n=Br(i,"width",128),y=Br(i,"height",128),S=new Gn(e,0,0,n,y);e.add.existing(S);var r=Br(i,"key"),T=Br(i,"frame"),s=Br(i,"fill");return s!==void 0?S.fill(s):r!==void 0&&S.loadTexture(r,T),S.setTexture=S.loadTexture.bind(S),S},eV=function(e,t){var i=new Td(e,{scaleUp:Br(t,"scaleUpIcon",!1),background:Br(t,"iconBackground"),image:tV(e,t)});return e.add.existing(i),i};const iV=Phaser.Utils.Objects.GetValue;var CE=function(e,t){var i=iV(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const sV=Phaser.Utils.Objects.GetValue;var rV=function(e,t){var i=CE(e,t);if(i){var n=sV(t,"click"),y=new ur(i,n);return y.on("click",e.open,e),y}};const SE={accept:"image/*",multiple:!1};var PE=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,n=i.image,y=t[0];return n.loadFromFilePromise(y).then(function(){return i.scaleImage(),e.emit("select",y,e),Promise.resolve(y)})}},nV=function(e,t){var i=e.scene,n=new gh(i,SE);return i.add.existing(n),e.pin(n),n.on("change",function(){PE(e,n.files)}),n};const aV={async openPromise(){var e=this;return fE(this.scene.game,SE).then(function(t){return PE(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var oV=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},hV=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},EE={getFileName:oV,saveTexture:hV};Object.assign(EE,aV);const lV=Phaser.Utils.Objects.GetValue;class og extends cr{constructor(t,i){var n=eV(t,i);i.icon=n,super(t,i),this.type="rexImageFileInputLabel";var y=this.iconWidth,S=this.iconWidth;y!==void 0&&S!==void 0&&n.resize(y,S),this.clickTarget=CE(this,i),this.clickTarget&&(lV(i,"domButton",!0)?this.fileChooser=nV(this):this.clickBehavior=rV(this,i)),this.addChildrenMap("canvas",n.image),this.addChildrenMap("iconBackground",n.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,n){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,n)}}Object.assign(og.prototype,EE);mt.register("imageInputLabel",function(e){var t=new og(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ImageInputLabel",og);let uV=class extends ye{constructor(e,t){return super(e),new Proxy(this,this)}get(e,t){if(_t(e,t))return e[t];var i=e.parent;if(_t(i,t))return i[t]}set(e,t,i){return _t(e,t)?e[t]=i:_t(e.parent,t)&&(e.parent[t]=i),!0}get key(){return this.parent.texture.key}set key(e){this.parent.setTexture(e,this.frame)}get frame(){return this.parent.frame.name}set frame(e){this.parent.setFrame(e)}get scale(){return this.parent.scaleX}set scale(e){this.parent.setScale(e)}};const Ec=Phaser.Utils.Objects.GetValue;class dV extends ye{constructor(t,i){super(t,i),this.style=Ec(i,"style",this);var n=Ec(i,"propertiesMap");this.activeStyle=wc(i,"active",n),this.hoverStyle=wc(i,"hover",n),this.disableStyle=wc(i,"disable",n),this.onModifyStyle=Ec(i,"onModifyStyle")}getStyle(t){return td(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!rh(i,t))return this.modifyStyle(t),i}}setActiveState(t){return bc.call(this,"active",t),this}setHoverState(t){return bc.call(this,"hover",t),this}setDisableState(t){return bc.call(this,"disable",t),this}}var wc=function(e,t,i){var n=nu(e,t);if(i)for(var y in n)i.hasOwnProperty(y)&&(n[i[y]]=n[y],delete n[y]);return n},bc=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,n=`${e}Style`,y=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[y]=this.applyStyle(this[n]):(this.applyStyle(this[y]),this[y]=void 0))};const Vn={addStyleManager(e){return this.styleManager=new dV(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},fV=Phaser.GameObjects.Image,yo=Phaser.Utils.Objects.GetValue;class mh extends fV{constructor(t,i){i===void 0&&(i={});var n=yo(i,"x",0),y=yo(i,"y",0),S=yo(i,"key",""),r=yo(i,"frame",void 0);super(t,n,y,S,r),this.type="rexStatesImage";var T=yo(i,"effects",!0);T&&Ua(this,T),this.style=new uV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(mh.prototype,Vn);mt.register("statesImage",function(e){var t=new mh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesImage",mh);class xh extends Bn{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=cV,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const cV={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(xh.prototype,Vn);mt.register("statesRoundRectangle",function(e){var t=new xh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesRoundRectangle",xh);let vV=class extends ye{constructor(e,t){return super(e),new Proxy(this,this)}get(e,t){if(_t(e,t))return e[t];var i=e.parent;if(_t(i,t))return i[t]}set(e,t,i){return _t(e,t)?e[t]=i:_t(e.parent,t)&&(e.parent[t]=i),!0}get key(){return this.parent.texture.key}set key(e){this.key!==e&&this.parent.setTexture(e,this.frame)}get frame(){return this.parent.frame.name}set frame(e){this.frame!==e&&this.parent.setFrame(e)}};const pV=Phaser.GameObjects.NineSlice,us=Phaser.Utils.Objects.GetValue;class yh extends pV{constructor(t,i){i===void 0&&(i={});var n=us(i,"x",0),y=us(i,"y",0),S=us(i,"key",null),r=us(i,"frame",null),T=us(i,"width",0),s=us(i,"height",0),o=us(i,"leftWidth",0),m=us(i,"rightWidth",0),f=us(i,"topHeight",0),u=us(i,"bottomHeight",0);super(t,n,y,S,r,T,s,o,m,f,u),this.type="rexStatesNineSlice";var h=us(i,"effects",!0);h&&Ua(this,h),this.style=new vV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(yh.prototype,Vn);mt.register("statesNineSlice",function(e){var t=new yh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesNineSlice",yh);let gV=class extends ye{constructor(e,t){return super(e),new Proxy(this,this)}get(e,t){if(_t(e,t))return e[t];var i=e.parent;if(_t(i,t))return i[t]}set(e,t,i){return _t(e,t)?e[t]=i:_t(e.parent,t)&&(e.parent[t]=i),!0}get key(){return this.parent.textureKey}set key(e){this.key!==e&&this.parent.setBaseTexture(e,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(e){this.frame!==e&&this.parent.setBaseTexture(this.parent.textureKey,e)}};const mV=Phaser.Utils.Objects.GetValue;class Th extends Wu{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var n=mV(i,"effects",!0);n&&Ua(this,n),this.style=new gV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Th.prototype,Vn);mt.register("statesNinePatch",function(e){var t=new Th(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesNinePatch",Th);const xV=Phaser.GameObjects.Text,Oc=Phaser.Utils.Objects.GetValue;class Sd extends xV{constructor(t,i){i===void 0&&(i={});var n=Oc(i,"x",0),y=Oc(i,"y",0),S=Oc(i,"text","");super(t,n,y,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(r,T){var s=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");r.style.update(s)},this.addStyleManager(i),delete i.style}}Object.assign(Sd.prototype,Vn);mt.register("statesText",function(e){var t=new Sd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesText",Sd);class yV extends ye{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(_t(t,i))return t[i];var n=t.parent;if(_t(n,i))return n[i]}set(t,i,n){return _t(t,i)?t[i]=n:_t(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const TV=Phaser.GameObjects.BitmapText,fn=Phaser.Utils.Objects.GetValue;class Pd extends TV{constructor(t,i){i===void 0&&(i={});var n=fn(i,"x",0),y=fn(i,"y",0),S=fn(i,"font",""),r=fn(i,"fontSize",!1),T=fn(i,"align",0),s=fn(i,"tint");super(t,n,y,S,"",r,T),this.type="rexStatesBitmapText",s!==void 0&&this.setTint(s);var o=fn(i,"effects",!0);o&&Ua(this,o),this.style=new yV(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Pd.prototype,Vn);mt.register("statesBitmapText",function(e){var t=new Pd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesBitmapText",Pd);class Ed extends sd{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),pt(i,"easeValue.duration",i.easeDuration),pt(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=CV,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const CV={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(Ed.prototype,Vn);mt.register("statesBarRectangle",function(e){var t=new Ed(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.StatesBarRectangle",Ed);var SV=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,PV(this,e)),this},PV=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(n=!0,i.animation={});var y=i.animation;n&&(y.duration=0);var S=y.onProgress;y.onProgress=function(T){S&&S(T),e.needRedraw()};var r=y.onComplete;return y.onComplete=function(T){r&&r(T),e.needRedraw()},t},EV=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,n=0,y=t.length;n<y;n++)if(i=t[n],i.label===e)return i}else return this.chart.data.datasets[e]},wV=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var n=this.chart.data.labels;if(t=n.indexOf(t),t===-1)return}return i.data[t]}},bV=function(e,t,i){if(this.chart===void 0)return this;var n=this.getChartDataset(e);if(typeof t=="string"){var y=this.chart.data.labels;if(t=y.indexOf(t),t===-1)return this}return n.data[t]=i,this},OV=function(){return this.chart===void 0?this:(this.chart.update(),this)};let hg=class extends Gn{constructor(e,t,i,n,y,S){super(e,t,i,n,y),this.type="rexChart",this.chart=void 0,S!==void 0&&this.setChart(S)}destroy(e){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(e))}resize(e,t){if(e===this.width&&t===this.height)return this;if(super.resize(e,t),this.chart){var i=this.chart;i.height=this.canvas.height,i.width=this.canvas.width,i.aspectRatio=i.height?i.width/i.height:null,i.update()}return this}};var MV={setChart:SV,getChartDataset:EV,getChartData:wV,setChartData:bV,updateChart:OV};Object.assign(hg.prototype,MV);mt.register("chart",function(e,t,i,n,y){var S=new hg(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.Chart",hg);mt.register("container",function(e,t,i,n,y){var S=new Xi(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.Container",Xi);mt.register("sizer",function(e,t,i,n,y,S){var r=new $t(this.scene,e,t,i,n,y,S);return this.scene.add.existing(r),r});pt(window,"RexPlugins.UI.Sizer",$t);var wE=function(){return Array.prototype.reduce.call(arguments,AV,0)},AV=function(e,t){return e+t},RV=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,y,S,r,T,s=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(T=this.columnProportions[o],i=0,T===0||e){for(var m=0;m<this.rowCount;m++)y=n[m*this.columnCount+o],y&&(y.rexSizer.hidden||(r=this.getChildWidth(y),r===void 0&&(T!==0&&!this.hasColumnProportion0Child?r=0:s=!0),!s&&(S=y.rexSizer.padding,r+=(S.left+S.right)*this.scaleX,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.columnWidth[o]=i)}if(!s){var f=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),u=wE(this.space.left,f,...this.space.column,this.space.right);return t+u*this.scaleX}},LV=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,y,S,r,T,s=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(T=this.rowProportions[o],i=0,T===0||e){for(var m=0;m<this.columnCount;m++)y=n[o*this.columnCount+m],y&&(y.rexSizer.hidden||(r=this.getChildHeight(y),r===void 0&&(T!==0&&!this.hasRowProportion0Child?r=0:s=!0),!s&&(S=y.rexSizer.padding,r+=(S.top+S.bottom)*this.scaleY,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.rowHeight[o]=i)}if(!s){var f=Math.max(this.space.indentTopOdd,this.space.indentTopEven),u=wE(this.space.top,f,...this.space.row,this.space.bottom);return t+u*this.scaleY}},FV=function(e,t){var i,n=e.rexSizer;if(n.expandWidth){var y=n.padding;i=t-(y.left+y.right)*this.scaleX}return i},DV=function(e,t){var i,n=e.rexSizer;if(n.expandHeight){var y=n.padding;i=t-(y.top+y.bottom)*this.scaleY}return i},IV=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i&&i.isRexSizer&&e.push(i);return e},BV=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,fh.call(this),this},kV=function(){for(var e,t,i,n=this.innerLeft,y=this.innerTop,S,r=y,T,s,o,m,f,u,h,a,l,c,d,v,p=0;p<this.rowCount;p++){c=this.getRowHeight(p),d=p%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=n+d*this.scaleX;for(var g=0;g<this.columnCount;g++){if(l=this.getColumnWidth(g),e=this.getChildAt(g,p),!e||e.rexSizer.hidden){S+=l+this.space.column[g]*this.scaleX;continue}ch.call(this,e),h=this.getExpandedChildWidth(e,l),a=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,h,a),Qp(e,this)):ui(e,h,a),t=e.rexSizer,i=t.padding,T=S+i.left*this.scaleX,o=l-(i.left+i.right)*this.scaleX,v=g%2?this.space.indentTopEven:this.space.indentTopOdd,s=r+v*this.scaleY+i.top*this.scaleY,m=c-(i.top+i.bottom)*this.scaleY,h===void 0&&(h=te(e)),a===void 0&&(a=ee(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*h)*this.scaleX,u=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,vh.call(this,e,T,s,o,m,t.align,f,u),S+=l+this.space.column[g]*this.scaleX}r+=c+this.space.row[p]*this.scaleY}},NV=function(t){var t=Dp.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var n=t-this.getChildrenWidth(!1);n>=0&&(this.proportionWidthLength=n/i)}else this.proportionWidthLength=0}return t},GV=function(t){var t=kp.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var n=t-this.getChildrenHeight(!1);n>=0&&(this.proportionHeightLength=n/i)}else this.proportionHeightLength=0}return t},zV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},UV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},XV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,y),t.isRexSizer&&(n=t.resolveWidth(i),n===void 0&&(n=i)),t.runWidthWrap(n));return this},VV=function(e){var t,i,n,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,y),t.isRexSizer&&(n=t.resolveHeight(i),n===void 0&&(n=i)),t.runHeightWrap(n));return this};const h1=Phaser.Utils.Objects.IsPlainObject,Ki=Phaser.Utils.Objects.GetValue,l1=Phaser.Display.Align.CENTER;var u1=function(e,t,i,n,y){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,r=0;r<n;r++)if(S=t*n+r,!i[S])return S}else if(t===void 0){for(var S,r=0;r<y;r++)if(S=r*n+e,!i[S])return S}else{var S=t*n+e;if(!i[S])return S}else if(t===!0){for(var S,r=0;r<n;r++)for(var T=0;T<y;T++)if(S=T*n+r,!i[S])return S}else for(var r=0,s=i.length;r<s;r++)if(!i[r])return r;return null},YV=function(e,t,i,n,y,S,r){var T,s,o,m;if(uh.call(this,e),h1(t)){var u=t;t=Ki(u,"column",void 0),i=Ki(u,"row",void 0),n=Ki(u,"align",l1),y=Ki(u,"padding",0),S=Ki(u,"expand",!1),r=Ki(u,"key",void 0),T=Ki(u,"offsetX",0),s=Ki(u,"offsetY",0),o=Ki(u,"offsetOriginX",0),m=Ki(u,"offsetOriginY",0)}var f=u1(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(f===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),f=u1(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof n=="string"&&(n=Wa[n]),n===void 0&&(n=l1),y===void 0&&(y=0),S===void 0&&(S=!0),T===void 0&&(T=0),s===void 0&&(s=0),o===void 0&&(o=0),m===void 0&&(m=0);var u=this.getSizerConfig(e);return u.align=n,u.padding=Un(y),h1(S)?(u.expandWidth=Ki(S,"width",!1),u.expandHeight=Ki(S,"height",!1)):(u.expandWidth=S,u.expandHeight=S),u.alignOffsetX=T,u.alignOffsetY=s,u.alignOffsetOriginX=o,u.alignOffsetOriginY=m,this.sizerChildren[f]=e,r!==void 0&&this.addChildrenMap(r,e),this};const WV={add:YV};var La=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=e.length-1);for(var y=i;y<=n;y++)e[y]=t;return e};const HV={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),dh.call(this,e,t),this},removeAt(e,t,i){var n=this.getChildAt(e,t);return n&&this.remove(n,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return La(this.sizerChildren,null),gd.call(this,e),this}},jV={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,La(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,La(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},d1=Phaser.Utils.Objects.GetValue;var $V=function(e,t,i,n,y){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,La(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")La(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof n=="number")La(this.rowProportions,n);else for(var S=0;S<t;S++)this.rowProportions[S]=n[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(d1(y,"column",0)),this.setRowSpace(d1(y,"row",0));var r=this.scene,T=this.createCellContainerCallback;if(T)for(var s=0,o=this.rowCount;s<o;s++)for(var m=0,f=this.columnCount;m<f;m++){var u={column:m,row:s},h=T(r,m,s,u);h&&this.add(h,u)}return this},bE=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var n=[e*this.columnCount,0],y=0;y<this.columnCount;y++)n.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,n),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},KV=function(e,t){return bE.call(this,this.rowCount,e,t),this},OE=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var n=this.rowCount-1;n>=0;n--){var y=n*this.columnCount+e;this.sizerChildren.splice(y,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},JV=function(e,t){return OE.call(this,this.columnCount,e,t),this},ME={getChildrenWidth:RV,getChildrenHeight:LV,getExpandedChildWidth:FV,getExpandedChildHeight:DV,getChildrenSizers:IV,preLayout:BV,layoutChildren:kV,resolveWidth:NV,resolveHeight:GV,resolveChildrenWidth:zV,resolveChildrenHeight:UV,runWidthWrap:XV,runHeightWrap:VV,resetGrid:$V,insertEmptyRow:bE,addEmptyRow:KV,insertEmptyColumn:OE,addEmptyColumn:JV};Object.assign(ME,WV,HV,jV,rg);var ZV=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},QV=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const Rl=Phaser.Utils.Objects.IsPlainObject,fe=Phaser.Utils.Objects.GetValue;class Ps extends Xn{constructor(t,i,n,y,S,r,T,s,o,m){Rl(i)?(m=i,i=fe(m,"x",0),n=fe(m,"y",0),y=fe(m,"width",void 0),S=fe(m,"height",void 0),r=fe(m,"column",m.col||0),T=fe(m,"row",0),s=fe(m,"columnProportions",0),o=fe(m,"rowProportions",0)):Rl(y)?(m=y,y=fe(m,"width",void 0),S=fe(m,"height",void 0),r=fe(m,"column",m.col||0),T=fe(m,"row",0),s=fe(m,"columnProportions",0),o=fe(m,"rowProportions",0)):Rl(r)?(m=r,r=fe(m,"column",m.col||0),T=fe(m,"row",0),s=fe(m,"columnProportions",0),o=fe(m,"rowProportions",0)):Rl(s)&&(m=s,s=fe(m,"columnProportions",0),o=fe(m,"rowProportions",0)),super(t,i,n,y,S,m),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(fe(m,"createCellContainerCallback")),this.setIndentLeft(fe(m,"space.indentLeftOdd",0),fe(m,"space.indentLeftEven",0)),this.setIndentTop(fe(m,"space.indentTopOdd",0),fe(m,"space.indentTopEven",0)),this.resetGrid(r,T,s,o,fe(m,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=ZV.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=QV.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var n=this.sizerChildren.indexOf(t);return n===-1?null:(i===void 0&&(i={}),i.x=n%this.columnCount,i.y=Math.floor(n/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],n=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return n}getRowHeight(t){var i=this.rowProportions[t],n=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return n}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Ps.prototype,ME);mt.register("gridSizer",function(e,t,i,n,y,S,r,T,s){var o=new Ps(this.scene,e,t,i,n,y,S,r,T,s);return this.scene.add.existing(o),o});pt(window,"RexPlugins.UI.GridSizer",Ps);var qV=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},_V=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},tY=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,y=t.length;n<y;n++)i=t[n],i!==`
`&&i.isRexSizer&&e.push(i);return e},eY=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,fh.call(this),this},iY=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,n,y,S=0,r,T,s=this.innerLeft,o=this.innerTop,m,f,u,h,a,l,c=this.wrapResult.lines,d,v,p,g=s,x=o,C=0,P=c.length;C<P;C++){switch(d=c[C],v=d.children,this.rtl&&v.reverse(),e?(r=C%2?this.space.indentLeftEven:this.space.indentLeftOdd,g=s+r*this.scaleX):(T=C%2?this.space.indentTopEven:this.space.indentTopOdd,x=o+T*this.scaleY),p=t-(e?d.width:d.height),this.align){case 0:break;case 1:e?g+=p:x+=p;break;case 2:e?g+=p/2:x+=p/2;break;case 3:S=Mc(t,p,this.justifyPercentage,v.length);break;case 4:S=Mc(t,p,this.justifyPercentage,v.length),S===0&&(e?g+=p:x+=p);break;case 5:S=Mc(t,p,this.justifyPercentage,v.length),S===0&&(e?g+=p/2:x+=p/2);break}for(var w=!0,E=0,b=v.length;E<b;E++)i=v[E],!i.rexSizer.hidden&&(n=i.rexSizer,y=n.padding,ch.call(this,i),e?m=g+y.left*this.scaleX:f=x+y.top*this.scaleY,w?w=!1:e?m+=this.space.item*this.scaleX:f+=this.space.item*this.scaleY,u=te(i),h=ee(i),e?(T=E%2?this.space.indentTopEven:this.space.indentTopOdd,f=x+T*this.scaleY+y.top*this.scaleY,g=m+u+y.right*this.scaleX+S):(r=E%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=g+r*this.scaleX+y.left*this.scaleX,x=f+h+y.top*this.scaleY+S),a=(n.alignOffsetX+n.alignOffsetOriginX*u)*this.scaleX,l=(n.alignOffsetY+n.alignOffsetOriginY*h)*this.scaleY,vh.call(this,i,m,f,u,h,n.align,a,l));e?x+=d.height+this.space.line*this.scaleY:g+=d.width+this.space.line*this.scaleX}},Mc=function(e,t,i,n){return t/e<=i?t/(n-1):0},sY=function(){return this.orientation===0?!0:Ip.call(this)},AE=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,n,y,S,r,T=0,s,o,m=t.lines,f=void 0,u;if(this.orientation===0){for(var h=0,a=i.length;h<a;h++){if(n=i[h],n===`
`)n=void 0,S=0,u=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.runLayout(this),S=this.getChildWidth(n),y=n.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,u=T<S||f===void 0}u&&(f&&(f.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height+this.space.line*this.scaleY),f={children:[],width:0,height:0},m.push(f),s=m.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-s*this.scaleX),T-=S+this.space.item*this.scaleX,n&&(f.children.push(n),r=this.getChildHeight(n),y=n.rexSizer.padding,r+=(y.top+y.bottom)*this.scaleY,f.height=Math.max(f.height,r))}f&&(f.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var l=e,h=0,a=i.length;h<a;h++){if(n=i[h],n===`
`)n=void 0,S=0,u=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.layout(),r=this.getChildHeight(n),y=n.rexSizer.padding,r+=(y.top+y.bottom)*this.scaleY,u=T<r||f===void 0}u&&(f&&(f.height=l-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width+this.space.line*this.scaleX),f={children:[],width:0,height:0},m.push(f),o=m.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=l-o*this.scaleY),T-=r+this.space.item*this.scaleY,n&&(f.children.push(n),S=this.getChildWidth(n),y=n.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,f.width=Math.max(f.width,S))}f&&(f.height=l-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},rY=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=AE.call(this,t),this.rexSizer.resolved=!0,Bp.call(this,e)}},nY=function(){return this.orientation===1?!0:Np.call(this)},aY=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=AE.call(this,t),this.rexSizer.resolved=!0,Gp.call(this,e)}},oY=function(e,t){},hY=function(e,t){};const f1=Phaser.Math.Distance.Between;var lY=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,y=1/0,S=0,r=i.length;S<r;S++){var T=i[S];if(!(Math.abs(T.centerY-t)>T.height/2)){var s=f1(T.left,T.centerY,e,t);y>s&&(y=s,n=S);var o=i[S+1];if(!(o&&o.y===T.y)){var s=f1(T.right,T.centerY,e,t);y>s&&(y=s,n=S+1)}}}return n};const uY=Phaser.Utils.Objects.IsPlainObject,cn=Phaser.Utils.Objects.GetValue,dY=Phaser.Display.Align.CENTER;var Ac=function(e,t,i,n){if(e===`
`)return this.addNewLine(),this;var y,S,r,T;if(uh.call(this,e),uY(t)){var s=t;t=cn(s,"padding",0),i=cn(s,"key",void 0),n=cn(s,"index",void 0),y=cn(s,"offsetX",0),S=cn(s,"offsetY",0),r=cn(s,"offsetOriginX",0),T=cn(s,"offsetOriginY",0)}t===void 0&&(t=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),T===void 0&&(T=0);var s=this.getSizerConfig(e);return s.align=dY,s.padding=Un(t),s.alignOffsetX=y,s.alignOffsetY=S,s.alignOffsetOriginX=r,s.alignOffsetOriginY=T,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const fY={add(e,t,i){if(Ts(e))for(var n=e,y=0,S=n.length;y<S;y++)Ac.call(this,n[y],t);else Ac.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,n){return Ac.call(this,t,i,n,e),this},insertAtPosition(e,t,i,n,y){var S=lY.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,n,y),this}},cY=Phaser.Utils.Array.Remove,vY={remove(e,t){return this.getParentSizer(e)!==this?this:(cY(this.sizerChildren,e),dh.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,gd.call(this,e),this}};var RE={getChildrenWidth:qV,getChildrenHeight:_V,getChildrenSizers:tY,preLayout:eY,layoutChildren:iY,hasWidthWrap:sY,runWidthWrap:rY,hasHeightWrap:nY,runHeightWrap:aY,getExpandedChildWidth:oY,getExpandedChildHeight:hY};Object.assign(RE,fY,vY,rg);var pY=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,y=!1,S=0,r=e.length;S<r;S++)i=e[S],i!==`
`&&(n=this.getChildWidth(i),n===void 0&&(y=!0),!y&&(t=Math.max(n,t)));if(!y)return t},gY=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,y=!1,S=0,r=e.length;S<r;S++)i=e[S],i!==`
`&&(n=this.getChildHeight(i),n===void 0&&(y=!0),!y&&(t=Math.max(n,t)));if(!y)return t};const c1=Phaser.Utils.Objects.IsPlainObject,oi=Phaser.Utils.Objects.GetValue;class _r extends Xn{constructor(t,i,n,y,S,r){c1(i)?(r=i,i=oi(r,"x",0),n=oi(r,"y",0),y=oi(r,"width",void 0),S=oi(r,"height",void 0)):c1(y)&&(r=y,y=oi(r,"width",void 0),S=oi(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(oi(r,"orientation",0)),this.setItemSpacing(oi(r,"space.item",0)),this.setLineSpacing(oi(r,"space.line",0)),this.setIntentLeft(oi(r,"space.indentLeftOdd",0),oi(r,"space.indentLeftEven",0)),this.setIntentTop(oi(r,"space.indentTopOdd",0),oi(r,"space.indentTopEven",0)),this.setAlign(oi(r,"align",0)),this.setJustifyPercentage(oi(r,"justifyPercentage",.25)),this.setRTL(oi(r,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=zn(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=mY[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=pY.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=gY.call(this)),this._maxChildHeight}}const mY={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(_r.prototype,RE);mt.register("fixWidthSizer",function(e,t,i,n,y){var S=new _r(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.FixWidthSizer",_r);mt.register("overlapSizer",function(e,t,i,n,y){var S=new rs(this.scene,e,t,i,n,y);return this.scene.add.existing(S),S});pt(window,"RexPlugins.UI.OverlapSizer",rs);mt.register("space",function(){var e=new sg(this.scene);return e});pt(window,"RexPlugins.UI.Space",sg);mt.register("label",function(e){var t=new cr(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Label",cr);const v1=["alpha","tint","flipX","flipY"];var lg=function(e,t){if(!t)return e;for(var i=0,n=v1.length;i<n;i++){var y=v1[i];y in t&&y in e&&(e[y]=t[y])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,r;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(r=t.originY),S!==void 0&&r!==void 0&&e.setOrigin(S,r)}return e},He=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var n;switch(i){case"bar":n=new Ed(e,t);break;case"image":n=new mh(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?n=new Th(e,t):n=new yh(e,t);break;default:n=new xh(e,t);break}return lg(n,t),e.add.existing(n),n},xY=function(){switch(this.scrollMode){case 0:case 1:Rc.call(this),this.updateController(),Lc.call(this),Fc.call(this);break;default:Rc.call(this,"y"),Rc.call(this,"x"),this.updateController(),Lc.call(this,"y"),Lc.call(this,"x"),Fc.call(this,"y"),Fc.call(this,"x");break}return this},Rc=function(e){var t,i,n,y;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,n=this.childrenMap.scroller,y=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),n=this.childrenMap[`scroller${e}`],y=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;i*=S,n&&n.setBounds(t,i),y&&(y.setEnable(t!==i),y.tickLength&&y.setTick(y.tickLength,t,i))},Lc=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var y=this.childrenMap.scroller;y&&this.disableUnscrollableDrag&&y.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],n=this[`hideUnscrollableSlider${e}`];i&&n&&this.setChildVisible(i,t);var y=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];y&&S&&y.setEnable(t);break}},Fc=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),r=S.childrenMap.track,T=S.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),ui(T,void 0,i)}else{var n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),ui(T,n,void 0)}p1(S);break;default:e=e.toUpperCase();var y=this[`adaptThumb${e}SizeMode`];if(!y)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var r=S.childrenMap.track,T=S.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),ui(T,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),ui(T,n,void 0)}p1(S);break}},p1=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},yY=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,n=this.childrenMap.sliderY,y=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),n&&n.setValue(this.t),y&&y.setValue(this.childOX),S&&S.setValue(this.s);break}};const Ll=Phaser.Math.Clamp,TY={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=Ll(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=Ll(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=Ll(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=Ll(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var LE={resizeController:xY,updateController:yY};Object.assign(LE,TY);const FE={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var ug=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=CY(e));var i=e[t];return typeof i=="string"&&(i=FE[i]),i},CY=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,n;return t&&i?n=2:t?n=0:i?n=1:n=0,n};const je=Phaser.Utils.Objects.GetValue;var SY=function(e,t,i){var n=je(i,"child"),y=je(n,"gameObject",void 0);if(y){var S=je(i,"space.child",0);e.childMargin={};var r=e.childMargin,T={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:r.top=0,r.bottom=0,r.left=0,r.right=0;break;default:r.top=S,r.bottom=S,r.left=S,r.right=S;break}else switch(e.scrollMode){case 0:r.top=je(S,"top",0),r.bottom=je(S,"bottom",0),T.left=je(S,"left",0),T.right=je(S,"right",0);break;case 1:r.top=je(S,"left",0),r.bottom=je(S,"right",0),T.top=je(S,"top",0),T.bottom=je(S,"bottom",0);break;default:r.top=je(S,"top",0),r.bottom=je(S,"bottom",0),r.left=je(S,"left",0),r.right=je(S,"right",0);break}t.add(y,{column:1,row:1,align:je(n,"align","center"),padding:T,expand:{width:je(n,"expandWidth",!0),height:je(n,"expandHeight",!0)}})}e.addChildrenMap("child",y)};const g1=Phaser.Math.Percent;var PY=function(e,t,i){var n;return e.y===t.y?n=g1(i.x,e.x,t.x):e.x===t.x&&(n=g1(i.y,e.y,t.y)),n},DE=function(e,t){Dc.x=e,Dc.y=t;var i,n;this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint());var y=PY(i,n,Dc);return y},Dc={},EY=function(e,t,i){!this.enable||!this.inputActive||(this.value=DE.call(this,t,i))},Ic=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=DE.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const wY=Phaser.Utils.Objects.GetValue;var bY=function(e){this.inputActive=!1;var t=wY(e,"input",0);typeof t=="string"&&(t=OY[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("dragend",function(y){this.inputActive=!1,this.eventEmitter.emit("inputend",y)},this).on("drag",EY,this));break;case 1:this.setInteractive().on("pointerdown",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("pointerdown",Ic,this);var n=function(y){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",y))};this.scene.input.on("pointerup",n,this).on("pointermove",Ic,this),this.once("destroy",function(){this.scene.input.on("pointerup",n,this).off("pointermove",Ic,this)},this);break}};const OY={pan:0,drag:0,click:1,none:-1};var IE=function(e,t){t===void 0&&(t=MY);var i=this.childrenMap.thumb,n=i.x,y=i.y;return lh(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=n,i.y=y,t},MY={};const AY=Phaser.Display.Align.LEFT_CENTER,RY=Phaser.Display.Align.TOP_CENTER;var LY=function(e){if(e===void 0&&(e=FY),this.childrenMap.thumb){var t=this.orientation===0?AY:RY;IE.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},FY={};const DY=Phaser.Display.Align.RIGHT_CENTER,IY=Phaser.Display.Align.BOTTOM_CENTER;var BY=function(e){if(e===void 0&&(e=kY),this.childrenMap.thumb){var t=this.orientation===0?DY:IY;IE.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},kY={};const m1=Phaser.Math.Linear;var NY=function(e,t,i,n){return n===void 0&&(n=GY),n.x=m1(t.x,i.x,e),n.y=m1(t.y,i.y,e),n},GY={},zY=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,n;return this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint()),NY(e,i,n,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const UY=Phaser.Display.Align.LEFT_CENTER,XY=Phaser.Display.Align.TOP_CENTER,VY=Phaser.Display.Align.RIGHT_CENTER,YY=Phaser.Display.Align.BOTTOM_CENTER;var WY=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,n,y,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var r=te(S);if(i){var T=S.x-r*S.originX;n=this.right-T}else{var T=S.x-r*S.originX,s=T+r;n=s-this.left}}else{var o=ee(S);if(i){var m=S.y-o*S.originY;y=this.bottom-m}else{var m=S.y-o*S.originY,f=m+o;y=f-this.top}}else this.orientation===0?n=this.width*e:y=this.height*e;ui(t,n,y);var u;i?u=this.orientation===0?VY:YY:u=this.orientation===0?UY:XY,DP(t,this,u),this.resetChildPositionState(t)};const ki=Phaser.Utils.Objects.GetValue,Fl=Phaser.Utils.Objects.IsPlainObject,HY=Phaser.Math.Clamp,jY=Phaser.Math.Snap.To;class ja extends Qr($t){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=ki(i,"reverseAxis",!1);var n=ki(i,"background",void 0),y=ki(i,"track",void 0),S=ki(i,"indicator",void 0),r=ki(i,"thumb",void 0);if(n&&(Fl(n)&&(n=He(t,n)),this.addBackground(n)),y&&(Fl(y)&&(y=He(t,y)),this.add(y,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(Fl(S)&&(S=He(t,S)),this.pin(S)),r){Fl(r)&&(r=He(t,r)),this.pin(r);var T=ki(i,"thumbOffsetX",0),s=ki(i,"thumbOffsetY",0);this.setThumbOffset(T,s)}this.addChildrenMap("background",n),this.addChildrenMap("track",y),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",r),this.setEnable(ki(i,"enable",void 0));var o=ki(i,"tick",void 0);o===void 0&&(o=ki(i,"gap",void 0)),this.setGap(o),bY.call(this,i),this.setValue(ki(i,"value",0),ki(i,"min",void 0),ki(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,n){return t&&i!==void 0&&(t=t/(n-i)),this.gap=t,this}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=jY(t,this.gap));var i=this._value;this._value=HY(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,n){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,n),this}}var $Y={getStartPoint:LY,getEndPoint:BY,updateThumb:zY,updateIndicator:WY};Object.assign(ja.prototype,$Y);const bi=Phaser.Utils.Objects.GetValue;class dg extends $t{constructor(t,i){super(t,i),this.type="rexScrollBar";var n=bi(i,"background",void 0),y=bi(i,"buttons",void 0),S=bi(y,"top",bi(y,"left",void 0)),r=bi(y,"bottom",bi(y,"right",void 0)),T,s=bi(i,"slider",void 0);if(n&&this.addBackground(n),S){this.add(S);var o=new ka(S);o.on("intouch",function(){if(this.enable){var c=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var m;if(this.orientation===0){var f=bi(s,"width",void 0);m=f===void 0?1:0}else{var u=bi(s,"height",void 0);m=u===void 0?1:0}T=new ja(t,s),t.add.existing(T),this.add(T,{proportion:m})}if(r){this.add(r);var o=new ka(r);o.on("intouch",function(){if(this.enable){var d=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=d}},this)}var h=[S,r];this.addChildrenMap("background",n),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",h);var a=bi(i,"valuechangeCallback",null);if(a!==null){var l=bi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,l)}this.setEnable(bi(i,"enable",void 0)),this.setValue(bi(i,"value",0)),this.setScrollStep(bi(y,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,n),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var KY=function(e,t){t===void 0&&(t={});var i=ms(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var n=new dg(e,t);e.add.existing(n);var y=n.childrenMap.slider;return n.addChildrenMap("track",y.childrenMap.track),n.addChildrenMap("indicator",y.childrenMap.indicator),n.addChildrenMap("thumb",y.childrenMap.thumb),n};const JY=Phaser.Math.Snap.To;Phaser.Math.Clamp;var ZY=function(){this.emit("dragstart")},QY=function(){this.emit("dragend")},qY=function(){this.value+=this.dragDelta},_Y=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,n=!!i;if(n){var y=e,S=t===0?0:t*t/(2*this.slidingDeceleration);if(y+=t>0?S:-S,y=JY(y,i,this.minValue),S=Math.abs(y-e),S>0){var r;t===0?(r=this.backDeceleration,t=Math.sqrt(2*r*S)):(r=t*t/(2*S),r*=.99),this._slowDown.init(e,void 0,t,r,y)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var r=this.slidingDeceleration;this._slowDown.init(e,t>0,t,r)}},tW=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},eW=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),n=this.backDeceleration,y=Math.sqrt(2*n*i);this._slowDown.init(e,void 0,y,n,t)},iW=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},x1=function(){this._slowDown.stop()};class sW extends fr{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,n=i.dragState;return n.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,n=i.dragState;return n.isDown?t=n.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,n=i.dragState;return n.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var n=this.parent,y=n.dragState;y.justMoved&&qY.call(n),this.next()}enter_DRAG(){ZY.call(this.parent)}exit_DRAG(){QY.call(this.parent)}next_SLIDE(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){_Y.call(this.parent)}exit_SLIDE(){x1.call(this.parent)}update_SLIDE(t,i){tW.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){eW.call(this.parent)}exit_BACK(){x1.call(this.parent)}update_BACK(t,i){iW.call(this.parent,t,i),this.next()}}const To=Phaser.Utils.Objects.GetValue,rW=Phaser.Math.Distance.Between;class nW extends ye{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=To(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(To(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(To(t,"enable",!0)),this.holdThreshold=To(t,"holdThreshold",50),this.pointerOutReleaseEnable=To(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=vp(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=rW(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!Vs(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=n)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,n){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!Vs(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=n}}preupdate(t,i){if(this.enable){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.worldX,this.y=n.worldY,this.preX=n.worldX,this.preY=n.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.worldX,this.y=n.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}}}const Bc=Phaser.Utils.Objects.GetValue;class aW{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Bc(t,"value",0)),this.setSpeed(Bc(t,"speed",0)),this.setAcceleration(Bc(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class oW{constructor(){this.value,this.dir,this.movement=new aW}init(t,i,n,y,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,n=Math.abs(n),this.movement.setSpeed(n).setAcceleration(-y),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Oe=Phaser.Utils.Objects.GetValue,hW=Phaser.Math.Clamp;class lW extends ye{constructor(t,i){super(t,i);var n=Oe(i,"enable",!0);this._state=new sW(this,{enable:n,eventEmitter:!1});var y={rectBoundsInteractive:Oe(i,"rectBoundsInteractive",!1),inputConfig:Oe(i,"inputConfig",void 0),enable:n,pointerOutRelease:Oe(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new nW(t,y),this._enable=void 0,this._value=void 0,this._slowDown=new oW,this.setSnapStep(Oe(i,"snapStep",void 0));var S=Oe(i,"valuechangeCallback",null);if(S!==null){var r=Oe(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,r)}if(S=Oe(i,"overmaxCallback",null),S!==null){var r=Oe(i,"overmaxCallbackScope",void 0);this.on("overmax",S,r)}if(S=Oe(i,"overminCallback",null),S!==null){var r=Oe(i,"overminCallbackScope",void 0);this.on("overmin",S,r)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(Oe(t,"orientation",0)),this.setDragThreshold(Oe(t,"threshold",10)),this.setSlidingDeceleration(Oe(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Oe(t,"backDeceleration",2e3));var i=Oe(t,"dragRate",1);i=i*(Oe(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var n=Oe(t,"bounds",void 0);return n?this.setBounds(n):this.setBounds(Oe(t,"max",0),Oe(t,"min",0)),this.setValue(Oe(t,"value",this.maxValue||0)),this.setEnable(Oe(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=uW[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var n=t;t=n[0],i=n[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,n=this.overMax(t),y=this.overMin(t);n&&this.emit("overmax",t,i),y&&this.emit("overmin",t,i),this.backEnable||(n&&(t=this.maxValue),y&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=hW(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const uW={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Dl=Phaser.Utils.Objects.GetValue;class dW extends ye{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=Dl(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(Dl(i,"speed",.1)),this.setEnable(Dl(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(Dl(i,"inputConfig",void 0)).on("wheel",function(n,y,S,r,T){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,n,y,S,r){this.focusMode===2&&!Vs(this.parent,t)||this.tryScroll(y)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const Fe=Phaser.Utils.Objects.GetValue,fW=Phaser.Math.Snap.To;var Il=function(e,t,i,n){i=i.toUpperCase();var y=i==="Y",S=e.scrollMode===2,r=e.childrenMap.child,T,s=`snapStep${i}`;if(S)T=Fe(n,s,void 0);else{var T=Fe(n,"snapStep",void 0);T===void 0&&(T=Fe(n,s,void 0))}e[s]=T;var o,m,f=`slider${i}`;if(S||n.hasOwnProperty(f)?o=Fe(n,f,void 0):o=Fe(n,"slider",void 0),o){o===!0&&(o={}),o.orientation=y?1:0,m=KY(e.scene,o);var u,h,a,l=Fe(o,"position",0);typeof l=="string"&&(l=cW[l]);var c=Fe(n,`space.slider${i}`,void 0),d;c===void 0&&(c=Fe(n,"space.slider",void 0),c===void 0&&(S?c=0:d=Fe(n,"space.child",0)));var v;d===void 0?v=typeof c=="number":v=typeof d=="number",y?l===0?(u=2,h=1,d===void 0?a=v?{left:c}:c:a={left:Fe(d,"right",d)}):(u=0,h=1,d===void 0?a=v?{right:c}:c:a={right:Fe(d,"left",d)}):l===0?(u=1,h=2,d===void 0?a=v?{top:c}:c:a={top:Fe(d,"bottom",d)}):(u=1,h=0,d===void 0?a=v?{bottom:c}:c:a={bottom:Fe(d,"top",d)}),t.add(m,{column:u,row:h,align:"center",padding:a,expand:!0}),e[`hideUnscrollableSlider${i}`]=Fe(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=Fe(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=Fe(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=Fe(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var p=Fe(n,"scrollDetectionMode");typeof p=="string"&&(p=vW[p]);var g,x,C=`scroller${i}`;S||n.hasOwnProperty(C)?g=Fe(n,C,!0):g=Fe(n,"scroller",!0),g&&r&&(g===!0&&(g={}),g.orientation=y?0:1,p!==void 0&&(g.rectBoundsInteractive=p===1),g.snapStep=T,x=new lW(r,g),r.isRexContainerLite&&r.sendChildToBack(r));var P=Fe(n,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),w;if(P&&r&&(p!==void 0&&(P.focus=p===1?2:0),w=new dW(r,P)),e.addChildrenMap(`slider${i}`,m),e.addChildrenMap(`scroller${i}`,x),e.addChildrenMap(`mouseWheelScroller${i}`,w),(!S||y)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",m),e.addChildrenMap("scroller",x),e.addChildrenMap("mouseWheelScroller",w)),m){var E,b;S?(E=y?"t":"s",b=`scroll${i}`):(E="t",b="scroll"),m.on("valuechange",function(A){e[E]=A,e.emit(b,e)}).on("inputend",function(){var A=e[`snapStep${i}`];if(A){var F=e[y?"topChildOY":"leftChildOX"],R=e[y?"bottomChildOY":"rightChildOX"],L=e[`childO${i}`],D=fW(L,A,F),I=500*(Math.abs(D-L)/A);m.setEaseValueDuration(I).easeValueTo(D,F,R)}})}if(x){var O,b;S?(O=`childO${i}`,b=`scroll${i}`):(O="childOY",b="scroll"),x.on("valuechange",function(F){e[O]=F,e.emit(b,e)})}if(w){var M;S?M=`addChildO${i}`:M="addChildOY",w.on("scroll",function(A){var F=e[s];F&&(A=F),e[M](-A,!0)})}};const cW={right:0,left:1,bottom:0,top:1},vW={gameObject:0,rectBounds:1},Bl=Phaser.Utils.Objects.GetValue;var pW=function(e,t){var i=e.scene,n=[0,1,0],y=[0,1,0],S=Bl(t,"width"),r=Bl(t,"height");if(!S){var T=Bl(t,"child.expandWidth",!0);T||(n[1]=0)}if(!r){var s=Bl(t,"child.expandHeight",!0);s||(y[1]=0)}var o=new Ps(i,{column:3,row:3,columnProportions:n,rowProportions:y});switch(SY(e,o,t),e.scrollMode){case 0:Il(e,o,"y",t);break;case 1:Il(e,o,"x",t);break;default:Il(e,o,"y",t),Il(e,o,"x",t);break}return o};const Ls=Phaser.Utils.Objects.GetValue;let Ch=class extends $t{constructor(e,t){t===void 0&&(t={});var i=ug(t),n=i===1;t.orientation=n?0:1,super(e,t),this.type=Ls(t,"type","rexScrollable"),this.scrollMode=i;var y=Ls(t,"background",void 0);y&&this.addBackground(y);var S=Ls(t,"header",void 0);if(S){var r=Ls(t,"align.header","center"),T=Ls(t,"space.header",0),s;n?s={right:T}:s={bottom:T},this.add(S,{proportion:0,align:r,padding:s,expand:Ls(t,"expand.header",!0)})}var o=pW(this,t);o&&this.add(o,{proportion:1,align:"center",padding:0,expand:!0});var m=Ls(t,"footer",void 0);if(m){var r=Ls(t,"align.footer","center"),f=Ls(t,"space.footer",0),s;n?s={left:f}:s={top:f},this.add(m,{proportion:0,align:r,padding:s,expand:Ls(t,"expand.footer",!0)})}this.addChildrenMap("background",y),this.addChildrenMap("header",S),this.addChildrenMap("footer",m),this.runLayoutFlag=!1}postLayout(e,t,i){var n=0,y=0;return this.runLayoutFlag?(y=this.t,this.scrollMode===2&&(n=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(y),this.scrollMode===2&&this.setS(n),super.postLayout(e,t,i),this}set t(e){var t=this.childMargin;if(t.top!==0||t.bottom!==0){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY,y=n+t.top+t.bottom,S=y*e-t.top;e=n!==0?S/n:0}this.childrenMap.child.t=e,this.updateController()}get t(){var e=this.childrenMap.child.t,t=this.childMargin;if(t.top!==0||t.bottom!==0){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY,y=n+t.top+t.bottom,S=n*e+t.top;e=y!==0?S/y:0}return e}set s(e){var t=this.childMargin;if(t.left!==0||t.right!==0){var i=this.childrenMap.child,n=i.leftChildOX-i.rightChildOX,y=n+t.left+t.right,S=y*e-t.left;e=n!==0?S/n:0}this.childrenMap.child.s=e,this.updateController()}get s(){var e=this.childrenMap.child.s,t=this.childMargin;if(t.left!==0||t.right!==0){var i=this.childrenMap.child,n=i.leftChildOX-i.rightChildOX,y=n+t.left+t.right,S=n*e+t.left;e=y!==0?S/y:0}return e}set childOY(e){this.childrenMap.child.childOY=e,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(e){this.childrenMap.child.childOX=e,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var e=this.childrenMap.child;return e.topChildOY!==e.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var e=this.childrenMap.child;return e.leftChildOX!==e.rightChildOX}get sliderEnable(){var e=this.childrenMap.slider;return e?e.enable:!1}set sliderEnable(e){var t=this.childrenMap.slider;t&&t.setEnable(e)}setSliderEnable(e){return e===void 0&&(e=!0),this.sliderEnable=e,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(e){this.sliderEnable=e}setSliderYEnable(e){return this.setSliderEnable(e),this}get sliderXEnable(){var e=this.childrenMap.sliderX;return e?e.enable:!1}set sliderXEnable(e){var t=this.childrenMap.sliderX;t&&t.setEnable(e)}setSliderXEnable(e){return e===void 0&&(e=!0),this.sliderXEnable=e,this}get scrollerEnable(){var e=this.childrenMap.scroller;return e?e.enable:!1}set scrollerEnable(e){var t=this.childrenMap.scroller;t&&t.setEnable(e)}setScrollerEnable(e){return e===void 0&&(e=!0),this.scrollerEnable=e,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(e){this.scrollerEnable=e}setScrollerYEnable(e){return this.setScrollerEnable(e),this}get scrollerXEnable(){var e=this.childrenMap.scrollerX;return e?e.enable:!1}set scrollerXEnable(e){var t=this.childrenMap.scrollerX;t&&t.setEnable(e)}setScrollerXEnable(e){return e===void 0&&(e=!0),this.scrollerXEnable=e,this}get scrollerXEnable(){var e=this.childrenMap.scrollerX;return e?e.enable:!1}set scrollerXEnable(e){var t=this.childrenMap.scrollerX;t&&t.setEnable(e)}setScrollerXEnable(e){return e===void 0&&(e=!0),this.scrollerXEnable=e,this}get mouseWheelScrollerEnable(){var e=this.childrenMap.mouseWheelScroller;return e?e.enable:!1}set mouseWheelScrollerEnable(e){var t=this.childrenMap.mouseWheelScroller;t&&t.setEnable(e)}setMouseWheelScrollerEnable(e){return e===void 0&&(e=!0),this.mouseWheelScrollerEnable=e,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(e){this.mouseWheelScrollerEnable=e}setMouseWheelScrollerYEnable(e){return this.setMouseWheelScrollerEnable(e),this}get mouseWheelScrollerXEnable(){var e=this.childrenMap.mouseWheelScrollerX;return e?e.enable:!1}set mouseWheelScrollerXEnable(e){var t=this.childrenMap.mouseWheelScrollerX;t&&t.setEnable(e)}setMouseWheelScrollerXEnable(e){return e===void 0&&(e=!0),this.mouseWheelScrollerXEnable=e,this}setDropZoneEnable(e){e===void 0&&(e=!0);var t=this.childrenMap.child;return t.setInteractive(),t.input.dropZone=e,this}};Object.assign(Ch.prototype,LE);var fg=function(e,t,i){var n=qr(e);switch(n){case di:i=e.getWrappedText(t);break;case fi:i=e.getPenManager(t,i);break;case zi:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},gW=function(e){return e!==void 0&&(this.text=e),this.lines=fg(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},BE=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},kE=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},mW=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case di:i=this.lines.slice(e,t).join(`
`);break;case fi:var n=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,y,!0);break;case zi:i=this.lines.slice(e,t).join(`
`);break}return i},wd=function(e,t){var i=qr(e);switch(i){case di:var S=e.style,n=S.wordWrapWidth,y=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=n,S.wordWrapCallback=y;break;case fi:var S=e.style,r=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=r;break;case zi:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},NE=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&xW.call(this)},xW=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},yW=function(){var e=Math.max(Math.floor(BE.call(this,-this.textOY)),0),t=kE.call(this,e)+this.textOY,i=mW.call(this,e);return wd(this.textObject,i),this.textObject.rexSizer.offsetY=t,NE.call(this),this},TW=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,fh.call(this),this},CW=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case di:case fi:e.setFixedSize(t,i);var n=e.style,y=Math.max(t,0);this.textObjectType===di?n.wordWrapWidth=y:(n.wrapMode===0&&(n.wrapMode=1),n.wrapWidth=y);break;case zi:e.setMaxWidth(t);break}this.setText()}},SW=function(){var e,t,i,n=this.left,y=this.top,S,r,T,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=n+i.left*this.scaleX,r=y+i.top*this.scaleY,T=this.width*this.scaleX-(i.left+i.right)*this.scaleX,s=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,CW.call(this,e,T,s),lh(e,S,r,T,s,t.align),t.preOffsetY=0,NE.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const PW={setText:gW,updateTextObject:yW,preLayout:TW,layoutChildren:SW},y1=Phaser.Utils.Objects.IsPlainObject,Ni=Phaser.Utils.Objects.GetValue,EW=Phaser.Display.Align.TOP_LEFT;class GE extends Xn{constructor(t,i,n,y,S,r){y1(i)?(r=i,i=Ni(r,"x",0),n=Ni(r,"y",0),y=Ni(r,"width",void 0),S=Ni(r,"height",void 0)):y1(y)&&(r=y,y=Ni(r,"width",void 0),S=Ni(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Ni(r,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Ni(r,"clampTextOY",!0)),this.alwaysScrollable=Ni(r,"alwaysScrollable",!1);var T=Ni(r,"background",void 0),s=Ni(r,"text",void 0);s===void 0&&(s=wW(t)),this.textCropEnable=Ni(r,"textCrop",!!s.setCrop);var o=Ni(r,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(s),this.sizerChildren=[s];var m=this.getSizerConfig(s);m.align=EW,m.padding=Un(0),m.expand=!0,this.textObject=s,this.textObjectType=qr(s),m.preOffsetY=0,m.offsetY=0,o&&(this.textMask=Cs.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case di:this.lines.length=0;break;case fi:this.lines.destroy();break;case zi:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case di:case fi:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case zi:var n=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*n;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case di:case fi:t=this.textObject.lineSpacing;break;case zi:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(BE.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=kE.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,n=this.bottomTextOY,y=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:y?t=i:S&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var wW=function(e){return e.add.text(0,0,"")};Object.assign(GE.prototype,PW);var bW=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const OW={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},MW={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Fs=Phaser.Utils.Objects.GetValue;class Sh extends Ch{constructor(t,i){i===void 0&&(i={});var n=Fs(i,"text",void 0),y=Fs(i,"textWidth",void 0),S=Fs(i,"textHeight",void 0),r=Fs(i,"textCrop",!!n.setCrop),T=Fs(i,"textMask",!r),s=Fs(i,"content",""),o=new GE(t,{width:y,height:S,text:n,textMask:T,textCrop:r&&!T,content:s,clampTextOY:Fs(i,"clampChildOY",!1),alwaysScrollable:Fs(i,"alwaysScrollable",!1)});t.add.existing(o),bW(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:y===void 0,expandHeight:S===void 0};var m=Fs(i,"space",void 0);m&&(m.child=Fs(m,"text",0)),super(t,i),this.addChildrenMap("text",n)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Sh.prototype,OW,MW);const kl=Phaser.Utils.Objects.GetValue;var zE=function(e,t,i){t=t?_e(t):{};var n=kl(i,"background",He),y=kl(i,"text",cg),S=kl(i,"track",He),r=kl(i,"thumb",He);n?t.background=n(e,t.background):delete t.background,y?t.text=y(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),S?T.track=S(e,T.track):delete T.track,r?T.thumb=r(e,T.thumb):delete T.thumb,t.slider=T);var s=new Sh(e,t);return e.add.existing(s),s},cg=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var n;switch(i){case"bitmaptext":case"bitmap":n=new Pd(e,t);break;case"bbcodetext":case"bbcode":n=new ip(e,0,0,"",t);break;case"label":n=new Ph(e,t);break;case"textarea":n=zE(e,t);break;default:n=new Sd(e,t);break}return lg(n,t),e.add.existing(n),n},T1=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var n;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?n=new Th(e,t):n=new yh(e,t);break;case"roundRectangle":n=new xh(e,t);break;default:n=new mh(e,t);break}return lg(n,t),e.add.existing(n),n};const Nl=Phaser.Utils.Objects.GetValue;var bd=function(e,t,i){t=t?_e(t):{};var n=Nl(i,"background",He),y=Nl(i,"text",cg),S=Nl(i,"icon",T1),r=Nl(i,"action",T1);return t.background!==null&&n?t.background=n(e,t.background):delete t.background,t.text!==null&&y?t.text=y(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&r?t.action=r(e,t.action):delete t.action,t};class Ph extends cr{constructor(t,i,n){i=bd(t,i,n),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return kc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return kc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return kc(this.getChildren(),"setDisableState",t),this}}var kc=function(e,t,i){for(var n=0,y=e.length;n<y;n++){var S=e[n];S&&S[t]&&S[t](i)}};mt.register("simpleLabel",function(e,t){var i=new Ph(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.SimpleLabel",Ph);const Gt=Phaser.Utils.Objects.GetValue;var AW=function(e){var t=this.scene,i=Gt(e,"orientation",0);this.setOrientation(i);var n=Gt(e,"icon",void 0),y=Gt(e,"iconMask",void 0),S=Gt(e,"innerBackground",void 0),r=Gt(e,"title",void 0),T=Gt(e,"separator",void 0),s=Gt(e,"text",void 0),o=Gt(e,"action",void 0),m=Gt(e,"actionMask",void 0);if(n){var f=Gt(e,"align.icon","center"),C;this.orientation===0?C={right:Gt(e,"space.icon",0),top:Gt(e,"space.iconTop",0),bottom:Gt(e,"space.iconBottom",0),left:Gt(e,"space.iconLeft",0)}:C={bottom:Gt(e,"space.icon",0),left:Gt(e,"space.iconLeft",0),right:Gt(e,"space.iconRight",0),top:Gt(e,"space.iconTop",0)};var u=Gt(e,"squareFitIcon",!1)?1:0;if(this.add(n,{proportion:0,align:f,padding:C,fitRatio:u}),y&&(y=Cs.call(this,n,n,1)),!u){var h=Gt(e,"iconSize",void 0);this.setIconSize(Gt(e,"iconWidth",h),Gt(e,"iconHeight",h))}}var a=new $t(t,{orientation:1});S&&a.addBackground(S);var l=Gt(e,"space.separator",0);if(r){var f=Gt(e,"align.title","left"),c=Gt(e,"expandTitleWidth",!1),d=Gt(e,"expandTitleHeight",!1),v,C,p;v=d?1:0,p=c,C={bottom:!T&&s?Gt(e,"space.title",l):0,left:Gt(e,"space.titleLeft",0),right:Gt(e,"space.titleRight",0)},a.add(r,{proportion:v,expand:p,align:f,padding:C})}if(T){var C={top:r?l:0,bottom:s?l:0,left:Gt(e,"space.separatorLeft",0),right:Gt(e,"space.separatorRight",0)};a.add(T,{expand:!0,padding:C})}if(s){var f=Gt(e,"align.text","left"),g=Gt(e,"expandTextWidth",!1),x=Gt(e,"expandTextHeight",!1),v,C,p;v=x?1:0,p=g,C={left:Gt(e,"space.textLeft",0),right:Gt(e,"space.textRight",0)},a.add(s,{proportion:v,expand:p,align:f,padding:C})}var C=void 0;if(o&&(C={right:Gt(e,"space.text",0)}),this.add(a,{proportion:1,padding:C}),o){var f=Gt(e,"align.action","center"),C;this.orientation===0?C={top:Gt(e,"space.actionTop",0),bottom:Gt(e,"space.actionBottom",0),right:Gt(e,"space.actionRight",0)}:C={left:Gt(e,"space.actionLeft",0),right:Gt(e,"space.actionRight",0),bottom:Gt(e,"space.actionBottom",0)};var u=Gt(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:f,padding:C,fitRatio:u}),m&&(m=Cs.call(this,o,o,1)),!u){var P=Gt(e,"actionSize");this.setActionSize(Gt(e,"actionWidth",P),Gt(e,"actionHeight",P))}}this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",y),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",r),this.addChildrenMap("separator",T),this.addChildrenMap("text",s),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",m)};const Nt=Phaser.Utils.Objects.GetValue;var RW=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=Nt(e,"title",void 0),n=Nt(e,"separator",void 0),y=Nt(e,"innerBackground",void 0),S=Nt(e,"icon",void 0),r=Nt(e,"iconMask",void 0),T=Nt(e,"text",void 0),s=Nt(e,"action",void 0),o=Nt(e,"actionMask",void 0);if(i){var m=Nt(e,"align.title","left"),f=Nt(e,"expandTitleWidth",!1),u=Nt(e,"expandTitleHeight",!1),h,a,l;h=u?1:0,l=f,a={bottom:Nt(e,"space.title",0),left:Nt(e,"space.titleLeft",0),right:Nt(e,"space.titleRight",0)},this.add(i,{proportion:h,expand:l,align:m,padding:a})}if(n){var c=Nt(e,"space.separator",0),a={top:i?c:0,bottom:T?c:0,left:Nt(e,"space.separatorLeft",0),right:Nt(e,"space.separatorRight",0)};this.add(n,{proportion:0,expand:!0,padding:a})}var d=Nt(e,"orientation",0),v=new $t(t,{orientation:d,rtl:Nt(e,"rtl",!1),space:{left:Nt(e,"space.innerLeft",0),right:Nt(e,"space.innerRight",0),top:Nt(e,"space.innerTop",0),bottom:Nt(e,"space.innerBottom",0)}});if(y&&v.addBackground(y),this.add(v,{proportion:1,expand:!0}),S){var m=Nt(e,"align.icon","center"),a;v.orientation===0?a={right:Nt(e,"space.icon",0),top:Nt(e,"space.iconTop",0),bottom:Nt(e,"space.iconBottom",0),left:Nt(e,"space.iconLeft",0)}:a={bottom:Nt(e,"space.icon",0),left:Nt(e,"space.iconLeft",0),right:Nt(e,"space.iconRight",0),top:Nt(e,"space.iconTop",0)};var p=Nt(e,"squareFitIcon",!1)?1:0;if(v.add(S,{proportion:0,align:m,padding:a,fitRatio:p}),r&&(r=Cs.call(this,S,S,1)),!p){var g=Nt(e,"iconSize",void 0);this.setIconSize(Nt(e,"iconWidth",g),Nt(e,"iconHeight",g))}}if(T){var m=Nt(e,"align.text","left"),x=Nt(e,"space.text",0),C=Nt(e,"expandTextWidth",!1),P=Nt(e,"expandTextHeight",!1),h,a,l;v.orientation===0?(h=C?1:0,s&&(a={right:x}),l=P):(h=P?1:0,s&&(a={bottom:x}),l=C),v.add(T,{proportion:h,expand:l,align:m,padding:a})}if(s){var m=Nt(e,"align.action","center"),a;v.orientation===0?a={top:Nt(e,"space.actionTop",0),bottom:Nt(e,"space.actionBottom",0),right:Nt(e,"space.actionRight",0)}:a={left:Nt(e,"space.actionLeft",0),right:Nt(e,"space.actionRight",0),bottom:Nt(e,"space.actionBottom",0)};var p=Nt(e,"squareFitAction",!1)?1:0;if(v.add(s,{proportion:0,align:m,padding:a,fitRatio:p}),o&&(o=Cs.call(this,s,s,1)),!p){var w=Nt(e,"actionSize");this.setActionSize(Nt(e,"actionWidth",w),Nt(e,"actionHeight",w))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",n),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",y),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",T),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)};const br=Phaser.Utils.Objects.GetValue,C1=[AW,RW];class Od extends ng{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var n=br(i,"background",void 0);n&&this.addBackground(n);var y=br(i,"title",void 0),S=br(i,"text",void 0);if(y){var r=br(i,"wrapTitle",!1),T=br(i,"adjustTitleFontSize",!1);r?(r===!0&&(r="word"),Iv(y,r),i.expandTitleWidth=!0,bu(y)):T&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Mu(y,{fitHeight:!0}))}if(S){var s=br(i,"wrapText",!1),o=br(i,"adjustTextFontSize",!1);s?(s===!0&&(s="word"),Iv(S,s),i.expandTextWidth=!0,bu(S)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,Mu(S,{fitHeight:!0}))}var m=br(i,"layoutMode",0),f=C1[m]||C1[0];f.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}mt.register("titleLabel",function(e){var t=new Od(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.TitleLabel",Od);const Nc=Phaser.Utils.Objects.GetValue;var UE=function(e,t,i){var n=Nc(i,"innerBackground",He),y=Nc(i,"separator",He),S=Nc(i,"title",cg),r,T;t.innerBackground!==null&&n&&(r=n(e,t.innerBackground)),t.separator!==null&&y&&(T=y(e,t.separator)),t=bd(e,t,i),r?t.innerBackground=r:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var s=t.background;return s&&(r?e.children.moveBelow(s,r):T&&e.children.moveBelow(s,T)),t};class XE extends Od{constructor(t,i,n){i=UE(t,i,n),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return Gc(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Gc(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Gc(this.getChildren(),"setDisableState",t),this}}var Gc=function(e,t,i){for(var n=0,y=e.length;n<y;n++){var S=e[n];S&&S[t]&&S[t](i)}};mt.register("simpleTitleLabel",function(e,t){var i=new XE(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.SimpleTitleLabel",XE);const qt=Phaser.Utils.Objects.GetValue,LW=Phaser.Utils.Objects.IsPlainObject;var FW=function(e,t){var i=qt(t,"background",void 0),n=qt(t,"icon",void 0),y=qt(t,"iconMask",void 0),S=qt(t,"nameText",void 0),r=qt(t,"valueText",void 0),T=qt(t,"bar",void 0),s=qt(t,"action",void 0),o=qt(t,"actionMask",void 0),m=qt(t,"barShape","line")==="line";if(LW(T)){var f=m?yp:id;T=new f(e,T),e.add.existing(T),S&&e.children.moveBelow(T,S),r&&e.children.moveBelow(T,r)}var u=S||r||T;if(i&&this.addBackground(i),n){var h=void 0;this.orientation===0?(u||s)&&(h={right:qt(t,"space.icon",0),top:qt(t,"space.iconTop",0),bottom:qt(t,"space.iconBottom",0)}):(u||s)&&(h={bottom:qt(t,"space.icon",0),left:qt(t,"space.iconLeft",0),right:qt(t,"space.iconRight",0)}),this.add(n,{proportion:0,padding:h}),y&&(y=Cs.call(this,n,n,1))}if(u){var a=new $t(e,{orientation:1}),l;if(S||r){if(l=new $t(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var h={left:qt(t,"space.name",0)};l.add(S,{padding:h})}if(r){r.text===""&&r.setText(" "),r.setOrigin(1,r.originY),l.addSpace();var h={right:qt(t,"space.value",0)};l.add(r,{padding:h}),this.setValueTextFormatCallback(qt(t,"valueTextFormatCallback",DW),qt(t,"valueTextFormatCallbackScope",void 0))}a.add(l,{expand:!0})}if(T)if(m){var c=l?qt(t,"space.bar"):0;c===void 0&&(c=qt(t,"space.barTop",0));var h={top:c,bottom:qt(t,"space.barBottom",0),left:qt(t,"space.barLeft",0),right:qt(t,"space.barRight",0)};a.add(T,{expand:!0,padding:h})}else{var h={top:qt(t,"space.barTop",0),bottom:qt(t,"space.barBottom",0),left:qt(t,"space.barLeft",0),right:qt(t,"space.barRight",0)};this.addBackground(T,h)}var h=void 0;s&&(h={right:qt(t,"space.text",0)});var d=qt(t,"align.text","bottom");this.add(a,{proportion:1,align:d,padding:h})}if(s){var h;this.orientation===0?h={top:qt(t,"space.actionTop",0),bottom:qt(t,"space.actionBottom",0)}:h={left:qt(t,"space.actionLeft",0),right:qt(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:h}),o&&(o=Cs.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",y),this.addChildrenMap("name",S),this.addChildrenMap("value",r),this.addChildrenMap("bar",T),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",o)},DW=function(e,t,i){return e.toString()};const IW=Phaser.Math.Clamp,BW={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var n;return this.valueTextFormatCallbackScope?n=this.valueTextFormatCallback(e,t,i):n=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),n},updateValueText(e,t,i){var n=this.childrenMap.value;return n&&this.valueTextFormatCallback&&(n.setText(this.getFormatValueText(e,t,i)),n.layout&&n.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=IW(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new xs(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class Md extends $t{constructor(t,i){super(t,i),this.type="rexNameValueLabel",FW.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,n){var y=this.childrenMap.bar;return y===void 0?this:(y.setValue(t,i,n),this)}easeBarValueTo(t,i,n){var y=this.childrenMap.bar;return y===void 0?this:(y.easeValueTo(t,i,n),this)}setTexture(t,i){var n=this.childrenMap.icon;if(n!==void 0)return n.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,n){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(Md.prototype,BW);mt.register("nameValueLabel",function(e){var t=new Md(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.NameValueLabel",Md);class kW extends ZS{constructor(t){super(),this.setTable(ie(t,"table")),this.setMaxLevel(ie(t,"maxLevel"));var i=ie(t,"exp",0),n=ie(t,"level",void 0);n!==void 0&&!this.checkLevel(n,i)&&(console.error(`Level ${n} and Exp ${i} are mismatch`),n=void 0),this.resetExp(i,n)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=ys(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),n=this._level,y=this._exp,S;;){var r=this.getExp(n),T=this.getExp(n+1);if(S=Math.min(T,t),this.emit("levelup",n,y,S,r,T),n===i&&S===t)break;n++,y=T}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var n=this.getExp(i+1);if(n>t||(i++,this.hasMaxLevel&&n===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,n){return i&&this.on("levelup",i,n),this.exp+=t,i&&this.off("levelup",i,n),this}setExp(t,i,n){return i&&this.on("levelup",i,n),this.exp=t,i&&this.off("levelup",i,n),this}setLevel(t,i,n){return i&&this.on("levelup",i,n),this.level=t,i&&this.off("levelup",i,n),this}}var Bv=function(e,t,i){var n=ie(i,"reverse",!1),y;if(Ts(e[0]))if(n)for(var S=e.length,r=S-1;r>=0;r--)y=Bv(e[r],t,i);else for(var r=0,S=e.length;r<S;r++)y=Bv(e[r],t,i);else y=NW(e,t,i);return y},NW=function(e,t,i){var n=ie(i,"argsConvert",void 0),y=ie(i,"argsConvertScope",void 0),S=e[0];if(Or=xu(Or,e,1),n){n===!0&&(n=lp,y=void 0);for(var r=0,T=Or.length;r<T;r++)y?Or[r]=n.call(y,Or[r],e):Or[r]=n(Or[r],e)}var s;typeof S=="string"?(s=t[S],s==null&&(s=ie(t,S,null))):s=S;var o=s.apply(t,Or);return o},Or=[];const ds=Phaser.Utils.Objects.GetValue;class VE extends ye{constructor(t,i){super(t,i);var n=ds(i,"clock",void 0);n||(n=new HS(t)),this.clock=n,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(ds(t,"clock",void 0)),this.state=ds(t,"state",0),this.commands=ds(t,"commands",[]),this.scope=ds(t,"scope",void 0),this.setTimeUnit(ds(t,"timeUnit",0)),this.setDtMode(ds(t,"dtMode",0)),this.index=ds(t,"index",0),this.nextTime=ds(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,n){this.stop();var y=ds(n,"timeUnit",void 0);y!==void 0&&this.setTimeUnit(y);var S=ds(n,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(r){var T=r[0];return!isNaN(T)}).map(function(r){var T=r[0];return typeof T=="string"&&(r[0]=parseFloat(r[0])),r}),this.dtMode===0&&t.sort(function(r,T){var s=r[0],o=T[0];return s>o?1:s<o?-1:0}),xu(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...n){var y;return Array.isArray(i)?y=i:y=[i,...n],this.commands.push([t,y]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var n=i[this.index],y=n[1];if(Ts(y)||(y=xu(GW,n,1)),Bv(y,this.scope),this.emit("runcommand",y,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=UW[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=zW[t]),this.timeUnit=t,this}}var GW=[];const zW={ms:0,s:1,sec:1},UW={abs:0,absolute:0,inc:1,increment:1};var XW=function(e,t,i,n,y){var S=(i-t)/(y-n)*this.totalEaseDuration,r=i===y?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,n,y).append(0,this.emit,"levelup.start",e,t,i,this).append(S,We).append(0,this.emit,"levelup.end",r,t,i,this),this.player.isPlaying||this.player.start()};const VW={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},S1=Phaser.Utils.Objects.GetValue;class vg extends Md{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(S1(i,"easeDuration",1e3)),this.levelCounter=new kW(S1(i,"levelCounter")),this.player=new VE(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",XW,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(vg.prototype,VW);mt.register("expBar",function(e){var t=new vg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ExpBar",vg);const Gl=$t.prototype.add,P1=$t.prototype.addSpace;var zc=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var n=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");n&&P1.call(this),Gl.call(this,e,{proportion:i,expand:!0});var y=!this.buttonsExpand&&this.buttonsAlign==="center";y&&P1.call(this),this.hasTailSpace=y}else Gl.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Gl.call(this,e,{index:S,proportion:i,expand:!0})}else Gl.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const YW={addButton(e){if(Ts(e))for(var t=e,i=0,n=t.length;i<n;i++)zc.call(this,t[i]);else zc.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)zc.call(this,e[t]);return this}},WW=$t.prototype.remove,HW=$t.prototype.clear;var Uc=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),WW.call(this,e,t),this)};const jW={remove(e,t){if(Ts(e))for(var i=e,n=0,y=i.length;n<y;n++)Uc.call(this,i[n],t);else Uc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,HW.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Uc.call(this,t[i],e);return this}};var $W=function(e,t,i){if(e){var n=this.setValueCallback,y=this.setValueCallbackScope;n&&(y?n.call(y,e,t,i):n(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},KW=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var n=e._selected;e._selected=i,$W.call(t,e,i,n)}},enumerable:!0,configurable:!0}),e.selected=!1};const JW={add(e){return this.buttons.push(e),e._click||(e._click=new ur(e,this.clickConfig),e._click.on("click",function(t,i,n,y){this.fireEvent("button.click",i,n,y)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,n,y){this.fireEvent("button.over",i,n,y)},this).on("out",function(t,i,n,y){this.fireEvent("button.out",i,n,y)},this).on("down",function(t,i,n,y){this.fireEvent("button.down",i,n,y)},this).on("up",function(t,i,n,y){this.fireEvent("button.up",i,n,y)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),KW.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},ZW=Phaser.Utils.Array.Remove,QW={remove(e){return this.buttonsType&&delete e.selected,ZW(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var qW=function(e,t,...i){if(this.buttons){var n;if(typeof t=="number"){if(n=t,t=this.buttons[n],!t)return}else if(n=this.buttons.indexOf(t),n===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,n,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,n,...i):this.eventEmitter.emit(e,t,n,...i)}};const Co=Phaser.Utils.Objects.GetValue,_W={setButtonsType(e){e===void 0&&(e={});var t=Co(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,n;switch(i=Co(e,"setValueCallback",void 0),n=Co(e,"setValueCallbackScope",void 0),i===void 0&&(i=Co(e,"setButtonStateCallback",void 0),n=Co(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=n,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(n){if(e._value!==n){e._value=n;for(var y=0,S=t.length;y<S;y++){var r=t[y];r.rexSizer.hidden||(i===void 0?r.name===n?r.selected=!0:r.selected=!1:i===y?r.selected=!0:r.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(n){i=this.buttons.indexOf(n),e.value=n.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var n=e[t];n.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(e[y.name]=y.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,n=0,y=i.length;n<y;n++){var S=i[n];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,n=t.length;i<n;i++){var y=t[i];if(!y.rexSizer.hidden&&y.name===e)return y.selected}}};var tH=function(e,t){if(e)if(Ts(e)){for(var i,n=0,y=e.length;n<y;n++)if(i=E1(e[n],t),i)return i}else{var i;for(var S in e)if(i=E1(e[S],t),i)return i}else return null},E1=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const Ad={getButton(e){var t=this.buttons,i,n=typeof e;switch(n){case"number":i=t[e];break;case"string":i=tH(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var n=0,y=i.length;n<y;n++)i[n]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,n=t.length;i<n;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,n=0,y=i.length;n<y;n++){var S=i[n];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Gr(this.getButton(e)),this},hideButton(e){return zr(this.getButton(e)),this},isButtonShown(e){return Vp(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,n=0,y=i.length;n<y;n++)t?e.call(t,i[n],n,i):e(i[n],n,i);return this}};class Rd{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var eH={fireEvent:qW};Object.assign(Rd.prototype,JW,QW,_W,Ad,eH);const pg={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},vn=Phaser.Utils.Objects.GetValue;let Qe=class extends $t{constructor(e,t){t===void 0&&(t={});var i=t.space;typeof i=="number"&&(t.space={item:i}),super(e,t),this.type="rexButtons",this.buttonGroup=new Rd({parent:this,eventEmitter:vn(t,"eventEmitter",this),groupName:vn(t,"groupName",void 0),clickConfig:vn(t,"click",void 0)}).setButtonsType(t);var n=vn(t,"background",void 0),y=vn(t,"buttons",void 0);this.buttonsExpand=vn(t,"expand",!1),this.buttonsAlign=vn(t,"align",void 0),n&&this.addBackground(n),y&&this.addButtons(y),this.addChildrenMap("background",n),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(e){!this.scene||this.ignoreDestroy||(super.destroy(e),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(e){this.buttonGroup.groupName=e}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Qe.prototype,YW,jW,Ad,pg);mt.register("buttons",function(e){var t=new Qe(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Buttons",Qe);const iH=Ps.prototype.add,sH={addButton(e,t,i){return iH.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,n=e;i<n;i++)this.addButton(e[i],void 0,t);return this}},rH=Ps.prototype.remove,nH=Ps.prototype.clear;var Xc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),rH.call(this,i,t),this):this};const aH={remove(e,t){if(Ts(e))for(var i=e,n=0,y=i.length;n<y;n++)Xc.call(this,i[n],t);else Xc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,nH.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Xc.call(this,t[i],e);return this}},Ds=Phaser.Utils.Objects.GetValue;class Ld extends Ps{constructor(t,i){i===void 0&&(i={});var n=Ds(i,"row",0),y=Ds(i,"column",i.col||0),S=Ds(i,"createCellContainerCallback"),r=Ds(i,"buttons",void 0),T=Ds(i,"expand",!0),s=T?1:0;if(S&&(i.createCellContainerCallback=void 0),r!==void 0){n=Math.max(n,r.length);for(var o=0,m=r.length;o<m;o++)y=Math.max(y,r[o].length)}i.row=n,i.column=y,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new Rd({parent:this,eventEmitter:Ds(i,"eventEmitter",this),groupName:Ds(i,"groupName",void 0),clickConfig:Ds(i,"click",void 0)}).setButtonsType(i);var f=Ds(i,"background",void 0);if(this.buttonsExpand=T,Ds(i,"space",void 0),f&&this.addBackground(f),r)for(var u,h,a=0,l=r.length;a<l;a++){u=r[a];for(var c=0,d=u.length;c<d;c++)h=u[c],h&&this.addButton(h,c,a)}else if(S)for(var v=0;v<n;v++)for(var p=0;p<y;p++){var h=S(t,p,v);h&&this.addButton(h,p,v)}this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Ld.prototype,sH,aH,Ad,pg);mt.register("gridButtons",function(e){var t=new Ld(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.GridButtons",Ld);const YE=_r.prototype.add;var zl=function(e){return YE.call(this,e),this.buttonGroup.add(e),this};const oH={addButton(e){if(Ts(e))for(var t=e,i=0,n=t.length;i<n;i++)zl.call(this,t[i]);else zl.call(this,e);return this},addButtons(e){if(Ts(e[0]))for(var t=e,i,n=0,y=t.length-1;n<=y;n++){i=t[n];for(var S=0,r=i.length;S<r;S++)zl.call(this,i[S]);n>y&&YE.addNewLine(this)}else for(var S=0,r=e.length;S<r;S++)zl.call(this,e[S]);return this}},hH=_r.prototype.remove,lH=_r.prototype.clear;var Vc=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),hH.call(this,i,t),this):this};const uH={remove(e,t){if(Ts(e))for(var i=e,n=0,y=i.length;n<y;n++)Vc.call(this,i[n],t);else Vc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,lH.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)Vc.call(this,t[i],e);return this}},ma=Phaser.Utils.Objects.GetValue;class Kr extends _r{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n,line:n}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new Rd({parent:this,eventEmitter:ma(i,"eventEmitter",this),groupName:ma(i,"groupName",void 0),clickConfig:ma(i,"click",void 0)}).setButtonsType(i);var y=ma(i,"background",void 0),S=ma(i,"buttons",void 0);this.buttonsAlign=ma(i,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Kr.prototype,oH,uH,Ad,pg);mt.register("fixWidthButtons",function(e){var t=new Kr(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.FixWidthButtons",Kr);const dH={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,n,y){return this.childrenMap.fileChooser.loadFile(e,t,i,n,y),this},loadFilePromise(e,t,i,n){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,n)}},w1=Phaser.Utils.Objects.GetValue;class gg extends cr{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var n=new gh(t);t.add.existing(n),this.addBackground(n),this.addChildrenMap("fileChooser",n),this.setAccept(w1(i,"accept","")),this.setMultiple(w1(i,"multiple",!1)),n.on("change",function(y){var S=y.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(gg.prototype,dH);mt.register("fileSelectorButton",function(e){var t=new gg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.FileSelectorButton",gg);const fH={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},cH={onCreateModalBehavior(e){e.on("button.click",function(t,i,n,y,S){var r=!1;switch(i){case"actions":r=!0;break;case"choices":e.hasAnyAction()||(r=!0);break}if(r){var T={index:n,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,dd.modal.call(this,e,t),this}};var WE={};Object.assign(WE,fH,cH);const Lt=Phaser.Utils.Objects.GetValue;class Eh extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=Lt(i,"eventEmitter",this);var n=Lt(i,"background",void 0),y=Lt(i,"title",void 0),S=Lt(i,"toolbar",void 0),r=Lt(i,"toolbarBackground",void 0),T=Lt(i,"leftToolbar",void 0),s=Lt(i,"leftToolbarBackground",void 0),o=Lt(i,"content",void 0),m=Lt(i,"description",void 0),f,u=Lt(i,"choices",void 0),h=Lt(i,"choicesBackground",void 0),a,l=Lt(i,"actions",void 0),c=Lt(i,"actionsBackground",void 0),d=Lt(i,"click",void 0);n&&this.addBackground(n);var v;S&&(v=new Qe(t,{groupName:"toolbar",background:r,buttons:S,orientation:0,space:{item:Lt(i,"space.toolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(v));var p;if(T&&(p=new Qe(t,{groupName:"leftToolbar",background:s,buttons:T,orientation:0,space:{item:Lt(i,"space.leftToolbarItem",0)},click:d,eventEmitter:this.eventEmitter}),t.add.existing(p)),y||S||T){var g=!!y&&Lt(i,"expand.title",!0),x=Lt(i,"align.title","center"),C=y&&!g&&x==="center"||!y&&(S||T),P=!C,w;P?w=new $t(t,{orientation:0}):w=new rs(t),t.add.existing(w);var E=P?!0:{height:!0};if(p&&w.add(p,{align:"left",expand:E}),y){P&&!g&&x==="right"&&w.addSpace();var b={left:Lt(i,"space.titleLeft",0),right:Lt(i,"space.titleRight",0)},O=g?1:0;w.add(y,{align:x,proportion:O,expand:E,padding:b}),P&&!g&&x==="left"&&w.addSpace()}v&&(P&&!y&&w.addSpace(),w.add(v,{align:"right",expand:E}));var b;(o||m||u||l)&&(b={bottom:Lt(i,"space.title",0),top:Lt(i,"space.titleTop",0)});var O=Lt(i,"proportion.title",0);this.add(w,{padding:b,proportion:O,expand:!0})}if(o){var M=Lt(i,"align.content","center"),A=Lt(i,"space.content",0),b={left:Lt(i,"space.contentLeft",0),right:Lt(i,"space.contentRight",0),bottom:m||u||l?A:0},O=Lt(i,"proportion.content",0),F=Lt(i,"expand.content",!0);this.add(o,{align:M,padding:b,proportion:O,expand:F})}if(m){var M=Lt(i,"align.description","center"),R=Lt(i,"space.description",0),b={left:Lt(i,"space.descriptionLeft",0),right:Lt(i,"space.descriptionRight",0),bottom:u||l?R:0},O=Lt(i,"proportion.description",0),F=Lt(i,"expand.description",!0);this.add(m,{align:M,padding:b,proportion:O,expand:F})}if(u){var L=Lt(i,"choicesType","").split("-"),D=So(L,"wrap")?Kr:So(L,"grid")?Ld:Qe,I=So(L,"radio")?"radio":So(L,"checkboxes")?"checkboxes":void 0,z={left:Lt(i,"space.choicesBackgroundLeft",0),right:Lt(i,"space.choicesBackgroundRight",0),top:Lt(i,"space.choicesBackgroundTop",0),bottom:Lt(i,"space.choicesBackgroundBottom",0)},U=Lt(i,"space.choice",0);D===Qe?z.item=U:D===Kr?(z.item=U,z.line=Lt(i,"space.choiceLine",U)):(z.column=Lt(i,"space.choiceColumn",U),z.row=Lt(i,"space.choiceRow",U));var H={width:Lt(i,"choicesWidth",void 0),height:Lt(i,"choicesHeight",void 0),groupName:"choices",buttonsType:I,background:h,buttons:u,space:z,click:d,eventEmitter:this.eventEmitter,setValueCallback:Lt(i,"choicesSetValueCallback",void 0),setValueCallbackScope:Lt(i,"choicesSetValueCallbackScope",void 0)};D===Qe&&(H.orientation=So(L,"x")?0:1),f=new D(t,H),t.add.existing(f);var W=Lt(i,"space.choices",0),b={left:Lt(i,"space.choicesLeft",0),right:Lt(i,"space.choicesRight",0),bottom:l?W:0},M=Lt(i,"align.choices","center"),O=Lt(i,"proportion.choices",0),F=Lt(i,"expand.choices",!0);this.add(f,{align:M,padding:b,proportion:O,expand:F}),this.buttonsType=I}if(l){a=new Qe(t,{groupName:"actions",background:c,buttons:l,orientation:0,space:{item:Lt(i,"space.action",0)},expand:Lt(i,"expand.actions",!1),align:Lt(i,"align.actions","center"),click:d,eventEmitter:this.eventEmitter}),t.add.existing(a);var b={left:Lt(i,"space.actionsLeft",0),right:Lt(i,"space.actionsRight",0),bottom:Lt(i,"space.actionsBottom",0)},O=Lt(i,"proportion.action",0);this.add(a,{align:"center",padding:b,proportion:O,expand:!0})}Po(this,"click"),Po(this,"over"),Po(this,"out"),Po(this,"enable"),Po(this,"disable"),this.addChildrenMap("background",n),this.addChildrenMap("title",y),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",o),this.addChildrenMap("description",m),this.addChildrenMap("choices",f?f.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",f),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",p)}}var So=function(e,t){return e.indexOf(t)!==-1},b1={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Po=function(e,t){e.on(`button.${t}`,function(i,n,y,S,r){b1.hasOwnProperty(n)&&e.emit(`${b1[n]}.${t}`,i,y,S,r)})};Object.assign(Eh.prototype,WE);mt.register("dialog",function(e){var t=new Eh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Dialog",Eh);var qe=function(e,t,i){var n=new Ph(e,t,i);return e.add.existing(n),n},vH=function(e){return e===void 0&&(e={}),pH.call(this,e),gH.call(this,e),mH.call(this,e),xH.call(this,e),this},pH=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},gH=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},mH=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var n=this.scene,y=this.defaultActionConfig,S=this.defaultActionButtonCreator,r=0,T=i.length;r<T;r++){var s=i[r],o=t[r];o||(o=qe(n,y,S),this.addAction(o)),o.show().resetDisplayContent(s)}this.buttonMode=i.length;for(var r=i.length,T=t.length;r<T;r++)t[r].hide()}else{var m=t[0];m&&(e.buttonA===null?m.hide():(m.show(),m.resetDisplayContent(e.buttonA)));var f=t[1];f&&(e.buttonB===null?f.hide():(f.show(),f.resetDisplayContent(e.buttonB)))}}},xH=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var n=this.scene,y=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,r=0,T=i.length;r<T;r++){var s=i[r];typeof s=="string"&&(s={text:s});var o=t[r];o||(o=qe(n,y,S),this.addChoice(o)),o.show().resetDisplayContent(s);var m;s.hasOwnProperty("value")?m=s.value:m=s.text,o.setName(m)}for(var r=i.length,T=t.length;r<T;r++)t[r].hide()}};const yH=Phaser.Utils.Objects.Merge;var TH=function(e,t){ys(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=yH(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var n=this,y=function(S){var r=S.index;r===n.confirmButtonIndex?n.emit("confirm",S):r===n.cancelButtonIndex&&n.emit("cancel",S),t&&t(S)};return dd.modal.call(this,e,y),this};const CH={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var HE={resetDisplayContent:vH,modal:TH};Object.assign(HE,CH);var SH=function(e){e.setHoverState&&e.setHoverState(!0)},PH=function(e){e.setHoverState&&e.setHoverState(!1)},EH=function(e,t,i,n){e.setActiveState&&e.setActiveState(n)},wH=function(e){e.setDisableState&&e.setDisableState(!1)},bH=function(e){e.setDisableState&&e.setDisableState(!0)},jE=function(){this.on("button.over",SH).on("button.out",PH).on("button.enable",wH).on("button.disable",bH).on("button.statechange",EH)};const OH=Phaser.Utils.Objects.GetValue;var MH=function(e,t,i){var n=OH(t,"$type");n===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(n="textarea");var y;switch(n){case"textarea":y=new zE(e,t,i);break;default:y=new qe(e,t,i);break}return e.add.existing(y),y};const Yc=Phaser.Utils.Objects.GetValue;class Fd extends Eh{constructor(t,i,n){i=i?_e(i):{},n===void 0&&(n={});var y=Yc(n,"background",He);i.background=y(t,i.background),i.title=qe(t,i.title,n.title),i.content=MH(t,i.content,n.content),i.content instanceof Sh&&tr(i,"height")&&!tr(i,"proportion.content")&&pt(i,"proportion.content",1);var S=i.button,r=i.buttonA||S,T=i.buttonB||S,s=i.buttonMode;s===void 0&&(s=r&&T?2:r?1:0);var o=n.button,m=n.buttonA||o,f=n.buttonB||o;switch(s){case 2:i.actions=[qe(t,r,m),qe(t,T,f)];break;case 1:i.actions=[qe(t,r,m)];break;case 0:break;default:i.actions=[];break}var u=i.choice;u&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=S,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=u,this.defaultChoiceCreator=n.choice;var h=this.childrenMap.actions;this.addChildrenMap("buttonA",h?h[0]:null),this.addChildrenMap("buttonB",h?h[1]:null),jE.call(this),this.setConfirmButtonIndex(Yc(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(Yc(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(Fd.prototype,HE);mt.register("confirmDialog",function(e,t){var i=new Fd(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.ConfirmDialog",Fd);const O1=Phaser.Utils.Objects.GetValue;var $E=function(e,t){var i=t.dialog,n=!i;if(n){var y=t.style;y.buttonMode=2,i=new Fd(e,y,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(O1(t,"confirmButtonIndex",0)).setCancelButtonIndex(O1(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),n&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=n);var r=t.confirm,T=t.cancel,s=t.confirmScope,o=t.cancelScope;r&&i.once("confirm",r,s),T&&i.once("cancel",T,o);var m=function(f){i.off("confirm",r,s),i.off("cancel",T,o)};return i.modal(S,m),i};class KE extends cr{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=ms(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=$E(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}mt.register("confirmActionButton",function(e){var t=new KE(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ConfirmActionButton",KE);var AH=function(e){return e===void 0&&(e={}),RH.call(this,e),LH.call(this,e),FH.call(this,e),this},RH=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},LH=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var n=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(n);else{this.show(n);var y=e.firstName||"";n.setText(y)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var r=e.lastNameTitle||"";S.resetDisplayContent(r)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var s=e.lastName||"";T.setText(s)}},FH=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const DH=Phaser.Utils.Objects.Merge;var IH=function(e,t){ys(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=DH(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,n=function(y){y.firstName=i.firstName,y.lastName=i.lastName,i.emit("confirm",y),t&&t(y)};return dd.modal.call(this,e,n),this},BH={resetDisplayContent:AH,modal:IH},Jr=function(e,t,i){i===void 0&&(i=!0),i?t=t?_e(t):{}:t||(t={});var n=new nh(e,t);return e.add.existing(n),n};const Ji=Phaser.Utils.Objects.GetValue;var kH=function(e,t,i){var n=zn(Ji(t,"layoutMode",0)),y=n===0,S=new $t(e,{orientation:n,space:{item:Ji(t,"space.firstName",0)}});e.add.existing(S);var r=new $t(e,{orientation:"x"});e.add.existing(r);var T=Ji(t,"firstNameTitle",t.nameTitle),s=qe(e,T,i.firstNameTitle||i.nameTitle);r.add(s,{expand:!0,proportion:Ji(t,"proportion.firstNameTitle",0),padding:{right:Ji(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},m=Ji(t,"firstNameInput",o),f=Jr(e,m,i.firstNameInput||i.nameInput),u=!m.hasOwnProperty("width");r.add(f,{expand:!0,proportion:u?1:0});var h=new $t(e,{orientation:"x"});e.add.existing(h);var a=Ji(t,"lastNameTitle",t.nameTitle),l=qe(e,a,i.lastNameTitle||i.nameTitle);h.add(l,{expand:!0,proportion:Ji(t,"proportion.lastNameTitle",0),padding:{right:Ji(t,"space.lastNameTitle",0)}});var c=Ji(t,"firstNameInput",o),d=Jr(e,c,i.lastNameInput||i.nameInput),v=!c.hasOwnProperty("width");if(h.add(d,{expand:!0,proportion:v?1:0}),y){var p=u?1:0,g=Ji(t,"proportion.firstName",p);S.add(r,{expand:!0,proportion:g});var x=v?1:0,C=Ji(t,"proportion.lastName",x);S.add(h,{expand:!0,proportion:C})}else S.add(r,{expand:u,proportion:0}),S.add(h,{expand:v,proportion:0});return S.addChildrenMap("firstNameTitle",s),S.addChildrenMap("firstNameInput",f),S.addChildrenMap("lastNameTitle",l),S.addChildrenMap("lastNameInput",d),S};const NH=Phaser.Utils.Objects.GetValue;class mg extends Eh{constructor(t,i,n){i===void 0&&(i={}),n===void 0&&(n={}),i.orientation="y";var y=i.space;y&&(y.hasOwnProperty("names")&&(y.content=y.names),y.hasOwnProperty("namesLeft")&&(y.contentLeft=y.namesLeft),y.hasOwnProperty("namesRight")&&(y.contentRight=y.namesRight));var S=NH(n,"background",He);i.background=S(t,i.background),i.title=qe(t,i.title,n.title),i.content=kH(t,i,n),i.actions=[qe(t,i.button,n.button)],super(t,i),this.type="rexNameInputDialog";var r=i.content.childrenMap;this.addChildrenMap("firstNameTitle",r.firstNameTitle),this.addChildrenMap("firstNameInput",r.firstNameInput),this.addChildrenMap("lastNameTitle",r.lastNameTitle),this.addChildrenMap("lastNameInput",r.lastNameInput),this.addChildrenMap("button",i.actions[0]),jE.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(mg.prototype,BH);mt.register("nameInputDialog",function(e,t){var i=new mg(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.NameInputDialog",mg);var Sn=function(e,t){if(e){var i=Ui(e);i&&i.remove(e,t)}};const Ul=Phaser.Utils.Objects.GetValue;var wh=function(e,t,i){var n=Ul(e,`proportion.${t}`,i.proportion),y=Ul(e,`align.${t}`,"center"),S=Ul(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var r=S;S={},S[i.paddingKey]=r}var T=Ul(e,`expand.${t}`,!0);return{proportion:n,align:y,padding:S,expand:T}},Dd=function(e){return wh(e,"header",{proportion:0,paddingKey:"bottom"})},Id=function(e){return wh(e,"leftSide",{proportion:0,paddingKey:"right"})},Bd=function(e){return wh(e,"content",{proportion:1})},kd=function(e){return wh(e,"rightSide",{proportion:0,paddingKey:"left"})},Nd=function(e){return wh(e,"footer",{proportion:0,paddingKey:"top"})},sr=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},rr=function(e,t){var i=new $t(e,{orientation:t});return e.add.existing(i),i},GH=function(e){var t=this.scene,i=e.header;i&&this.add(i,Dd(e));var n=rr(t,0);this.add(n,sr());var y=e.leftSide;y&&n.add(y,Id(e));var S=e.content;S&&n.add(S,Bd(e));var r=e.rightSide;r&&n.add(r,kd(e));var T=e.footer;T&&this.add(T,Nd(e))},zH=function(e){var t=this.scene,i=e.header;i&&this.add(i,Dd(e));var n=rr(t,0);this.add(n,sr());var y=e.leftSide;y&&n.add(y,Id(e));var S=rr(t,1);n.add(S,sr());var r=rr(t,0);S.add(r,sr());var T=e.content;T&&r.add(T,Bd(e));var s=e.rightSide;s&&r.add(s,kd(e));var o=e.footer;o&&S.add(o,Nd(e))},UH=function(e){var t=this.scene,i=e.header;i&&this.add(i,Dd(e));var n=rr(t,0);this.add(n,sr());var y=rr(t,1);n.add(y,sr());var S=rr(t,0);y.add(S,sr());var r=e.leftSide;r&&S.add(r,Id(e));var T=e.content;T&&S.add(T,Bd(e));var s=e.footer;s&&y.add(s,Nd(e));var o=e.rightSide;o&&n.add(o,kd(e))},XH=function(e){var t=this.scene,i=e.header;i&&this.add(i,Dd(e));var n=rr(t,0);this.add(n,sr());var y=e.leftSide;y&&n.add(y,Id(e));var S=rr(t,1);n.add(S,sr());var r=e.content;r&&S.add(r,Bd(e));var T=e.footer;T&&S.add(T,Nd(e));var s=e.rightSide;s&&n.add(s,kd(e))};const VH=Phaser.Utils.Objects.GetValue,M1=[GH,zH,UH,XH];var YH=function(e){e===void 0&&(e={});var t=e.background,i=e.header,n=e.leftSide,y=e.content,S=e.rightSide,r=e.footer;Sn(t),Sn(i),Sn(n),Sn(y),Sn(S),Sn(r),this.clear(!0),t&&this.addBackground(t);var T=VH(e,"layoutMode",0);typeof T=="string"&&(T=WH[T.toUpperCase()]);var s=M1[T]||M1[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",n),this.addChildrenMap("content",y),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",r),this};const WH={FFF:0,LFF:1,FFR:2,LFR:3};class xg extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var HH={build:YH};Object.assign(xg.prototype,HH);mt.register("holyGrail",function(e){var t=new xg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.HolyGrail",xg);const jH={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Gr(this.getButton(e,t)),this},showLeftButton(e){return Gr(this.getLeftButton(e)),this},showRightButton(e){return Gr(this.getRightButton(e)),this},showTopButton(e){return Gr(this.getTopButton(e)),this},showBottomButton(e){return Gr(this.getBottomButton(e)),this},hideButton(e,t){return zr(this.getButton(e,t)),this},hideLeftButton(e){return zr(this.getLeftButton(e)),this},hideRightButton(e){return zr(this.getRightButton(e)),this},hideTopButton(e){return zr(this.getTopButton(e)),this},hideBottomButton(e){return zr(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},ne=Phaser.Utils.Objects.GetValue;class yg extends Ps{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=ne(i,"expand.panel",!1);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=ne(i,"eventEmitter",this);var y=ne(i,"background",void 0),S=ne(i,"panel",void 0),r=ne(i,"leftButtons",void 0),T=ne(i,"leftButtonsBackground",void 0),s,o=ne(i,"rightButtons",void 0),m=ne(i,"rightButtonsBackground",void 0),f,u=ne(i,"topButtons",void 0),h=ne(i,"topButtonsBackground",void 0),a,l=ne(i,"bottomButtons",void 0),c=ne(i,"bottomButtonsBackground",void 0),d,v=ne(i,"click",void 0);if(y&&this.addBackground(y),S&&this.add(S,{column:1,row:1,expand:n}),r){var p=ne(i,"space.leftButtonsOffset",0),g=ne(i,"space.leftButton",0),x=ne(i,"expand.leftButtons",!1),C=ne(i,"align.leftButtons","top");s=new Qe(t,{groupName:"left",background:T,buttons:r,orientation:"y",space:{item:g},expand:x,click:v,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:C,padding:{top:p},expand:x})}if(o){var P=ne(i,"space.rightButtonsOffset",0),w=ne(i,"space.rightButton",0),E=ne(i,"expand.rightButtons",!1),b=ne(i,"align.rightButtons","top");f=new Qe(t,{groupName:"right",background:m,buttons:o,orientation:"y",space:{item:w},expand:E,click:v,eventEmitter:this.eventEmitter}),this.add(f,{column:2,row:1,align:b,padding:{top:P},expand:E})}if(u){var O=ne(i,"space.topButtonsOffset",0),M=ne(i,"space.topButton",0),A=ne(i,"expand.topButtons",!1),F=ne(i,"align.topButtons","left");a=new Qe(t,{groupName:"top",background:h,buttons:u,orientation:"x",space:{item:M},expand:A,align:ne(i,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:F,padding:{left:O},expand:A})}if(l){var R=ne(i,"space.bottomButtonsOffset",0),L=ne(i,"space.bottomButton",0),D=ne(i,"expand.bottomButtons",!1),I=ne(i,"align.bottomButtons","left");d=new Qe(t,{groupName:"bottom",background:c,buttons:l,orientation:"x",space:{item:L},expand:D,align:ne(i,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(d,{column:1,row:2,align:I,padding:{left:R},expand:D})}this.addChildrenMap("background",y),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",r),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",u),this.addChildrenMap("bottomButtons",l),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",f),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",d)}}Object.assign(yg.prototype,jH);mt.register("tabs",function(e){var t=new yg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Tabs",yg);mt.register("slider",function(e){var t=new ja(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Slider",ja);class JE{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Wa[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var n=this._deltaHeight!==t;if(this._deltaHeight=t,n){i.resetTotalRowsHeight();var y=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(y,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(JE.prototype,ju);const A1=Phaser.Utils.Objects.GetValue,$H=Phaser.Utils.Array.SpliceOne;class KH{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new zs,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var n=t.cellWidth;return n===void 0&&(n=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(n),this.initCells(A1(t,"cellsCount",0)),this.setColumnCount(A1(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var n=0;n<t;n++)i[n]=null;return this}insertNewCells(t,i){var n=this.cells;if(t===n.length){var y=t+i;n.legth=y;for(var S=t;S<y;S++)n[S]=null}else{var r=[];r.length=i;for(var S=0;S<i;S++)r[S]=null;this.cells.splice(t,0,...r)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var n=t+i,y=t;y<n;y++)this.freeCell(y);return n===this.cells.length?this.cells.length=t:(i===1?$H(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var n=i.scrollMode===0?i.width:i.height,y=n/t;this.setDefaultCellWidth(y)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var n=t/this.defaultCellHeight;switch(i){case 1:n=Math.ceil(n);break;default:n=Math.floor(n);break}return n}for(var y=this.rowCount,S=t,r,T,n=0;;)if(T=this.getRowHeight(n),S-=T,r=n>=0&&n<y,S>0&&r)n+=1;else{if(S===0)return i===2&&(n+=1),n;if(i===1){var s=n;n+=1,r=n>=0&&n<y,r||(n=s)}return n}}widthToColIndex(t,i){if(t===0)return 0;var n=t/this.defaultCellWidth;return i?n=Math.ceil(n):n=Math.floor(n),n}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var n,y=0,S=t;S<=i;S++)n=this.getRowHeight(S),y+=n;return y}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n=0,y,S=0;S<i;S++)y=this.getCellHeight(this.colRowToCellIndex(S,t)),n<y&&(n=y);return n}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var n=this.getCell(t,!1),y=n?n.deltaHeight:0;i=this.defaultCellHeight+y}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new JE(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,n,y=t,S=i.length;y<S;y++)n=i[y],n&&(n.index=y);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var JH=function(e){var t=this.table,i=this.topTableOY,n=this.bottomTableOY,y=e>i,S=e<n;if(this.clampTableOXY){var r=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);r<T?e=0:y?e=i:S&&(e=n)}return this._tableOY!==e&&(this._tableOY=e),y&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,n)),this.execeedBottomState=S,this},ZH=function(e){var t=this.table,i=this.leftTableOX,n=this.rightTableOX,y=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var r=t.colCount,T=t.widthToColIndex(this.instWidth,!0);r<T?e=0:y?e=i:S&&(e=n)}return this._tableOX!==e&&(this._tableOX=e),y&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,e,n)),this.execeedRightState=S,this},Tg=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const QH=Phaser.Geom.Intersects.RectangleToRectangle,qH=Phaser.Geom.Rectangle.Overlaps;var _H=function({parent:e,mask:t,children:i,onVisible:n,onInvisible:y,scope:S}){if(t){i===void 0&&(i=e.getAllChildren());for(var r=!!n||!!y,T=e.getBounds(),s=Tg(t),o,m,f,u,h=0,a=i.length;h<a;h++)if(o=i[h],o!==s&&tj(o)){if(u=o.visible,o.getBounds)switch(m=o.getBounds(m),f=ej(T,m),f){case 4:ij(e,o);break;case 0:QH(T,m)||qH(T,m)?Wc(e,o,t):sj(e,o);break;default:Wc(e,o,t);break}else Wc(e,o,t);if(r&&o.visible!==u){var l=o.visible?n:y;l&&(S?l.call(S,o,e):l(o,e))}}}},tj=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},ej=function(e,t){var i=t.top,n=t.bottom,y=t.left,S=t.right,r=0;return r+=e.contains(y,i)?1:0,r+=e.contains(y,n)?1:0,r+=e.contains(S,i)?1:0,r+=e.contains(S,n)?1:0,r},ij=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},Wc=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},sj=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const xa=Phaser.Utils.Objects.GetValue,rj={update:0,everyTick:1},ZE={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(xa(e,"updateMode",0)),this.enableChildrenMask(xa(e,"padding",0)),this.setMaskLayer(xa(e,"layer",void 0)),this.onMaskGameObjectVisible=xa(e,"onVisible"),this.onMaskGameObjectInvisible=xa(e,"onInvisible"),this.maskGameObjectCallbackScope=xa(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=rj[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Cs.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):_H({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=Tg(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var nj=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var n=this.table,y=this.tableOYOffset,S=this.tableOY+y,r=this.tableOX;this.startRowIndex=Math.max(n.heightToRowIndex(-S,2),0);for(var T=this.startRowIndex,s=Math.max(n.widthToColIndex(-r),0),o=s,m=n.colRowToCellIndex(o,T),f=this.bottomBound,u=this.rightBound,h=n.cellsCount-1,a=n.colCount-1,l=this.getCellTLX(o),c=l,d=this.getCellTLY(T)+y,v=d;v<f&&m<=h;){if(this.table.isValidCellIdx(m)){var p=n.getCell(m,!0);this.visibleCells.set(p),this.preVisibleCells.contains(p)||this.showCell(p);var g,x;if(this.scrollMode===0?(g=c,x=v):(g=v,x=c),p.cellContainerAlign==null)p.setXY(g,x);else{var C=p.getContainer();lh(C,g,x,p.width,p.height,p.cellContainerAlign),p.setXY(C.x,C.y)}}c<u&&o<a?(c+=n.getColWidth(o),o+=1):(c=l,v+=n.getRowHeight(T),o=s,T+=1),m=n.colRowToCellIndex(o,T)}i||this.setScale(e,t)}},QE=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},aj=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},oj=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},hj=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},qE=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},lj=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(R1.call(this),this.hideCells()),R1.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},R1=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},uj=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},_E=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),n=this.tableOX-(this.scrollMode===0?e:t),y=this.table,S=y.heightToRowIndex(-i,0),r=y.widthToColIndex(-n),T=y.colRowToCellIndex(r,S);return T===null||!this.isCellVisible(T)?null:T},dj=function(e,t){var i=_E.call(this,e,t);if(i!==null)return this.getCellContainer(i)},fj=function(e,t){return this.visibleCells.each(e,t),this},cj=function(e,t){return this.visibleCells.iterate(e,t),this},vj=function(e,t){return this.table.cells.slice().forEach(e,t),this},pj=function(e,t){return this.table.cells.forEach(e,t),this},gj=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const mj=Phaser.Math.Clamp;var xj=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=mj(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},yj=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,n=e,y=e+t;n<y;n++)i=this.getCell(n,!1),i&&(this.visibleCells.contains(i)&&(qE.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},Tj=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},Cj=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},Sj=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(QE.call(this,t),this)},t2={setTableOY:JH,setTableOX:ZH,showCells:nj,showCell:QE,getCellTLX:aj,getCellTLY:oj,hideCells:hj,hideCell:qE,updateTable:lj,isCellVisible:uj,pointToCellIndex:_E,pointToCellContainer:dj,eachVisibleCell:fj,iterateVisibleCell:cj,eachCell:vj,iterateCell:pj,setCellsCount:gj,insertNewCells:xj,removeCells:yj,setColumnCount:Tj,setGridSize:Cj,updateVisibleCell:Sj};Object.assign(t2,ZE);const Pj=Phaser.GameObjects.Group,L1=Phaser.Structs.Set,Zi=Phaser.Utils.Objects.GetValue;let e2=class extends Xi{constructor(e,t,i,n,y,S){S===void 0&&(S={}),super(e,t,i,n,y),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new L1,this.preVisibleCells=new L1,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var r=Zi(S,"reuseCellContainer",!1);r&&(this.cellContainersPool=new Pj(e));var T=Zi(S,"cellVisibleCallback",null);if(T!==null){var s=Zi(S,"cellVisibleCallbackScope",void 0);this.on("cellvisible",T,s)}if(T=Zi(S,"cellInvisibleCallback",null),T!==null){var s=Zi(S,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",T,s)}Zi(S,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(Zi(S,"mask",void 0)),this.setScrollMode(Zi(S,"scrollMode",0)),this.setClampMode(Zi(S,"clampTableOXY",!0)),this.setStartFromBottomEnable(Zi(S,"startFromBottom",!1));var o,m,f,u=this.scrollMode===0;if(u?(o=S.cellWidth,m=S.cellHeight,f=S.columns):(o=S.cellHeight,m=S.cellWidth,f=Zi(S,"rows",S.columns)),this.fixedCellSize=Zi(S,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&o===void 0,f||(f=1),this.fixedCellSize)f=Math.max(Math.floor(this.instWidth/o),1);else if(this.expandCellSize){var n=u?this.width:this.height;o=n/f}S.cellWidth=o,S.cellHeight=m,S.columns=f,this.table=new KH(this,S),this.updateTable()}destroy(e){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(e),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(e))}setScrollMode(e){return typeof e=="string"&&(e=Ej[e.toLowerCase()]),this.scrollMode=e,this}setClampMode(e){return e===void 0&&(e=!0),this.clampTableOXY=e,this}setStartFromBottomEnable(e){return e===void 0&&(e=!0),this.startFromBottomEnable=e,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(e){this.setTableOY(e).updateTable()}set tableOX(e){this.setTableOX(e).updateTable()}setTableOXY(e,t){return this.setTableOY(t).setTableOX(e),this}addTableOY(e){return this.setTableOY(this.tableOY+e),this}addTableOX(e){return this.setTableOX(this.tableOX+e),this}addTableOXY(e,t){return this.addTableOY(t).addTableOX(e),this}setTableOYByPercentage(e){return this.setTableOY(-this.tableVisibleHeight*e),this}getTableOYPercentage(){var e=this.tableVisibleHeight;return e===0?0:this.tableOY/-e}setTableOXByPercentage(e){return this.setTableOX(-this.tableVisibleWidth*e),this}getTableOXPercentage(){var e=this.tableVisibleWidth;return e===0?0:this.tableOX/-e}set t(e){this.setTableOYByPercentage(e).updateTable()}get t(){return this.getTableOYPercentage()}set s(e){this.setTableOXByPercentage(e).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(e){this.scrollToBottom();var t=this.table.rowIndexToHeight(0,e-1);return this.setTableOY(-t).updateTable(),this}scrollToNextRow(e){return e===void 0&&(e=1),this.scrollToRow(this.startRowIndex+e),this}getCell(e){return this.table.getCell(e,!0)}getCellContainer(e){var t=this.table.getCell(e,!1),i;return t&&(i=t.getContainer()),i}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(e,t){var i;return typeof e=="number"?i=this.table.getCell(e,!0):i=e,i.height=t,this}setCellWidth(e,t){var i;return typeof e=="number"?i=this.table.getCell(e,!0):i=e,i.width=t,this}resetAllCellsSize(e,t){if(this.scrollMode===1){var i=e;e=t,t=i}this.table.setDefaultCellHeight(t).setDefaultCellWidth(e);for(var n=this.table.cells,y=0,S=n.length;y<S;y++){var r=n[y];r&&(r.deltaHeight=0)}if(this.fixedCellSize){var T=Math.floor(this.instWidth/e);this.table.setColumnCount(T)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var e=this.tableHeight-this.instHeight;if(e<0)return-e}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var e=this.tableHeight-this.instHeight;return e<0&&(e=0),e}get tableVisibleWidth(){var e=this.tableWidth-this.instWidth;return e<0&&(e=0),e}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(e,t){if(this.width===e&&this.height===t)return this;if(super.resize(e,t),this.fixedCellSize){var i=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(i)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(e2.prototype,t2);const Ej={v:0,vertical:0,h:1,horizontal:1};var wj=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},bj=function(e){e.on("cellvisible",function(t,r,n){var y=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var r;S?r=y.call(S,t,r,n):r=y(t,r,n),r&&(t.cellContainerAlign==null&&r.setOrigin&&r.setOrigin(0),r.isRexSizer&&r.layout()),t.item=void 0,t.items=void 0,t.setContainer(r)},this)},Ys=function(e,t,i,n,y,S,r){var T;if(y===void 0)T=n;else{var s=S.camera,o=n+s.scrollX*(i.scrollFactorX-1),m=y+s.scrollY*(i.scrollFactorY-1);T=i.pointToCellIndex(o,m)}if(T!=null){var f=i.getCellContainer(T);f&&e.emit(t,f,T,S,r)}},Oj=function(e,t){e.on("pointerdown",function(i,n,y,S){Ys(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,n,y,S){Ys(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},Mj=function(e,t){e.on("pointermove",F1,this).on("pointerover",F1,this).on("pointerout",Aj,this)},F1=function(e,t,i,n){var y=this.childrenMap.child,S=e.camera,r=e.worldX+S.scrollX*(y.scrollFactorX-1),T=e.worldY+S.scrollY*(y.scrollFactorY-1),s=y.pointToCellIndex(r,T);if(s!==y.input.lastOverCellIndex){var o=y.input.lastOverCellIndex;y.input.lastOverCellIndex=s,Ys(this.eventEmitter,"cell.out",y,o,void 0,e,n),Ys(this.eventEmitter,"cell.over",y,s,void 0,e,n)}},Aj=function(e,t){var i=this.childrenMap.child,n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Ys(this.eventEmitter,"cell.out",i,n,void 0,e,t)};const Rj=Phaser.Utils.Objects.GetValue;var Lj=function(e,t){var i=Rj(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new ur(e,i),e._click.on("click",function(n,y,S,r){Ys(this.eventEmitter,"cell.click",y,S.worldX,S.worldY,S,r)},this))};const Fj=Phaser.Utils.Objects.GetValue;var Dj=function(e,t){var i=Fj(t,"tap",void 0);i!==!1&&(e._tap=new cd(e,i),e._tap.on("tap",function(n,y,S){var r=`cell.${n.tapsCount}tap`;Ys(this.eventEmitter,r,n.gameObject,n.worldX,n.worldY,S)},this))};const Ij=Phaser.Utils.Objects.GetValue;var Bj=function(e,t){var i=Ij(t,"press",void 0);i!==!1&&(e._press=new vd(e,i),e._press.on("pressstart",function(n,y,S){Ys(this.eventEmitter,"cell.pressstart",e,n.worldX,n.worldY,S)},this).on("pressend",function(n,y,S){Ys(this.eventEmitter,"cell.pressend",e,n.worldX,n.worldY,S)},this))};const kj=Phaser.Utils.Objects.GetValue;var Nj=function(e,t){var i=kj(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new ph(e,i),e._swipe.on("swipe",function(n,y,S){var r=n.left?"left":n.right?"right":n.up?"up":"down";Ys(this.eventEmitter,`cell.swipe${r}`,e,n.worldX,n.worldY,S)},this))},Gj=function(e,t){e.setInteractive(),Oj.call(this,e,t),Mj.call(this,e,t),Lj.call(this,e,t),Dj.call(this,e,t),Bj.call(this,e,t),Nj.call(this,e,t)},zj=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const Uj={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},fs=Phaser.Utils.Objects.GetValue;class Cg extends Ch{constructor(t,i){i===void 0&&(i={});var n=ug(i),y=fs(i,"table",void 0);y===void 0&&(y={}),y.scrollMode=n===2?0:n,y.clampTableOXY=fs(i,"clampChildOY",!1);var S=fs(y,"width",void 0),r=fs(y,"height",void 0),T=new e2(t,0,0,S,r,y);t.add.existing(T);var s,o;y.scrollMode===0?(s=S===void 0,o=r===void 0):(s=r===void 0,o=S===void 0),wj(T),T._minWidth=S===void 0?0:void 0,T._minHeight=r===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:T,expandWidth:s,expandHeight:o};var m=fs(i,"space",void 0);m&&(m.child=fs(m,"table",0)),super(t,i),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=fs(i,"eventEmitter",this);var f=fs(i,"createCellContainerCallback",We),u=fs(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(f,u),bj.call(this,T),this.resizeControllerFlag=!1;var h=n===0?"cellheightchange":"cellwidthchange";T.on(h,function(){this.resizeControllerFlag=!0},this),fs(y,"interactive",!0)&&Gj.call(this,T,y),this.setItems(fs(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var n=this.childrenMap.child;return n.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var Xj={setItems:zj};Object.assign(Cg.prototype,Uj,Xj);mt.register("gridTable",function(e){var t=new Cg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.GridTable",Cg);var Sg=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},Vj=function(e,t){e.popUp(Sg(e.root.easeIn,e))},Yj=function(e,t){e.scaleDown(Sg(e.root.easeOut,e))};const Wj={setTransitInCallback(e){return e===void 0&&(e=Vj),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=Yj),this.transitOutCallback=e,this}};var Hj=function(e,t,i,n,y){var S=Va(e),r=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(n,y)})});return r};const jj={delayCall(e,t,i){return this.timer=Hj(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var $j=function(e,t){var n=this.childrenMap.subMenu;if(n&&n.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var n=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(n),this.childrenMap.subMenu=n,this.root.emit("expand",n,e,this),this},Kj=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},Jj=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},i2={expandSubMenu:$j,collapse:Kj,collapseSubMenu:Jj};Object.assign(i2,Wj,jj);var Zj=function(e,t,i,n){var y;return i&&(t.scene=e,n?y=i.call(n,t):y=i(t),t.scene=void 0),y},Qj=function(e,t,i,n){var y,S=[],r;if(t&&i)for(var T=0,s=t.length;T<s;T++)y=t[T],y.scene=e,n?r=i.call(n,y,T,t):r=i(y,T,t),y.scene=void 0,S.push(r);return S},qj=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var n=this.root.childrenKey,y=this.items[i][n];y&&this.expandSubMenu(t,y)}},e).on("button.click",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,n,y),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,n,y),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,n,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,n,y),this.root._isPassedEvent=!1)},e)},D1=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=zn(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},_j=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Ti=Phaser.Utils.Objects.GetValue;class Pg extends Qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var n=i._rootMenu,y=i._parentMenu,S=i._parentButton,r=Ti(i,"popup",!0),T=Ti(i,"items",void 0),s=Ti(i,"createBackgroundCallback",void 0),o=Ti(i,"createBackgroundCallbackScope",void 0);i.background=Zj(t,T,s,o);var m=Ti(i,"createButtonCallback",void 0),f=Ti(i,"createButtonCallbackScope",void 0);if(i.buttons=Qj(t,T,m,f),super(t,i),this.type="rexMenu",this.items=T,this.root=n===void 0?this:n,this.isRoot=this.root===this,this.parentMenu=y,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=r;var u=i.bounds;u===void 0&&(u=Xa(t)),this.bounds=u,this.subMenuSide=[this.y<u.centerY?Nv:hu,this.x<u.centerX?kv:ou];var h=Ti(i,"subMenuSide",void 0);h!==void 0&&(typeof h=="string"&&(h=t$[h]),this.subMenuSide[this.orientation]=h),this.toggleOrientation=Ti(i,"toggleOrientation",!1),this.expandEventName=Ti(i,"expandEvent","button.click"),this.easeIn=D1(this,Ti(i,"easeIn",0)),this.easeOut=D1(this,Ti(i,"easeOut",0)),this.setTransitInCallback(Ti(i,"transitIn")),this.setTransitOutCallback(Ti(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=o,this.createButtonCallback=m,this.createButtonCallbackScope=f,this.childrenKey=Ti(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Ti(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,l=0;if(!this.root.easeIn.sameOrientation){var c=Sg(this.root.easeIn,this).orientation,d=y?y.orientation:this.orientation,h=this.root.subMenuSide[d];c===0&&h===ou&&(a=1),c===1&&h===hu&&(l=1)}if(r&&this.setOrigin(a,l).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var h=this.root.subMenuSide[y.orientation];switch(h){case ou:this.alignTop(S.top).alignRight(S.left);break;case kv:this.alignTop(S.top).alignLeft(S.right);break;case hu:this.alignLeft(S.left).alignBottom(S.top);break;case Nv:this.alignLeft(S.left).alignTop(S.bottom);break}}qj(this),r&&(this.pushIntoBounds(this.root.bounds),_j.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const ou=2,kv=0,hu=3,Nv=1,t$={up:hu,down:Nv,left:ou,right:kv};Object.assign(Pg.prototype,i2);mt.register("menu",function(e){var t=new Pg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Menu",Pg);var e$={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=i$[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const i$={down:0,up:1};var s$=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(n=!0);break;case 1:e=0;break;default:e=0;break}if(!n)return e},r$=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(n=!0);break;default:e=0;break}if(!n)return e},n$=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},a$=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},o$=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):ui(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},h$=function(e,t){t||e.clearMask&&e.clearMask(!1)},s2={getChildrenWidth:s$,getChildrenHeight:r$,getChildrenSizers:n$,resetChildPosition:a$,layoutChildren:o$,removeChildCallback:h$};Object.assign(s2,ZE);const I1=Phaser.Utils.Objects.IsPlainObject,Qi=Phaser.Utils.Objects.GetValue,l$=Phaser.Display.Align.TOP_LEFT;class r2 extends Xn{constructor(t,i,n,y,S,r){I1(i)?(r=i,i=Qi(r,"x",0),n=Qi(r,"y",0),y=Qi(r,"width",void 0),S=Qi(r,"height",void 0)):I1(y)&&(r=y,y=Qi(r,"width",void 0),S=Qi(r,"height",void 0)),super(t,i,n,y,S,r),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Qi(r,"scrollMode",0));var T=Qi(r,"clampChildOY",!0),s=Qi(r,"clampChildOX",T);this.setClampMode(T,s);var o=Qi(r,"child",void 0),m=Qi(r,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var f=this.getSizerConfig(o);f.align=l$,f.expand=m,this.child=o;var u=Qi(r,"mask");this.setupChildrenMask(u),this.childrenMask&&(this.maskGameObject=Tg(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=FE[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?ee(this.child):te(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?te(this.child):ee(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,n=this.bottomChildOY,y=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:y?t=i:S&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,n=this.rightChildOX,y=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:y?t=i:S&&(t=n)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),y&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(r2.prototype,s2);var u$=function(e,t,i,n){if(!this.hasChild(e))return this;var y,S;switch(this.scrollMode){case 0:y=this.childOY+Xl.call(this,e,"y",t);break;case 1:y=this.childOY+Xl.call(this,e,"x",t);break;default:y=this.childOY+Xl.call(this,e,"y",t),S=this.childOX+Xl.call(this,e,"x",t);break}return i===void 0||i<=0?(this.childOY=y,this.scrollMode===2&&(this.childOX=S)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new xs(this)),this._easeScrollChildOY.restart({key:"childOY",to:y,duration:i,ease:n}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new xs(this)),this._easeScrollChildOX.restart({key:"childOX",to:S,duration:i,ease:n}))),this};const B1=["top","bottom","centerY","center"],k1=["left","right","centerX","center"];var Xl=function(e,t,i){t=t.toUpperCase();var n=t==="Y",y=this.childrenMap.child,S;if(n){if(i)for(var r=0,T=B1.length;r<T;r++){var s=B1[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":S=y.top-bn(e).y;break;case"bottom":S=y.bottom-Uo(e).y;break;case"centerY":case"center":S=y.centerY-tx(e).y;break;default:var o=y.top-bn(e).y,m=y.bottom-Uo(e).y;o<=0&&m>=0?S=0:S=Math.abs(o)<=Math.abs(m)?o:m;break}}else{if(i)for(var r=0,T=k1.length;r<T;r++){var s=k1[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":S=y.left-bn(e).x;break;case"right":S=y.right-zo(e).x;break;case"centerX":case"center":S=y.centerX-tx(e).x;break;default:var f=y.left-bn(e).x,u=y.right-zo(e).x;f<=0&&u>=0?S=0:S=Math.abs(f)<=Math.abs(u)?f:u;break}}return S};const Mr=Phaser.Utils.Objects.GetValue;class bh extends Ch{constructor(t,i){i===void 0&&(i={});var n=ug(i),y=Mr(i,"panel",void 0);y===void 0&&(y={}),y.scrollMode=n,y.clampChildOY=Mr(i,"clampChildOY",!1),y.clampChildOX=Mr(i,"clampChildOX",!1);var S=new r2(t,y);t.add.existing(S);var r,T;switch(n){case 0:r=Mr(i,"expand.panel",!0),T=!0;break;case 1:r=!0,T=Mr(i,"expand.panel",!0);break;default:r=!0,T=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:r,expandHeight:T,align:Mr(i,"align.panel","center")};var s=Mr(i,"space",void 0);s&&(s.child=Mr(s,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),pd(this.childrenMap.child,t),this}}var d$={scrollToChild:u$};Object.assign(bh.prototype,d$);const f$=Phaser.Utils.Objects.GetValue;var c$=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var f=[],n=this.listCreateButtonCallback;if(n)for(var y=this.options,S=0,r=y.length;S<r;S++){var T=n.call(this,e,y[S],S,y);T&&(e.add.existing(T),f.push(T))}var s=this.listWidth;s===void 0&&(this.listAlignMode==="text"?s=this.getElement("text").width:s=this.width);var o=this.listHeight,m={width:s,buttons:f,space:this.listSpace},f,u,h;if(this.listCreateSliderThumbCallback?h=o>0||this.listMaxHeight>0:h=!1,!h)m.height=o,f=N1(e,m,this.listWrapEnable),u=f;else{var f=N1(e,m,this.listWrapEnable);if(this.listMaxHeight>0&&(f.layout(),f.height<=this.listMaxHeight&&(u=f)),!u){o===0&&(o=this.listMaxHeight);var a=G1(e,this.listCreateSliderTrackCallback),l=G1(e,this.listCreateSliderThumbCallback);u=new bh(e,{height:o,scrollMode:0,panel:{child:f,mask:{padding:1}},slider:{track:a,thumb:l,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:f$(this.listSpace,"panel",0)}}),e.add.existing(u)}}return t&&u.addBackground(t,"background"),this.listDraggable&&u.setDraggable(!0),u!==f&&f.on("button.over",function(c,d,v,p){u.emit("button.over",c,d,v,p)}).on("button.out",function(c,d,v,p){u.emit("button.out",c,d,v,p)}).on("button.click",function(c,d,v,p){u.emit("button.click",c,d,v,p)}),u},N1=function(e,t,i){var n;return i?(t.orientation="x",n=new Kr(e,t)):(t.orientation="y",n=new Qe(e,t)),e.add.existing(n),n},G1=function(e,t,i){var n;return t&&(n=t.call(i,e),e.add.existing(n)),n},v$=function(e,t,i,n,y){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=n,y===void 0?y=new Yo(e,S):y.resetFromJSON(S),y.restart(),y},p$=function(e,t,i,n,y){return tr(e,t)?ie(e,t):tr(e,i)?ie(e,i):y};const ya=Phaser.Utils.Objects.GetValue;var g$=function(e,t){var i=ya(t,"expandDirection",void 0);typeof i=="string"&&(i=m$[i]);var n=p$(t,"alignTarget","alignTargetX"),y=ya(t,"alignTargetY",n),S=ya(t,"alignOffsetX",0),r=ya(t,"alignOffsetY",0),T=ya(t,"alignSide",""),s=T.includes("right"),o=ya(t,"bounds"),m=i===0,f=i===1,u=!m&&!f,h=s?1:0,a=m||u?0:1;e.setOrigin(h,a);var l,c;s?l=n.getTopRight().x:l=n.getTopLeft().x,c=y.getBottomLeft().y,e.setPosition(l+S,c+r);var d=o;d||(d=Xa(e.scene)),u&&e.getBottomLeft().y>d.bottom&&(c=y.getTopLeft().y,e.setOrigin(0,1).setPosition(l+S,c+r))};const m$={down:0,up:1},z1=Phaser.Utils.Objects.GetValue;class n2 extends hd{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,r){Up(S,r,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,r){v$(S,r,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),g$(t,i),t.isRexSizer&&t.layout();var n=z1(i,"touchOutsideClose",!1),y=z1(i,"anyTouchClose",!1);y&&(n=!1),y?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&ud(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var x$=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=c$.call(this);e.on("button.over",function(n,y,S,r){this.currentOverIndex=y,this.listOnButtonOver&&this.listOnButtonOver.call(this,n,y,S,r),this.emit("button.over",this,e,n,y,S,r)},this).on("button.out",function(n,y,S,r){this.currentOverIndex===y&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,n,y,S,r),this.emit("button.out",this,e,n,y,S,r)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new n2(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(n,y,S,r){this.listOnButtonClick&&this.listOnButtonClick.call(this,n,y,S,r),this.emit("button.click",this,e,n,y,S,r),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},y$=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},T$=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},C$=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},S$=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const P$={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var a2={openListPanel:x$,closeListPanel:y$,toggleListPanel:T$,emitButtonClick:C$,emitButtonOver:S$};Object.assign(a2,e$,P$);const oe=Phaser.Utils.Objects.GetValue;class Oh extends cr{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(oe(i,"options"));var n=oe(i,"list");this.setWrapEnable(oe(n,"wrap",!1)),this.setCreateButtonCallback(oe(n,"createButtonCallback")),this.setCreateListBackgroundCallback(oe(n,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(oe(n,"createTrackCallback")),this.setCreateListSliderThumbCallback(oe(n,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(oe(n,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(oe(n,"scroller")),this.setListMouseWheelScrollerConfig(oe(n,"mouseWheelScroller")),this.setButtonClickCallback(oe(n,"onButtonClick")),this.setButtonOverCallback(oe(n,"onButtonOver")),this.setButtonOutCallback(oe(n,"onButtonOut")),this.setListExpandDirection(oe(n,"expandDirection")),this.setListEaseInDuration(oe(n,"easeIn",500)),this.setListEaseOutDuration(oe(n,"easeOut",100)),this.setListTransitInCallback(oe(n,"transitIn")),this.settListTransitOutCallback(oe(n,"transitOut")),this.setListMaxHeight(oe(n,"maxHeight",0)),this.setListSize(oe(n,"width"),oe(n,"height",0)),this.setListAlignmentMode(oe(n,"alignParent","text")),this.setListAlignmentSide(oe(n,"alignSide","")),this.setListBounds(oe(n,"bounds")),this.setListSpace(oe(n,"space")),this.setListDraggable(oe(n,"draggable",!1)),this.setValueChangeCallback(oe(i,"setValueCallback"),oe(i,"setValueCallbackScope")),this.setValue(oe(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var n=this.valueChangeCallback,y=this.valueChangeCallbackScope;n&&(y?n.call(y,this,t,i):n(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(Oh.prototype,a2);mt.register("dropDownList",function(e){var t=new Oh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.DropDownList",Oh);var o2=function(e,t,i){t=t?_e(t):{},i===void 0&&(i={});var n=t.label||t.button,y=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,r=i.button||i.label||i,T=bd(e,n,S);T.list=t.list||{},T.list.createButtonCallback=function(m,f){var u=qe(m,y,r).resetDisplayContent(f);return f.hasOwnProperty("value")&&(u.value=f.value),u};var s=t.track;s&&(T.list.createTrackCallback=function(m){return He(m,s)},delete t.track);var o=t.thumb;return o&&(T.list.createThumbCallback=function(m){return He(m,o)},delete t.thumb),T.list.onButtonOver=function(m,f,u,h){m.setHoverState&&m.setHoverState(!0)},T.list.onButtonOut=function(m,f,u,h){m.setHoverState&&m.setHoverState(!1)},T};class h2 extends Oh{constructor(t,i,n){i=o2(t,i,n),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,n=t.length;i<n;i++){var y=t[i];typeof y=="string"&&(t[i]={text:y,value:y})}return super.setOptions(t),this}}mt.register("simpleDropDownList",function(e,t){var i=new h2(this.scene,e,t);return this.scene.add.existing(i),i});pt(window,"RexPlugins.UI.SimpleDropDownList",h2);var E$=function(e){var t=qr(e),i,n,y;switch(t){case di:case fi:i=e.height-e.padding.top-e.padding.bottom,n=e.lineSpacing,y=e.style.metrics.fontSize+e.style.strokeThickness;break;case zi:i=e.height,n=0;var S=e.fontSize/e.fontData.size;y=e.fontData.lineHeight*S;break}return(i-n)/(y+n)},w$=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var n;switch(this.textObjectType){case di:case zi:n=this.lines.slice(e,t).join(`
`);break;case fi:var y=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(y,S,!0);var r=(n.match(/\n/g)||[]).length;r>t-e-1&&(n=n.substring(0,n.length-1));break}return n};const b$={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Aa(i));var i=this.sections.join(`
`);this.lines=fg(this.parent,i,this.lines);var n=this.totalLinesCount-t,y=this.pageLinesCount,S;y>0?S=Math.ceil(n/this.pageLinesCount):S=1;for(var r=0;r<S;r++)this.pageStartIndexes.push(t+r*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Aa(e).split(this.pageBreak),n=0,y=i.length;n<y;n++)this.appendPage(i[n]);return this},appendText(e){var t=this.content+Aa(e);return this.setText(t,!1),this}},U1=Phaser.Math.Clamp,O$={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=U1(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=U1(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},M$={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){wd(this.parent,e)}};var l2={getLines:w$};Object.assign(l2,b$,O$,M$);const Ta=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class Gd extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=qr(this.parent),this.pageStartIndexes=[],this.lines=fg(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(Ta(t,"maxLines",void 0)),this.setPageBreak(Ta(t,"pageBreak",`\f
`)),this.setText(Ta(t,"text","")),this.startLineIndex=Ta(t,"start",-1),this.endLineIndex=Ta(t,"end",void 0);var i=Ta(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case di:this.lines.length=0;break;case fi:this.lines.destroy();break;case zi:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case di:case fi:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(E$(this.parent));break;case zi:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Gd.prototype,l2);const A$={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?wd(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Aa(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var R$=function(e,t,i,n){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(n)),this},u2=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},L$=function(e,t,i,n,y){var S;if(t>0){n===void 0&&(n=0);var r=u2(this.parent,e);S=F$(r,t)+n}return this.start(e,i,S,y)},F$=function(e,t){for(var i=void 0,n=0;n<t&&(i=e.indexOf(`
`,i+1),i!==-1);n++);return i},Eo=function(e,t,i,n){var y;return e.getSubString?y=e.getSubString(t,i,n):y=t.slice(i,n),y},d2=function(e,t,i,n){var y=this.parent,S;if(n===0){var r=0,T=t;this.insertIndex=T,S=Eo(y,e,r,T)}else if(n===1){var T=i,r=T-t;this.insertIndex=0,S=Eo(y,e,r,T)}else if(n===2){var s=i/2,r=Math.floor(s-t/2),T=r+t;this.insertIndex=t%2?t:0,S=Eo(y,e,r,T)}else if(n===3){var o=Math.floor(t/2),m;if(o>0){var T=i,r=T-o;m=Eo(y,e,r,T)}else m="";var f=t-o,u;if(f>0){var r=0,T=r+f;this.insertIndex=T,u=Eo(y,e,r,T)}else u="",this.insertIndex=0;S=u+m}return this.insertChar=S.charAt(this.insertIndex-1),S},D$=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)d2.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},I$=function(){var e=this.getTimer();return e&&(e.paused=!0),this},B$=function(){var e=this.getTimer();return e&&(e.paused=!1),this},f2={start:R$,startFromLine:L$,stop:D$,pause:I$,resumeTyping:B$};Object.assign(f2,A$);var k$=function(e,t){var i=qr(e);switch(i){case di:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case fi:t=e.getText(t,void 0,void 0,!0);break;case zi:t=e.setText(t).getTextBounds().wrappedText;break}return t};const wo=Phaser.Utils.Objects.GetFastValue,Hc=Phaser.Utils.Objects.GetValue;class zd extends ye{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(Hc(t,"wrap",!1)),this.setTypeMode(Hc(t,"typeMode",0)),this.setTypingSpeed(Hc(t,"speed",333)),this.setTextCallback=wo(t,"setTextCallback",null),this.setTextCallbackScope=wo(t,"setTextCallbackScope",null),this.setTypingContent(wo(t,"text","")),this.typingIndex=wo(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=wo(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=N$[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Aa(t);this.textWrapEnable&&(i=k$(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=u2(this.parent,this.text).length,this}onTyping(){var t=d2.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?wd(this.parent,t):this.parent.setText(t)}}const N$={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(zd.prototype,f2);const bo=Phaser.Utils.Objects.GetValue;var G$=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(y,S){super(y,S),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var r=this.childrenMap.text,T=bo(S,"expandTextWidth",!1),s=bo(S,"expandTextHeight",!1);if(T||s){var o=qr(r);switch(o){case di:case fi:if(r.resize=function(f,u){var h=T?f:0,a=s?u:0;r.setFixedSize(h,a),h>0&&r.setWordWrapWidth(h)},o===fi){var m=r.style;m.wrapMode===0&&(m.wrapMode=1)}break}T&&(r._minWidth=0),s&&(r._minHeight=0)}this.setTypingMode(bo(S,"typingMode","page")),this.page=new Gd(r,bo(S,"page",void 0)),this.typing=new zd(r,bo(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=r.width,this.textHeightSave=r.height}setTypingMode(y){return typeof y=="string"&&(y=z$[y]),this.typingMode=y,this}start(y,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(y),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(y,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(y),this.typing.appendText(y);else{if(this.isRunning=!0,this.page.appendText(y),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var r=this.page.getPage(),T=this.typing.textLength;this.typing.start(r,void 0,T)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var y=this.page.getNextPage();this.typing.start(y)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var y=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(y,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(y){return this.isRunning?(this.typing.stop(y),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(y){return this.typing.setTypingSpeed(y),this}setTypingSpeed(y){return this.typing.setTypingSpeed(y),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var y=this.childrenMap.text;(this.textWidthSave!==y.width||this.textHeightSave!==y.height)&&(this.textWidthSave=y.width,this.textHeightSave=y.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(y){this.emit("typechar",y)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var y=this.isLastPage;this.isRunning=!y,this.emit("pageend"),y&&this.emit("complete")}else this.typeNextLine()}}return i};const z$={page:0,line:1};class Eg extends G$(Od){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}mt.register("textBox",function(e){var t=new Eg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.TextBox",Eg);class c2 extends Eg{constructor(t,i,n){i=UE(t,i,n),super(t,i)}}mt.register("simpleTextBox",function(e){var t=new c2(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.SimpleTextBox",c2);const Gi=Phaser.Utils.Objects.GetValue;class v2 extends $t{constructor(t,i){super(t,i),this.type="rexNumberBar";var n=Gi(i,"background",void 0),y=Gi(i,"icon",void 0),S=Gi(i,"iconMask",void 0),r=Gi(i,"slider",void 0),T=Gi(i,"text",void 0),s=Gi(i,"space.icon",0),o=Gi(i,"space.slider",0);if(n&&this.addBackground(n),y){var m;this.orientation===0?(r||T)&&(m={right:s}):(r||T)&&(m={bottom:s}),this.add(y,{proportion:0,align:"center",padding:m}),S&&(S=Cs.call(this,y,y,1))}var f;if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null,r.hasOwnProperty("input")||(r.input=-1),f=new ja(t,r),t.add.existing(f);var m;this.orientation===0?T&&(m={right:o}):T&&(m={bottom:o});var u;if(this.orientation===0){var h=Gi(r,"width",void 0);u=h===void 0?1:0}else{var a=Gi(r,"height",void 0);u=a===void 0?1:0}this.add(f,{proportion:u,align:"center",padding:m})}T&&this.add(T),this.addChildrenMap("background",n),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",f),this.addChildrenMap("text",T);var l=Gi(i,"valuechangeCallback",null);if(l!==null){var c=Gi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,c)}this.setEnable(Gi(i,"enable",void 0)),this.setValue(Gi(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}mt.register("numberBar",function(e){var t=new v2(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.NumberBar",v2);mt.register("scrollBar",function(e){var t=new dg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ScrollBar",dg);const jc=Phaser.Utils.Objects.GetValue,X1={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class p2 extends rs{constructor(t,i){super(t,i),this.type="rexBadge";var n=jc(i,"background",void 0);n&&this.addBackground(n),this.addChildrenMap("background",n);var y=jc(i,"main",void 0);y&&this.add(y,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",y);for(var S in X1){var r=jc(i,S,void 0);r&&(this.add(r,{key:S,align:X1[S],expand:!1}),this.addChildrenMap(S,r))}}}mt.register("badgeLabel",function(e){var t=new p2(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.BadgeLabel",p2);const U$=rs.prototype.add;var V1=function(e,t,i,n,y,S,r,T,s){return e.setVisible(!1),U$.call(this,e,t,i,n,y,S,r,T,s),this};const X$={add:V1,addPage:V1};var V$=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const Y1=Xi.prototype.setChildVisible;var Y$=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(Y1.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var n=this.currentPage;return n&&(Y1.call(this,n,!0),this.emit("pagevisible",n,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&n.setAlpha(0).fadeIn(t,1)),this},W$=function(e){return this.sizerChildren.hasOwnProperty(e)},g2={getPage:V$,swapPage:Y$,hasPage:W$};Object.assign(g2,X$);const W1=Phaser.Utils.Objects.GetValue;class Ud extends rs{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(W1(i,"swapMode",0)),this.setFadeInDuration(W1(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=H$[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Ud.prototype,g2);const H$={invisible:0,destroy:1};mt.register("pages",function(e){var t=new Ud(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Pages",Ud);const j$=Phaser.GameObjects.Mesh;class m2 extends j${get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const x2=Phaser.Math.Vector3,$$=Phaser.Math.Matrix4;var H1=new x2,j1=new x2,$1=new $$,K$=function(e,t,i,n,y,S,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),H1.set(t,i,n),j1.set(y,S,r),$1.fromRotationXYTranslation(j1,H1,!0);for(var T=0,s=e.vertices.length;T<s;T++)e.vertices[T].transformMat4($1)};const J$=Phaser.Utils.Objects.IsPlainObject,pn=Phaser.Utils.Objects.GetValue,Z$=Phaser.Geom.Mesh.GenerateGridVerts,$c=Phaser.Math.RadToDeg,lu=Phaser.Math.DegToRad,y2=45,Q$=1+1/Math.sin(lu(y2));let T2=class extends m2{constructor(e,t,i,n,y,S){J$(t)&&(S=t,t=pn(S,"x",0),i=pn(S,"y",0),n=pn(S,"key",null),y=pn(S,"frame",null)),super(e,t,i,n,y),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(Q$),this.hideCCW=pn(S,"hideCCW",!0);var r=pn(S,"gridWidth",0),T=pn(S,"gridHeight",r);this.resetVerts(r,T),this.prevFrame=this.frame}preUpdate(e,t){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(e,t)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,y2),this}resetVerts(y,S){if(y!==void 0&&(this.gridWidth=y),S!==void 0&&(this.gridHeight=S),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var i=this.frame.cutWidth,n=this.frame.cutHeight,y,S;this.gridWidth===0?y=Math.max(i/8,32):S=this.gridWidth,this.gridHeight===0?S=Math.max(n/8,32):S=this.gridHeight,Z$({mesh:this,width:i/this.height,height:n/this.height,widthSegments:Math.ceil(i/y),heightSegments:Math.ceil(n/S)});var r=this.transformInfo;return r&&this.transformVerts(r.x,r.y,r.z,r.rotateX,r.rotateY,r.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(e){this.modelRotation.x=e}get angleX(){return $c(this.rotationX)}set angleX(e){this.rotationX=lu(e)}get rotationY(){return this.modelRotation.y}set rotationY(e){this.modelRotation.y=e}get angleY(){return $c(this.rotationY)}set angleY(e){this.rotationY=lu(e)}get rotationZ(){return this.modelRotation.z}set rotationZ(e){this.modelRotation.z=e}get angleZ(){return $c(this.rotationZ)}set angleZ(e){this.rotationZ=lu(e)}transformVerts(e,t,i,n,y,S){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=0),S===void 0&&(S=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=e,this.transformInfo.y=t,this.transformInfo.rotateX=n,this.transformInfo.rotateY=y,this.transformInfo.rotateZ=S,K$(this,e,t,i,n,y,S),this}};const q$=Phaser.Textures.DynamicTexture;var C2=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var n=new q$(e.sys.textures,null,t,i);return n};const _$=Phaser.Utils.Objects.IsPlainObject,Vl=Phaser.Utils.Objects.GetValue;class S2 extends T2{constructor(t,i,n,y,S,r){_$(i)&&(r=i,i=Vl(r,"x",0),n=Vl(r,"y",0),y=Vl(r,"width",32),S=Vl(r,"height",32));var T=C2(t,y,S);super(t,i,n,T,null,r),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,Tp(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ps=function(e,t,i,n){if(Array.isArray(e))for(var y=!1,S=0,r=e.length;S<r;S++){var T=e[S];if(!(n&&!T)&&(i?y=t.call(i,T,S,e):y=t(T,S,e),y))return}else{var y=!1;for(var s in e){var T=e[s];if(!(n&&!T)&&(i?y=t.call(i,T,s,e):y=t(T,s,e),y))return}}};const Ca=Phaser.Math.RadToDeg,Sa=Phaser.Math.DegToRad;class tK extends Xi{constructor(t,i,n,y,S,r){super(t,i,n,y,S),this.faces=r,ps(r,function(T){T.setPosition(i,n),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Ca(this.rotationX)}set angleX(t){this.rotationX=Sa(t)}get rotateX(){return Ca(this.rotationX)}set rotateX(t){this.rotationX=Sa(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Ca(this.rotationY)}set angleY(t){this.rotationY=Sa(t)}get rotateY(){return Ca(this.rotationY)}set rotateY(t){this.rotationY=Sa(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Ca(this.rotationZ)}set angleZ(t){this.rotationZ=Sa(t)}get rotateZ(){return Ca(this.rotationZ)}set rotateZ(t){this.rotationZ=Sa(t)}setDebug(t,i){return ps(this.faces,function(n){n.setDebug(t,i)},null,!0),this}panX(t){return ps(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return ps(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return ps(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,n,y,S,r){return ps(this.faces,function(T){T.transformVerts(t,i,n,y,S,r)},null,!0),this}forEachFace(t,i,n){return ps(this.faces,t,i,n),this}}const eK=Phaser.Utils.Objects.IsPlainObject,iK={key:"__WHITE"},sK={image:T2,rendertexture:S2};var K1=function(e,t){t===void 0&&(t=iK);var i;return eK(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new sK[t.type](e,t),e.add.existing(i)):i=t,i},rK=function(e,t,i){var n;if(i===void 0){n=[];for(var y,S,r=0,T=t.length;r<T;r++)S=t[r],S?y=K1(e,S):y=null,n.push(y)}else{n={};for(var y,s,r=0,T=i.length;r<T;r++)s=i[r],t.hasOwnProperty(s)?y=K1(e,t[s]):y=null,n[s]=y}return n};const nK=Phaser.Math.DegToRad,J1=nK(180);var aK=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,J1,0):i.transformVerts(0,0,0,J1,0,0))};const Kc=Phaser.Utils.Objects.GetValue,oK=Phaser.Math.Linear;let hK=class extends Nn{constructor(e,t){super(e,t),this.resetFromJSON(t),this.boot()}resetFromJSON(e){return super.resetFromJSON(e),this.setEase(Kc(e,"ease","Cubic")),this.setFrontToBackDirection(Kc(e,"frontToBack",0)),this.setBackToFrontDirection(Kc(e,"backToFront",1)),this}setFrontToBackDirection(e){return typeof e=="string"&&(e=Z1[e]),this.endAngleFB=e===0?180:-180,this}setBackToFrontDirection(e){return typeof e=="string"&&(e=Z1[e]),this.endAngleBF=e===0?-180:180,this}start(e,t){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(e);var i=t+1,n=this.parent;return n.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*i):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*i),super.start(),this}flip(e,t){return this.isRunning?this:(e===void 0&&(e=this.duration),t===void 0&&(t=0),this.start(e,t),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+t+1)%2,this)}flipRight(e,t){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(e,t),this}flipLeft(e,t){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(e,t),this}updateTarget(e,t){var i=this.easeFn(t.t),n=oK(this.startAngle,this.endAngle,i);e.orientation===0?e.angleY=n:e.angleX=n}};const Z1={right:0,"left-to-right":0,left:1,"right-to-left":1},lK=Phaser.Utils.Objects.IsPlainObject,gn=Phaser.Utils.Objects.GetValue,uK=["back","front"];class dK extends tK{constructor(t,i,n,y){lK(i)&&(y=i,i=gn(y,"x",0),n=gn(y,"y",0));var S=rK(t,y,uK),r=S.back,T=S.front,s=gn(y,"width"),o=gn(y,"height");if(s===void 0||o===void 0){if(s===void 0){var m=T?T.width:0,f=r?r.width:0;s=Math.max(m,f)}if(o===void 0){var u=T?T.height:0,h=r?r.height:0;o=Math.max(u,h)}}super(t,i,n,s,o,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ps(S,function(l,c){this[`${c}Face`]=l},this);var a=gn(y,"flip",void 0);a!==!1&&(this.flip=new hK(this,a)),this.setOrientation(gn(y,"orientation",0)),aK(this,S),this.setFace(gn(y,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ps(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ps(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ps(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=fK[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=cK[t]),this.currentFaceIndex=t;var i=t===1,n=i?180:0;this.orientation===0?this.angleY=n:this.angleX=n}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const fK={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},cK={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const vK=Phaser.Utils.Objects.GetValue;var pK=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=vK(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},P2=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,n=0,y=i.length;n<y;n++)e.setChildVisible(i[n],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},gK=function(e,t){if(!e)return!1;P2(e,t);var i=t.useParentBounds;Tp({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var n=t.visibleSibling,y=e.children,S=0,r=y.length;S<r;S++){var T=y[S];T.visible&&T!==t&&(e.setChildVisible(T,!1),n.push(T))}return t.isRunning=!0,!0},E2=function(e){return class extends e{constructor(t,i){var n=t.scene;super(n,0,0,1,1,i),n.add.existing(this),pK(t,this,i)}destroy(t){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(t))}enter(){var t=gK(this.rexContainer.parent,this);return t&&this.syncSize(),this}exit(){return P2(this.rexContainer.parent,this),this}}};class w2 extends E2(S2){get perspectiveState(){return this.isRunning}}const mK=Phaser.Utils.Objects.GetValue;var xK=function(e){var t=this.scene;this.setSnapshotPadding(mK(e,"snapshotPadding",0)),e=ms(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new dK(t,e);t.add.existing(i);var n=i.flip;if(n){var y=this;n.on("start",function(){y.enterPerspectiveMode()}).on("complete",function(){y.exitPerspectiveMode()})}return i};const yK=["front","back"],TK={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=yK[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var n=i.visible;i.visible=!0;var y=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(y,{padding:this.snapshotPadding}),i.visible=n,this}},Q1=Phaser.Utils.Objects.GetValue;class wg extends rs{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var n=i.back,y=Q1(i,"expand.back",!0);this.add(n,{key:"back",expand:y});var S=i.front,r=Q1(i,"expand.front",!0);this.add(S,{key:"front",expand:r}),this.perspectiveCard=xK.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,n=this.childrenMap.front,y=this.childrenMap.back;this.setChildVisible(n,i),this.setChildVisible(y,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,n,y,S,r){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,n,y,S,r),this}forEachFace(t,i,n){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,n),this}}Object.assign(wg.prototype,TK);mt.register("perspectiveCard",function(e){var t=new wg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.PerspectiveCard",wg);var CK=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},SK=function(e){for(var t=this.getElement("tabs.buttons"),i=0,n=t.length;i<n;i++)if(t[i].name===e)return i};const PK=Phaser.Utils.Objects.IsPlainObject,Jc=Phaser.Utils.Objects.GetValue,EK=Phaser.Utils.String.UUID;var wK=function(e,t,i){if(PK(e)){var n=e;e=Jc(n,"key"),t=Jc(n,"tab"),i=Jc(n,"page")}return e||(e=EK()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},bK=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var n;t!==void 0&&(n=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),n!==void 0&&(this.childrenMap.pages.fadeInDuration=n)}return this},OK=function(e){return this.swapPage(0,e),this},MK=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const AK={swapPage:bK,swapFirstPage:OK,swapLastPage:MK},RK={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,n=i.getByName(e),y=this.childrenMap.pages,S=y.getElement(e);return!n||!S?this:(y.removeChildrenMap(e),i.removeButton(n,t),y.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var LK=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},FK=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},DK={top:1,left:3,right:5,bottom:7},q1={top:"bottom",left:"right",right:"left",bottom:"top"},IK=function(e){var t=DK[e];if(t===void 0)return this;var i=this.childrenMap.tabs,n=this.sizerChildren.indexOf(i);if(n===t)return this;this.sizerChildren[n]=null,this.sizerChildren[t]=i;var y=this.getSizerConfig(i).padding,S=q1[this.tabsPosition],r=q1[e];return y[r]=y[S],y[S]=0,this.tabsPosition=e,this};const BK={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var b2={getPageKey:CK,getPageIndex:SK,addPage:wK,getPage:LK,getTab:FK,setTabPosition:IK};Object.assign(b2,AK,RK,BK);const cs=Phaser.Utils.Objects.GetValue,_1=Ps.prototype.add;let Xd=class extends Ps{constructor(e,t){t===void 0&&(t={}),t.column=3,t.row=3,t.columnProportions=[0,0,0],t.rowProportions=[0,0,0];var i=cs(t,"expand.pages",!0);i&&(t.columnProportions[1]=1,t.rowProportions[1]=1),super(e,t),this.type="rexTabPages";var n=cs(t,"background",void 0);n&&this.addBackground(n);var y=cs(t,"pages"),S=new Ud(e,y);e.add.existing(S);var r=cs(t,"tabsPosition",void 0);r===void 0&&(r=cs(t,"tabPosition","top"));var T=cs(t,"wrapTabs",!1),s=T?Kr:Qe,o=cs(t,"tabs",void 0);o===void 0&&(o={}),o.orientation=r==="top"||r==="bottom"?"x":"y",o.buttonsType="radio",!T&&!o.hasOwnProperty("expand")&&(o.expand=cs(t,"expand.tabs",!1));var m=new s(e,o);e.add.existing(m),_1.call(this,S,{column:1,row:1,expand:i});var f,u,h=cs(t,"space.item",0);switch(r){case"top":f=1,u=0,h={bottom:h};break;case"bottom":f=1,u=2,h={top:h};break;case"left":f=0,u=1,h={right:h};break;case"right":f=2,u=1,h={left:h};break}_1.call(this,m,{column:f,row:u,padding:h,expand:T?!0:cs(t,"expand.tabs",!1),align:cs(t,"align.tabs","left")}),this.addChildrenMap("background",n),this.addChildrenMap("tabs",m),this.addChildrenMap("pages",S),this.tabsPosition=r,m.on("button.click",function(a){var l=a.name;S.hasPage(l)&&S.swapPage(l)}),m.on("button.statechange",function(a,l,c,d){var v=c?"tab.focus":"tab.blur";this.emit(v,a,a.name)},this),S.on("pagevisible",function(a,l,c){this.emit("page.focus",a,l)}),S.on("pageinvisible",function(a,l,c){this.emit("page.blur",a,l)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(e){this.showPage(e)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Xd.prototype,b2);mt.register("tabPages",function(e){var t=new Xd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.TabPages",Xd);class kK extends hd{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const NK={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var GK=function(e,t){er.popUp.call(e,t,this.expandDirection)},zK=function(e,t){er.scaleDown.call(e,t,this.expandDirection)};const UK={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=GK.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=zK.bind(this)),this.childTransition.setTransitOutCallback(e),this}},De=Phaser.Utils.Objects.GetValue;let Mh=class extends $t{constructor(e,t){t===void 0&&(t={}),t.hasOwnProperty("orientation")||(t.orientation=1),super(e,t),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var i=t.background,n=t.title,y=t.child;i&&this.addBackground(i);var S=De(t,"space"),r=this.orientation===1?"left":"top",f=De(t,"align.title",r),u=De(t,"expand.title",!0);this.add(n,{proportion:0,align:f,expand:u,padding:{left:De(S,"titleLeft",0),right:De(S,"titleRight",0),top:De(S,"titleTop",0),bottom:De(S,"titleBottom",0)}});var T=De(t,"toggleByTarget",void 0),s=De(t,"toggleClickConfig");T===void 0&&(T=n),T&&jp.onClick.call(T,function(){this.toggle()},this,s),this.childTransition=new kK(y);var o=De(t,"customChildOrigin",!1);if(!o){var m=this.rtl?1:0;y.setOrigin(m)}var f=De(t,"align.child","left"),u=De(t,"expand.child",!0),h=u?1:0;this.add(y,{proportion:h,align:f,expand:u,padding:{left:De(S,"childLeft",0),right:De(S,"childRight",0),top:De(S,"childTop",0),bottom:De(S,"childBottom",0)}}),this.addChildrenMap("title",n),this.addChildrenMap("child",y),this.addChildrenMap("background",i);var a=t.transition;this.setTransitionDuration(De(a,"duration",200)),this.setExpandCallback(De(a,"expandCallback",void 0)),this.setCollapseCallback(De(a,"collapseCallback",void 0)),this.reLayoutTarget=De(t,"reLayoutTarget",void 0);var l=t.onExpandStart;l&&this.on("expand.start",l);var c=t.onExpandComplete;c&&this.on("expand.complete",c);var d=t.onCollapseStart;d&&this.on("collapse.start",d);var v=t.onCollapseComplete;v&&this.on("collapse.complete",v);var p=De(t,"expanded",void 0);p!==void 0&&this.setExpandedState(p)}};Object.assign(Mh.prototype,NK,UK);mt.register("folder",function(e){var t=new Mh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Folder",Mh);var XK=function(e,t,i,n){for(var y in this.treesMap){var S=this.treesMap[y];if(Dn(S.nodeBody,e,t,i,n))return S;var r=S.pointToChild(e,t,i,n);if(r)return r}return null},VK=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],pd(this,e),this},O2=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(t){return this.text=t,this}get text(){var t=this.nodeBody;return t.text}set text(t){var i=this.nodeBody;i.setText&&i.setText(t)}setTexture(t,i){var n=this.nodeBody;return n.setTexture&&n.setTexture(t,i),this}get texture(){var t=this.nodeBody;if(t)return t.texture}get frame(){var t=this.nodeBody;if(t)return t.frame}}},YK=function(e,t,i,n){for(var y in this.nodesMap){var S=this.nodesMap[y];if(this.isTreeObject(S)){var r=S;if(Dn(r.nodeBody,e,t,i,n))return r;var T=r.pointToChild(e,t,i,n);if(T)return T}else if(Dn(S,e,t,i,n))return S}return null};const WK={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Ho=function(e,t,i,n,y=!1){var S;if(Li(t))S=t,delete t[key];else if(ys(t)){var r=t;S=r(e,i),S&&e.add.existing(S)}else(y||t)&&n&&(S=n(e,t,i));return S},bg=function(e,t,i){var n=He(e,t);return n},HK=function(e,t,i){var n=new Ph(e,t);return e.add.existing(n),n.resetDisplayContent(""),n};const Pa=Phaser.Utils.Objects.GetValue;class M2 extends O2($t){constructor(t,i,n){var y=i.space;super(t,{orientation:"x",space:{left:Pa(y,"nodeLeft",0),right:Pa(y,"nodeRight",0),top:Pa(y,"nodeTop",0),bottom:Pa(y,"nodeBottom",0)}}),this.type="rexTreeNode";var S=Ho(t,Pa(i,"nodeBackground"),n,bg,!1),r=Ho(t,Pa(i,"nodeBody"),n,HK,!0);S&&this.addBackground(S),this.add(r,{proportion:1}),this.nodeBody=r,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",r)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var A2=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var n=e.displayList;if(Lo(n)){t.isRexContainerLite?t.addToLayer(n):n.add(t);return}e.scene.add.existing(t)};const tT=Phaser.Utils.String.UUID,jK={addTree(e,t){if(Li(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=tT());var n=this.createTree(t);return A2(this,n),this.insertNode(e,n,{expand:!0}),n._postAddCallback(),n},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var n;Li(t)||(i=t,t=new M2(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(n=i,i=void 0):i&&(n=i.nodeKey,delete i.nodeKey),n===void 0&&(n=tT()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(n)&&(console.error(`[Trees] Duplicate nodeKey '${n}'`),this.removeNode(this.nodesMap[n],!0)),t.nodeKey=n,this.nodesMap[n]=t;var y=this.childrenMap.child;return y.insert(e,t,i),t}},$K={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var n=i.childrenMap.child;return n.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},KK={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var R2={pointToChild:YK};Object.assign(R2,WK,jK,$K,KK);var JK=function(e,t,i){var n=new oh(e,t);return e.add.existing(n),n.on("expand.start",function(y){y.setDirection("down")}).on("collapse.complete",function(y){y.setDirection("right")}),n};const eT=Phaser.Utils.Objects.GetValue;var ZK=function(e,t){var i=new M2(e,t,{isLeaf:!1});e.add.existing(i);var n=Ho(e,eT(t,"toggleButton"),{isLeaf:!1},JK,!0);return i.insert(0,n,{padding:{right:eT(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",n),i};const iT=Phaser.Utils.Objects.GetValue;var QK=function(e,t){var i=new $t(e,{orientation:iT(t,"childrenOrientation","y")});e.add.existing(i);var n=Ho(e,iT(t,"childrenBackground"),{isLeaf:!1},bg,!1);return n&&i.addBackground(n),i};const qK=Phaser.Utils.Objects.Clone;var _K=function(e,t){var i=e?qK(e):{};if(!t)return i;for(var n in t)i[n]=t[n];return i};const Ar=Phaser.Utils.Objects.GetValue;class In extends O2(Mh){constructor(t,i){i===void 0&&(i={});var n=Ho(t,Ar(i,"background"),{isLeaf:!1},bg,!1),y=QK(t,i),S=y.childrenMap.items,r=ZK(t,i),T=r.childrenMap.toggleButton,s=r.childrenMap.nodeBody,o=zn(Ar(i,"orientation","y")),m=i.space;if(m){var f=Ar(m,"indent",0);m.childLeft=Ar(m,"indentLeft",o===1?f:0),m.childRight=Ar(m,"indentRight",0),m.childTop=Ar(m,"indentTop",o===0?f:0),m.childBottom=Ar(m,"indentBottom",0)}var u={background:n,title:r,child:y,toggleByTarget:T,transition:i.transition,orientation:o,space:m,align:i.align,expand:i.expand};super(t,u),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=s,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){T.emit("expand.start",T),Yl(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),Yl(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),Yl(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),Yl(this,"collapse.complete")});var h=this;h._postAddCallback=function(){var a=Ar(i,"expanded",!0);a!==void 0&&h.setExpandedState(a),delete h._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return In.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof In}}In.CreateTree=function(e,t,i){return new In(e,_K(t,i))};var Yl=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(In.prototype,R2);const tJ=Phaser.Utils.String.UUID,eJ={addTree(e){if(Li(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=tJ());var n=In.CreateTree(this.scene,this.treeConfig,t);return A2(this,n),n.nodeKey=i,this.treesMap[i]=n,this.insert(e,n,{expand:!0}),n._postAddCallback(),n}},iJ={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},sJ={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var L2={pointToChild:XK,setChildrenInteractive:VK};Object.assign(L2,eJ,iJ,sJ);const rJ=Phaser.Utils.Objects.GetValue;class Og extends $t{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=rJ(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(Og.prototype,L2);mt.register("trees",function(e){var t=new Og(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Trees",Og);mt.register("textArea",function(e){var t=new Sh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.TextArea",Sh);var nJ=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const aJ={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},oJ={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Wl=Phaser.Utils.Objects.GetValue;class Vd extends Ch{constructor(t,i){i===void 0&&(i={});var n=Wl(i,"text"),y;Li(n)?y=n:(n===void 0&&(n={}),n.textArea=!0,y=new nh(t,n),t.add.existing(y)),nJ(y);var S=n.width===void 0,r=n.height===void 0;S&&(y.minWidth=0),r&&(y.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:y,expandWidth:S,expandHeight:r};var T=Wl(i,"space",void 0);T&&(T.child=Wl(T,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",y);var s,o;y.on("cursorin",function(){var f=y.textOY,u=y.contentHeight,h=s!==f,a=o!==u;s=f,o=u,a&&this.resizeController(),(h||a)&&(this.t=y.t)},this),y.on("textchange",function(f){this.emit("textchange",f,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var m=Wl(i,"content",void 0);m&&this.setText(m)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(Vd.prototype,aJ,oJ);mt.register("textAreaInput",function(e){var t=new Vd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.TextAreaInput",Vd);mt.register("scrollablePanel",function(e){var t=new bh(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ScrollablePanel",bh);const Hl={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},kr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},hJ={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=kr[e]),e){case kr.popUp:e=Hl.popUp;break;case kr.fadeIn:e=Hl.fadeIn;break}return e||(e=We),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=kr[e]),e){case kr.scaleDown:e=Hl.scaleDown;break;case kr.fadeOut:e=Hl.fadeOut;break}return e||(e=We),this.transitOutCallback=e,this}},lJ={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[We]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[We]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Oo=Phaser.Utils.Objects.GetValue;class Mg extends cr{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Oo(i,"duration.in",200)),this.setDisplayTime(Oo(i,"duration.hold",1200)),this.setTransitOutTime(Oo(i,"duration.out",200)),this.setTransitInCallback(Oo(i,"transitIn",kr.popUp)),this.setTransitOutCallback(Oo(i,"transitOut",kr.scaleDown)),this.player=new VE(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(Mg.prototype,hJ,lJ);mt.register("toast",function(e){var t=new Mg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Toast",Mg);var uJ={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const dJ={setQueueDirection(e){return typeof e=="string"&&(e=uJ[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=We),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=We),this.transitOutCallback=e,this}},fJ=jp.onClick,F2=XP.delayCall,cJ=od.moveTo;var vJ=function(e,t,i){var n=t(e.scene,i,e);if(fJ.call(n,function(){e.removeMessage(n)}),e.displayTime){var y=e.transitInTime+e.displayTime+10;F2.call(n,y,function(){e.removeMessage(n)})}return n},D2=function(e){for(var t=e.childrenMap.items,i,n=[],y=0,S=t.length;y<S;y++)i=t[y],n.push({x:i.x,y:i.y});return n},pJ=function(e){for(var t=e.childrenMap.items,i,n=[],y=0,S=t.length;y<S;y++)i=t[y],n.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var r=D2(e),y=0,S=t.length;y<S;y++){var T=n[y];t[y].setScale(T.x,T.y)}return r},gJ=function(e,t,i,n){for(var y=e.childrenMap.items,S=Math.min(t.length,i.length,y.length),r,T,s,o=e.queueDirection,m=0;m<S;m++){switch(r=y[m],T=t[m],s=i[m],r.setPosition(T.x,T.y),o){case 0:if(T.y<=s.y)continue;break;case 1:if(T.y>=s.y)continue;break;case 2:if(T.x<=s.x)continue;break;case 3:if(T.x>=s.x)continue;break}cJ.call(r,n,s.x,s.y)}},mJ=function(e,t,i){var n=D2(e);e.add(t);var y=pJ(e);gJ(e,n,y,i),e.transitInCallback(t,i,e)};const xJ={showMessage(e){var t=vJ(this,this.createMessageLabelCallback,e);return mJ(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),F2.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var I2={};Object.assign(I2,dJ,xJ);const sT={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),er.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),er.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),er.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),er.popUp.call(e,t,"x");break}Wo.fadeIn.call(e,t)},transitOut(e,t,i){Wo.fadeOut.call(e,t)}},mn=Phaser.Utils.Objects.GetValue;class Ag extends $t{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(mn(i,"createMessageLabelCallback")),this.setQueueDirection(mn(i,"queueDirection",1)),this.setTransitInTime(mn(i,"duration.in",200)),this.setDisplayTime(mn(i,"duration.hold",2e3)),this.setTransitOutTime(mn(i,"duration.out",200)),this.setTransitInCallback(mn(i,"transitIn",sT.transitIn)),this.setTransitOutCallback(mn(i,"transitOut",sT.transitOut))}}Object.assign(Ag.prototype,I2);mt.register("toastQueue",function(e){var t=new Ag(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ToastQueue",Ag);var yJ=function(e,t){if(t===!1)return null;if(Li(t))return t;var i=new Bn(e,t);return e.add.existing(i),i};const TJ=Phaser.Utils.String.Pad;var rT=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=TJ(i,6,0,1),i=t+i,i},CJ=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const qi=Phaser.Utils.Objects.GetValue,SJ=Phaser.Utils.Objects.IsPlainObject,PJ=Phaser.Math.Clamp;let Rg=class extends $t{constructor(e,t){t===void 0&&(t={}),t.orientation=0,super(e,t),this.type="rexColorInputLite";var i=qi(t,"background",void 0),n=qi(t,"swatch"),y;SJ(n)&&(y=qi(n,"size"));var S=yJ(e,qi(t,"swatch")),r=qi(t,"inputText",{}),T;if(r&&(T=Jr(e,r)),i&&this.addBackground(i),S){y=qi(t,"swatchSize",y);var s;y!==void 0?(ui(S,y,y),s=!1):s=qi(t,"squareExpandSwatch",!0);var o=s?1:0;this.add(S,{proportion:0,expand:!0,fitRatio:o})}if(T){var m=qi(r,"width")===void 0?1:0,f=qi(r,"height")===void 0;this.add(T,{proportion:m,expand:f})}this.addChildrenMap("background",i),this.addChildrenMap("swatch",S),this.addChildrenMap("inputText",T),T&&T.on("close",function(){this.setValue(T.value)},this);var u=qi(t,"valuechangeCallback",null);if(u!==null){var h=qi(t,"valuechangeCallbackScope",void 0);this.on("valuechange",u,h)}this.setValue(qi(t,"value",0))}get value(){return this._value}set value(e){if(typeof e=="string"){if(e=Mv(e),e==null){var t=this.childrenMap.inputText;t&&t.setText(rT(this._value));return}}else e=PJ(Math.floor(e),0,16777215);if(this._value!==e){this._value=e;var i=this.childrenMap.swatch;i&&CJ(i,e);var t=this.childrenMap.inputText;t&&t.setText(rT(e)),this.emit("valuechange",this._value)}}setValue(e){return this.value=e,this}get color(){return this._value}set color(e){this.value=e}setColor(e){return this.color=e,this}};var EJ={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=wJ[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const wJ={down:0,up:1},B2=Phaser.Display.Color,Au=Phaser.Math.Percent;var bJ=function(e,t,i){i===void 0&&(i=!1);var n=e.width,y=e.height,S=new B2;if(i)for(var r=0;r<y;r++){var T=Au(r,0,y);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(0,r,n,1)}else for(var s=0;s<n;s++){var T=Au(s,0,n);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(s,0,1,y)}},OJ=function(e,t,i){for(var n=e.width,y=e.height,S=t.getImageData(0,0,n,y),r=S.data,T=new B2,s=0;s<y;s++)for(var o=0;o<n;o++){var m=Au(o,0,n),f=1-Au(s,0,y);T.setFromHSV(i,m,f);var u=(s*n+o)*4;r[u]=T.red,r[u+1]=T.green,r[u+2]=T.blue,r[u+3]=255}t.putImageData(S,0,0)};const MJ=Phaser.Display.Color,nT=Phaser.Math.Percent,AJ=Phaser.Display.Color.ColorToRGBA,RJ=Phaser.Display.Color.HSVToRGB;class LJ extends Gn{constructor(t,i,n,y,S,r){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,n,y,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new MJ,this.setOrientation(r),this.setSize(y,S)}setOrientation(t){return this.orientation=zn(t),this}updateTexture(){return bJ(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=nT(t,0,this.width):this.hue=nT(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var n=this.getHue(t,i);return this.colorObject.setFromRGB(RJ(n,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Zc===void 0&&(Zc={}),i=Zc),this.colorObject.setFromRGB(AJ(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var Zc=void 0,FJ=Phaser.Math.RotateAround,k2=function(e,t,i,n){n===void 0?n={}:n===!0&&(Qc===void 0&&(Qc={}),n=Qc),t-=e.width*e.originX,i-=e.height*e.originY;var y={x:t*e.scaleX,y:i*e.scaleY};return FJ(y,0,0,-e.rotation),n.x=e.x+t,n.y=e.y+i,n},Qc;class DJ extends rs{constructor(t,i){i===void 0&&(i={}),super(t,i);var n=i.width!=null?1:0,y=new LJ(t).setOrientation(n);t.add.existing(y),this.type="rexColorPicker.HPalette",y.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Bn(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(y,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var n=Math.min(t,i);return this.childrenMap.marker.setSize(n,n),this}onPaletteCanvasPointerDown(t,i,n,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return k2(i,y.x,y.y,n),this.resetChildPositionState(n),this}getHue(t,i){var n=this.childrenMap.paletteCanvas;return n.getHue(t,i)}}const IJ=Phaser.Display.Color,aT=Phaser.Math.Percent,oT=Phaser.Display.Color.ColorToRGBA,BJ=Phaser.Display.Color.HSVToRGB;class kJ extends Gn{constructor(t,i,n,y,S,r){i===void 0&&(i=0),n===void 0&&(n=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,i,n,y,S),this.type="rexColorPicker.SVPaletteCanvas",r===void 0&&(r=1),this.colorObject=new IJ,this.setHue(r),this.setSize(y,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return OJ(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var n=aT(t,0,this.width),y=1-aT(i,0,this.height);return this.colorObject.setFromRGB(BJ(this.hue,n,y)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(oT(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(qc===void 0&&(qc={}),i=qc),this.colorObject.setFromRGB(oT(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var qc=void 0;class NJ extends rs{constructor(t,i){super(t,i);var n=new kJ(t);t.add.existing(n),this.type="rexColorPicker.SVPalette",n.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var y=new Bn(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(y),this.add(n,{key:"paletteCanvas",expand:!0}).add(y,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,n,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,y=i.colorToLocalPosition(t,!0);return k2(i,y.x,y.y,n),this.resetChildPositionState(n),this}}const vs=Phaser.Utils.Objects.GetValue;class Lg extends $t{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var n=vs(i,"hPalette.position",0);typeof n=="string"&&(n=GJ[n]);var y=n===0||n===2?1:0;this.setOrientation(y);var S=vs(i,"background",void 0),r,T;if(this.orientation===0){var r=vs(i,"hPalette.width",void 0);r===void 0&&(r=vs(i,"hPalette.size",10))}else T=vs(i,"hPalette.height",void 0),T===void 0&&(T=vs(i,"hPalette.size",10));var s=new DJ(t,{width:r,height:T});t.add.existing(s);var o=vs(i,"svPalette.width",void 0),m=vs(i,"svPalette.height",void 0),f=new NJ(t,{width:o,height:m});t.add.existing(f),S&&this.addBackground(S);var u={proportion:0,expand:!0},h,a;this.orientation===0?(h=o===void 0?1:0,a=m===void 0):(h=m===void 0?1:0,a=o===void 0);var l={proportion:h,expand:a};n===0||n===3?this.add(f,l).add(s,u):this.add(s,u).add(f,l),s.on("input",function(){f.setHue(s.getHue()),this.setValue(f.color,!0)},this),f.on("input",function(){this.setValue(f.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",f);var c=vs(i,"valuechangeCallback",null);if(c!==null){var d=vs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",c,d)}this.setValue(vs(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,n){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,n),this}}var GJ={bottom:0,left:1,top:2,right:3};const Is=Phaser.Utils.Objects.GetValue,zJ=Phaser.Display.Color,UJ=Phaser.Display.Color.ColorToRGBA,XJ=Phaser.Display.Color.HSVToRGB,xn=Phaser.Math.Clamp;class Fg extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new zJ;var n=Is(i,"background",void 0),y=Is(i,"formatLabel",void 0);Li(y)||(y=qe(t,y).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var r=Is(i,"inputText"),T=0;T<3;T++){var s=Jr(t,r).setMaxLength(3).setNumberInput();S.push(s)}n&&this.addBackground(n);var o=Is(i,"proportion.formatLabel",0),m=!!y.isRexContainerLite,f=Is(i,"expand.formatLabel",m);this.add(y,{proportion:o,expand:f});for(var o=Is(r,"width")===void 0?1:0,f=Is(r,"height")===void 0,T=0,u=S.length;T<u;T++)this.add(S[T],{proportion:o,expand:f});this.addChildrenMap("background",n),this.addChildrenMap("formatLabel",y),this.addChildrenMap("components",S),this.onClick(y,this.toggleColorFormat,this);for(var T=0,u=S.length;T<u;T++)S[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var h=Is(i,"valuechangeCallback",null);if(h!==null){var a=Is(i,"valuechangeCallbackScope",void 0);this.on("valuechange",h,a)}y.setText("RGB"),this.setValue(Is(i,"value",16777215))}get value(){return this._value}set value(t){t=xn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(UJ(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,n,y;return this.colorFormat==="RGB"?(i=this.colorObject.red,n=this.colorObject.green,y=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),n=Math.floor(this.colorObject.s*100),y=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(n),t[2].setValue(y),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=xn(t[0].value,0,255),n=xn(t[1].value,0,255),y=xn(t[2].value,0,255);this.colorObject.setTo(i,n,y)}else{var S=xn(t[0].value,0,359)/360,r=xn(t[1].value,0,100)/100,T=xn(t[2].value,0,100)/100;this.colorObject.setFromRGB(XJ(S,r,T))}return this}}const _c=Phaser.Utils.Objects.GetValue;class VJ extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var n=_c(i,"background",void 0),y=new Lg(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:_c(i,"space.hPalette",8)}});t.add.existing(y);var S;i.colorComponents&&(S=new Fg(t,i.colorComponents),t.add.existing(S)),n&&(this.addBackground(n),new ld(n,{stopAllLevels:!1})),this.add(y,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",n),this.addChildrenMap("colorPicker",y),this.addChildrenMap("colorComponents",S),y.on("valuechange",function(r){this.setValue(r)},this),S&&S.on("valuechange",function(r){this.setValue(r)},this),this.setValue(_c(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var n=this.childrenMap.colorComponents;n&&n.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var YJ=function(t){var t=this.scene,i,n=this.colorPickerCreateBackgroundCallback;n&&(i=n.call(this,t),t.add.existing(i));var y=this.colorPickerWidth;y===void 0&&(y=this.width);var S=this.colorPickerHeight;S===void 0&&(S=y);var r;this.colorComponentsHeight>0?r={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:r=!1;var T=new VJ(t,{width:y,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:r,value:this.value});return t.add.existing(T),T},WJ=function(){if(!this.colorPicker){var e=YJ.call(this).layout(),t=new n2(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},N2={openColorPicker:WJ};Object.assign(N2,EJ);const ii=Phaser.Utils.Objects.GetValue;class Yd extends Rg{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var n=i.colorPicker,y=n!==!1&&n!==null;if(y){this.setColorPickerSize(ii(n,"width",160),ii(n,"height",170));var S,r=ii(n,"background");r?S=function(h){return He(h,r)}:S=ii(n,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(ii(n,"hPalettePosition",0)),this.setColorPickerExpandDirection(ii(n,"expandDirection")),this.setColorPickerEaseInDuration(ii(n,"easeIn",200)),this.setColorPickerEaseOutDuration(ii(n,"easeOut",200)),this.setColorPickerTransitInCallback(ii(n,"transitIn")),this.setColorPickerTransitOutCallback(ii(n,"transitOut")),this.setColorPickerBounds(ii(n,"bounds"));var T=ii(n,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var s=i.colorComponents,o=s!==!1&&s!==null;if(y&&o){this.setColorComponentsHeight(ii(s,"height",30)),this.setColorComponentsFormatLabelConfig(ii(s,"formatLabel"));var m=ii(s,"inputText");m||(m=ii(i,"inputText")),this.setColorComponentsInputTextConfig(m);var f=ii(s,"space");f===void 0&&(f={item:8}),this.setColorComponentsSpace(f)}var u=this.childrenMap.swatch;u&&y&&this.onClick(u,this.openColorPicker,this)}}Object.assign(Yd.prototype,N2);mt.register("colorInput",function(e){var t=new Yd(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ColorInput",Yd);mt.register("colorInputLite",function(e){var t=new Rg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ColorInputBase",Rg);mt.register("colorPicker",function(e){var t=new Lg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ColorPicker",Lg);mt.register("colorComponents",function(e){var t=new Fg(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.ColorComponents",Fg);var G2=function(e){for(var t=e.scene.input,i=t.manager,n=i.pointersTotal,y=i.pointers,S,r=0;r<n;r++)if(S=y[r],!(!S.primaryDown||t.getDragState(S)!==0||!dp(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const jl=Phaser.Utils.Objects.GetValue,hT=Phaser.Math.Distance.Between,lT=Phaser.Math.RotateAroundDistance;class Dg extends ye{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(jl(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(jl(t,"enable",!0)),this.setAxisMode(jl(t,"axis",0)),this.setAxisRotation(jl(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=HJ[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return G2(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,n){this.isDragging||(this.pointer=t)}onDrag(t,i,n){if(this.pointer===t){var y=this.parent;if(this.axisMode===0)y.x=i,y.y=n;else if(this.axisRotation===0)this.axisMode===1?y.x=i:this.axisMode===2&&(y.y=n);else{var S,r={x:i,y:n};S=hT(r.x,r.y,y.x,y.y),r=lT(r,y.x,y.y,-this.axisRotation,S),this.axisMode===1?r.y=y.y:this.axisMode===2&&(r.x=y.x),S=hT(r.x,r.y,y.x,y.y),r=lT(r,y.x,y.y,this.axisRotation,S),y.x=r.x,y.y=r.y}}}onDragEnd(t,i,n,y){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const HJ={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var jJ=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],n=this.getSizerConfig(e).padding,y=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var r=this.innerLeft+n.left,T=this.innerRight-S.right,s=te(t),o=t.x+s*(0-t.originX),m=t.x+s*(1-t.originX),f=o-y.left-this.space.item-n.right,u=m+y.right+this.space.item+S.left,h=f-r,a=T-u,l=h+a;this.minFirstChildSize>0&&h<this.minFirstChildSize&&(h=this.minFirstChildSize,a=l-h),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,h=l-a),this.setSplitRatio(h/l)}else{var c=this.innerTop+n.top,d=this.innerBottom-S.bottom,v=ee(t),p=t.y+v*(0-t.originY),g=t.y+v*(1-t.originY),x=p-y.top-this.space.item-n.bottom,C=g+y.bottom+this.space.item+S.top,P=x-c,w=d-C,E=P+w;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,w=E-P),this.minSecondChildSize>0&&w<this.minSecondChildSize&&(w=this.minSecondChildSize,P=E-w),this.setSplitRatio(P/E)}var b=this.minWidth,O=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(b,O)};const ze=Phaser.Utils.Objects.GetValue,$J=Phaser.Math.Clamp;class z2 extends $t{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var n=ze(i,"background",void 0),y,S,r,T;this.orientation===0?(y="leftPanel",S="rightPanel",r="minLeftPanelWidth",T="minRightPanelWidth"):(y="topPanel",S="bottomPanel",r="minTopPanelHeight",T="minBottomPanelHeight");var s=ze(i,y,void 0),o=ze(i,"splitter",void 0),m=ze(i,S,void 0);n&&this.addBackground(n);var f=ze(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:ze(f,`${y}Left`,0),right:ze(f,`${y}Right`,0),top:ze(f,`${y}Top`,0),bottom:ze(f,`${y}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:ze(f,"splitterLeft",0),right:ze(f,"splitterRight",0),top:ze(f,"splitterTop",0),bottom:ze(f,"splitterBottom",0)}}),this.add(m,{proportion:1,expand:!0,padding:{left:ze(f,`${S}Left`,0),right:ze(f,`${S}Right`,0),top:ze(f,`${S}Top`,0),bottom:ze(f,`${S}Bottom`,0)}}),this.addChildrenMap("background",n),this.addChildrenMap(y,s),this.addChildrenMap("splitter",o),this.addChildrenMap(S,m),this.minFirstChildSize=ze(i,r,0),this.minSecondChildSize=ze(i,T,0),this.setSplitRatio(ze(i,"splitRatio",.5)),this.splitterDragBehavior=new Dg(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){jJ.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=$J(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}mt.register("splitPanels",function(e){var t=new z2(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.SplitPanels",z2);var KJ=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!0)}},JJ=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!1)}};const ZJ={show:KJ,hide:JJ};var QJ=function(e,t){return t===void 0&&(t=1),function(i,n,y,S){n!=="panel"&&y.fadeChild(i,S?0:e,t)}},qJ=function(e,t){return t===void 0&&(t=0),function(i,n,y,S){n!=="panel"&&y.fadeChild(i,S?0:e,t)}};const _J={show:QJ,hide:qJ};var uT=function(e,t){return function(i,n,y,S){n!=="panel"&&y.moveChild(i,S?0:e,t)}};const tZ={show:uT,hide:uT};var dT=function(e,t){return function(i,n,y,S){n==="panel"&&y.moveChild(i,S?0:e,t)}};const eZ={show:dT,hide:dT},tv={visible:ZJ,fade:_J,move:tZ,"move-panel":eZ};var iZ=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var n,y;return tv.hasOwnProperty(t)?(n=tv[t].show.apply(null,i),y=tv[t].hide.apply(null,i)):(n=We,y=We),{show:n,hide:y}};const sZ={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},rZ=Xi.prototype.setChildVisible,nZ={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=md(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),rZ.call(this,e,t),this}},aZ={fadeChild(e,t,i){var n;return typeof e=="string"?(n=e,e=this.sizerChildren[n]):n=md(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===n?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?si(e._fade):Promise.resolve()}},oZ={moveChild(e,t,i,n){var y;typeof e=="string"?(y=e,e=this.sizerChildren[y]):y=md(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===y;if(n===void 0)switch(y){case"leftSide":case"rightSide":n=te(e);break;case"topSide":case"bottomSide":n=ee(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":n=te(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":n=ee(this.sizerChildren[this.previousChildKey]);break;default:n=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":n=te(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":n=ee(this.sizerChildren[this.currentChildKey]);break;default:n=0;break}break}var r,T,s,o;if(S)switch(y){case"panel":switch(this.previousChildKey){case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}else switch(y){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":o=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":s=!0;break;case"bottomSide":o=!0;break}return r?e.moveTo(t,`-=${n}`,void 0,i):T?e.moveTo(t,`+=${n}`,void 0,i):s?e.moveTo(t,void 0,`-=${n}`,i):o?e.moveTo(t,void 0,`+=${n}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,n){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,n),e._easeMove?si(e._easeMove):Promise.resolve()}};var U2={};Object.assign(U2,nZ,aZ,oZ);const Oi=Phaser.Utils.Objects.GetValue;class Ig extends rs{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var n=Oi(i,"showChildCallback",void 0);if(n)if(ys(n)){var y=Oi(i,"showChildCallbackScope",void 0);this.on("showchild",n,y);var S=Oi(i,"hideChildCallback",void 0),r=Oi(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,r)}else{var T=iZ(n);this.on("showchild",T.show),this.on("hidechild",T.hide)}var s=Oi(i,"background",void 0),o=Oi(i,"panel",void 0),m=Oi(i,"leftSide",void 0),f=Oi(i,"rightSide",void 0),u=Oi(i,"topSide",void 0),h=Oi(i,"bottomSide",void 0);if(s&&this.addBackground(s),o&&this.add(o,"panel","center",0,!0),m){var a=Oi(i,"expand.left",!0);this.add(m,"leftSide","left-top",0,{height:a})}if(f){var a=Oi(i,"expand.right",!0);this.add(f,"rightSide","right-top",0,{height:a})}if(u){var a=Oi(i,"expand.top",!0);this.add(u,"topSide","left-top",0,{width:a})}if(h){var a=Oi(i,"expand.bottom",!0);this.add(h,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Ig.prototype,sZ,U2);mt.register("sides",function(e){var t=new Ig(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Sides",Ig);var hZ=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const lZ=Phaser.Utils.Array.GetFirst,uZ=Phaser.Utils.Array.Remove;var dZ=function(e){var t=lZ(this.inputHandlers,"name",e);return t&&uZ(this.inputHandlers,t),this};class Ah extends cr{constructor(t,i){i=bd(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?_e(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class fZ extends Ah{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var n=new oh(t,i.expandedIcon);t.add.existing(n),this.addSpace().add(n,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",n)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",n=this.childrenMap.expandedIcon;return n.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var X2=function(e,t){var i=ms(e);for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i},Do=function(e,t,i){return He(e,X2(t,i))};const cZ={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},vZ={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class V2 extends Mh{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(V2.prototype,cZ,vZ);const Ea=Phaser.Utils.Objects.GetValue;var pZ=function(e,t,i){var n=e.scene,y=Ea(i,"title")||{},S=new fZ(n,y);n.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var r={root:Ea(i,"root"),styles:Ea(i,"tweaker"),space:Ea(i,"space")||{}},T=e.createTweaker(r),s=Ea(i,"background"),o=Do(n,t,s),m=new V2(n,{title:S,child:T,background:o,transition:{duration:Ea(i,"transition.duration",200)}});return n.add.existing(m),m};const fT=Phaser.Utils.Objects.GetValue;var gZ=function(e){e===void 0&&(e={});var t=fT(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=pZ(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=fT(e,"expanded",!0);n!==void 0&&i.setExpandedState(n);var y=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,y),y};const mZ={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},xZ={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};class Y2 extends Xd{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(Y2.prototype,mZ,xZ);const $l=Phaser.Utils.Objects.GetValue;var yZ=function(e,t,i){var n=e.scene,y=new Y2(n,i);n.add.existing(y);for(var S=$l(i,"tab"),r={root:$l(i,"root"),styles:$l(i,"tweaker")},T=$l(t,"pages")||[],s=0,o=T.length;s<o;s++){var m=T[s];y.addPage({key:m.title,tab:qe(n,S).setActiveState(!1).resetDisplayContent({text:m.title}),page:e.createTweaker(r)})}return y.on("tab.focus",function(f,u){f.setActiveState(!0)}).on("tab.blur",function(f,u){f.setActiveState(!1)}),y};const cT=Phaser.Utils.Objects.GetValue;var TZ=function(e){e===void 0&&(e={});var t=cT(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=yZ(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var n=cT(e,"pages")||[],y=[],S=0,r=0,T=n.length;r<T;r++){var s=i.getPage(r),o=n[r].show;o&&(S=r);var m=n[r].key;m&&this.root.addChildrenMap(m,s),y.push(s)}return i.swapPage(S,0),y};const CZ={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},SZ={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}},wa=Phaser.Utils.Objects.GetValue;class W2 extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var n=wa(i,"background",void 0),y=wa(i,"title",void 0);n&&this.addBackground(n),y&&this.add(y,{expand:!0,space:{bottom:wa(i,"space.title",0)}});var S=new $t(t,{orientation:"x",space:{item:wa(i,"space.column",0)}});t.add.existing(S);for(var r=wa(i,"columns",void 0),T,s,o=0,m=r.length;o<m;o++)T=r[o],s=T.child,S.add(T.child,{proportion:s.minWidth===0?1:0,expand:wa(T,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(W2.prototype,CZ,SZ);const yn=Phaser.Utils.Objects.GetValue;var PZ=function(e,t,i){var n=e.scene,y=yn(i,"title")||{},S=new Ah(n,y);n.add.existing(S);var r={root:yn(i,"root"),styles:yn(i,"tweaker")},T=yn(i,"background");T&&!Array.isArray(T)&&(T=[T]);var s=yn(t,"columns",2);if(typeof s=="number"){var o=s;s=[];for(var m=0,f=o;m<f;m++)s.push({})}for(var m=0,f=s.length;m<f;m++){var u=s[m];T&&(r.background=T[m%T.length]),r.width=yn(u,"width",0);var h=e.createTweaker(r);u.child=h}var a=new W2(n,{title:S,columns:s,space:yn(i,"space")});return n.add.existing(a),a};const vT=Phaser.Utils.Objects.GetValue;var EZ=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=vT(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=PZ(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=vT(e,"columns",void 0);if(n&&Array.isArray(n))for(var y=0,S=n.length;y<S;y++){var r=n[y].key;r&&this.root.addChildrenMap(r,i.getColumn(y))}return i.getColumns()};const wZ={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},bZ={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Kl=Phaser.Utils.Objects.GetValue;class H2 extends $t{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var n=Kl(i,"background",void 0),y=Kl(i,"title",void 0);n&&this.addBackground(n),y&&this.add(y,{expand:!0,space:{bottom:Kl(i,"space.title",0)}});var S=Kl(i,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("child",S)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(H2.prototype,wZ,bZ);const Bs=Phaser.Utils.Objects.GetValue;var OZ=function(e,t,i){var n=e.scene,y=Bs(i,"title")||{},S=new Ah(n,y);n.add.existing(S);var r=Bs(i,"itemWidth",0),T=Bs(i,"itemHeight",0),s={root:Bs(i,"root"),styles:Bs(i,"tweaker"),space:Bs(i,"space"),align:Bs(i,"align",5),wrap:!0,itemWidth:Bs(t,"itemWidth",r),itemHeight:Bs(t,"itemHeight",T)};Bs(i,"background");var o=e.createTweaker(s),m=new H2(n,{title:S,child:o});return n.add.existing(m),m};const MZ=Phaser.Utils.Objects.GetValue;var AZ=function(e){e===void 0&&(e={});var t=MZ(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=OZ(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,n),n};const RZ={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},LZ={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class j2 extends bh{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(j2.prototype,RZ,LZ);const Rr=Phaser.Utils.Objects.GetValue;var FZ=function(e,t,i){var n=e.scene,y=Rr(i,"title")||{},S=new Ah(n,y);n.add.existing(S);var r={root:Rr(i,"root"),styles:Rr(i,"tweaker"),space:Rr(i,"space")||{}},T=e.createTweaker(r),s=Rr(i,"slider");if(s){s=_e(s);var o=s.track;o&&(s.track=Do(n,t,o));var m=s.thumb;m&&(s.thumb=Do(n,t,m))}var f=Rr(i,"background"),u=Do(n,t,f),h=new j2(n,{scrollMode:0,header:S,panel:{child:T,mask:{padding:1}},slider:s,background:u,height:Rr(t,"height",0),space:Rr(i,"space",void 0)});return n.add.existing(h),h};const DZ=Phaser.Utils.Objects.GetValue;var IZ=function(e){e===void 0&&(e={});var t=DZ(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=FZ(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var n=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,n),n};const pT=Phaser.Utils.Objects.GetValue,BZ={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=pT(e,"onGetValue"),this.onSetValue=pT(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},kZ={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},NZ={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},ev=Phaser.Utils.Objects.GetValue;class Bg extends $t{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var n=i.inputTitle,y=i.inputField,S=i.background,o=ev(i,"proportion.title",0),r=ev(i,"space.title",0),T;this.orientation===0?T={right:r}:T={bottom:r},this.add(n,{proportion:o,expand:!0,padding:T});var s=y.defaultProportion;s===void 0&&(s=i.defaultExpandWidth?1:0);var o=ev(i,"proportion.inputField",s);this.add(y,{proportion:o,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",n),this.addChildrenMap("inputField",y),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Bg.prototype,BZ,kZ,NZ);var $2=function(e,t,i){var n=new Ah(e,i);return e.add.existing(n),n},GZ=function(e){e===void 0&&(e=$t);class t extends e{get bindingTarget(){var n=this.getParentSizer();return n.bindingTarget}get bindingKey(){var n=this.getParentSizer();return n.bindTargetKey}get value(){return this._value}get root(){var n=this.getParentSizer(),y=n.getParentSizer();return y.root}onBindTarget(n,y){this.onBindTargetCallback&&this.onBindTargetCallback(this,n,y)}validate(n){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(n,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(n){return this.textFormatCallback?n=this.textFormatCallback(n):n=n.toString(),n}set value(n){if(this._value!==n&&(this.validate(n)||(n=this._value),this.filterValueCallback&&(n=this.filterValueCallback(this,n)),this.displayValueCallback&&this.displayValueCallback(this,n),this._value!==n)){var y=this._value;if(this._value=n,!this.syncValueFlag){var S=this.bindingTarget,r=this.bindingKey;this.emit("valuechange",n,y,S,r),this.root.emit("valuechange",n,y,S,r)}}}getValue(){return this.value}setValue(n){return this.value=n,this}syncValue(n){return this.syncValueFlag=!0,this.value=n,this.syncValueFlag=!1,this}setup(n,y){return y===void 0&&(y=!1),(y||n.hasOwnProperty("format"))&&this.setTextFormatCallback(n.format),(y||n.hasOwnProperty("onValidate"))&&this.setValidateCallback(n.onValidate),this.setupCallback&&this.setupCallback(this,n,y),this}setSetupCallback(n){return this.setupCallback=n,this}setFilterValueCallback(n){return this.filterValueCallback=n,this}setDisplayValueCallback(n){return this.displayValueCallback=n,this}setOnBindTargetCallback(n){return this.onBindTargetCallback=n,this}setTextFormatCallback(n){return this.textFormatCallback=n,this}setValidateCallback(n){return this.validateCallback=n,this}}return t},zZ=function(e,t,i){for(var n,y=this.inputHandlers,S=0,r=y.length;S<r;S++){var T=y[S];if(T.accept(t)){var s=GZ(T.baseClass);n=new s(e),e.add.existing(n),n.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(n,i);break}}return n&&n.setup(t,!0),n};const gT=Phaser.Utils.Objects.GetValue;var UZ=function(e,t,i){var n=zZ.call(this,e,t,i);if(!n)return null;var y=gT(i,"title")||{},S=$2(e,t,y),r=gT(i,"background")||{},T=He(e,r),s=new Bg(e,{...i,...t,inputTitle:S,inputField:n,background:T});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},XZ=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var n=this.styles.inputRow||{};this.isWrapMode?n.defaultExpandWidth=!0:n.defaultExpandWidth=this.styles.orientation===1;var y=UZ.call(this,this.scene,i,n);if(!y)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)y.setMinWidth(this.itemWidth),y.setMinHeight(this.itemHeight),this.add(y);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,y.minWidth===0&&y.setMinWidth(this.itemWidth)),y.minHeight===0&&y.setMinHeight(this.itemHeight),this.add(y,{proportion:S,expand:!0})}if(i.onValueChange){var r=y.childrenMap.inputField;r.on("valuechange",i.onValueChange)}return y.setAutoUpdateEnable(i.autoUpdate),y.setBindingTarget(e,t),i.monitor&&y.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,y),this},VZ=function(e,t){var i=new Bn(e,t);return e.add.existing(i),i};const YZ=Phaser.Utils.Objects.GetValue;var WZ=function(e,t){var i=YZ(t,"wrap",!1),n=i?Kr:Qe,y=new n(e,t);return e.add.existing(y),y};const Jl=Phaser.Utils.Objects.GetValue;var HZ=function(e,t,i){for(var n=Jl(i,"title")||{},y=$2(e,t,n),S=t.buttons,r=Jl(i,"button")||{},T=[],s=0,o=S.length;s<o;s++){var m=qe(e,r);T.push(m);var f=S[s];m.resetDisplayContent(f.label),m.callback=f.callback}var u=WZ(e,{buttons:T,expand:!0,wrap:Jl(t,"wrap",!1)});u.defaultProportion=1;var h=Jl(i,"background")||{},a=VZ(e,h),l=new Bg(e,{...i,inputTitle:y,inputField:u,background:a});return e.add.existing(l),l.setTitle(t),u.on("button.click",function(c){c.callback(l.bindingTarget)}),l};const jZ=Phaser.Utils.Objects.GetValue;var $Z=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var n=jZ(this.styles,"inputRow")||{},y=HZ(t,e,n);return this.add(y,{expand:!0}),i&&y.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,y),this},KZ=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},JZ=function(e,t,i){return He(e,X2(t,i))};const ZZ=Phaser.Utils.Objects.GetValue;var QZ=function(e){e===void 0&&(e={});var t=this.scene,i=ZZ(this.styles,"separator"),n=JZ(t,e,i);return this.add(n,{expand:!0}),this},qZ=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Ro(this,_e(e),t,i),this},Ro=function(e,t,i,n){if(t)for(var y=0,S=t.length;y<S;y++){var r=t[y];r.hasOwnProperty("$target")&&(i=r.$target,delete r.$target);var T=r.$type;switch(delete r.$type,T){case"folder":var s=e.addFolder(r);Ro(s,r.$properties,i,n);break;case"tab":for(var o=e.addTab(r),m=0,f=o.length;m<f;m++)Ro(o[m],r.pages[m].$properties,i,n);break;case"columns":for(var u=e.addColumns(r),m=0,f=u.length;m<f;m++)Ro(u[m],r.columns[m].$properties,i,n);break;case"scrollable":var h=e.addScrollable(r);Ro(h,r.$properties,i,n);break;case"separator":e.addSeparator();break;case"button":r.bindingTarget=i,e.addButton(r);break;case"buttons":r.bindingTarget=i,e.addButtons(r);break;default:var a=r.$key;if(delete r.$key,a.indexOf(".")===-1)r.bindingTarget=i,r.bindingKey=a;else{var l=a.split(".");r.bindingKey=l.pop();for(var c=i,d=0,v=l.length;d<v;d++)if(c=c[l[d]],!i){console.warn(`[Monitor] Key path '${a}' is invalid`);continue}r.bindingTarget=c}r.hasOwnProperty("monitor")||(r.monitor=n),e.addInput(r);break}}},_Z=function(e){for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.setBindingTarget&&y.setBindingTarget(e)}return this},tQ=function(){for(var e=0,t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(y.getMinTitleWidth?e=Math.max(e,y.getMinTitleWidth()):y.getMaxInputRowTitleWidth&&(e=Math.max(e,y.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},eQ=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var y=t[i];y.rexSizer.hidden||(y.setMinTitleWidth?y.setMinTitleWidth(e):y.setInputRowTitleWidth&&y.setInputRowTitleWidth(e))}return this},iQ={registerInputHandler:hZ,removeInputHandler:dZ,addFolder:gZ,addTab:TZ,addColumns:EZ,addWrap:AZ,addScrollable:IZ,addInput:XZ,addButtons:$Z,addButton:KZ,addSeparator:QZ,addRows:qZ,setBindingTarget:_Z,getMaxInputRowTitleWidth:tQ,setInputRowTitleWidth:eQ};const Lr=Phaser.Utils.Objects.GetValue;var K2=function(e){var t=Lr(e,"wrap",!1),i=t?_r:$t;class n extends i{constructor(S,r){r===void 0&&(r={}),r.orientation===void 0&&(r.orientation=t?0:1),super(S,r),this.type="rexTweakerShell",this.isWrapMode=t,r.root?(this.root=r.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Lr(r,"styles")||{},this.styles.orientation=this.orientation;var T=Lr(r,"itemWidth");T===void 0&&(T=Lr(this.styles,"itemWidth",0)),this.itemWidth=T;var s=Lr(r,"itemHeight");if(s===void 0&&(s=Lr(this.styles,"itemHeight",0)),this.itemHeight=s,t||this.root===this&&this.orientation===1){var o=Lr(r,"inputRow.alignTitle");if(o===void 0){var m=Lr(this.styles,"inputRow.proportion.title");o=!m}else o&&pt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=o}else this.alignInputRowTitleStartFlag=!1;var f=Do(S,void 0,r.background);f&&this.addBackground(f)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(S,r){r===void 0&&(r=!0);var T=K2(S),s=new T(this.scene,S);return r&&this.scene.add.existing(s),s}}return Object.assign(n.prototype,iQ),n},sQ=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const rQ={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var n=t.inputText,y=Jr(i,n);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&sQ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var nQ=function(e,t,i){i===void 0&&(i=!0),i?t=t?_e(t):{}:t||(t={});var n=new Vd(e,t);return e.add.existing(n),n},aQ=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const oQ={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var n=t.inputTextArea;n===void 0&&(n={}),n.hasOwnProperty("text")||(n.text=t.inputText),n.hasOwnProperty("slider")||(n.slider=t.slider);var y=nQ(i,n);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&aQ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var hQ=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const lQ={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var n=t.inputNumber||t.inputText,y=Jr(i,n).setNumberInput();e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&hQ(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var uQ=function(e,t){var i=new ja(e,t);return e.add.existing(i),i};const iv=Phaser.Utils.Objects.GetValue,dQ=Phaser.Math.Linear,fQ=Phaser.Math.Snap.Floor;var cQ=function(e,t,i,n){e.minValue=t,e.maxValue=i,e.step=n;var y=e.childrenMap.slider;y.setGap(n,t,i)},vQ=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const pQ={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var n=t.slider,y=e.orientation===0?"track.height":"track.width",S=iv(n,y),r=uQ(i,n),m=t.defaultExpandWidth?2:0,f=iv(t,"proportion.range.slider",m),T=S===void 0;e.add(r,{proportion:f,expand:T,key:"slider"});var s=t.inputNumber||t.inputText,o=Jr(i,s).setNumberInput(),m=t.defaultExpandWidth?1:0,f=iv(t,"proportion.range.inputText",m);e.add(o,{proportion:f,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),r.on("valuechange",function(){var u=dQ(e.minValue,e.maxValue,r.value);e.step&&(u=fQ(u,e.step,e.minValue)),e.setValue(u)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&cQ(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&vQ(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var n=e.childrenMap.inputText;n.setText("").setText(e.getFotmatText(t))}};var J2=function(e,t){var i=new Qe(e,t);return e.add.existing(i),i};const gQ=Phaser.Utils.Objects.GetValue;var mQ=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const xQ={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var n=gQ(t,"incDec")||{},y={text:null,action:null},S=J2(i,{expand:!1}),r=t.defaultExpandWidth?1:0;e.add(S,{proportion:r,expand:!0});var T=t.inputNumber||t.inputText,s=Jr(i,T).setNumberInput();s.on("close",function(){e.setValue(s.value)});var o=Object.assign(_e(y),n.incButton||{}),m=qe(i,o),f=Object.assign(_e(y),n.decButton||{}),u=qe(i,f);S.addButton(m),S.addButton(u);var h=n.inputTextIndex||0;S.insert(h,s,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(a,l,c,d){var v=e.value;l===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",m),e.addChildrenMap("decButton",u),e.addChildrenMap("inputText",s)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&mQ(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var yQ=function(e,t,i){i===void 0&&(i=!0),i?t=t?_e(t):{}:t||(t={});var n=new Yd(e,t);return e.add.existing(n),n};const TQ={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var n=t.colorInput;n===void 0&&(n={}),n.hasOwnProperty("inputText")||(n.inputText=t.inputText);var y=yQ(i,n);e.add(y,{proportion:1,expand:!0,key:"colorInput"}),y.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var CQ=function(e,t){var i=new pp(e,t);return e.add.existing(i),i};const SQ={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var n=t.checkbox,y=CQ(i,n),S=n.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.add(y,{proportion:0,expand:!1,fitRatio:r,key:"checkbox"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var PQ=function(e,t){var i=new gp(e,t);return e.add.existing(i),i};const EQ={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var n=t.toggleSwitch,y=PQ(i,n),S=n.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.addSpace().add(y,{proportion:0,expand:!1,fitRatio:r,key:"toggleSwitch"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var wQ=function(e,t){t=o2(e,t);var i=new Oh(e,t);return e.add.existing(i),i},Z2=function(e,t){for(var i=0,n=e.length;i<n;i++){var y=e[i];if(y.value===t)return i}},bQ=function(e,t){var i=Z2(e,t);if(i!=null)return e[i]},OQ=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const MQ={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var n=wQ(i,t.list);e.add(n,{proportion:1,expand:!0,key:"list"}),n.on("button.click",function(y,S,r,T,s,o){e.setValue(r.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&OQ(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=bQ(i.options,t);i.resetDisplayContent(n).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var AQ=function(e,t){for(var i=0,n=e.length;i<n;i++){var y=e[i];y&&y.setActiveState(i===t)}};const RQ=Phaser.Utils.Objects.GetValue;var LQ=function(e,t){var i=e.childrenMap.list;i.options=t;var n=e.scene,y=i.buttonConfig;i.clearButtons(!0);for(var S=0,r=t.length;S<r;S++){var T=t[S],s=qe(n,y).setActiveState(!1).resetDisplayContent({text:T.text});i.addButton(s)}};const FQ={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var n=t.button?_e(t.button):{},y=RQ(n,"expand",!0);y&&(n.align="center"),delete n.expand;var S=J2(i,{expand:y});S.buttonConfig=n,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(r,T,s,o){var m=S.options[T];m&&(e._selectedIndex=T,e.setValue(m.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&LQ(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=e._selectedIndex;n===void 0&&(n=Z2(i.options,t)),AQ(i.childrenMap.buttons,n)}};var DQ=function(){this.registerInputHandler(rQ).registerInputHandler(oQ).registerInputHandler(lQ).registerInputHandler(pQ).registerInputHandler(xQ).registerInputHandler(TQ).registerInputHandler(SQ).registerInputHandler(EQ).registerInputHandler(MQ).registerInputHandler(FQ)};class Q2 extends K2(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",DQ.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}mt.register("tweaker",function(e){var t=new Q2(this.scene,e);return this.scene.add.existing(t),t});pt(window,"RexPlugins.UI.Tweaker",Q2);mt.register("click",function(e,t){return new ur(e,t)});pt(window,"RexPlugins.UI.Click",ur);mt.register("clickOutside",function(e,t){return new $p(e,t)});pt(window,"RexPlugins.UI.ClickOutside",$p);mt.register("inTouching",function(e,t){return new ka(e,t)});pt(window,"RexPlugins.UI.InTouching",ka);mt.register("tap",function(e,t){return Li(e)||(t=e,e=this.scene),new cd(e,t)});pt(window,"RexPlugins.UI.Tap",cd);mt.register("press",function(e,t){return Li(e)||(t=e,e=this.scene),new vd(e,t)});pt(window,"RexPlugins.UI.Press",vd);mt.register("swipe",function(e,t){return Li(e)||(t=e,e=this.scene),new ph(e,t)});pt(window,"RexPlugins.UI.Swipe",ph);mt.register("pan",function(e,t){return Li(e)||(t=e,e=this.scene),new KP(e,t)});pt(window,"RexPlugins.UI.Pan",KP);mt.register("drag",function(e,t){return new Dg(e,t)});pt(window,"RexPlugins.UI.Drag",Dg);mt.register("pinch",function(e){return new JP(this.scene,e)});pt(window,"RexPlugins.UI.Pinch",JP);mt.register("rotate",function(e){return new Jp(this.scene,e)});pt(window,"RexPlugins.UI.Rotate",Jp);const IQ=Phaser.Utils.Objects.IsPlainObject,mT=Phaser.Utils.Objects.GetValue;var xT=function(e,t,i){var n;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(IQ(e)){var y=e;e=mT(y,"key",i.texture.key),t=mT(y,"frame",i.frame.name)}else typeof e=="string"||(n=e);return n===void 0&&(n=function(S){S.setTexture(e,t)}),n};const Mo=Phaser.Utils.Objects.GetValue,BQ=Phaser.Utils.Objects.GetAdvancedValue,kQ=Phaser.Math.Linear;class q2 extends Nn{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(BQ(t,"duration",500)),this.setEase(Mo(t,"ease","Sine")),this.setOrientation(Mo(t,"orientation",0)),this.setFrontFace(Mo(t,"front",void 0)),this.setBackFace(Mo(t,"back",void 0)),this.setFace(Mo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=NQ[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=GQ[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=xT(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=xT(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n);var y=kQ(this.scale0,0,n);this.orientation===0?t.scaleX=y:t.scaleY=y}}const NQ={x:0,horizontal:0,y:1,vertical:1},GQ={front:0,back:1};mt.register("flip",function(e,t){return new q2(e,t)});pt(window,"RexPlugins.UI.Flip",q2);mt.register("shake",function(e,t){return new Xp(e,t)});pt(window,"RexPlugins.UI.Shake",Xp);mt.register("touchEventStop",function(e,t){return new ld(e,t)});pt(window,"RexPlugins.UI.TouchEventStop",ld);mt.register("perspective",function(e,t){return new w2(e,t)});pt(window,"RexPlugins.UI.Perspective",w2);const _2=Phaser.Math.RotateAround;var sv=function(e,t,i){var n=e.width/2,y=e.height/2;return hi.x=t-n,hi.y=i-y,_2(hi,0,0,e.rotation),hi.x*=e.scaleX,hi.y*=e.scaleY,hi.x+=e.x,hi.y+=e.y,hi},zQ=function(e,t,i){var n=e.width/2,y=e.height/2;return hi.x=t-e.x,hi.y=i-e.y,hi.x/=e.scaleX,hi.y/=e.scaleY,_2(hi,0,0,-e.rotation),hi.x+=n,hi.y+=y,hi},hi={x:0,y:0};class UQ{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var n=this.parent,y=n.height,S=n.frame.cutWidth/y/2,r=n.frame.cutHeight/y/2,T=t/y-S,s=i/y-r,o=this.vertex;return o.x=T,o.y=-s,n.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,n){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,n||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var n=zQ(this.parent,t,i);return this.setLocalXY(n.x,n.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return sv(this.parent,this._localX,this._localY)}get x(){var t=sv(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=sv(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const XQ=Phaser.Geom.Mesh.Vertex,VQ=Phaser.Geom.Mesh.Face;var YQ=function(e){for(var t=e.isNinePointMode,i=t?9:4,n=e.vertices,y=e.faces,S=e.controlPoints,r=0;r<i;r++){var T=new XQ;n.push(T),S.push(new UQ(e,T))}var s;t?s=jQ:e.fourPointsModeRTL?s=HQ:s=WQ;for(var r=0,o=s.length;r<o;r+=3){var m=n[s[r+0]],f=n[s[r+1]],u=n[s[r+2]];y.push(new VQ(m,f,u))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const WQ=[0,2,3,0,3,1],HQ=[1,3,2,1,2,0],jQ=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var $Q=function(e){var t,i=0,n=e.height,y=0,S=e.width;if(e.isNinePointMode){var r=(y+S)/2,T=(i+n)/2;t=[y,i,r,i,S,i,y,T,r,T,S,T,y,n,r,n,S,n]}else t=[y,i,S,i,y,n,S,n];return t};const KQ=Phaser.Utils.Objects.IsPlainObject,ba=Phaser.Utils.Objects.GetValue;let JQ=class extends m2{constructor(e,t,i,n,y,S){KQ(t)&&(S=t,t=ba(S,"x",0),i=ba(S,"y",0),n=ba(S,"key",null),y=ba(S,"frame",null)),super(e,t,i,n,y),this.type="rexQuadImage",this.isNinePointMode=ba(S,"ninePointMode",!1),this.fourPointsModeRTL=ba(S,"rtl",!1),this.controlPoints=[],YQ(this),this.hideCCW=!1,this.syncSize()}destroy(e){if(!(!this.scene||this.ignoreDestroy)){super.destroy(e);for(var t=0,i=this.controlPoints.length;t<i;t++)this.controlPoints[t].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var e=$Q(this),t=this.width,i=this.height,n=this.frame.cutWidth/i/2,y=this.frame.cutHeight/i/2,S=this.frame.u0,r=this.frame.u1,T=this.frame.v0,s=this.frame.v1,o=r-S,m=s-T,f=this.controlPoints,u=0,h=e.length;u<h;u+=2){var a=e[u+0],l=e[u+1],c=u/2,d=a/i-n,v=l/i-y,p=S+o*(a/t),g=T+m*(l/i);this.vertices[c].set(d,-v,0).setUVs(p,g),f[c].resetLocalXY(a,l)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var yT=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var n=e.width,y=e.height,S=n*.5,r=y*.5,T=Math.tan(t)*r,s=Math.tan(i)*S,o=e.controlPoints,m=0,f=o.length;m<f;m++){var u=o[m],h=u.localXOrigin,a=u.localYOrigin;u.localX=h+(a>r?T:-T),u.localY=a+(h>S?s:-s)}};const ZQ=Phaser.Utils.Objects.IsPlainObject,Zl=Phaser.Utils.Objects.GetValue,TT=Phaser.Math.DegToRad,CT=Phaser.Math.RadToDeg;class QQ extends JQ{constructor(t,i,n,y,S){if(ZQ(i)){var r=i;i=Zl(r,"x",0),n=Zl(r,"y",0),y=Zl(r,"key",null),S=Zl(r,"frame",null)}super(t,i,n,y,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,yT(this,this._skewX,this._skewY)}get skewXDeg(){return CT(this._skewX)}set skewXDeg(t){this.skewX=TT(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,yT(this,this._skewX,this._skewY)}get skewYDeg(){return CT(this._skewY)}set skewYDeg(t){this.skewY=TT(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const qQ=Phaser.Utils.Objects.IsPlainObject,Ql=Phaser.Utils.Objects.GetValue;class _Q extends QQ{constructor(t,i,n,y,S){if(qQ(i)){var r=i;i=Ql(r,"x",0),n=Ql(r,"y",0),y=Ql(r,"width",32),S=Ql(r,"height",32)}var T=C2(t,y,S);super(t,i,n,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class tw extends E2(_Q){get skewState(){return this.isRunning}}mt.register("skew",function(e,t){return new tw(e,t)});pt(window,"RexPlugins.UI.Skew",tw);mt.register("anchor",function(e,t){return new zp(e,t)});pt(window,"RexPlugins.UI.Anchor",zp);mt.register("textTyping",function(e,t){return new zd(e,t)});pt(window,"RexPlugins.UI.TextTyping",zd);mt.register("textPage",function(e,t){return new Gd(e,t)});pt(window,"RexPlugins.UI.TextPage",Gd);var Ma=void 0,tq=function(e){e!==Ma&&(Ma!==void 0&&Ma.close(),Ma=e)},eq=function(e){e===Ma&&(Ma=void 0)};const ks=Phaser.Utils.Objects.GetValue,iq=Phaser.Utils.Objects.Clone;var sq=function(e,t){t===void 0&&(t={}),t=iq(t);var i=e.scene,n=e.style,y=ks(t,"backgroundColor",n.backgroundColor);y===null&&(y="transparent"),t.text=ks(t,"text",e.text),t.fontFamily=ks(t,"fontFamily",n.fontFamily),t.fontSize=ks(t,"fontSize",n.fontSize),t.color=ks(t,"color",n.color),t.backgroundColor=y,t.direction=ks(t,"rtl",n.rtl)?"rtl":"ltr",t.align=ks(t,"align",rq(n)),t.direction==="rtl"&&ag(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),n.backgroundCornerRadius&&(t.borderRadius=ks(t,"borderRadius",`${n.backgroundCornerRadius}px`));var r=new Cd(i,e.x,e.y,ks(t,"width",e.width),ks(t,"height",e.height),t);r.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(r):i.add.existing(r),r},rq=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},nq=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const Tn=Phaser.Utils.Objects.GetValue,aq=Phaser.Utils.Objects.Merge;var oq=function(e,t){e===void 0&&(e={}),e=aq(e,this.openConfig),tq(this),ys(e)&&(t=e,e=void 0);var i=Tn(e,"inputType",void 0);i===void 0&&(i=Tn(e,"type","text")),t===void 0&&(t=Tn(e,"onClose",void 0));var n=Tn(e,"onCreate",void 0),y=Tn(e,"onOpen",void 0),S=Tn(e,"onTextChanged",void 0);return this.inputText=sq(this.parent,e),n&&n(this.parent,this.inputText),this.inputText.on("textchange",function(r){var T=r.text;S?S(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Tn(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=nq(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),y&&y(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},hq=function(){return eq(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},lq={open:oq,close:hq};const uq=Phaser.Utils.Objects.GetValue;class Wd extends ye{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var n=uq(i,"clickEnable",!0);n&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(Wd.prototype,lq);var dq=function(e,t,i){return e._edit||(e._edit=new Wd(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};mt.register("textEdit",function(e,t){return new Wd(e,t)});pt(window,"RexPlugins.UI.TextEdit",Wd);mt.register("layerManager",function(e){return new Zu(this.scene,e)});pt(window,"RexPlugins.UI.LayerManager",Zu);class ew extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new mt(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,n,y){return t.visible?Vs(t,i,n,y):!1}get viewport(){return Xa(this.scene,this.scene.cameras.main,!0)}}var fq={getParentSizer:Ui,getTopmostSizer:bP,removeFromParent:Sn,hide:zr,show:Gr,isShown:Vp,confirmAction:$E,edit:dq,wrapExpandText:bu,fontSizeExpandText:Mu,fontSizeResize:Ou,setFontSizeToFitWidth:Ou,waitEvent:_u,waitComplete:si,delayPromise:uE,setChildrenInteractive:pd,fadeIn:nd,fadeOutDestroy:ad,easeMoveTo:GP,easeMoveFrom:zP,modal:Hp,modalPromise:Dk,modalClose:HP,requestDrag:G2,openFileChooser:fE};Object.assign(ew.prototype,fq);const cq="https://vuichoi.starci.net/socket";class vq extends rv.Scene{constructor(){super({key:aO.Gameplay}),yt(this,"rexUI"),yt(this,"petManager"),yt(this,"gameUI"),yt(this,"colyseusClient"),yt(this,"isInitialized",!1)}preload(){wO(this),bO(this),OO(this)}async create(){var t;(t=this.input.mouse)==null||t.disableContextMenu(),this.createBackground(),console.log(" Initializing game configuration..."),await yA(),Mn.logFoodItems(),this.initializeSystems(),this.initializePets(),this.initializeUI(),this.input.setDefaultCursor("url(./src/assets/images/cursor/navigation_nw.png), pointer"),console.log(" Starting Colyseus connection..."),await this.colyseusClient.connect(cq),console.log(" Scene initialization complete"),console.log("Room status:",this.colyseusClient.isConnected()?"Connected":"Offline mode"),this.isInitialized=!0,console.log(" GameScene fully initialized")}initializeSystems(){this.colyseusClient=new KM(this),this.petManager=new JM(this,this.colyseusClient)}initializePets(){console.log(" Pet initialization - waiting for server sync...")}initializeUI(){this.gameUI=new xA(this,this.petManager),this.gameUI.create(),this.colyseusClient.setGameUI(this.gameUI)}update(){if(this.isInitialized&&this.petManager&&this.gameUI)try{this.petManager.update(),this.gameUI.updateUI()}catch(t){console.error(" Error in GameScene.update():",t)}}get speed(){const t=this.petManager.getActivePet();return t?.pet.speed||0}set speed(t){const i=this.petManager.getActivePet();i&&(i.pet.speed=t)}get currentActivity(){const t=this.petManager.getActivePet();return t?.pet.currentActivity||"idle"}set currentActivity(t){const i=this.petManager.getActivePet();i&&i.pet.setActivity(t)}updateSpeed(t){const i=this.petManager.getActivePet();i&&(i.pet.speed=t)}setUserActivity(t){const i=this.petManager.getActivePet();i&&i.pet.setUserActivity(t)}getPetManager(){return this.petManager}addPet(t,i,n){return!!this.petManager.createPet(t,i||Math.random()*300+50,n||Ci.getPetY(this.cameras.main.height))}removePet(t){return this.petManager.removePet(t)}switchToPet(t){return this.petManager.setActivePet(t)}debugPets(){this.petManager.debugPetsStatus()}forceResetPets(){this.petManager.forceResetAllPets()}createBackground(){const t=this.cameras.main.width,i=this.cameras.main.height;try{const n=this.add.image(0,0,"game-background");n.setOrigin(0,0),n.setDisplaySize(t,i),n.setDepth(-100),console.log(" Custom background loaded successfully")}catch{this.createGradientBackground()}}createGradientBackground(){const t=this.cameras.main.width,i=this.cameras.main.height,n=this.add.graphics();n.fillGradientStyle(8900331,8900331,14743295,14743295),n.fillRect(0,0,t,i),n.setDepth(-100),console.log(" Gradient background created as fallback")}}const Fq=({publicKey:e,signMessage:t})=>{const i=tn.useRef(null),n=tn.useRef(null),y=tn.useRef(null),[S,r]=tn.useState(!1),[T,s]=tn.useState(!1);return tn.useEffect(()=>{if(console.log(" Game initialization check:",{gameRef:!!i.current,isUserAuthenticated:S,isGameInitialized:T}),!i.current||!S||T){console.log(" Skipping game initialization");return}console.log(" Starting Phaser game initialization...");const o={type:rv.AUTO,width:window.innerWidth,height:120,parent:i.current,scene:vq,plugins:{scene:[{key:"rexUI",plugin:ew,mapping:"rexUI"}]}};try{n.current=new rv.Game(o),console.log(" Phaser Game created successfully"),setTimeout(()=>{var f;y.current=((f=n.current)==null?void 0:f.scene.getScene("gameplay"))||null,y.current?(console.log(" GameScene loaded successfully"),s(!0)):(console.error(" Failed to get GameScene"),setTimeout(()=>{var u;y.current=((u=n.current)==null?void 0:u.scene.getScene("gameplay"))||null,y.current?(console.log(" GameScene loaded successfully (retry)"),s(!0)):console.error(" GameScene still not available after retry")},1e3))},500)}catch(f){console.error(" Failed to create Phaser Game:",f)}const m=()=>{n.current&&n.current.scale.resize(window.innerWidth,120)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),n.current&&(n.current.destroy(!0),n.current=null)}},[S]),tn.useEffect(()=>{if(console.log(" Authentication check:",{signMessage:!!t,publicKey:!!e}),!t||!e){console.log(" No authentication needed, setting authenticated = true"),r(!0);return}console.log(" Starting authentication process..."),(async()=>{try{const o=await fv.get(nv.getMessage);console.log("Message to Sign Response:",o.data);const m=o.data.message;console.log("Signed Message:",m);const f=await t(m);if(!f||f===""){console.error("Signed message is empty or invalid"),r(!1);return}const u=await fv.post(nv.verify,{message:m,address:e,signature:f});console.log("Verification Response:",u.data),Mi.getState().setAddressWallet(u.data.wallet_address),console.log(" Authentication completed successfully!"),r(!0)}catch(o){console.error("Error signing message:",o),r(!1)}})()},[e,t]),ef.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100vw",height:"120px",zIndex:1e3,border:"none"},children:[!S&&ef.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"white",fontSize:"16px",fontWeight:"bold"},children:"ang xc thc ngi dng..."}),ef.jsx("div",{ref:i,style:{width:"100%",height:"100%",display:S?"block":"none"}})]})};export{Fq as default};
